
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 147 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-eclipse--MyEclipse86自带辅助替代spket插件，javascript代码自动完成-Xeo/">MyEclipse8.6 自带辅助替代spket插件，javascript 代码自动完成 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-eclipse--MyEclipse86自带辅助替代spket插件，javascript代码自动完成-Xeo/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="myeclipse8-6-spket-javascript-xeon-space-iteye-">MyEclipse8.6 自带辅助替代spket插件，javascript 代码自动完成 - Xeon Space - ITeye技术网站</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://suozq.iteye.com/blog/986244#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.iteye.com/job" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://suozq.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.iteye.com/all" target="_blank">我的应用</a> <a href="http://suozq.iteye.com/login" target="_blank">登录</a> <a href="http://suozq.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-xeon-space-http-suozq-iteye-com-"><a href="http://suozq.iteye.com/" target="_blank">Xeon Space</a></h1>
<p>永久域名 <a href="http://suozq.iteye.com/" target="_blank"><a href="http://suozq.iteye.com">http://suozq.iteye.com</a></a></p>
<p><a href="http://suozq.iteye.com/blog/997269" title="岂无远道思亲泪，不及高堂念子心，堂上二老既活佛，何用灵山朝世尊。" target="_blank">岂无远道思亲泪，不及高堂念子心，堂上二老 ...</a> | <a href="http://suozq.iteye.com/blog/985830" title="原子计量器类AtomicLong, AtomicInteger, AtomicReference " target="_blank">原子计量器类AtomicLong, AtomicInteger, A ...</a></p>
<p>2011-04-04</p>
<h3 id="-myeclipse8-6-spket-javascript-"><a href="">MyEclipse8.6 自带辅助替代spket插件，javascript 代码自动完成</a> **</h3>
<p><strong>博客分类：</strong></p>
<ul>
<li><a href="http://suozq.iteye.com/category/151118" target="_blank">web</a>
<a href="http://www.iteye.com/blogs/tag/JavaScript" target="_blank">JavaScript</a><a href="http://www.iteye.com/blogs/tag/Myeclipse" target="_blank">Myeclipse</a><a href="http://www.iteye.com/blogs/tag/jQuery" target="_blank">jQuery</a><a href="http://www.iteye.com/blogs/tag/Dojo" target="_blank">Dojo</a><a href="http://www.iteye.com/blogs/tag/YUI" target="_blank">YUI</a><pre><code>7.0以前的myeclipse ，大家在开发web项目时，为了更方便的写js代码，都装了 spket插件，
</code></pre>spket可以很好的完成代码辅助的功能，但是唯一一点缺陷是 spket 不能再 <Script>标签内进行帮助。</li>
</ul>
<p>今天试用了myeclipse8.6， 发现这个版本可在script标签内实现代码帮助，</p>
<p>并且更优越的是，当你引入新的js脚本文件后，他会自动添加新js文件的函数的</p>
<p>assist, 并且myeclipse自带了 dojo jquery  yui 的帮助库文件，我们可以</p>
<p>在自己工程里面加入。</p>
<p>具体方法是：</p>
<p>右键你的工程----&gt;Properties---------&gt;MyEclipse-------&gt;JavaScript-------&gt;BuildPath</p>
<p>------&gt;Librarys--------&gt;  addLibrary -------&gt;添加javasript library，就可以看到默认的三种库，点选添加即可</p>
<p><img src="" alt=""></p>
<p>之后就可以使用代码帮助功能了，一些函数包含了很详细的文档。<img src="" alt=""></p>
<p>其实8.6的版本完全支持了javascript 的代码辅助功能，唯一缺点可能是当js库很多时，可能会耗掉一些内存<img src="" alt=""></p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a>
<a href="http://suozq.iteye.com/blog/997269" title="岂无远道思亲泪，不及高堂念子心，堂上二老既活佛，何用灵山朝世尊。" target="_blank">岂无远道思亲泪，不及高堂念子心，堂上二老 ...</a> | <a href="http://suozq.iteye.com/blog/985830" title="原子计量器类AtomicLong, AtomicInteger, AtomicReference " target="_blank">原子计量器类AtomicLong, AtomicInteger, A ...</a></p>
<ul>
<li>18:26</li>
<li><a href="http://suozq.iteye.com/blog/986244#comments" target="_blank">评论</a> / 浏览 (0 / 96)</li>
<li>分类:<a href="http://www.iteye.com/blogs/category/language" target="_blank">编程语言</a></li>
<li><a href="http://www.iteye.com/wiki/blog/986244" target="_blank">相关推荐</a><h3 id="-">评论</h3>
</li>
</ul>
<p><a href=""></a></p>
<h3 id="-">发表评论</h3>
<p><a href="http://suozq.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://suozq.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://suozq.iteye.com/" target="_blank"><img src="&quot;379427555的博客: Xeon Space&quot;" alt="379427555的博客"></a></p>
<p>379427555</p>
<ul>
<li>浏览: 981 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 北京</li>
<li><img src="" alt=""></li>
<li><a href="http://suozq.iteye.com/blog/profile" target="_blank">详细资料</a> <a href="http://suozq.iteye.com/blog/guest_book" target="_blank">留言簿</a></li>
</ul>
<h3 id="-">搜索本博客</h3>
<h3 id="-http-suozq-iteye-com-blog-user_visits-">最近访客 <a href="http://suozq.iteye.com/blog/user_visits" target="_blank">&gt;&gt;更多访客</a></h3>
<p><a href="&quot;[杭州]艺术人生的博客: &quot;">![[杭州]艺术人生的博客</a>](<a href="http://zhaolie-hundsun-com.iteye.com/" target="_blank">http://zhaolie-hundsun-com.iteye.com/</a>)</p>
<p><a href="http://zhaolie-hundsun-com.iteye.com/" target="_blank">[杭州]艺术人生</a></p>
<p><a href="http://dnizna.iteye.com/" target="_blank"><img src="&quot;darren_nizna的博客: 信仰 忍耐&quot;" alt="darren_nizna的博客"></a></p>
<p><a href="http://dnizna.iteye.com/" target="_blank">darren_nizna</a>
<a href="http://getuplove.iteye.com/" target="_blank"><img src="&quot;getuplove的博客: &quot;" alt="getuplove的博客"></a></p>
<p><a href="http://getuplove.iteye.com/" target="_blank">getuplove</a></p>
<p><a href="http://enic-chen.iteye.com/" target="_blank"><img src="&quot;enic-chen的博客: &quot;" alt="enic-chen的博客"></a></p>
<p><a href="http://enic-chen.iteye.com/" target="_blank">enic-chen</a></p>
<h3 id="-">博客分类</h3>
<ul>
<li><a href="http://suozq.iteye.com/" target="_blank">全部博客 (11)</a></li>
<li><a href="http://suozq.iteye.com/category/145399" target="_blank">android (3)</a></li>
<li><a href="http://suozq.iteye.com/category/141529" target="_blank">杂文 (3)</a></li>
<li><a href="http://suozq.iteye.com/category/142406" target="_blank">相由心生 (3)</a></li>
<li><a href="http://suozq.iteye.com/category/150908" target="_blank">jvee (1)</a></li>
<li><p><a href="http://suozq.iteye.com/category/151118" target="_blank">web (1)</a></p>
<h3 id="-http-suozq-iteye-com-blog-guest_book-">我的留言簿 <a href="http://suozq.iteye.com/blog/guest_book" target="_blank">&gt;&gt;更多留言</a></h3>
</li>
<li><p>hello, 你的东西解决方案有了没有?我们一起讨论讨论.QQ:79887234
-- by <a href="http://suozq.iteye.com/blog/guest_book#14228" target="_blank">iriver103</a></p>
</li>
</ul>
<h3 id="-">其他分类</h3>
<ul>
<li><a href="http://suozq.iteye.com/blog/favorite" target="_blank">我的收藏</a> (16)</li>
<li><a href="http://suozq.iteye.com/blog/code_favorite" target="_blank">我的代码</a> (0)</li>
<li><a href="http://suozq.iteye.com/blog/topic" target="_blank">我的论坛主题帖</a> (0)</li>
<li><a href="http://suozq.iteye.com/blog/post" target="_blank">我的所有论坛帖</a> (1)</li>
<li><p><a href="http://suozq.iteye.com/blog/article" target="_blank">我的精华良好帖</a> (0)</p>
<h3 id="-">最近加入群组</h3>
</li>
<li><p><a href="http://wmandroid.group.iteye.com/" target="_blank">Android北京</a></p>
</li>
<li><a href="http://android.group.iteye.com/" target="_blank">Android</a></li>
<li><a href="http://ext.group.iteye.com/" target="_blank">EXT</a></li>
</ul>
<h3 id="-">存档</h3>
<ul>
<li><a href="http://suozq.iteye.com/blog/monthblog/2011-04" target="_blank">2011-04</a> (4)</li>
<li><a href="http://suozq.iteye.com/blog/monthblog/2011-03" target="_blank">2011-03</a> (2)</li>
<li><a href="http://suozq.iteye.com/blog/monthblog/2011-02" target="_blank">2011-02</a> (3)</li>
<li><a href="http://suozq.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></li>
<li><a href="http://suozq.iteye.com/rss" target="_blank"><img src="" alt="Rss"></a></li>
<li><a href="http://fusion.google.com/add?feedurl=http://suozq.iteye.com/rss" target="_blank"><img src="" alt="Rss_google"></a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2011 ITeye.com. All rights reserved. [ 京ICP证110151号 ]
<img src="" alt=""></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/eclipse/">eclipse</a></li></span></span> | <span class="tags">Tagged <a href="/tags/eclipse/" class="label label-primary">eclipse</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-eclipse--MyEclipse86自带辅助替代spket插件，javascript代码自动完成-Xeo/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-eclipse--MyEclipse86自带辅助替代spket插件，javascript代码自动完成-Xeo" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-eclipse-插件--EclipseProfilerPlugin/">Eclipse Profiler Plugin</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-eclipse-插件--EclipseProfilerPlugin/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="eclipse-profiler-plugin">Eclipse Profiler Plugin</h1>
<h1 id="eclipse-profiler-plugin">Eclipse Profiler Plugin</h1>
<p>This is a plugin for the Eclipse platform which allows java code profiling. <a href="http://sourceforge.net/projects/eclipsecolorer" target="_blank">Project</a></p>
<h2 id="license">License</h2>
<p>CPL.</p>
<h2 id="general-note">General note</h2>
<p>1.) if you run the remote profiler, the filter settings in the eclipse environment are not taken into account. Instead you must provide the filter settings in the start command of your application server. You do this by adding an environment variable <strong>PROFILER_PACKAGE_FILTER to the startup command of your aplication, see below. 2.) Setting up the profiler package filters (in general) You must define the environment variable </strong>PROFILER<em>PACKAGE<em>FILTER as shown below in the examples for tomcat, jboss, weblogic and resin. General important Note: The environment variable contains following parts: the application starting class (<strong>A</strong>) inclusion filters (<strong>P</strong>) exclusion filters (__M</em></em>) You must provide exactly one starting class, but you can have multiple inclusion and exclusion filters. The parts MUST be separated by the OS specific path.separator, i.e. &quot;:&quot; for unix or &quot;;&quot; for WINDOWS platforms) example package filter setting for WINDOWS: -D<strong>PROFILER_PACKAGE_FILTER=</strong>A<strong>org.apache.catalina.startup.Bootstrap;</strong>M<strong>sun.;</strong>P<strong>my.company.classes. example package filter setting for UNIX/LINUX: -D</strong>PROFILER_PACKAGE_FILTER=<strong>A</strong>org.apache.catalina.startup.Bootstrap:<strong>M</strong>sun.:<strong>P</strong>my.company.classes. In the examples below we provide the WINDOWS style. Please take care to use the LINUX/UNIX style if that aplies to you.</p>
<h2 id="win32-installation">Win32 installation</h2>
<p>Copy ProfilerDLL.dll from root plugin folder into bin folder of your JRE installation. You can skip this step, plugin will ask you and copy DLL into your JRE\BIN when you will start profiling local application inside of Eclipse first time. It will also check, that you have in JRE\BIN same DLL as in plugin directory.</p>
<h2 id="linux-installation">Linux installation</h2>
<p>Profiler has native part compiled with gcc 3.2, but if you have old gcc or libraries you can build native part yourself. Extract files from native\profiler_linux.tgz and look at script &quot;m&quot;. This is example of compilation script. Change it as needed for you OS.
See also profile_cpu/profile_heap for examples of start line for cpu and heap profiling and r_cpu/r_heap as example how to use them.</p>
<h2 id="usage">Usage</h2>
<p>Profiler plugin creates additional kind of launch configuration in Run menu. Profiler tab allows the user to define packages which shouldn&#39;t be instrumented, thus, all time usage will be referred to calling methods.
You can specify refresh rate, i.e. how often plugin will read statistics from prolifing JVM.
You can also set method, how to get time of enter in method and leave. There are two methods: fast, but usefull only if you have one active thread, which tries to use all CPU; or slow, which use JVMPI function GetCurrentThreadCpuTime() and allows detect how much of CPU was used by thread. However with this method profiled program runs about 3 times slower than with fast method.
<img src="" alt="">
<strong>Fig. 1. Launch configuration.</strong></p>
<p>Profiler supports inclusive (grren) and exlusive (red) filters. You can noy only specify what packages should be excluded from instrumentation, but also what packages should be included. Usefull, if you want to profile only your own classes. You can move filters up and down using buttons or drag and drop.
<img src="" alt="">
<strong>Fig. 1.1. Drag filters.</strong></p>
<p>Plugin allows remote profiling with &quot;Remote Profiler&quot; launch configuration. Notice, that remote profiling is supported only in &quot;run&quot; mode, i.e. when you create launch configuration using &quot;Run|Run...&quot; menu item.
You need to start remote application with special switches like: java -XrunProfilerDLL -Xbootclasspath/a:jakarta-regexp.jar;profiler<em>trace.jar;commons-lang.jar -D<strong>PROFILER_PACKAGE_FILTER=</strong>M<strong>sun.;</strong>M<strong>com.sun. -D</strong>PROFILER<em>USE<em>PACKAGE<em>FILTER=1 Here <strong>M</strong> prefix used for exclusive filter, __P</em></em> can be used for inclusive filter. And you should use __A</em></em> for class with method &quot;main&quot;.
<img src="" alt="">
<strong>Fig. 2. Remote launch configuration.</strong></p>
<h2 id="tomcat-cpu-profiling">Tomcat CPU profiling</h2>
<p>Profiler was tested with jakarta-tomcat-4.1.12. Add after lines in catalina.bat:
set <em>EXECJAVA=%<em>RUNJAVA%
set MAINCLASS=org.apache.catalina.startup.Bootstrap
set ACTION=start
set SECURITY_POLICY_FILE=
set DEBUG_OPTS=
set JPDA=
following line:
set JAVA_OPTS=-XrunProfilerDLL:1 -Xbootclasspath/a:jakarta-regexp.jar;profiler_trace.jar;commons-lang.jar -D<strong>PROFILER_PACKAGE_FILTER=</strong>A</em></em>%MAINCLASS%;<strong>M</strong>sun.;<strong>M</strong>com.sun.;<strong>M</strong>java.;<strong>M</strong>javax.;<strong>M</strong>org.apache. -D__PROFILER_TIMING_METHOD=1
Then copy jar&#39;s: commons-lang.jar jakarta-regexp.jar profiler_trace.jar to bin directory of tomcat. Now you can start tomcat using startup.bat and it will gather statistics for you. Next step is configuring Eclipse. You should create remote launch configuration and set host address as needed. This is all. Launch it, plugin will connect to your Tomcat and show you some statistics.</p>
<h2 id="tomcat-heap-profiling">Tomcat heap profiling</h2>
<p>Profiling heap is almost same as CPU profiling, but you should use following line:
set JAVA<em>OPTS=-XrunProfilerDLL:3,10,0 -D<strong>PROFILER_PROFILE_HEAP=1 -Xbootclasspath/a:jakarta-regexp.jar;profiler_trace.jar;commons-lang.jar -D</strong>PROFILER<em>PACKAGE<em>FILTER=<em>_A</em></em>%MAINCLASS%;__M</em></em> -D__PROFILER_TIMING_METHOD=1</p>
<h2 id="jboss-profiling">JBoss profiling</h2>
<p>Profiler was tested with jboss-3.0.6_tomcat-4.1.18. Add following line in your bin/run.bat (directly after echo off):
set JAVA_OPTS=-XrunProfilerDLL:1 -Xbootclasspath/a:jakarta-regexp.jar;profiler_trace.jar;commons-lang.jar -D<strong>PROFILER_PACKAGE_FILTER=</strong>A<strong>org.jboss.Main;</strong>M<strong>sun.;</strong>M<strong>com.sun.;</strong>M<strong>java.;</strong>M<strong>javax. -D</strong>PROFILER_TIMING_METHOD=1
Then copy jar&#39;s: commons-lang.jar jakarta-regexp.jar profiler_trace.jar to bin directory of JBoss. Now you can start JBoss using run.bat and it will gather statistics for you. Next step is configuring Eclipse. You should create remote launch configuration and set host address as needed. This is all. Launch it, plugin will connect to your JBoss and show you some statistics.</p>
<h2 id="weblogic-profiling">WebLogic profiling</h2>
<p>Profiler was tested with WebLogic 8.1, installed in &quot;c:/bea&quot;. WebLogic has its own JRE&#39;s, so you will need to copy ProfilerDLL.dll manually to C:\bea\jdk141_02\jre\bin. For profiling examples, change file C:\bea\weblogic81\samples\domains\examples\startExamplesServer.cmd, line where JAVA_OPTIONS is defined:
set JAVA_OPTIONS=-XrunProfilerDLL:1 -Xbootclasspath/a:jakarta-regexp.jar;profiler_trace.jar;commons-lang.jar -D<strong>PROFILER_PACKAGE_FILTER=</strong>A<strong>weblogic.Server;</strong>M<strong>sun.;</strong>M<strong>com.sun.;</strong>M<strong>java.;</strong>M<strong>javax.;</strong>M<strong>weblogic. -D</strong>PROFILER_TIMING_METHOD=1
Then copy jar&#39;s: commons-lang.jar jakarta-regexp.jar profiler_trace.jar to &quot;C:\bea\weblogic81\samples\domains\examples&quot;. Now you can start WebLogic examplex using startExamplesServer.cmd, or shortcut in Windows menu, and it will gather statistics for you. Next step is configuring Eclipse. You should create remote launch configuration and set host address as needed. This is all. Launch it, plugin will connect to your WebLogic and show you some statistics.</p>
<h2 id="resin-profiling">Resin profiling</h2>
<p>Profiler was tested with Resin-ee 2.1.10. Create batch file with following content in &quot;bin&quot;:
httpd.exe -J-XrunProfilerDLL:1 -Xbootclasspath/a:c:/prof/jakarta-regexp.jar;c:/prof/profiler_trace.jar;c:/prof/commons-lang.jar -D<strong>PROFILER_PACKAGE_FILTER=</strong>A<strong>com.caucho.server.http.HttpServer;</strong>M<strong>sun.;</strong>M<strong>com.sun.;</strong>M<strong>java.;</strong>M<strong>javax. -D</strong>PROFILER_TIMING_METHOD=1
Then create directory &quot;prof&quot; in disc &quot;C&quot; and copy jar&#39;s: commons-lang.jar jakarta-regexp.jar profiler_trace.jar. Now you can start your batch file and it will gather statistics for you. Next step is configuring Eclipse. You should create remote launch configuration and set host address as needed. This is all. Launch it, plugin will connect to your Resin and show you some statistics.</p>
<h2 id="options">Options</h2>
<p>Profiler supports several options via -DXXX.
Options Description <strong>PROFILER_PACKAGE_FILTER Contains list of packages to include or exclude.
Here </strong>P<strong> - inclusive pattern, </strong>M<strong> - exclusive pattern.
And </strong>A<strong> - application start class.
Examples:
Include only ru./<em> and de./</em> packages: </strong>P<strong>ru.;</strong>P<strong>de.
Exclude system packages: </strong>A<strong>org.jboss.Main;</strong>M<strong>sun.;</strong>M<strong>com.sun.;</strong>M<strong>java.;</strong>M<strong>javax.
If at least one inclusive pattern used, only classes accepted by inclusive patterns will be instrumented. </strong>PROFILER_TIMING_METHOD Specifies timing method - how to measure elapsed time.
0 - fast, System.currentTimeMillis(), good for application without sleeps and waits.
1 - precise, thread aware, slow, good for multithreaded applications.
2 - sampling profiling, very fast, good for long runned processes. <strong>PROFILER_PROFILE_HEAP 1, if HEAP profiling should be used. </strong>PROFILER_AUTO_START 0 - don&#39;t start automatically.
1 (default) - start automatically. <strong>PROFILER_START_ON_METHOD Start method name. When applications tries to enter in this method profiling starts (see </strong>PROFILER_AUTO_START, it should be 0).
Example: -D<strong>PROFILER_START_ON_METHOD=ru.nlmk.train.Main.mainLoop </strong>PROFILER_PAUSE_ON_METHOD 1, if you need pause profiling when <strong>PROFILER_START_ON_METHOD leaved. </strong>PROFILER_INSTRUMENT_SYSTEM_CLASSES 1, if you need instrument additional system classes, like java.lang.String, etc. Expensive! __PROFILER_WAIT_FRONTEND_CONNECT 1, if you need to wait, until frontend (plugin) will connect. (0 by default).</p>
<h2 id="cpu-profiling">CPU profiling</h2>
<p>Profiler supports CPU profiling and basic function for heap profiling. The profiler collects invocation count and direct time statistics for every method. Direct time is the amount of time used by selected method for execute. Also a total time value displayed in calling tree for selected thread. The total time means a time used by selected method and by all the methods it had called.</p>
<p>Only instrumentation profiling method is supported because of its precise. The overhead expenses reflects at speed decreasing app. 5 times to normal.</p>
<h2 id="how-it-works">How it works</h2>
<p>The profiler subscribes for JVPMI event JVMPI_EVENT_CLASS_LOAD_HOOK which called during every class loading. The profiler modifies loading byte-code by adding profiler&#39;s method call &quot;enter&quot; in the beginning of the every method of loading class and at the end of it - &quot;leave&quot;. &quot;Enter&quot; profiler&#39;s method notes the time of entering to profiling method. &quot;Leave&quot; makes method leaving timestamp and calculates a difference between enter and leave timestamps. This difference means total time for this method call. Direct time calculates as total time of this method minus total time of the all methods called by it. The profiles makes some time corrections for the time spent by profiler.</p>
<p>The profiler implemented as an Eclipse perspective with following views: Threads, Packages, Classes, Methods, Thread methods, Thread call tree, Heap.</p>
<p><strong>Threads.</strong>
Shows a list with all threads (alive or dead) in the current process. Here you can pause/resume refreshing of statistics in views, pause/resume all threads in profilied program, clear all statistics or run GC in profiled JVM.
<img src="" alt="">
<strong>Fig. 3. Threads View.</strong></p>
<p><strong>Call graph.</strong>
Profiler uses Draw2D for displaying call graph of thread. All methods shown in several columns, column depends on level, on which this method was called. Inside one column methods sorted by direct time used. Each node in graph has color from red to dark gray, depending on direct time. Methods with maximum time use have red color, and methods, which almost don&#39;t use time, have grey color. Each method has hint with detailed information. You can double click on method to open it in editor.
Lines between method present call from source method to target. Lines from one level to directly next have black color, to next - blue, inside one level - red, and from backward calls - green. Width of line depeneds on how much of time use in this call.
<img src="" alt="">
<strong>Fig. 3.1. Call graph.</strong>
You can also see hit for call. <img src="" alt="">
<strong>Fig. 3.2. Call hint.</strong>
As you can see, full graph looks fairly complex, but you can select part of it. Press mouse on some method and select then button &quot;Show callers&quot;, &quot;Show calles&quot; or &quot;Show caller and callees&quot;. You can see something like this: <img src="" alt="">
<strong>Fig. 3.3. Callers.</strong>
<img src="" alt="">
<strong>Fig. 3.4. Callees.</strong>
<img src="" alt="">
<strong>Fig. 3.5. Callers and callees.</strong>
You can double click on call line for opening editor with source method with highlighting places, where it calls target method. <img src="" alt="">
<strong>Fig. 3.6. Show calls.</strong></p>
<p><strong>Packages.</strong>
Shows a list with all methods with class hierarchy from package. This allows to determine packages which used the most of CPU time. In this view (and in Classes and Methods views also) the user can see in gray color the methods with unmodified parameters since last update. The user can hide such kind of methods by applying appropriate filters.
Here:
Name - name of package/class/method
Inv. - invocation count
% - percent of all invocations
Time - direct time used
% - percent of total time
Time/Inv. - average time used for one invocation
Total time - total time used directly by method and by all methods it calls
Inst. time - time used for instrumentation of class
<img src="" alt="">
<strong>Fig. 4. Packages View.</strong></p>
<p>You can add package or class to filter by pressing right mose button on element in table and selecting menu item. Filter can be added to launch configuration filter (will be used in next profiling, if you will active it) or to view filters (will be activated right now).
<img src="" alt="">
<strong>Fig. 4.1. Add filter.</strong></p>
<p><strong>Classes.</strong>
Shows a list of all class methods with method hierarchy from class. This allows to determine classes with the most CPU time usage.
<img src="" alt="">
<strong>Fig. 5. Classes View.</strong></p>
<p><strong>Filters.</strong>
Allows to define which kind of methods can be shown.
<img src="" alt="">
<strong>Fig. 6. Filters.</strong>
You can save configured name patterns (inclusive or exalusive) with some name and description, then you will able to select them in check list box. <img src="" alt="">
<strong>Fig. 6.1. New filter.</strong>
Later you can change this user defined filter. <img src="" alt="">
<strong>Fig. 6.2. Edit filter.</strong></p>
<p><strong>Methods.</strong>
Shows the statistics for all methods of the current process.
<img src="" alt="">
<strong>Fig. 7. All Methods View.</strong></p>
<p><strong>Thread methods.</strong>
Shows methods statictics for thread selected in Threads View.
<img src="" alt="">
<strong>Fig. 8. Thread Methods View.</strong></p>
<p><strong>Thread tree.</strong>
Shows a methods invocation tree for thread selected in Threads View. Here red square used for highlighted methods (from thread methods context menu) and green dot used for all other methods.
<img src="" alt="">
<strong>Fig. 9. Thread Tree View.</strong></p>
<p><strong>Inverted thread tree.</strong>
Shows a methods invocation tree for thread selected in Threads View starting from leaves. This allows you fastly detect, that some leaf method uses much of total time and see, what methods it is called.
<img src="" alt="">
<strong>Fig. 9.1. Inverted thread Tree View.</strong></p>
<p><strong>Heap.</strong>
Shows heap usage graph: total (green), used (blue) and free (yellow) heap.
<img src="" alt="Heap View.">
<strong>Fig. 10. Heap View.</strong></p>
<p>Here is an overall view of the profiler perspective. You can see a method HashMap.put opened in source code editor with highlighted lines of code which has the maximum hit count (size of annotation depends on hit count). You can open source code editor by choosing menu item &quot;Open method in editor&quot; in context menu.
<img src="" alt="">
<strong>Fig. 11. Perspective.</strong></p>
<p><a href="http://sourceforge.net/" target="_blank"><img src="" alt="SourceForge Logo"></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/eclipse/">eclipse</a></li></span><span class="breadcrumb"><li><a href="/categories/eclipse/">eclipse</a></li><li><a href="/categories/eclipse/插件/">插件</a></li></span></span> | <span class="tags">Tagged <a href="/tags/eclipse/" class="label label-primary">eclipse</a><a href="/tags/插件/" class="label label-success">插件</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-eclipse-插件--EclipseProfilerPlugin/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-eclipse-插件--EclipseProfilerPlugin" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate的体系结构与分析、工作原理/">Hibernate的体系结构与分析、工作原理</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate的体系结构与分析、工作原理/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="hibernate-">Hibernate的体系结构与分析、工作原理</h1>
<p>本文摘自 李刚 著 《Java EE企业应用实战》</p>
<pre><code>    现在我们知道了一个概念**Hibernate Session**，只有处于**Session**管理下的**POJO**才具有持久化操作能力。当应用程序对于处于**Session**管理下的**POJO**实例执行操作时，**Hibernate**将这种面向对象的操作转换成了持久化操作能力。
</code></pre><p>HIbernate简要的体系结构如下图所示：</p>
<p><img src="" alt=""></p>
<pre><code>    通过上图能够发现HIbernate需要一个**hibernate.properties**文件，该文件用于配置**Hibernate**和数据库连接的信息。还需要一个XML文件，该映射文件确定了持久化类和数据表、数据列之间的想对应关系。
</code></pre><p>除了使用hibernate.properties文件，还可以采用另一种形式的配置文件： <strong>/*.cfg.xml</strong>文件。在实际应用中，采用XML配置文件的方式更加广泛，两种配置文件的实质是一样的。</p>
<pre><code>    Hibernate的持久化解决方案将用户从赤裸裸的JDBC访问中释放出来，用户无需关注底层的JDBC操作，而是以面向对象的方式进行持久层操作。底层数据连接的获得、数据访问的实现、事务控制都无需用户关心。这是一种“全面解决”的体系结构方案，将应用层从底层的JDBC/JTA API中抽象出来。通过配置文件来管理底层的JDBC连接，让Hibernate解决持久化访问的实现。这种“全面解决”方案的体系结构图如图所示：
</code></pre><p><img src="" alt=""></p>
<pre><code>    针对以上的Hibernate全面解决方案架构图：

  （1）**SessionFactory**：**这是Hibernate的关键对象，**它是单个数据库映射关系经过编译后的内存镜像，它也是**线程安全的**。**它是生成Session的工厂**，本身要应用到ConnectionProvider，该对象可以在进程和集群的级别上，为那些事务之间可以重用的数据提供可选的二级缓存。

  （2）**Session**：它是应用程序和持久存储层之间交互操作的一个单线程对象。它也是Hibernate持久化操作的关键对象，所有的持久化对象必须在Session的管理下才能够进行持久化操作。**此对象的生存周期很短，其隐藏了JDBC连接，也是Transaction 的工厂。Session对象有一个一级缓存，现实执行Flush之前，所有的持久化操作的数据都在缓存中Session对象处。**

  （3）**持久化对象**：系统创建的POJO实例一旦与特定Session关联，并对应数据表的指定记录，那该对象就处于持久化状态，这一系列的对象都被称为持久化对象。程序中对持久化对象的修改，都将自动转换为持久层的修改。**持久化对象完全可以是普通的Java Beans/POJO，唯一的特殊性是它们正与Session关联着。**

  （4）**瞬态对象和脱管对象**：系统进行new关键字进行创建的Java 实例，没有Session 相关联，此时处于瞬态。瞬态实例可能是在被应用程序实例化后，尚未进行持久化的对象。如果一个曾今持久化过的实例，但因为Session的关闭而转换为脱管状态。

  （5）**事务(Transaction)**：代表一次原子操作，它具有数据库事务的概念。但它通过抽象，将应用程序从底层的具体的JDBC、JTA和CORBA事务中隔离开。在某些情况下，一个Session 之内可能包含多个Transaction对象。虽然事务操作是可选的，但是所有的持久化操作都应该在事务管理下进行，即使是只读操作。

  （6）**连接提供者(ConnectionProvider)：****它是生成JDBC的连接的工厂，同时具备连接池的作用。他通过抽象将底层的DataSource和DriverManager隔离开。这个对象无需应用程序直接访问，仅在应用程序需要扩展时使用。**

  （7）事务工厂(TransactionFactory)：他是生成Transaction对象实例的工厂。该对象也无需应用程序的直接访问。
</code></pre><p>来源： <a href="[http://blog.csdn.net/titilover/article/details/6920457](http://blog.csdn.net/titilover/article/details/6920457)">[http://blog.csdn.net/titilover/article/details/6920457](http://blog.csdn.net/titilover/article/details/6920457)</a> </p>
<pre><code>前面说了一些宏观上学习框架相关的思想方面的东西，下面继续来介绍我经常使用的框架和框架的分析，这篇博客主要介绍的是hibernate框架。

  首先说hibernate框架是数据持久层的框架，这个框架是非常强大的，它让编程人员纯粹的用面向对象的方式来做开发，让编程人员所面对的都是对象。仅仅从这一点它的设计思路就是非常让编程人员喜爱的。

  回想我们普通的开发流程，和客户沟通定需求，抽象出来原型，从原型中建立数据模型到库表结构的建立，之后在映射成对象模型，之后在用oo的设计思想完成后续的程序开发。但是当我们使用了hibernate框架以后，原先的设计思路就显得不再那么具有优势了。我们直接建立对象模型，之后利用hibernate框架映射成数据模型，我们不再去考虑数据库关系模型的东西，仅仅考虑的东西仅仅就是类和对象，这样的开发才是面向对象的开发，也才是最接近人类思考问题的方式。所以hibernate框架的设计思路是非常好的。

    hibernate框架设计思路的优越性其实体现在了它本身的框架的原理上。hibernate封装了JDBC，减轻了开发人员在持久层的大量重复性工作，它利用了java反射机制来实现程序的透明性；它就是通过这两点才达到从对象出发而非关系数据库出发的效果。



  介绍这么多理论性的东西之后我们能够感觉到hibernate框架的强大，来看看它的结构图：
</code></pre><p><img src="" alt=""></p>
<pre><code>   在hibernate框架中有几个比较重要的接口和类：
</code></pre><ol>
<li><p>Query接口：Query负责执行各种数据库查询。它可以使用HQL语句或SQL语句两种表达方式。</p>
</li>
<li><p>Configuration类：Configuration类负责配置并启动Hibernate，创建SessionFactory对象</p>
</li>
<li><p>SessionFactory接口：SessionFactory接口负责初始化Hibernate。它充当数据存储源的代理，并负责创建Session对象</p>
</li>
<li><p>Session接口：Session接口负责执行被持久化对象的CRUD操作</p>
</li>
<li><p>Transaction接口：Transaction接口负责事务相关的操作</p>
</li>
</ol>
<pre><code>     hibernate框架就是在利用这几个接口来封装了JDBC，而且我们用这些接口来操作数据库变得非常简单，减少了我们在持久层的代码量。

   从这个结构图和我的一些分析就能发现hibernate框架是非常强大，而且它给我们开发人员的开发带来了非常大的便利，尤其是他的设计思路还有它的“全自动”的映射对象模型和关系模型。

   但是hibernate框架也有它的一些缺点：
</code></pre><ol>
<li><p>既然是封装了JDBC，所以很明显它没有JDBC的效率高，尤其是在大量的处理表更新操作的时候。</p>
</li>
<li><p>它有局限性，一个持久化类不能映射多个表</p>
</li>
<li>它应对大数量的时候显得非常笨拙，这一点没有JDBC和接下来要介绍的IBatis框架</li>
</ol>
<pre><code>   其实一项技术或者一个框架都有它的优缺点，选择最合适的才是王道。
</code></pre><p>来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7941958](http://blog.csdn.net/lfsf802/article/details/7941958)">[http://blog.csdn.net/lfsf802/article/details/7941958](http://blog.csdn.net/lfsf802/article/details/7941958)</a> </p>
<p>Hibernate工作原理：</p>
<p>1.Hibernate 的初始化.</p>
<p>读取Hibernate 的配置信息-〉创建Session Factory</p>
<p>1)创建Configeration类的实例：</p>
<p>它的构造方法：将配置信息(Hibernate config.xml)读入到内存。 
一个Configeration 实例代表Hibernate 所有Java类到Sql数据库映射的集合。</p>
<p>2)创建SessionFactory实例：</p>
<p>把Configeration 对象中的所有配置信息拷贝到SessionFactory的缓存中。 
SessionFactory的实例代表一个数据库存储员源，创建后不再与Configeration 对象关联。</p>
<p>3)调用SessionFactory创建Session的方法：</p>
<pre><code>    1】用户自行提供JDBC连接。

    Connection con=dataSource.getConnection();
    Session s=sessionFactory.openSession(con);

    2】让SessionFactory提供连接

    Session s=sessionFactory.openSession();
</code></pre><p>4)通过Session 接口提供的各种方法来操纵数据库访问。</p>
<p>Hibernate 的缓存体系</p>
<p>一级缓存：</p>
<p>Session 有一个内置的缓存，其中存放了被当前工作单元加载的对象。 
每个Session 都有自己独立的缓存，且只能被当前工作单元访问。</p>
<p>二级缓存：</p>
<p>SessionFactory的外置的可插拔的缓存插件。其中的数据可被多个Session共享访问。</p>
<p>SessionFactory的内置缓存：存放了映射元数据，预定义的Sql语句。</p>
<p>Hibernate 中Java对象的状态</p>
<p>1.临时状态 (transient)</p>
<p>特征：</p>
<p>1】不处于Session 缓存中
2】数据库中没有对象记录</p>
<p>Java如何进入临时状态</p>
<p>1】通过new语句刚创建一个对象时 
2】当调用Session 的delete()方法，从Session 缓存中删除一个对象时。</p>
<p>2.持久化状态(persisted)</p>
<p>特征：</p>
<p>1】处于Session 缓存中 
2】持久化对象数据库中设有对象记录 
3】Session 在特定时刻会保持二者同步</p>
<p>Java如何进入持久化状态</p>
<p>1】Session 的save()把临时－》持久化状态 
2】Session 的load(),get()方法返回的对象 
3】Session 的find()返回的list集合中存放的对象 
4】Session 的update(),saveOrupdate()使游离－》持久化</p>
<p>3.游离状态(detached)</p>
<p>特征：</p>
<p>1】不再位于Session 缓存中 
2】游离对象由持久化状态转变而来，数据库中可能还有对应记录。</p>
<p>Java如何进入持久化状态－》游离状态</p>
<p>1】Session 的close()方法 
2】Session 的evict()方法，从缓存中删除一个对象。提高性能。少用。</p>
<p>总结一下Hibernate的好处：</p>
<p>1.JDBC访问数据库的代码做了封装，大大简化了数据访问层繁琐的重复性代码。</p>
<ol>
<li><p>Hibernate是一个基于JDBC的主流持久化框架，是一个优秀的ORM实现。他很大程度的简化DAO层的编码工作</p>
</li>
<li><p>hibernate使用Java反射机制，而不是字节码增强程序来实现透明性。</p>
</li>
<li><p>hibernate的性能非常好，因为它是个轻量级框架。映射的灵活性很出色。它支持各种关系数据库，从一对一到多对多的各种复杂关系。
来源： <a href="[http://www.linuxidc.com/Linux/2012-12/76684.htm](http://www.linuxidc.com/Linux/2012-12/76684.htm)">[http://www.linuxidc.com/Linux/2012-12/76684.htm](http://www.linuxidc.com/Linux/2012-12/76684.htm)</a> </p>
</li>
</ol>
<p><img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/框架汇总/">框架汇总</a></li></span><span class="breadcrumb"><li><a href="/categories/框架汇总/">框架汇总</a></li><li><a href="/categories/框架汇总/ORM/">ORM</a></li><li><a href="/categories/框架汇总/ORM/hibernate/">hibernate</a></li></span></span> | <span class="tags">Tagged <a href="/tags/ORM/" class="label label-primary">ORM</a><a href="/tags/hibernate/" class="label label-success">hibernate</a><a href="/tags/框架汇总/" class="label label-info">框架汇总</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate的体系结构与分析、工作原理/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-框架汇总-ORM-hibernate--Hibernate的体系结构与分析、工作原理" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-面试参考--我在Oracle和IBM的面试经历讨论第3页/">我在Oracle和IBM的面试经历讨论第3页</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-面试参考--我在Oracle和IBM的面试经历讨论第3页/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-oracle-ibm-3-">我在Oracle和IBM的面试经历讨论第3页</h1>
<p><a href="http://www.javaeye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.javaeye.com/all" target="_blank">我的应用</a> <a href="http://www.javaeye.com/login" target="_blank">登录</a> <a href="http://www.javaeye.com/signup" target="_blank">注册</a></p>
<p><a href="http://www.javaeye.com/" target="_blank"><img src="&quot;JavaEye-最棒的软件开发交流社区&quot;" alt="JavaEye-最棒的软件开发交流社区"></a></p>
<p><a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> → <a href="http://www.javaeye.com/forums/board/Job" target="_blank">招聘求职版</a> → <a href="http://www.javaeye.com/forums/tag/career" target="_blank">职场话题</a> →</p>
<h1 id="-oracle-ibm-">我在Oracle和IBM的面试经历</h1>
<p><a href="http://www.javaeye.com/forums/board/Job" target="_blank">全部</a> <a href="http://www.javaeye.com/forums/tag/company" target="_blank">企业点评</a> <a href="http://www.javaeye.com/forums/tag/career" target="_blank">职场话题</a> <a href="http://www.javaeye.com/forums/tag/findjob" target="_blank">求职经验</a> <a href="http://www.javaeye.com/forums/tag/interview" target="_blank">面试秘籍</a> <a href="http://www.javaeye.com/forums/tag/list_jobs" target="_blank">招聘职位</a>
<a href="http://www.javaeye.com/forums/44/topics/720347/posts/new" title="发表回复"></a></p>
<p><a href="http://www.javaeye.com/clicks/324" target="_blank">myApps快速开发平台，配置即开发、所见即所得，节约85%工作量</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=2" target="_blank">« 上一页</a> <a href="http://www.javaeye.com/topic/720347?page=1" target="_blank">1</a> <a href="http://www.javaeye.com/topic/720347?page=2" target="_blank">2</a> 3 下一页 »
浏览 5251 次
 <a href="http://www.javaeye.com/topic/720347" target="_blank">主题：我在Oracle和IBM的面试经历</a></p>
<p>精华帖 (0) :: 良好帖 (0) :: 隐藏帖 (0) 作者 正文 * tracyhuyan</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://tracyhuyan.javaeye.com/" target="_blank"><img src="&quot;tracyhuyan的博客: &quot;" alt="tracyhuyan的博客"></a></li>
<li>文章: 64</li>
<li>积分: 40</li>
<li>来自: 深圳</li>
<li><img src="" alt="">
  发表时间：16 小时前   最后修改：12 小时前</li>
</ul>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">&lt;</a> <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">&gt;</a> 猎头职位:LZ，英文面试的时候，用英语面技术？还是只是用英语谈话，非技术的东东 <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://tracyhuyan.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://tracyhuyan.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=tracyhuyan" title="发送站内短信" target="_blank"> </a> <a href="http://tracyhuyan.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=tracyhuyan" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1594790" title="tracyhuyan回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * yangstarfly</p>
<ul>
<li>等级: <img src="&quot;四星会员&quot;" alt="四星会员"></li>
<li><a href="http://yangstarfly.javaeye.com/" target="_blank"><img src="&quot;yangstarfly的博客: yangstarfly&quot;" alt="yangstarfly的博客"></a></li>
<li>文章: 88</li>
<li>积分: 417</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：12 小时前  </li>
</ul>
<p>tracyhuyan 写道</p>
<p>LZ，英文面试的时候，用英语面技术？还是只是用英语谈话，非技术的东东
会用英语面技术，但不会问得太复杂 <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://yangstarfly.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://yangstarfly.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=yangstarfly" title="发送站内短信" target="_blank"> </a> <a href="http://yangstarfly.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=yangstarfly" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1594943" title="yangstarfly回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * onlylau</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://onlylau.javaeye.com/" target="_blank"><img src="&quot;onlylau的博客: &quot;" alt="onlylau的博客"></a></li>
<li>文章: 4</li>
<li>积分: 30</li>
<li>来自: 江苏</li>
<li><img src="" alt="">
  发表时间：11 小时前  </li>
</ul>
<p>这两个公司我都很向往呀，进哪个我都没意见，哈哈，关键是人家要不要我
看来我要好好练下我的内功的，加深下基础知识；还要再多加强下英语能力了，我的英文水平最多也就能看些简单的英文文章~
顶个LZ，等你定下来了，希望能多提供些经验~ <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://onlylau.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://onlylau.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=onlylau" title="发送站内短信" target="_blank"> </a> <a href="http://onlylau.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=onlylau" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1594966" title="onlylau回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * huhuanqadn</p>
<ul>
<li>等级: <img src="&quot;一星会员&quot;" alt="一星会员"></li>
<li><a href="http://huhuanqadn.javaeye.com/" target="_blank"><img src="&quot;huhuanqadn的博客: birt家园          www.birthome.cn&quot;" alt="huhuanqadn的博客"></a></li>
<li>文章: 43</li>
<li>积分: 110</li>
<li>来自: 合肥</li>
<li><img src="" alt="">
  发表时间：1 小时前  </li>
</ul>
<p>能进google最好，显然google已经不在中国了。 <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://huhuanqadn.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://huhuanqadn.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=huhuanqadn" title="发送站内短信" target="_blank"> </a> <a href="http://huhuanqadn.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=huhuanqadn" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1595137" title="huhuanqadn回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * Max_1106</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://max-1106.javaeye.com/" target="_blank"><img src="&quot;Max_1106的博客: Max_1106&quot;" alt="Max_1106的博客"></a></li>
<li>文章: 210</li>
<li>积分: 30</li>
<li>来自: 深圳</li>
<li><img src="" alt="">
  发表时间：1 小时前  </li>
</ul>
<p>这种大公司
技术+英语+学历
一个都不能少 <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://max-1106.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://max-1106.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=Max_1106" title="发送站内短信" target="_blank"> </a> <a href="http://max-1106.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=Max_1106" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1595158" title="Max_1106回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * BloodSmith</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://bloodsmith.javaeye.com/" target="_blank"><img src="&quot;BloodSmith的博客: &quot;" alt="BloodSmith的博客"></a></li>
<li>文章: 67</li>
<li>积分: 30</li>
<li>来自: 公安9课</li>
<li><img src="" alt="">
  发表时间：36 分钟前  </li>
</ul>
<p>ibm还是很肥的啊 <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://bloodsmith.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://bloodsmith.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=BloodSmith" title="发送站内短信" target="_blank"> </a> <a href="http://bloodsmith.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=BloodSmith" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1595230" title="BloodSmith回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * 水痕2000</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://shuihen2000-gmail-com.javaeye.com/" target="_blank"><img src="&quot;水痕2000的博客: &quot;" alt="水痕2000的博客"></a></li>
<li>文章: 63</li>
<li>积分: 30</li>
<li>来自: 杭州</li>
<li><img src="" alt="">
  发表时间：27 分钟前  </li>
</ul>
<p>ibm band6是8.8k/月
属于养老工作.
一般只要生过孩子的女人(至少希望你5年不变动工作).
好像2000年band6就这个价格了..现在已经2010年了...
band7需要3-4年左右 大概13k左右.
认识的同学两毕业同进的ibm的
成绩好的做的开发,成绩差的做的销售,起薪是一样的.
开发薪水基本没怎么变化,做销售的肥了好几圈了 <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://shuihen2000-gmail-com.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://shuihen2000-gmail-com.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%B0%B4%E7%97%952000" title="发送站内短信" target="_blank"> </a> <a href="http://shuihen2000-gmail-com.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%B0%B4%E7%97%952000" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1595254" title="水痕2000回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票  * tracyhuyan</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://tracyhuyan.javaeye.com/" target="_blank"><img src="&quot;tracyhuyan的博客: &quot;" alt="tracyhuyan的博客"></a></li>
<li>文章: 64</li>
<li>积分: 40</li>
<li>来自: 深圳</li>
<li><img src="" alt="">
  发表时间：4 分钟前  </li>
</ul>
<p>yangstarfly 写道</p>
<p>tracyhuyan 写道</p>
<p>LZ，英文面试的时候，用英语面技术？还是只是用英语谈话，非技术的东东
会用英语面技术，但不会问得太复杂
哦，这样，thx <a href="http://www.javaeye.com/topic/720347?page=3#" target="_blank">返回顶楼</a> <a href="http://tracyhuyan.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://tracyhuyan.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=tracyhuyan" title="发送站内短信" target="_blank"> </a> <a href="http://tracyhuyan.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=tracyhuyan" title="关注作者" target="_blank"> </a> <a href="http://www.javaeye.com/topic/720347?page=3#1595299" title="tracyhuyan回帖:我在Oracle和IBM的面试经历" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=3#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/720347?page=3#" title="差" target="_blank">0</a> 请登录后投票</p>
<p><a href="http://www.javaeye.com/forums/44/topics/720347/posts/new" title="发表回复"></a></p>
<p><a href="http://www.javaeye.com/topic/720347?page=2" target="_blank">« 上一页</a> <a href="http://www.javaeye.com/topic/720347?page=1" target="_blank">1</a> <a href="http://www.javaeye.com/topic/720347?page=2" target="_blank">2</a> 3 下一页 »
<a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> → <a href="http://www.javaeye.com/forums/board/Job" target="_blank">招聘求职版</a> → <a href="http://www.javaeye.com/forums/tag/career" target="_blank">职场话题</a>
跳转论坛:Java编程和Java企业应用 Web前端技术 移动编程和手机应用开发 C/C++编程 Ruby编程 Python编程 PHP编程 Flash编程和RIA Microsoft .Net 综合技术 软件开发和项目管理 行业应用 入门讨论 招聘求职 海阔天空</p>
<ul>
<li><p><a href="http://www.javaeye.com/jobs/746" title="北京:金融界网站诚聘Java工程师（短彩业务）" target="_blank">北京: 金融界网站诚聘Java工程师（短彩业务）</a></p>
</li>
<li><p><a href="http://www.javaeye.com/" target="_blank">首页</a></p>
</li>
<li><a href="http://www.javaeye.com/news" target="_blank">新闻</a></li>
<li><a href="http://www.javaeye.com/forums" target="_blank">论坛</a></li>
<li><a href="http://www.javaeye.com/ask" target="_blank">问答</a></li>
<li><a href="http://www.javaeye.com/wiki" target="_blank">专栏</a></li>
<li><a href="http://www.javaeye.com/blogs" target="_blank">博客</a></li>
<li><a href="http://www.javaeye.com/groups" target="_blank">圈子</a></li>
<li><a href="http://www.javaeye.com/job" target="_blank">招聘</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">服务</a></li>
<li><a href="http://www.javaeye.com/search" target="_blank">搜索</a></li>
<li><a href="http://java.javaeye.com/" target="_blank">Java</a></li>
<li><a href="http://webapp.javaeye.com/" target="_blank">Web</a></li>
<li><a href="http://ruby.javaeye.com/" target="_blank">Ruby</a></li>
<li><a href="http://python.javaeye.com/" target="_blank">Python</a></li>
<li><a href="http://agile.javaeye.com/" target="_blank">敏捷</a></li>
<li><a href="http://mysql.javaeye.com/" target="_blank">MySQL</a></li>
<li><a href="http://runqian.javaeye.com/" target="_blank">润亁报表</a></li>
<li><a href="http://book.javaeye.com/" target="_blank">图书</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">广告服务</a></li>
<li><a href="http://webmaster.javaeye.com/" target="_blank">JavaEye黑板报</a></li>
<li><a href="http://www.javaeye.com/index/aboutus" target="_blank">关于我们</a></li>
<li><a href="http://www.javaeye.com/index/contactus" target="_blank">联系我们</a></li>
<li><a href="http://www.javaeye.com/index/friend_links" target="_blank">友情链接</a></li>
</ul>
<p>© 2003-2010 JavaEye.com. 上海炯耐计算机软件有限公司版权所有 [ <a href="http://www.miibeian.gov.cn/" target="_blank">沪ICP备05023328号</a> ]</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/面试参考/">面试参考</a></li></span></span> | <span class="tags">Tagged <a href="/tags/面试参考/" class="label label-primary">面试参考</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-面试参考--我在Oracle和IBM的面试经历讨论第3页/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-面试参考--我在Oracle和IBM的面试经历讨论第3页" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-框架汇总-反射--Java反射机制剖析/">Java反射机制剖析</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-框架汇总-反射--Java反射机制剖析/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-">Java反射机制剖析</h1>
<p><a href="http://blog.csdn.net/lfsf802/article/details/7239652" target="_blank">（一）-定义和API</a></p>
<ol>
<li>什么是Java反射机制
Java的反射机制是在程序运行时，能够完全知道任何一个类，及其它的属性和方法，并且能够任意调用一个对象的属性和方法。这种运行时的动态获取就是Java的反射机制。其实这也是Java是动态语言的一个象征。</li>
</ol>
<p>用一句话来概括反射就是加载一个运行时才知道的类以及它的完整内部结构。</p>
<ol>
<li>为什么要有Java反射机制
我们为什么要用Java的反射机制呢？</li>
</ol>
<p>我认为有两种：</p>
<p>第一种：反射的目的就是为了扩展未知的应用。比如你写了一个程序，这个程序定义了一些接口，只要实现了这些接口的dll都可以作为插件来插入到这个程序中。那么怎么实现呢？就可以通过反射来实现。就是把dll加载进内存，然后通过反射的方式来调用dll中的方法。</p>
<p>第二种：在编码阶段不知道那个类名,要在运行期从配置文件读取类名, 这时候就没有办法硬编码new ClassName(),而必须用到反射才能创建这个对象。</p>
<p>一个生活中常看到的例子有助于理解我们为什么要用Java的反射机制：你进了一家饭店，你不知道他们都有那些菜，要多少钱。那么你第一件事情是干啥“服务员拿个菜单过来”，然后指着菜单说“我要这个，我要那个”。</p>
<ol>
<li>一起来看ReflectionAPI</li>
</ol>
<p>在生活中，我们使用一个未知的东西的时候总会用帮助来解决我们的使用问题，电视机有帮助，电脑有帮助，几乎所有的事物都携带着它的一本帮助，Java的反射机制也不例外。</p>
<p>在JDK中有Reflection API的帮助，它主要说明了什么是Java反射机制，这种反射机制提供了什么样的属性和方法，进一步我们能够知道能够通过它完成什么样的工作。</p>
<p>下面咱就一起看看这部分的API。这些接口和类都位于lang包里。</p>
<p>如图：</p>
<p><img src="" alt=""></p>
<p>接口：</p>
<p><img src="" alt=""></p>
<p>类：</p>
<p><img src="" alt=""></p>
<p>简单介绍一些类和接口的用法。</p>
<p>1)     Member成员是一种接口，反映有关单个成员（字段或方法）或构造方法的标识信息</p>
<p>2)     InvocationHandler是代理实例的调用处理程序 实现的接口（这个接口的具体用法等到java反射机制剖析4着重介绍）</p>
<p>3)     Method提供一个类的方法的信息以及访问类的方法的接口。</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Method;  </li>
<li></li>
<li>public class TestMethod {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws Exception  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Method methods[]=classType.getDeclaredMethods();  </li>
<li>for(int i=0;i&lt;methods.length;i++){  </li>
<li>System.out.println(methods[i].toString());  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>4)     Filed提供一个类的域的信息以及访问类的域的接口。</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Field;  </li>
<li></li>
<li></li>
<li>public class TestField {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws Exception  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Field[] fields = classType.getFields();  </li>
<li>for(int i=0;i&lt;fields.length;i++){  </li>
<li>System.out.println(fields[i].toString());  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>5)     Array 类提供了动态创建和访问 Java 数组的方法。</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Array;  </li>
<li></li>
<li></li>
<li>public class TestArray {  </li>
<li></li>
<li>public TestArray(){  </li>
<li></li>
<li>}  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws Exception  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li></li>
<li>Class&lt;?&gt; classType = Class.forName(&quot;java.lang.String&quot;);  </li>
<li></li>
<li>Object array = Array.newInstance(classType, 10);  </li>
<li></li>
<li>Array.set(array, 5, &quot;hello&quot;);  </li>
<li></li>
<li>String s = (String)Array.get(array, 5);  </li>
<li>System.out.println(s);  </li>
<li></li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>6)     Proxy提供动态地生成代理类和类实例的静态方法（这个方法在java放射机制剖析4着重介绍）。</p>
<p>其余的类和接口的使用方法详见API
来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239652](http://blog.csdn.net/lfsf802/article/details/7239652)">[http://blog.csdn.net/lfsf802/article/details/7239652](http://blog.csdn.net/lfsf802/article/details/7239652)</a></p>
<p> <a href="http://blog.csdn.net/lfsf802/article/details/7239711" target="_blank">（二）-功能以及举例</a></p>
<p>从<a href="http://blog.csdn.net/lfsf802/article/details/7239652" target="_blank">《java反射机制剖析（一）》</a>的API我们看到了许多接口和类，我们能够通过这些接口做些什么呢？</p>
<p>从上篇API中我们能看到它能够完成下面的这些功能：</p>
<p>1)     获得类
A.     运用getClass()  (每个class都有此函数)</p>
<pre><code>                                i.    String str = &quot;abc&quot;;

                              ii.    Class c1 = str.getClass();
</code></pre><p>B.     运用Class.forName() (static method 最常被使用)</p>
<pre><code>                                i.    Class c1 = Class.forName (&quot;java.lang.String&quot;);

                              ii.    Class c2 = Class.forName (&quot;java.awt.Button&quot;);
</code></pre><p>C.     运用  .class 语法</p>
<pre><code>                                i.    Class c1 = String.class;

                              ii.    Class c2 = java.awt.Button.class;

                            iii.    Class c4 = int.class;

                              iv.    Class c5 = int[].class;
</code></pre><p>D.     运用 TYPE语法 ( primitive wrapper classes 基本数据类型包装类的 TYPE语法)</p>
<pre><code>                                i.    Class c1 = Boolean.TYPE;
</code></pre><p>2)     获得属性（这个功能的实例见Java反射机制剖析（2））
以下四个方法可以获得属性，主要参见的是Java.lang.class</p>
<p> Public  Field  getField</p>
<p>(String name) 返回一个 Field 对象，它反映此 Class 对象所表示的类或接口的指定公共成员字段 public Field[] getFields() 返回一个包含某些 Field 对象的数组，这些对象反映此 Class 对象所表示的类或接口的所有可访问公共字段 Public  Field</p>
<p>getDeclaredField(String name) 返回一个 Field 对象，该对象反映此 Class 对象所表示的类或接口的指定已声明字段 public  Field[]</p>
<p>getDeclaredFields() 返回 Field 对象的一个数组，这些对象反映此 Class 对象所表示的类或接口所声明的所有字段</p>
<p>3)     获得方法（）
以下四个方法可以获得方法，要参见的是Java.lang.class</p>
<p>public  Method</p>
<p>getMethod(String name,</p>
<p>... )</p>
<p>返回一个 Method 对象，它反映此 Class 对象所表示的类或接口的指定公共成员方法 public Method[] getMethods()</p>
<p>返回一个包含某些 Method 对象的数组，这些对象反映此 Class 对象所表示的类或接口（包括那些由该类或接口声明的以及从超类和超接口继承的那些的类或接口）的公共 member 方法 public Method</p>
<p>getDeclaredMethod(String name,…)</p>
<p>返回一个 Method 对象，该对象反映此 Class 对象所表示的类或接口的指定已声明方法 public Method[]</p>
<p>getDeclaredMethods()</p>
<p>返回 Method 对象的一个数组，这些对象反映此 Class 对象表示的类或接口声明的所有方法，包括公共、保护、默认（包）访问和私有方法，但不包括继承的方法</p>
<p>4)     获取类的构造器
以下四个方法可以获得方法，要参见的是Java.lang.class</p>
<p>public  Constructor</p>
<p>getConstructor(Class&lt;?&gt;... )</p>
<p>返回一个 Constructor 对象，它反映此 Class 对象所表示的类的指定公共构造方法 public  Constructor&lt;?&gt;[]</p>
<p>getConstructors()</p>
<p>返回一个包含某些 Constructor 对象的数组，这些对象反映此 Class 对象所表示的类的所有公共构造方法 Public  Constructor<T></p>
<p>getDeclaredConstructor(Class&lt;?&gt;...)</p>
<p>返回一个 Constructor 对象，该对象反映此 Class 对象所表示的类或接口的指定构造方法 public  Constructor&lt;?&gt;[]</p>
<p>getDeclaredConstructors()</p>
<p>返回 Constructor 对象的一个数组，这些对象反映此 Class 对象表示的类声明的所有构造方法。它们是公共、保护、默认（包）访问和私有构造方法 
示例代码：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Constructor;  </li>
<li></li>
<li></li>
<li>public class TestConstructor {  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws ClassNotFoundException  </li>
<li>/* @throws SecurityException  </li>
<li>/* @throws NoSuchMethodException  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Constructor Constructor= classType.getConstructor();  </li>
<li></li>
<li>System.out.println(Constructor.toString());  </li>
<li></li>
<li>}  </li>
<li></li>
<li></li>
<li>}  </li>
</ol>
<p>5)     新建类的实例</p>
<p>调用类的Class对象的newInstance方法</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Constructor;  </li>
<li></li>
<li></li>
<li>public class TestConstructor {  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws ClassNotFoundException  </li>
<li>/* @throws SecurityException  </li>
<li>/* @throws NoSuchMethodException  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>//Constructor Constructor= classType.getConstructor();  </li>
<li>Object inst=classType.newInstance();  </li>
<li>System.out.println(inst);     </li>
<li>}  </li>
<li>}   调用默认Constructor对象的newInstance方法</li>
</ol>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Constructor;  </li>
<li></li>
<li></li>
<li>public class TestConstructor {  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws ClassNotFoundException  </li>
<li>/* @throws SecurityException  </li>
<li>/* @throws NoSuchMethodException  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Constructor Constructor= classType.getConstructor();  </li>
<li>Object inst=Constructor.newInstance();  </li>
<li>System.out.println(inst);     </li>
<li>}  </li>
<li>}   调用带参数Constructor对象的newInstance方法</li>
</ol>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>Class classType=User.class  </li>
<li>Constructor constructor2 =  </li>
<li>classType.getDeclaredConstructor(int.class, String.class);  </li>
<li></li>
<li>Object inst = constructor2.newInstance(1, &quot;123&quot;);  </li>
<li></li>
<li>System.out.println(inst);  </li>
</ol>
<p>来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239711](http://blog.csdn.net/lfsf802/article/details/7239711)">[http://blog.csdn.net/lfsf802/article/details/7239711](http://blog.csdn.net/lfsf802/article/details/7239711)</a></p>
<p><a href="http://blog.csdn.net/lfsf802/article/details/7239766" target="_blank">（三）-简单谈谈动态代理</a>
通过<a href="http://blog.csdn.net/lfsf802/article/details/7239652" target="_blank">Java反射机制剖析（一）</a>和<a href="http://blog.csdn.net/lfsf802/article/details/7239711" target="_blank">Java反射机制剖析（二）</a>的学习，已经对反射有了一定的了解，这一篇通过动态代理的例子来进一步学习反射机制。</p>
<ol>
<li>代理模式</li>
</ol>
<p>代理模式就是为其他对象提供一种代理来控制对这个对象的访问。其实代理模式是在访问的对象时引入一定程度的间接性，这种间接性可以附加多种用途。</p>
<p>它的特征是代理类与委托类有同样的接口，代理类主要负责为委托类预处理消息、过滤消息、把消息转发给委托类，以及事后处理消息等。代理类与委托类之间通常会存在关联关系，一个代理类的对象与一个委托类的对象关联，代理类的对象本身并不真正实现服务，而是通过调用委托类的对象的相关方法，来提供特定的服务。</p>
<ol>
<li>分类</li>
</ol>
<p>代理类按照创建时期可以分为两种，静态代理类和动态代理类。</p>
<p>静态代理类：由程序员创建或由特定工具自动生成源代码，再对其编译。在程序运行前，代理类的.class文件就已经存在了。</p>
<p>动态代理类：在程序运行时，运用反射机制动态创建而成。</p>
<ol>
<li>静态代理和动态代理举例</li>
</ol>
<p>静态代理：</p>
<p>业务接口类：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public interface UserManager {  </li>
<li></li>
<li>public void addUser(String userId, String userName);  </li>
<li></li>
<li>public void delUser(String userId);  </li>
<li></li>
<li>public void modifyUser(String userId, String userName);  </li>
<li></li>
<li>public String findUser(String userId);  </li>
<li>}<br>业务接口实现类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class UserManagerImpl implements UserManager {  </li>
<li></li>
<li>public void addUser(String userId, String userName) {  </li>
<li>//System.out.println(&quot;start--&gt;&gt;addUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>try {  </li>
<li>System.out.println(&quot;UserManagerImpl.addUser() userId--&gt;&gt;&quot; + userId);  </li>
<li></li>
<li>//System.out.println(&quot;success--&gt;&gt;addUser()&quot;);  </li>
<li>}catch(Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>//System.out.println(&quot;error--&gt;&gt;addUser()&quot;);  </li>
<li>throw new RuntimeException();  </li>
<li>}     </li>
<li>}  </li>
<li></li>
<li>public void delUser(String userId) {  </li>
<li>System.out.println(&quot;UserManagerImpl.delUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>}  </li>
<li></li>
<li>public String findUser(String userId) {  </li>
<li>System.out.println(&quot;UserManagerImpl.findUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>return &quot;张三&quot;;  </li>
<li>}  </li>
<li></li>
<li>public void modifyUser(String userId, String userName) {  </li>
<li>System.out.println(&quot;UserManagerImpl.modifyUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>}  </li>
<li></li>
<li>}<br>业务代理类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class UserManagerImplProxy implements UserManager {  </li>
<li></li>
<li>private UserManager userManager;  </li>
<li></li>
<li>public UserManagerImplProxy(UserManager userManager) {  </li>
<li>this.userManager = userManager;  </li>
<li>}  </li>
<li></li>
<li>public void addUser(String userId, String userName) {  </li>
<li>try {  </li>
<li>System.out.println(&quot;start--&gt;&gt;addUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>userManager.addUser(userId, userName);  </li>
<li>System.out.println(&quot;success--&gt;&gt;addUser()&quot;);  </li>
<li>}catch(Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>System.out.println(&quot;error--&gt;&gt;addUser()&quot;);  </li>
<li>}     </li>
<li>}  </li>
<li></li>
<li>public void delUser(String userId) {  </li>
<li></li>
<li>}  </li>
<li></li>
<li>public String findUser(String userId) {  </li>
<li>return null;  </li>
<li>}  </li>
<li></li>
<li>public void modifyUser(String userId, String userName) {  </li>
<li></li>
<li>}  </li>
<li></li>
<li>}<br>客户端类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class Client {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/*/  </li>
<li>public static void main(String[] args) {  </li>
<li>//UserManager userManager = new UserManagerImpl();  </li>
<li>UserManager userManager = new UserManagerImplProxy(new UserManagerImpl());  </li>
<li>userManager.addUser(&quot;0001&quot;, &quot;张三&quot;);  </li>
<li>}  </li>
<li></li>
<li>}<br>运行结果：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>start--&gt;&gt;addUser() userId--&gt;&gt;0001  </li>
<li>UserManagerImpl.addUser() userId--&gt;&gt;0001  </li>
<li>success--&gt;&gt;addUser()  </li>
</ol>
<p>动态代理：</p>
<p>业务接口类:</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public interface UserManager {  </li>
<li></li>
<li></li>
<li>public String test(String userId);  </li>
<li>}<br>业务接口实现类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class UserManagerImpl implements UserManager {  </li>
<li></li>
<li>public String test(String userId) {  </li>
<li>System.out.println(&quot;UserManagerImpl.findUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>return &quot;张三&quot;;  </li>
<li>}  </li>
<li></li>
<li>}<br>BusinessHandler类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>import java.lang.reflect.InvocationHandler;  </li>
<li>import java.lang.reflect.Method;  </li>
<li>import java.lang.reflect.Proxy;  </li>
<li></li>
<li>public class BusinessHandler implements InvocationHandler {  </li>
<li></li>
<li>private Object targetObject;  </li>
<li></li>
<li>public Object newProxyInstance(Object targetObject) {  </li>
<li></li>
<li>this.targetObject = targetObject;  </li>
<li>return Proxy.newProxyInstance(targetObject.getClass().getClassLoader(),  </li>
<li>targetObject.getClass().getInterfaces(), this);  </li>
<li>}  </li>
<li></li>
<li>public Object invoke(Object proxy, Method method, Object[] args)  </li>
<li>throws Throwable {  </li>
<li>System.out.println(&quot;start--&gt;&gt;&quot; + method.getName());  </li>
<li>for (int i=0; i&lt;args.length; i++) {  </li>
<li>System.out.println(args[i]);  </li>
<li>}  </li>
<li>Object ret = null;  </li>
<li>try {  </li>
<li>//调用目标方法  </li>
<li>ret = method.invoke(targetObject, args);  </li>
<li>System.out.println(&quot;success--&gt;&gt;&quot; + method.getName());   </li>
<li>}catch(Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>System.out.println(&quot;error--&gt;&gt;&quot; + method.getName());  </li>
<li>throw e;  </li>
<li>}  </li>
<li>return ret;  </li>
<li>}  </li>
<li></li>
<li>}<br>客户端类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>import java.lang.reflect.Field;  </li>
<li></li>
<li></li>
<li>public class Client {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/*/  </li>
<li>public static void main(String[] args) {  </li>
<li></li>
<li>BusinessHandler businessHandler = new BusinessHandler();  </li>
<li>UserManager userManager = (UserManager)businessHandler.newProxyInstance(new UserManagerImpl());  </li>
<li></li>
<li></li>
<li></li>
<li>//userManager.addUser(&quot;0001&quot;, &quot;张三&quot;);  </li>
<li>//userManager.delUser(&quot;0001&quot;);  </li>
<li>// System.out.println(userManager.getClass().getName());  </li>
<li></li>
<li>String name = userManager.test(&quot;0001&quot;);  </li>
<li>//String name = ((UserManagerImpl) logHandler.newProxyInstance(new UserManagerImpl())).test(&quot;0001&quot;);  </li>
<li>System.out.println(&quot;Client.main() --- &quot; + name);  </li>
<li>}  </li>
<li></li>
<li>}<br>运行结果：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>start--&gt;&gt;test  </li>
<li>0001  </li>
<li>UserManagerImpl.findUser() userId--&gt;&gt;0001  </li>
<li>success--&gt;&gt;test  </li>
<li>Client.main() --- 张三  </li>
</ol>
<p>来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239766](http://blog.csdn.net/lfsf802/article/details/7239766)">[http://blog.csdn.net/lfsf802/article/details/7239766](http://blog.csdn.net/lfsf802/article/details/7239766)</a></p>
<p> <a href="http://blog.csdn.net/lfsf802/article/details/7239799" target="_blank">（四）-深度剖析动态代理原理及总结</a>
动态代理类原理（<a href="http://blog.csdn.net/lfsf802/article/details/7239766" target="_blank">示例代码参见java反射机制剖析（三）</a>）
a)  理解上面的动态代理示例流程</p>
<p><img src="" alt=""></p>
<p>b)  代理接口实现类源代码剖析</p>
<p>咱们一起来剖析一下代理实现类（$Proxy0）的源代码和整个动态代理的流程。</p>
<p>$Proxy0生成的代码如下：</p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.InvocationHandler;  </li>
<li>import java.lang.reflect.Method;  </li>
<li>import java.lang.reflect.Proxy;  </li>
<li>import java.lang.reflect.UndeclaredThrowableException;  </li>
<li></li>
<li>public final class $Proxy0 extends Proxy implements Manager {  </li>
<li></li>
<li>private static Method m1;  </li>
<li>private static Method m0;  </li>
<li>private static Method m3;  </li>
<li>private static Method m2;  </li>
<li></li>
<li>static {  </li>
<li>try {  </li>
<li>m1 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;equals&quot;,  </li>
<li>new Class[] { Class.forName(&quot;java.lang.Object&quot;) });  </li>
<li>m0 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;hashCode&quot;,  </li>
<li>new Class[0]);  </li>
<li>m3 = Class.forName(&quot;com.ml.test.Manager&quot;).getMethod(&quot;test&quot;,  </li>
<li>new Class[0]);  </li>
<li>m2 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;toString&quot;,  </li>
<li>new Class[0]);  </li>
<li>} catch (NoSuchMethodException nosuchmethodexception) {  </li>
<li>throw new NoSuchMethodError(nosuchmethodexception.getMessage());  </li>
<li>} catch (ClassNotFoundException classnotfoundexception) {  </li>
<li>throw new NoClassDefFoundError(classnotfoundexception.getMessage());  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>public $Proxy0(InvocationHandler invocationhandler) {  </li>
<li>super(invocationhandler);  </li>
<li>}  </li>
<li></li>
<li>@Override  </li>
<li>public final boolean equals(Object obj) {  </li>
<li>try {  </li>
<li>return ((Boolean) super.h.invoke(this, m1, new Object[] { obj }))  </li>
<li>.booleanValue();  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>@Override  </li>
<li>public final int hashCode() {  </li>
<li>try {  </li>
<li>return ((Integer) super.h.invoke(this, m0, null)).intValue();  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>public final void test() {  </li>
<li>try {  </li>
<li>super.h.invoke(this, m3, null);  </li>
<li>return;  </li>
<li>} catch (Error e) {  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>@Override  </li>
<li>public final String toString() {  </li>
<li>try {  </li>
<li>return (String) super.h.invoke(this, m2, null);  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li>}  </li>
</ol>
<p>引入眼帘的是这个代理接口实现类实现了业务类的接口（也就是例子中的UserManager接口），又继承了基类Proxy类；</p>
<p>接着就是构造函数，在构造方法中把BusinessHandler传过去,接着$Proxy0调用父类Proxy的构造器,为h赋值（这里要看Proxy的构造方法）；</p>
<p>随后看到的就是这个类重写了Proxy类的Equals、hashCode、toString方法，又实现了业务类接口的方法（即UserManager的test方法），具体重写和实现都是用到的super.h.invoke（即Proxy.h.invoke）这个方法。</p>
<p>简单分析完这个代理接口实现类，咱们下面来整体看一下这个动态代理是怎么实现的：</p>
<p>首先客户端初始化了BusinessHandler类，调用这个类的newProxyInstance(new UserManagerImpl())方法来初始化了上面的代理接口实现类；</p>
<p>接下来代理接口实现类通过构造函数把BusinessHandler传过去（也就是代码中的this），并通过Proxy的构造函数给h赋值；</p>
<p>随后再客户端就能实例化出代理接口实现类$Proxy0，我们把它强制转换为业务实现接口（UserManager）类型的（为什么要强制转换，这里非常有意思，如果不强制转换就会报错，这里很好解释，因为当前的环境根本不会知道这个代理接口实现类$Proxy0既继承Proxy又实现业务实现接口UserManager，但是强制转换成UserManager它是可以做到的，因为当前环境中就有UserManager。这就是反射的厉害之处，可以在运行时动态调用任何一个类并可以使用这个类的具体细节。）；</p>
<p>之后当我们调用test方法的时候其实是调用了$Proxy0中的test方法，这个方法的实现是通过Proxy.h的invoke方法实现的（即调用了BusinessHandler.invoke方法）；</p>
<p>之后在调用了Method的invoke方法（这时的参数是this，和args）。</p>
<p>这样就调用了UserManagerImpl的对应方法，之后返回给客户端。</p>
<p>到此就完成了整个的调用关系。</p>
<p>反射，反射，程序员的快乐
通过上篇文章对动态代理进行了深度剖析，现在想起来还感觉非常有意思，这里面其实最根本的机制就是反射机制，运行时动态实例化任何一个类，并且调用它的具体细节。现在反看动态代理的示例，其实发现这里最关键的还是在就在Proxy.newProxyInstance(..)方法执行时生成了$Proxy0的内存字节码这一点上，当我们有了内存字节码，我们的反射就会大显威力，这样才有了我们之后的一系列的调用关系。</p>
<p>通过反射机制的分析和动态代理示例的剖析，发现编程是一件多么有意思的事情，以至于我们沉浸其中不能自拔。</p>
<p>最后总结一下：反射，反射，程序员的快乐！
来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239799](http://blog.csdn.net/lfsf802/article/details/7239799)">[http://blog.csdn.net/lfsf802/article/details/7239799](http://blog.csdn.net/lfsf802/article/details/7239799)</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/框架汇总/">框架汇总</a></li></span><span class="breadcrumb"><li><a href="/categories/框架汇总/">框架汇总</a></li><li><a href="/categories/框架汇总/反射/">反射</a></li></span></span> | <span class="tags">Tagged <a href="/tags/反射/" class="label label-primary">反射</a><a href="/tags/框架汇总/" class="label label-success">框架汇总</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-框架汇总-反射--Java反射机制剖析/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-框架汇总-反射--Java反射机制剖析" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/146/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/144/">144</a></li><li><a class="page-number" href="/page/145/">145</a></li><li><a class="page-number" href="/page/146/">146</a></li><li class="active"><li><span class="page-number current">147</span></li><li><a class="page-number" href="/page/148/">148</a></li><li><a class="page-number" href="/page/149/">149</a></li><li><a class="page-number" href="/page/150/">150</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/148/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 20:45:44</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
