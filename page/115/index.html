
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 115 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DIV--DIValign名称-DIVstyle名称，DIVid名称有什么区别？怎么用？_/">DIV align=名称 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:36.000Z"> <a href="/2014/02/02/2014-02-02-DIV--DIValign名称-DIVstyle名称，DIVid名称有什么区别？怎么用？_/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="div-align-div-style-div-id-_-">DIV align=名称 , DIV style=名称， DIV id=名称 有什么区别？怎么用？_百度知道</h1>
<p><a href="http://www.baidu.com/" target="_blank">百度首页</a> | <a href="http://zhidao.baidu.com/" target="_blank">百度知道</a> | <a href="http://passport.baidu.com/?login&amp;tpl=ik" target="_blank">登录</a></p>
<p><a href="http://zhidao.baidu.com/question/29818029.html#" target="_blank"><img src="" alt=""></a> <img src="" alt="关闭"> <a href="http://zhidao.baidu.com/question/29818029.html#"></a>
<a href="http://zhidao.baidu.com/" target="_blank"><img src="" alt="百度知道"></a> <a href="http://news.baidu.com/ns?cl=2&amp;rn=20&amp;tn=news&amp;word=div%20style&amp;t=1" target="_blank">新闻</a>   <a href="http://www.baidu.com/s?cl=3&amp;wd=div%20style" target="_blank">网页</a>   <a href="http://tieba.baidu.com/f?kw=div%20style&amp;t=4" target="_blank">贴吧</a>   知道   <a href="http://mp3.baidu.com/m?tn=baidump3&amp;ct=134217728&amp;lm=-1&amp;word=div%20style&amp;t=2" target="_blank">MP3</a>   <a href="http://image.baidu.com/i?tn=baiduimage&amp;ct=201326592&amp;lm=-1&amp;cl=2&amp;word=div%20style&amp;t=3" target="_blank">图片</a>   <a href="http://video.baidu.com/v?ct=301989888&amp;rn=20&amp;pn=0&amp;db=0&amp;s=22&amp;word=div%20style" target="_blank">视频</a>   <a href="http://baike.baidu.com/w?ct=17&amp;lm=0&amp;tn=baiduWikiSearch&amp;pn=0&amp;rn=10&amp;word=div%20style" target="_blank">百科</a></p>
<p>   <a href="http://www.baidu.com/search/zhidao_help.html" target="_blank">帮助</a> <a href="">设置</a></p>
<p><a href="http://ma.baidu.com/ma/rcv/click.php?t=uv-b5HDhTv-b5HcLP10sFMIGujYkFhVGujYkFhqsULnqniuhUWdGpv4EIzudThsqpZwYTaR1fiRzwBRzwhPCTh-1IAd9Tz4Bmy-bIi4WUvY-nbmhTv3qP1DhT1Y1n101P1TzmhDsryPhn1PWFMFsULnqniubIjd8iAPvUhCvIh3kUWPfn0"></a></p>
<p><a href="http://zhidao.baidu.com/" target="_blank">百度知道</a> &gt; <a href="http://zhidao.baidu.com/browse/74?lm=2" target="_blank">电脑/网络</a> &gt; <a href="http://zhidao.baidu.com/browse/88?lm=2" target="_blank">互联网</a></p>
<p><a href="http://cang.baidu.com/do/add" target="_blank">添加到搜藏</a> 已解决</p>
<p>&lt;DIV align=名称 ,&lt;DIV style=名称，&lt;DIV id=名称 有什么区别？怎么用？</p>
<p><img src="" alt=""> 悬赏分：20 -  解决时间：2007-7-13 09:55</p>
<p>&lt;DIV id= &lt;DIV class= 上边的我知道怎么用什么意思 下边的就不知道了 &lt;DIV align= &lt;DIV style=</p>
<p>提问者： <a href="http://passport.baidu.com/?business&amp;aid=6&amp;un=xyq0313#2" target="_blank">xyq0313</a> - <a href="http://www.baidu.com/search/zhidao_help.html#如何选择头衔" target="_blank">一级</a>
最佳答案</p>
<p>1.<DIV align=名称 作用:水平对齐方式 名称:center,left,right,justify 分别表示 居中,左对齐,右对齐,两端对齐 2.<DIV style=CSS语句 作用:设置样式 CSS语句,比如: <DIV style="border:1px solid /#F4BF20;padding:5px 0px 5px 0px ;margin-bottom:12px;"></div> 3.<DIV id=名称 作用:赋予ID值 名称:这名称可以自己定,比如myDiv,然后通过document.getElementById("myDiv")可以获得这个DIV层对象,从而对它进行动态操作. 另外,如果这个id名称在CSS中被定义的话,这个DIV层将会套用该CSS样式,比如CSS中有这样的定义: <style type="css/text"> /#myDiv {float:left;margin-left:10px;background:/#FFFFFF;} </style> 4.<DIV class=名称 作用:套用CSS样式 这里的名称一般在CSS中有定义,否则没有意义. 比如<div class=div1>则在CSS中有div1所对应的样式: <style type="css/text"> .div1 {margin:13px 0 7px 0;height:1px;} //<em> 注意,这里是&quot;.div1&quot;,不是&quot;/#div1&quot;,&quot;/#&quot;表示ID号,&quot;.&quot;表示class类 /</em>/ </style> --------------------- 3,4的区别是: <DIV id= <DIV class= 通过id可以较好地获取DIV层,以便对它进行操作,可以在定议的ID设置CSS 通过CSS可以套用CSS样式,CSS样式不仅在网页中应用,在其它文件中也有用到,比如XML方面. 在CSS中定义为： <style type="css/text"> /#idName {} .className {} </style> ---------------- 区别 <DIV align= <DIV style= <div align="center"> 相当于<div style="text-align: center;"> 也就是说align=&quot;center&quot;只是HTML里的标记, 通过CSS的样式（style）完全可以实现,而且CSS样式的功能远不止&quot;将区块对齐&quot;。</p>
<p> <strong>34</strong></p>
<p>回答者： <a href="http://passport.baidu.com/?business&amp;aid=6&amp;un=haoyeeh#2" target="_blank">haoyeeh</a> - <a href="http://www.baidu.com/search/zhidao_help.html#如何选择头衔" target="_blank">五级</a>  <img src="" alt=""> 2007-7-2 12:15
<a href="http://zhidao.baidu.com/remark/29818029.html" target="_blank">我来评论&gt;&gt;</a></p>
<p>提问者对于答案的评价：
非常感谢大家   <a href=""></a></p>
<p>相关内容</p>
<p>• <a href="http://zhidao.baidu.com/question/19858461.html?fr=qrl&amp;cid=88&amp;index=1&amp;fr2=query" target="_blank"><Div id = "divPage" align=center style = "display: 'none' ">什么意思</a>  2007-2-14 • <a href="http://zhidao.baidu.com/question/127719522.html?fr=qrl&amp;cid=88&amp;index=2&amp;fr2=query" target="_blank">谁知道div_box.style.text-align = &quot;center&quot;;在js里的正确写法</a>  1  2009-12-2 • <a href="http://zhidao.baidu.com/question/71412442.html?fr=qrl&amp;cid=88&amp;index=3&amp;fr2=query" target="_blank"><div class="altbg2" style="height:10px;padding:3px 5px 0px 0px;text-align:right;"> 这段代码翻一下</a>  2008-10-24 • <a href="http://zhidao.baidu.com/question/30818624.html?fr=qrl&amp;cid=88&amp;index=4&amp;fr2=query" target="_blank">IE打开网站时出现&lt;div style=&#39;display:none&#39;id=&quot;xml_2并全部黑掉</a>  2007-7-22 • <a href="http://zhidao.baidu.com/question/54286023.html?fr=qrl&amp;cid=88&amp;index=5&amp;fr2=query" target="_blank">关于javascript标签 &lt;div id=&quot;c1&quot; style=&quot;position:absolute;left:20;top:-20;</a>  6  2008-5-27   <a href="http://zhidao.baidu.com/q?word=div%20style&amp;ct=17&amp;pn=0&amp;tn=ikaslist&amp;rn=10&amp;fr=qrl&amp;cid=88&amp;fr2=query" target="_blank">更多关于div style的问题&gt;&gt;</a> 查看同主题问题： <a href="http://zhidao.baidu.com/topic?ct=29&amp;tn=iktopic&amp;word=align&amp;fr=rtag&amp;cid=88&amp;index=1&amp;fr2=query" target="_blank">align</a> <a href="http://zhidao.baidu.com/topic?ct=29&amp;tn=iktopic&amp;word=style&amp;fr=rtag&amp;cid=88&amp;index=2&amp;fr2=query" target="_blank">style</a> <a href="http://zhidao.baidu.com/topic?ct=29&amp;tn=iktopic&amp;word=%C3%FB%B3%C6&amp;fr=rtag&amp;cid=88&amp;index=3&amp;fr2=query" target="_blank">名称</a> <a href="http://zhidao.baidu.com/topic?ct=29&amp;tn=iktopic&amp;word=%C7%F8%B1%F0&amp;fr=rtag&amp;cid=88&amp;index=4&amp;fr2=query" target="_blank">区别</a>
<img src="" alt="">
等待您来回答</p>
<ul>
<li><a href="http://zhidao.baidu.com/question/129470296.html?fr=newQuestion" title="稳态指标：动态指标；" target="_blank">稳态指标：动态指标；</a></li>
<li><a href="http://zhidao.baidu.com/question/129470238.html?fr=newQuestion" title="我刚装的DLINK路由器，但是只有一台机子可以上网，还需要拨号，局域网中却有两台电脑" target="_blank">我刚装的DLINK路由器，但是只有一台机子可以上网，还需要拨号，局域网中却有两台电脑</a></li>
<li><a href="http://zhidao.baidu.com/question/129470235.html?fr=newQuestion" title="苍井的资源！谢谢！" target="_blank">苍井的资源！谢谢！</a></li>
<li><a href="http://zhidao.baidu.com/question/129470177.html?fr=newQuestion" title="QQ农场好友 想偷菜吗？加我" target="_blank">QQ农场好友 想偷菜吗？加我</a></li>
<li><a href="http://zhidao.baidu.com/question/129470173.html?fr=newQuestion" title="我家的电信路由器坏了" target="_blank">我家的电信路由器坏了</a></li>
<li><a href="http://zhidao.baidu.com/question/129470164.html?fr=newQuestion" title="360网站问题" target="_blank">360网站问题</a></li>
<li><a href="http://zhidao.baidu.com/question/129470130.html?fr=newQuestion" title="如何计算IPV4地址可以容纳多少台主机" target="_blank">如何计算IPV4地址可以容纳多少台主机</a></li>
<li><a href="http://zhidao.baidu.com/question/129470122.html?fr=newQuestion" title="帮忙开通QQ牧场 .谢谢" target="_blank">帮忙开通QQ牧场 .谢谢</a>
©2009 Baidu</li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DIV/">DIV</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DIV/" class="label label-primary">DIV</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:36"datetime="2014-03-07 09:54:36"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DIV--DIValign名称-DIVstyle名称，DIVid名称有什么区别？怎么用？_/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DIV--DIValign名称-DIVstyle名称，DIVid名称有什么区别？怎么用？_" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网2/">div显示滚动条和控制滚动条属性的css代码 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:36.000Z"> <a href="/2014/02/02/2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="div-css-2-">div显示滚动条和控制滚动条属性的css代码 - 老吧网 (2)</h1>
<h2 id="-http-www-lao8-org-"><a href="http://www.lao8.org/" target="_blank">老吧</a></h2>
<ul>
<li>疲惫的一天，记录点滴的进步与成长，还在那个老吧，不见不散</li>
</ul>
<p><a href="http://www.lao8.org/" target="_blank">首页</a> <a href="http://www.lao8.org/user/8/seo/" title="seo技术 网站推广 搜索引擎优化" target="_blank">网站推广</a> <a href="http://www.lao8.org/user/8/photo/" title="摄影技术 摄影欣赏 摄影作品 原创摄影" target="_blank">摄影</a> <a href="http://www.lao8.org/user/8/design/" title="平面设计 创意作品" target="_blank">创意设计</a> <a href="http://www.lao8.org/user/8/asp/" title="asp ajax" target="_blank">网站技术</a> <a href="http://www.lao8.org/user/8/photoshop/" title="Photoshop教程 ps教程" target="_blank">Photoshop教程</a> <a href="http://www.lao8.org/user/8/20081413558/" title="营销" target="_blank">营销</a> <a href="http://www.lao8.org/user/8/200815112636/" title="艺术图库" target="_blank">艺术图库</a> <a href="http://www.lao8.org/user/8/2008214170947/" title="小游戏" target="_blank">小游戏</a> <a href="http://www.lao8.org/user/8/TradeEnglish/" title="外贸英语" target="_blank">外贸英语</a> <a href="http://www.lao8.org/user/8/2008815101140/" title="热播电影" target="_blank">热播电影</a> <a href="http://www.lao8.org/user/8/2008102493244/" title="ebay开店技巧" target="_blank">ebay开店技巧</a> <a href="http://www.lao8.org/user/8/2009719122450/" title="SQL数据库" target="_blank">SQL数据库</a> <a href="http://www.lao8.org/user/8/200986105026/" title="服务器安全" target="_blank">服务器安全</a> <a href="http://www.lao8.org/user/8/200987120553/" title="索尼 美能达 原厂定焦 广角镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂定焦广角镜头</a> <a href="http://www.lao8.org/user/8/200987120644/" title="索尼 美能达 原厂定焦 标准镜头 sony minolta meinongda suoni 标头" target="_blank">Alpha原厂定焦标准镜头</a> <a href="http://www.lao8.org/user/8/200987120750/" title="索尼 美能达 原厂望远 定焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂望远定焦镜头</a> <a href="http://www.lao8.org/user/8/200987120832/" title="索尼 美能达 原厂广角变焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂广角变焦镜头</a> <a href="http://www.lao8.org/user/8/sony_fuchang/" title="sony 副厂镜头 索尼副厂镜头 索尼副厂变焦镜头 索尼副厂自动镜头 索尼副厂单反镜头 minolta meinongda suoni" target="_blank">索尼单反副厂变焦镜头</a> <a href="http://www.lao8.org/user/8/200981731112/" title="Godaddy(GD)美国空间" target="_blank">Godaddy(GD)美国空间</a> <a href="http://www.lao8.org/user/8/200981741553/" title="索尼副厂定焦镜头" target="_blank">索尼副厂定焦镜头</a> || <a href="http://s.lao8.org/" target="_blank">联合搜索</a> <a href="http://www.lao8.org/fanyi.asp" target="_blank">在线翻译</a> <a href="http://www.lao8.org/liuyan/" target="_blank">留言</a></p>
<h1 id="-div-css-"><a href="">div显示滚动条和控制滚动条属性的css代码</a></h1>
<p>分类：<a href="http://www.lao8.org/user/8/asp" target="_blank">网站技术</a> | <a href="http://www.lao8.org/user/8" target="_blank">lao8</a>发表于 2009-6-9 15:44:00</p>
<p><strong>div显示滚动条的css代码</strong></p>
<div style="width:260px;height:120px; overflow:scroll; border:1px solid;"> 这里是你要显示的内容 </div>

<p>效果如下：</p>
<h3 id="-">显示滚动条的代码</h3>
<p><strong>div显示上下滚动条的css代码</strong></p>
<p><div style="width:260px;height:120px; overflow-y:scroll; border:1px solid;"> 这里是你要显示的内容 </div></p>
<h3 id="div-">div只显示上下滚动条</h3>
<p>OVERFLOW-Y:scroll;这段是关键</p>
<p><strong>修改div滚动条颜色的css代码</strong></p>
<p><div style="width:260px;height:120px; overflow-y:scroll; scrollbar-base-color:/#ff6600; border:1px solid;"> 这里是你要显示的内容 </div>
修改滚动条颜色的代码</p>
<ul>
<li>SCROLLBAR-FACE-COLOR(立体滚动条凸出部分的颜色)</li>
<li>SCROLLBAR-HIGHLIGHT-COLOR(滚动条空白部分的颜色)</li>
<li>SCROLLBAR-SHADOW-COLOR(立体滚动条阴影的颜色)</li>
<li>SCROLLBAR-ARROW-COLOR(上下按钮上三角箭头的颜色)</li>
<li>SCROLLBAR-BASE-COLOR(滚动条的基本颜色)</li>
<li><p>SCROLLBAR-DARK-SHADOW-COLOR(立体滚动条强阴影的颜色)</p>
</li>
<li><p>来源：<strong>原创</strong></p>
</li>
<li><strong>版权声明：</strong>版权所有，转载时必须以链接形式注明作者和原始出处及本声明。</li>
<li>原创作者：<strong><a href="http://www.lao8.org/user/8" target="_blank">lao8</a></strong></li>
<li>本文链接地址：<a href="http://www.lao8.org/html/8/2009-6-9/div_css/" target="_blank">http://www.lao8.org/html/8/2009-6-9/div_css/</a></li>
<li>文章名：<a href="">div显示滚动条和控制滚动条属性的css代码</a>
标签:<a href="http://www.lao8.org/s_div.html" target="_blank">div</a> <a href="http://www.lao8.org/s_%E6%98%BE%E7%A4%BA%E6%BB%9A%E5%8A%A8%E6%9D%A1.html" target="_blank">显示滚动条</a></li>
</ul>
<p><a href=""><img src="" alt=""></a> <a href=""><img src="" alt=""></a> <a href=""><img src="" alt=""></a> <a href=""><img src="" alt="收藏到收藏夹"></a></p>
<h3 id="-div-">相关&quot;div 显示滚动条&quot;文章</h3>
<ul>
<li><a href="http://www.lao8.org/html/8/2008-1-21/2008121182204.html" target="_blank">css控制DIV透明度</a></li>
<li><a href="http://www.lao8.org/html/8/2007-12-6/2007126174458.html" target="_blank">根据dreamweaver cs3 模板布局学习网站优化</a></li>
</ul>
<h3 id="-">网友点评</h3>
<p><strong><a href="http://www.lusongsong.com/" target="_blank">卢松松</a></strong> 2009-6-12 14:01:00 | <a href="http://www.lao8.org/huifu878.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>拜读了老吧的创作。受益匪浅！
<strong><a href="http://www.gp173.com/" target="_blank">股票行情</a></strong> 2009-6-15 11:25:00 | <a href="http://www.lao8.org/huifu883.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>学一个是一个 博主好崇拜你哦
<strong><a href="http://www.bgtieqi.cn/" target="_blank">本田摩托车</a></strong> 2009-6-15 11:26:00 | <a href="http://www.lao8.org/huifu884.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>好想认真学学
<strong><a href="http://www.yigenangua.cn/" target="_blank">亦歌</a></strong> 2009-7-11 8:50:00 | <a href="http://www.lao8.org/huifu905.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>不错，不过好像滚动条还是默认的好看。
<strong><a href="http://www.sknys.cn/" target="_blank">sknys</a></strong> 2009-7-16 13:51:00 | <a href="http://www.lao8.org/huifu911.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>链你一下网页编程专题网www.sknys.cn</p>
<h3 id="-">发表见解</h3>
<p>username(必填)
email(必填)
website
提交</p>
<h3 id="-">站内搜索</h3>
<p>输入您的搜索字词   Web www.lao8.org 提交搜索表单</p>
<h3 id="-">按分类归档</h3>
<ul>
<li><a href="http://www.lao8.org/user/8/seo/" title="seo技术 网站推广 搜索引擎优化" target="_blank">网站推广</a> （114）</li>
<li><a href="http://www.lao8.org/user/8/photo/" title="摄影技术 摄影欣赏 摄影作品 原创摄影" target="_blank">摄影</a> （45）</li>
<li><a href="http://www.lao8.org/user/8/feel/" title="生活体会 情感记录 原创文学" target="_blank">感悟生活</a> （11）</li>
<li><a href="http://www.lao8.org/user/8/design/" title="平面设计 创意作品" target="_blank">创意设计</a> （9）</li>
<li><a href="http://www.lao8.org/user/8/cg/" title="cg插画 原创插画 cg插图 插图设计" target="_blank">插画设计</a> （1）</li>
<li><a href="http://www.lao8.org/user/8/asp/" title="asp ajax" target="_blank">网站技术</a> （42）</li>
<li><a href="http://www.lao8.org/user/8/life/" title="生活琐碎" target="_blank">生活杂记</a> （133）</li>
<li><a href="http://www.lao8.org/user/8/photoshop/" title="Photoshop教程 ps教程" target="_blank">Photoshop教程</a> （3）</li>
<li><a href="http://www.lao8.org/user/8/2007123171603/" title="房产" target="_blank">房产</a> （7）</li>
<li><a href="http://www.lao8.org/user/8/20071212164833/" title="老吧网改进进度" target="_blank">老吧网改进进度</a> （17）</li>
<li><a href="http://www.lao8.org/user/8/20081413558/" title="营销" target="_blank">营销</a> （18）</li>
<li><a href="http://www.lao8.org/user/8/200814112406/" title="社会评论" target="_blank">社会评论</a> （7）</li>
<li><a href="http://www.lao8.org/user/8/200815112636/" title="艺术图库" target="_blank">艺术图库</a> （5）</li>
<li><a href="http://www.lao8.org/user/8/200811490808/" title="网界动态" target="_blank">网界动态</a> （16）</li>
<li><a href="http://www.lao8.org/user/8/2008125162006/" title="搞笑娱乐" target="_blank">搞笑娱乐</a> （8）</li>
<li><a href="http://www.lao8.org/user/8/2008214170947/" title="小游戏" target="_blank">小游戏</a> （2）</li>
<li><a href="http://www.lao8.org/user/8/200835101334/" title="实用小软件" target="_blank">实用小软件</a> （0）</li>
<li><a href="http://www.lao8.org/user/8/TradeEnglish/" title="外贸英语" target="_blank">外贸英语</a> （6）</li>
<li><a href="http://www.lao8.org/user/8/2008815101140/" title="热播电影" target="_blank">热播电影</a> （4）</li>
<li><a href="http://www.lao8.org/user/8/2008102493244/" title="ebay开店技巧" target="_blank">ebay开店技巧</a> （6）</li>
<li><a href="http://www.lao8.org/user/8/2009719122450/" title="SQL数据库" target="_blank">SQL数据库</a> （8）</li>
<li><a href="http://www.lao8.org/user/8/200986105026/" title="服务器安全" target="_blank">服务器安全</a> （1）</li>
<li><a href="http://www.lao8.org/user/8/200987111345/" title="索尼单反专区" target="_blank">索尼单反专区</a> （0）</li>
<li><a href="http://www.lao8.org/user/8/200987120553/" title="索尼 美能达 原厂定焦 广角镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂定焦广角镜头</a> （7）</li>
<li><a href="http://www.lao8.org/user/8/200987120644/" title="索尼 美能达 原厂定焦 标准镜头 sony minolta meinongda suoni 标头" target="_blank">Alpha原厂定焦标准镜头</a> （4）</li>
<li><a href="http://www.lao8.org/user/8/200987120750/" title="索尼 美能达 原厂望远 定焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂望远定焦镜头</a> （4）</li>
<li><a href="http://www.lao8.org/user/8/200987120832/" title="索尼 美能达 原厂广角变焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂广角变焦镜头</a> （17）</li>
<li><a href="http://www.lao8.org/user/8/sony_fuchang/" title="sony 副厂镜头 索尼副厂镜头 索尼副厂变焦镜头 索尼副厂自动镜头 索尼副厂单反镜头 minolta meinongda suoni" target="_blank">索尼单反副厂变焦镜头</a> （1）</li>
<li><a href="http://www.lao8.org/user/8/200981731112/" title="Godaddy(GD)美国空间" target="_blank">Godaddy(GD)美国空间</a> （3）</li>
<li><a href="http://www.lao8.org/user/8/200981741553/" title="索尼副厂定焦镜头" target="_blank">索尼副厂定焦镜头</a> （1）</li>
</ul>
<h3 id="lao8-">lao8 最新文章：</h3>
<ul>
<li><a href="http://www.lao8.org/html/8/2009-12-11/20091211125038.html" target="_blank">春运，又是春运，新版火车票貌似不能解决倒票吧</a></li>
<li><a href="http://www.lao8.org/html/8/2009-12-10/suoni_shengji_gujian/" target="_blank">sony索尼 a700 怎样升级固件？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-12-10/a700/" target="_blank">怎样查看sony（索尼）a700 固件版本</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-28/20091028114200.html" target="_blank">2009天平山红枫节的时间</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-25/20091025100338.html" target="_blank">可恶的手机诈骗</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-24/20091024105546.html" target="_blank">Beta 是什么意思？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-22/20091022234259.html" target="_blank">阿尔法、贝塔是怎么打出来的？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-13/2009101330617.html" target="_blank">熬夜为什么会口臭？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-10/2009101033225.html" target="_blank">柔光箱、反光伞、柔光伞的效果区别</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-10/2009101030532.html" target="_blank">爱上asp.net</a></li>
</ul>
<p><a href="http://www.miibeian.gov.cn/" target="_blank">苏ICP备07500238号</a> | <a href="mailto:tc_show@126.com">tc_show@126.com</a> <a href="http://www.51.la/?001536816" title="51.la 专业、免费、强健的访问统计" target="_blank">网站统计</a> <img src="http://web.51.la:82/go.asp?svid=1&amp;id=1536816&amp;tpages=1&amp;ttimes=1&amp;tzone=8&amp;tcolor=32&amp;sSize=1280,1024&amp;referrer=http%3A//www.google.cn/search%3Fhl%3Dzh-CN&amp;newwindow%3D1&amp;q%3Ddiv+%E6%BB%9A%E5%8A%A8%E6%9D%A1&amp;aq%3D2g&amp;oq%3Ddiv++&amp;vpage=http%3A//www.lao8.org/html/8/2009-6-9/div_css/" alt="">
<strong><a href="http://sitemap.cn.yahoo.com/search?p=http%3A%2F%2Fwww.lao8.org%2Fhtml%2F8%2F2009-6-9%2Fdiv_css%2F&amp;bwm=i" target="_blank">1</a></strong> 链向本页</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DIV/">DIV</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DIV/" class="label label-primary">DIV</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:36"datetime="2014-03-07 09:54:36"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-hadoop--CentOS的Hadoop集群配置/">CentOS的Hadoop集群配置</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:36.000Z"> <a href="/2014/02/02/2014-02-02-hadoop--CentOS的Hadoop集群配置/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="centos-hadoop-">CentOS的Hadoop集群配置</h1>
<h3 id="-centos-hadoop-http-blog-csdn-net-inte_sleeper-article-details-6569985-"><a href="http://blog.csdn.net/inte_sleeper/article/details/6569985" target="_blank">CentOS的Hadoop集群配置（一）</a></h3>
<h3 id="-"> </h3>
<p>参考资料：</p>
<p><a href="http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/" target="_blank"><a href="http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/">http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/</a></a></p>
<p><a href="http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/" target="_blank"><a href="http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/">http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-multi-node-cluster/</a></a></p>
<p><a href="http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/" target="_blank"><a href="http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/">http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/</a></a></p>
<p><a href="http://hadoop.apache.org/common/docs/current/cluster_setup.html" target="_blank"><a href="http://hadoop.apache.org/common/docs/current/cluster_setup.html">http://hadoop.apache.org/common/docs/current/cluster_setup.html</a></a></p>
<p>以下集群配置内容，以两台机器为例。其中一台是 master ，另一台是 slave1 。</p>
<p>master 上运行 name node, data node, task tracker, job tracker ， secondary name node ；</p>
<p>slave1 上运行 data node, task tracker 。</p>
<p>前面加 /* 表示对两台机器采取相同的操作</p>
<ol>
<li>安装 JDK /*</li>
</ol>
<p>yum install java-1.6.0-openjdk-devel</p>
<ol>
<li>设置环境变量 /*</li>
</ol>
<p>编辑 /etc/profile 文件，设置 JAVA_HOME 环境变量以及类路径：</p>
<p>export JAVA_HOME=&quot;/usr/lib/jvm/java-1.6.0-openjdk-1.6.0.0.x86_64&quot;</p>
<p>export PATH=$PATH:$JAVA_HOME/bin</p>
<p>export CLASSPATH=.:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/lib/dt.jar</p>
<ol>
<li>添加 hosts 的映射 /*</li>
</ol>
<p>编辑 /etc/hosts 文件，<strong>注意</strong> <strong>host name **</strong>不要有下划线，见下步骤 9**</p>
<p>192.168.225.16 master</p>
<p>192.168.225.66 slave1</p>
<ol>
<li>配置 SSH /*</li>
</ol>
<p>cd /root &amp; mkdir .ssh</p>
<p>chmod 700 .ssh &amp; cd .ssh</p>
<p>创建密码为空的 RSA 密钥对：</p>
<p>ssh-keygen -t rsa -P &quot;&quot;</p>
<p>在提示的对称密钥名称中输入 id_rsa</p>
<p>将公钥添加至 authorized_keys 中：</p>
<p>cat id_rsa.pub &gt;&gt; authorized_keys</p>
<p>chmod 644 authorized_keys <strong>/#</strong> <strong>重要</strong></p>
<p>编辑 sshd 配置文件 /etc/ssh/sshd_config ，把 /#AuthorizedKeysFile  .ssh/authorized_keys 前面的注释取消掉。</p>
<p>重启 sshd 服务：</p>
<p>service sshd restart</p>
<p>测试 SSH 连接。连接时会提示是否连接，按回车后会将此公钥加入至 knows_hosts 中：</p>
<p>ssh localhost</p>
<ol>
<li>配置 master 和 slave1 的 ssh 互通</li>
</ol>
<p>在 slave1 中重复步骤 4 ，然后把 slave1 中的 .ssh/authorized_keys 复制至 master 的 .ssh/authorized_keys中。注意复制过去之后，要看最后的类似 root@localhost 的字符串，修改成 root@slave1 。同样将 master的 key 也复制至 slave1 ，并将最后的串修改成 root@master 。</p>
<p>或者使用如下命令：</p>
<p>ssh-copy-id -i ~/.ssh/id_rsa.pub root@slave1</p>
<p>测试 SSH 连接：</p>
<p>在 master 上运行：</p>
<p>ssh slave1</p>
<p>在 slave1 上运行：</p>
<p>ssh master</p>
<ol>
<li>安装 Hadoop</li>
</ol>
<p>下载 hadoop 安装包：</p>
<p>wget <a href="http://mirror.bjtu.edu.cn/apache/hadoop/common/hadoop-0.20.203.0/hadoop-0.20.203.0rc1.tar.gz" target="_blank"><a href="http://mirror.bjtu.edu.cn/apache/hadoop/common/hadoop-0.20.203.0/hadoop-0.20.203.0rc1.tar.gz">http://mirror.bjtu.edu.cn/apache/hadoop/common/hadoop-0.20.203.0/hadoop-0.20.203.0rc1.tar.gz</a></a></p>
<p>复制安装包至 slave1 ：</p>
<p>scp hadoop-0.20.203.0rc1.tar.gz root@slave1:/root/</p>
<p>解压：</p>
<p>tar xzvf hadoop-0.20.203.0rc1.tar.gz</p>
<p>mkdir /usr/local/hadoop</p>
<p>mv hadoop-0.20.203.0//* /usr/local/hadoop</p>
<pre><code>     修改 .bashrc 文件（位于用户目录下，即 ~/.bashrc ，对于 root ，即为 /root/.bashrc ）

     添加环境变量：

     export HADOOP_HOME=/usr/local/hadoop

export PATH=$PATH:$HADOOP_HOME/bin
</code></pre><ol>
<li>配置 Hadoop 环境变量 /*</li>
</ol>
<p><strong>以下所有 hadoop **</strong>目录下的文件，均以相对路径 hadoop <strong>**开始</strong></p>
<p>修改 hadoop/conf/hadoop-env.sh 文件，将里面的 JAVA_HOME 改成步骤 2 中设置的值。</p>
<ol>
<li>创建 Hadoop 本地临时文件夹 /*</li>
</ol>
<p>mkdir /root/hadoop_tmp （<strong>注意这一步，千万不要放在</strong> <strong>/tmp **</strong>目录下面！！因为 <strong><strong>/tmp </strong></strong>默认分配的空间是很小的，往 <strong><strong>hdfs </strong></strong>里放几个大文件就会导致空间满了，就会报错）**</p>
<p>修改权限：</p>
<p>chown -R hadoop:hadoop /root/hadoop_tmp</p>
<p>更松地，也可以这样：</p>
<p>chmod –R 777 /root/hadoop_tmp</p>
<ol>
<li>配置 Hadoop</li>
</ol>
<p>修改 master 的 hadoop/conf/core-site.xml ，在 <configuration> 节中添加如下内容：</p>
<p>注意： <strong>fs.default.name **</strong>的值不能带下划线**</p>
<property>

    <name>hadoop.tmp.dir</name>

    <value>/root/hadoop<em>tmp/hadoop</em>${user.name}</value>

</property>

<property>

    <name>fs.default.name</name>

    <value>hdfs://localhost:54310</value> 

</property>

<property>

    <name>io.sort.mb</name>

    <value>1024</value> 

</property>

<pre><code>     其中 io.sort.mb 值，指定了排序使用的内存，大的内存可以加快 job 的处理速度。



     修改 hadoop/conf/mapred-site.xml ，在 &lt;configuration&gt; 节中添加如下内容：
</code></pre><property>

    <name>mapred.job.tracker</name>

    <value>localhost:54311</value>

</property>

<property>

    <name>mapred.map.child.java.opts</name>

    <value>-Xmx4096m</value>

</property>

<property>

    <name>mapred.reduce.child.java.opts</name>

    <value>-Xmx4096m</value>

</property>

<pre><code>     其中 mapred.map.child.java.opts, mapred.reduce.child.java.opts 分别指定 map/reduce 任务使用的最大堆内存。较小的内存可能导致程序抛出 OutOfMemoryException 。
</code></pre><p>修改 conf/hdfs -site.xml ，在 <configuration> 节中添加如下内容：</p>
<property>

    <name>dfs.replication</name>

    <value>2</value>

</property>



<p>同样，修改 slave1 的 /usr/local/hadoop/conf/core-site.xml ，在 <configuration> 节中添加如下内容：</p>
<property>

    <name>hadoop.tmp.dir</name>

    <value>/root/hadoop<em>tmp/hadoop</em>${user.name}</value>

</property>

<property>

    <name>fs.default.name</name>

    <value>hdfs://localhost:54310</value> 

</property>

<property>

    <name>io.sort.mb</name>

    <value>1024</value> 

</property>



<pre><code>     修改 conf/mapred-site.xml ，在 &lt;configuration&gt; 节中添加如下内容：
</code></pre><property>

    <name>mapred.job.tracker</name>

    <value>localhost:54311</value>

</property>

<property>

    <name>mapred.map.child.java.opts</name>

    <value>-Xmx4096m</value>

</property>

<property>

    <name>mapred.reduce.child.java.opts</name>

    <value>-Xmx4096m</value>

</property>



<pre><code>     修改 conf/hdfs -site.xml ，在 &lt;configuration&gt; 节中添加如下内容：
</code></pre><property>

    <name>dfs.replication</name>

    <value>2</value>

    </property>



<ol>
<li>修改 hadoop/bin/hadoop 文件</li>
</ol>
<p>把 221 行修改成如下。因为对于 root 用户， -jvm 参数是有问题的，所以需要加一个判断 ( 或者以非 root 用户运行这个脚本也没问题 )</p>
<p>HADOOP_OPTS=&quot;$HADOOP_OPTS -jvm server $HADOOP_DATANODE_OPTS&quot;  à</p>
<pre><code>/#for root, -jvm option is invalid.

CUR_USER=`whoami`

if [ &quot;$CUR_USER&quot; = &quot;root&quot; ]; then

    HADOOP_OPTS=&quot;$HADOOP_OPTS -server $HADOOP_DATANODE_OPTS&quot;

else

    HADOOP_OPTS=&quot;$HADOOP_OPTS -jvm server $HADOOP_DATANODE_OPTS&quot;

fi 
</code></pre><p>unset $CUR_USER</p>
<p>至此， master 和 slave1 都已经完成了 single_node 的搭建，可以分别在两台机器上测试单节点。</p>
<p>启动节点：</p>
<p>hadoop/bin/start-all.sh</p>
<p>运行 jps 命令，应能看到类似如下的输出：</p>
<p>937 DataNode</p>
<p>9232 Jps</p>
<p>8811 NameNode</p>
<p>12033 JobTracker</p>
<p>12041 TaskTracker
来源： <a href="[http://blog.csdn.net/inte_sleeper/article/details/6569985](http://blog.csdn.net/inte_sleeper/article/details/6569985)">[http://blog.csdn.net/inte_sleeper/article/details/6569985](http://blog.csdn.net/inte_sleeper/article/details/6569985)</a> </p>
<p><a href="http://blog.csdn.net/inte_sleeper/article/details/6569990" target="_blank">CentOS的Hadoop集群配置（二）</a>
下面的教程把它们合并至 multi-node cluster 。</p>
<ol>
<li>合并 single-node 至 multi-node cluster</li>
</ol>
<p>修改 master 的 hadoop/conf/core-site.xml ：</p>
<property>

    <name>hadoop.tmp.dir</name>

    <value>/root/hadoop<em>tmp/hadoop</em>${user.name}</value>

</property>

<property>

    <name>fs.default.name</name>

    <value>hdfs://<strong>master</strong> :54310</value>

</property>

<property>

    <name>io.sort.mb</name>

    <value>1024</value> 

</property>



<pre><code>     修改 conf/mapred-site.xml ，在 &lt;configuration&gt; 节中添加如下内容：
</code></pre><property>

    <name>mapred.job.tracker</name>

    <value><strong>master</strong> :54311</value>

</property>

<property>

    <name>mapred.map.child.java.opts</name>

    <value>-Xmx4096m</value>

</property>

<property>

    <name>mapred.reduce.child.java.opts</name>

    <value>-Xmx4096m</value>

</property>

<pre><code>     修改 conf/hdfs -site.xml ，在 &lt;configuration&gt; 节中添加如下内容：
</code></pre><property>

    <name>dfs.replication</name>

    <value>2</value>

</property>

<p>把这三个文件复制至 slave1 相应的目录 hadoop/conf 中 <strong>( **</strong>即 master <strong><strong>和 slave1 </strong></strong>的内容完全一致 )**</p>
<pre><code>     修改所有节点的 hadoop/conf/masters ，把文件内容改成： master

     修改所有节点的 hadoop/conf/slaves ，把文件内容改成：
</code></pre><p>master</p>
<pre><code>slave1



     分别删除 master 和 slave1 的 dfs/data 文件：

     rm –rf /root/hadoop_tmp/hadoop_root/dfs/data
</code></pre><p>重新格式化 namenode ：</p>
<pre><code>     hadoop/bin/hadoop namenode -format



     测试，在 master 上运行：

     hadoop/bin/start-all.sh

     在 master 上运行 jps 命令
</code></pre><p>此时输出应类似于：</p>
<pre><code>     11648 TaskTracker
</code></pre><p>11166 NameNode</p>
<p>11433 SecondaryNameNode</p>
<p>12552 Jps</p>
<p>11282 DataNode</p>
<p>11525 JobTracker</p>
<p>在 slave1 上运行 jps</p>
<p>此时输出应包含 ( 即至少有 DataNode, 否则即为出错 ) ：</p>
<p>3950 Jps</p>
<p>3121 TaskTracker</p>
<p>3044 DataNode</p>
<ol>
<li>测试一个 JOB</li>
</ol>
<p>首先升级 python( 可选，如果 JOB 是 python 写的 ) ：</p>
<p>cd /etc/yum.repos.d/</p>
<p>wget <a href="http://mirrors.geekymedia.com/centos/geekymedia.repo" target="_blank">http://mirrors.geekymedia.com/centos/geekymedia.repo</a></p>
<p>yum makecache</p>
<p>yum -y install python26</p>
<p><strong>升级 python **</strong>的教程，见另外一篇文档。如果已经通过以上方法安装了 python2.6 <strong>**，那需要先卸载：</strong></p>
<p>yum remove python26 python26-devel</p>
<pre><code>     CentOS 的 yum 依赖于 python2.4 ，而 /usr/bin 中 python 程序即为 python2.4 。我们需要把它修改成python2.6 。



     cd /usr/bin/

     编辑 yum 文件，把第一行的
</code></pre><p>/#!/usr/bin/python   à   /#!/usr/bin/python2.4  </p>
<p>保存文件。</p>
<pre><code>     删除旧版本的 python 可执行文件（这个文件跟该目录下 python2.4 其实是一样的，所以可以直接删除）

     rm -f python

     让 python 指向 python2.6 的可执行程序。

     ln -s python26 python  
</code></pre><ol>
<li>Word count python 版本</li>
</ol>
<p><strong>Map.py</strong></p>
<p>/#! /usr/bin/python</p>
<p>import sys;</p>
<p>for line in sys.stdin:</p>
<p>  line =  line.strip();</p>
<p>  words = line.split();</p>
<p>  for word in words:</p>
<pre><code>  print &#39;%s/t%s&#39; % (word,1);
</code></pre><p><strong>Reduce.py</strong></p>
<p>/#!/usr/bin/python</p>
<p>import sys;</p>
<p>wc = {};</p>
<p>for line in sys.stdin:</p>
<p>  line = line.strip();</p>
<p>  word,count = line.split(&#39;/t&#39;,1);</p>
<p>  try:</p>
<pre><code>  count = int(count);
</code></pre><p>  except Error:</p>
<pre><code>  pass;
</code></pre><p>  if wc.has_key(word):</p>
<pre><code>  wc[word] += count;
</code></pre><p>  else: wc[word] = count;</p>
<p>for key in wc.keys():</p>
<p>  print &#39;%s/t%s&#39; % (key, wc[key]);</p>
<p>本机测试：</p>
<p>echo &quot;foo foo bar bar foo abc&quot; | map.py</p>
<p>echo &quot;foo foo bar bar foo abc&quot; | map.py | sort | reduce.py</p>
<p>在 hadoop 中测试：</p>
<p>hadoop jar /usr/local/hadoop/contrib/streaming/hadoop-streaming-0.20.203.0.jar -file mapper.py -mapper mapper.py -file reducer.py -reducer reducer.py -input wc//* -output wc-out</p>
<p>Job 成功后，会在 HDFS 中生成 wc-out 目录。</p>
<p>查看结果：</p>
<p>hadoop fs –ls wc-out</p>
<p>hadoop fs –cat wc-out/part-00000</p>
<ol>
<li>集群增加新节点</li>
</ol>
<p>a.       执行步骤 1 ， 2.</p>
<p>b.       修改 hosts 文件，将集群中的 hosts 加入本身 /etc/hosts 中。并修改集群中其他节点的 hosts ，将新节点加入。</p>
<p>c.       master 的 conf/slaves 文件中，添加新节点。</p>
<p>d.       启动 datanode 和 task tracker 。</p>
<p>hadoop-daemon.sh start datanode</p>
<p>hadoop-daemon.sh start tasktracker</p>
<ol>
<li>Trouble-shooting</li>
</ol>
<p>hadoop 的日志在 hadoop/logs 中。</p>
<p>其中， logs 根目录包含的是 namenode, datanode, jobtracker, tasktracker 等的日志。分别以 hadoop-{username}-namenode/datanode/jobtracker/tasktracker-hostname.log 命名。</p>
<p>userlogs 目录里包含了具体的 job 日志，每个 job 有一个单独的目录，以 job<em>YYYYmmddHHmm_xxxx 命名。里面包含数个 attempt</em>{jobname}<em>m_xxxxx 或 attempt</em>{jobname}_r_xxxx 等数个目录。其中目录名中的m 表示 map 任务的日志， r 表示 reduce 任务的日志。因此，出错时，可以有针对性地查看特定的日志。</p>
<p>常见错误：</p>
<ol>
<li>出现类似：</li>
</ol>
<p><em>ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: java.io.IOException: Incompatible namespaceIDs …</em></p>
<p>的异常，是因为先格式化了 namenode ，后来又修改了配置导致。将 dfs/data 文件夹内容删除，再重新格式化 namenode 即可。</p>
<ol>
<li>出现类似：</li>
</ol>
<p><em>INFO org.apache.hadoop.ipc.Client: Retrying connect to server:…</em></p>
<p>的异常，首先确认 name node 是否启动。如果已经启动，有可能是 master 或 slave1 中的配置出错，集群配置参考步骤 11 。也有可能是防火墙问题，需添加以下例外：</p>
<p>50010 端口用于数据传输， 50020 用于 RPC 调用， 50030 是 WEB 版的 JOB 状态监控， 54311 是job tracker ， 54310 是与 master 通信的端口。</p>
<p>完整的端口列表见：</p>
<p><a href="http://www.cloudera.com/blog/2009/08/hadoop-default-ports-quick-reference/" target="_blank"><a href="http://www.cloudera.com/blog/2009/08/hadoop-default-ports-quick-reference/">http://www.cloudera.com/blog/2009/08/hadoop-default-ports-quick-reference/</a></a></p>
<p>iptables -A RH-Firewall-1-INPUT -p tcp -m tcp --dport 50010 -j ACCEPT</p>
<p>iptables -A RH-Firewall-1-INPUT -p tcp -m tcp --dport 50020 -j ACCEPT</p>
<p>iptables -A RH-Firewall-1-INPUT -p tcp -m tcp --dport 50030 -j ACCEPT</p>
<p>iptables -A RH-Firewall-1-INPUT -p tcp -m tcp --dport 50060 -j ACCEPT</p>
<p>iptables -A RH-Firewall-1-INPUT -p tcp -m tcp --dport 54310 -j ACCEPT</p>
<p>iptables -A RH-Firewall-1-INPUT -p tcp -m tcp --dport 54311 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --dport 50010 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --dport 50020 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --sport 50010 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --sport 50020 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --dport 50030 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --sport 50030 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --dport 50060 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --sport 50060 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --dport 54310 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --sport 54310 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --dport 54311 -j ACCEPT</p>
<p>iptables -A OUTPUT -p tcp -m tcp --sport 54311 -j ACCEPT</p>
<p>保存规则：</p>
<p>/etc/init.d/iptables save</p>
<p>重启 iptables 服务：</p>
<p>service iptables restart</p>
<p>如果还是出现问题 2 的错误，那可能需要手工修改 /etc/sysconfig/iptables 的规则。手动添加这些规则。若有 ”reject-with icmp-host-prohibited” 的规则，需将规则加到它的前面。注意修改配置文件的时候，不需要带 iptables 命令。直接为类似于：</p>
<p>-A OUTPUT -p tcp -m tcp --sport 54311 -j ACCEPT</p>
<p>或关闭防火墙 <strong>( **</strong>建议，因为端口太多，要加的例外很多 )**</p>
<p>service iptables stop</p>
<ol>
<li><p>在 /etc/hosts 文件中，确保一个 host 只对应一个 IP ，否则会出错（如同时将 slave1 指向 127.0.0.1 和192.168.225.66 ），<strong>可能导致数据无法从一个节点复制至另一节点。</strong></p>
</li>
<li><p>出现类似：</p>
</li>
</ol>
<p><em>FATAL org.apache.hadoop.mapred.TaskTracker: Error running child : java.lang.OutOfMemoryError: Java heap space…</em></p>
<p>的异常，是因为堆内存不够。有以下几个地方可以考虑配置：</p>
<p>a.       conf/hadoop-env.sh 中， export HADOOP_HEAPSIZE=1000 这一行，默认为注释掉，堆大小为1000M ，可以取消注释，将这个值调大一些（对于 16G 的内存，可以调至 8G ）。</p>
<p>b.       conf/mapred-site.xml 中，添加 mapred.map.child.java.opts 属性，手动指定 JAVA 堆的参数值为 -Xmx2048m 或更大。这个值调整 map 任务的堆大小。即：</p>
<property>

    <name>mapred.map.child.java.opts </name>

    <value>-Xmx2048m</value>

</property>

<p>c.       conf/mapred-site.xml 中，添加 mapred.reduce.child.java.opts 属性，手动指定 JAVA 堆的参数值为 -Xmx2048m 或更大。这个值调整 reduce 任务的堆大小。即：</p>
<property>

    <name>mapred.reduce.child.java.opts </name>

    <value>-Xmx2048m</value>

</property>

<pre><code>               注意调整这些值之后，要重启 name node 。
</code></pre><p><em>5.       </em>出现类似： <em>java.io.IOException: File /user/root/pv_product_110124 could only be replicated to 0 nodes, instead of 1…</em></p>
<p>的异常，首先确保 hadoop 临时文件夹中有足够的空间，空间不够会导致这个错误。</p>
<p>如果空间没问题，那就尝试把临时文件夹中 dfs/data 目录删除，然后重新格式化 name node ：</p>
<p>hadoop namenode -format</p>
<p>注意：此命令会删除 hdfs 上的文件</p>
<p><em>6.       </em>出现类似： <em>java.io.IOException: Broken pipe…</em></p>
<p>的异常，检查你的程序吧，没准输出了不该输出的信息，如调试信息等。
来源： <a href="[http://blog.csdn.net/inte_sleeper/article/details/6569990](http://blog.csdn.net/inte_sleeper/article/details/6569990)">[http://blog.csdn.net/inte_sleeper/article/details/6569990](http://blog.csdn.net/inte_sleeper/article/details/6569990)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/hadoop/">hadoop</a></li></span></span> | <span class="tags">Tagged <a href="/tags/hadoop/" class="label label-primary">hadoop</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:36"datetime="2014-03-07 09:54:36"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-hadoop--CentOS的Hadoop集群配置/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-hadoop--CentOS的Hadoop集群配置" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网/">div显示滚动条和控制滚动条属性的css代码 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:36.000Z"> <a href="/2014/02/02/2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="div-css-">div显示滚动条和控制滚动条属性的css代码 - 老吧网</h1>
<h2 id="-http-www-lao8-org-"><a href="http://www.lao8.org/" target="_blank">老吧</a></h2>
<ul>
<li>疲惫的一天，记录点滴的进步与成长，还在那个老吧，不见不散</li>
</ul>
<p><a href="http://www.lao8.org/" target="_blank">首页</a> <a href="http://www.lao8.org/user/8/seo/" title="seo技术 网站推广 搜索引擎优化" target="_blank">网站推广</a> <a href="http://www.lao8.org/user/8/photo/" title="摄影技术 摄影欣赏 摄影作品 原创摄影" target="_blank">摄影</a> <a href="http://www.lao8.org/user/8/design/" title="平面设计 创意作品" target="_blank">创意设计</a> <a href="http://www.lao8.org/user/8/asp/" title="asp ajax" target="_blank">网站技术</a> <a href="http://www.lao8.org/user/8/photoshop/" title="Photoshop教程 ps教程" target="_blank">Photoshop教程</a> <a href="http://www.lao8.org/user/8/20081413558/" title="营销" target="_blank">营销</a> <a href="http://www.lao8.org/user/8/200815112636/" title="艺术图库" target="_blank">艺术图库</a> <a href="http://www.lao8.org/user/8/2008214170947/" title="小游戏" target="_blank">小游戏</a> <a href="http://www.lao8.org/user/8/TradeEnglish/" title="外贸英语" target="_blank">外贸英语</a> <a href="http://www.lao8.org/user/8/2008815101140/" title="热播电影" target="_blank">热播电影</a> <a href="http://www.lao8.org/user/8/2008102493244/" title="ebay开店技巧" target="_blank">ebay开店技巧</a> <a href="http://www.lao8.org/user/8/2009719122450/" title="SQL数据库" target="_blank">SQL数据库</a> <a href="http://www.lao8.org/user/8/200986105026/" title="服务器安全" target="_blank">服务器安全</a> <a href="http://www.lao8.org/user/8/200987120553/" title="索尼 美能达 原厂定焦 广角镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂定焦广角镜头</a> <a href="http://www.lao8.org/user/8/200987120644/" title="索尼 美能达 原厂定焦 标准镜头 sony minolta meinongda suoni 标头" target="_blank">Alpha原厂定焦标准镜头</a> <a href="http://www.lao8.org/user/8/200987120750/" title="索尼 美能达 原厂望远 定焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂望远定焦镜头</a> <a href="http://www.lao8.org/user/8/200987120832/" title="索尼 美能达 原厂广角变焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂广角变焦镜头</a> <a href="http://www.lao8.org/user/8/sony_fuchang/" title="sony 副厂镜头 索尼副厂镜头 索尼副厂变焦镜头 索尼副厂自动镜头 索尼副厂单反镜头 minolta meinongda suoni" target="_blank">索尼单反副厂变焦镜头</a> <a href="http://www.lao8.org/user/8/200981731112/" title="Godaddy(GD)美国空间" target="_blank">Godaddy(GD)美国空间</a> <a href="http://www.lao8.org/user/8/200981741553/" title="索尼副厂定焦镜头" target="_blank">索尼副厂定焦镜头</a> || <a href="http://s.lao8.org/" target="_blank">联合搜索</a> <a href="http://www.lao8.org/fanyi.asp" target="_blank">在线翻译</a> <a href="http://www.lao8.org/liuyan/" target="_blank">留言</a></p>
<h1 id="-div-css-"><a href="">div显示滚动条和控制滚动条属性的css代码</a></h1>
<p>分类：<a href="http://www.lao8.org/user/8/asp" target="_blank">网站技术</a> | <a href="http://www.lao8.org/user/8" target="_blank">lao8</a>发表于 2009-6-9 15:44:00</p>
<p><strong>div显示滚动条的css代码</strong></p>
<div style="width:260px;height:120px; overflow:scroll; border:1px solid;"> 这里是你要显示的内容 </div>

<p>效果如下：</p>
<h3 id="-">显示滚动条的代码</h3>
<p><strong>div显示上下滚动条的css代码</strong></p>
<p><div style="width:260px;height:120px; overflow-y:scroll; border:1px solid;"> 这里是你要显示的内容 </div></p>
<h3 id="div-">div只显示上下滚动条</h3>
<p>OVERFLOW-Y:scroll;这段是关键</p>
<p><strong>修改div滚动条颜色的css代码</strong></p>
<p><div style="width:260px;height:120px; overflow-y:scroll; scrollbar-base-color:/#ff6600; border:1px solid;"> 这里是你要显示的内容 </div>
修改滚动条颜色的代码</p>
<ul>
<li>SCROLLBAR-FACE-COLOR(立体滚动条凸出部分的颜色)</li>
<li>SCROLLBAR-HIGHLIGHT-COLOR(滚动条空白部分的颜色)</li>
<li>SCROLLBAR-SHADOW-COLOR(立体滚动条阴影的颜色)</li>
<li>SCROLLBAR-ARROW-COLOR(上下按钮上三角箭头的颜色)</li>
<li>SCROLLBAR-BASE-COLOR(滚动条的基本颜色)</li>
<li><p>SCROLLBAR-DARK-SHADOW-COLOR(立体滚动条强阴影的颜色)</p>
</li>
<li><p>来源：<strong>原创</strong></p>
</li>
<li><strong>版权声明：</strong>版权所有，转载时必须以链接形式注明作者和原始出处及本声明。</li>
<li>原创作者：<strong><a href="http://www.lao8.org/user/8" target="_blank">lao8</a></strong></li>
<li>本文链接地址：<a href="http://www.lao8.org/html/8/2009-6-9/div_css/" target="_blank">http://www.lao8.org/html/8/2009-6-9/div_css/</a></li>
<li>文章名：<a href="">div显示滚动条和控制滚动条属性的css代码</a>
标签:<a href="http://www.lao8.org/s_div.html" target="_blank">div</a> <a href="http://www.lao8.org/s_%E6%98%BE%E7%A4%BA%E6%BB%9A%E5%8A%A8%E6%9D%A1.html" target="_blank">显示滚动条</a></li>
</ul>
<p><a href=""><img src="" alt=""></a> <a href=""><img src="" alt=""></a> <a href=""><img src="" alt=""></a> <a href=""><img src="" alt="收藏到收藏夹"></a></p>
<h3 id="-div-">相关&quot;div 显示滚动条&quot;文章</h3>
<ul>
<li><a href="http://www.lao8.org/html/8/2008-1-21/2008121182204.html" target="_blank">css控制DIV透明度</a></li>
<li><a href="http://www.lao8.org/html/8/2007-12-6/2007126174458.html" target="_blank">根据dreamweaver cs3 模板布局学习网站优化</a></li>
</ul>
<h3 id="-">网友点评</h3>
<p><strong><a href="http://www.lusongsong.com/" target="_blank">卢松松</a></strong> 2009-6-12 14:01:00 | <a href="http://www.lao8.org/huifu878.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>拜读了老吧的创作。受益匪浅！
<strong><a href="http://www.gp173.com/" target="_blank">股票行情</a></strong> 2009-6-15 11:25:00 | <a href="http://www.lao8.org/huifu883.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>学一个是一个 博主好崇拜你哦
<strong><a href="http://www.bgtieqi.cn/" target="_blank">本田摩托车</a></strong> 2009-6-15 11:26:00 | <a href="http://www.lao8.org/huifu884.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>好想认真学学
<strong><a href="http://www.yigenangua.cn/" target="_blank">亦歌</a></strong> 2009-7-11 8:50:00 | <a href="http://www.lao8.org/huifu905.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>不错，不过好像滚动条还是默认的好看。
<strong><a href="http://www.sknys.cn/" target="_blank">sknys</a></strong> 2009-7-16 13:51:00 | <a href="http://www.lao8.org/huifu911.html" target="_blank">[回复]</a><a href=""> </a></p>
<p>链你一下网页编程专题网www.sknys.cn</p>
<h3 id="-">发表见解</h3>
<p>username(必填)
email(必填)
website
提交</p>
<h3 id="-">站内搜索</h3>
<p>输入您的搜索字词   Web www.lao8.org 提交搜索表单</p>
<h3 id="-">按分类归档</h3>
<ul>
<li><a href="http://www.lao8.org/user/8/seo/" title="seo技术 网站推广 搜索引擎优化" target="_blank">网站推广</a> （114）</li>
<li><a href="http://www.lao8.org/user/8/photo/" title="摄影技术 摄影欣赏 摄影作品 原创摄影" target="_blank">摄影</a> （45）</li>
<li><a href="http://www.lao8.org/user/8/feel/" title="生活体会 情感记录 原创文学" target="_blank">感悟生活</a> （11）</li>
<li><a href="http://www.lao8.org/user/8/design/" title="平面设计 创意作品" target="_blank">创意设计</a> （9）</li>
<li><a href="http://www.lao8.org/user/8/cg/" title="cg插画 原创插画 cg插图 插图设计" target="_blank">插画设计</a> （1）</li>
<li><a href="http://www.lao8.org/user/8/asp/" title="asp ajax" target="_blank">网站技术</a> （42）</li>
<li><a href="http://www.lao8.org/user/8/life/" title="生活琐碎" target="_blank">生活杂记</a> （133）</li>
<li><a href="http://www.lao8.org/user/8/photoshop/" title="Photoshop教程 ps教程" target="_blank">Photoshop教程</a> （3）</li>
<li><a href="http://www.lao8.org/user/8/2007123171603/" title="房产" target="_blank">房产</a> （7）</li>
<li><a href="http://www.lao8.org/user/8/20071212164833/" title="老吧网改进进度" target="_blank">老吧网改进进度</a> （17）</li>
<li><a href="http://www.lao8.org/user/8/20081413558/" title="营销" target="_blank">营销</a> （18）</li>
<li><a href="http://www.lao8.org/user/8/200814112406/" title="社会评论" target="_blank">社会评论</a> （7）</li>
<li><a href="http://www.lao8.org/user/8/200815112636/" title="艺术图库" target="_blank">艺术图库</a> （5）</li>
<li><a href="http://www.lao8.org/user/8/200811490808/" title="网界动态" target="_blank">网界动态</a> （16）</li>
<li><a href="http://www.lao8.org/user/8/2008125162006/" title="搞笑娱乐" target="_blank">搞笑娱乐</a> （8）</li>
<li><a href="http://www.lao8.org/user/8/2008214170947/" title="小游戏" target="_blank">小游戏</a> （2）</li>
<li><a href="http://www.lao8.org/user/8/200835101334/" title="实用小软件" target="_blank">实用小软件</a> （0）</li>
<li><a href="http://www.lao8.org/user/8/TradeEnglish/" title="外贸英语" target="_blank">外贸英语</a> （6）</li>
<li><a href="http://www.lao8.org/user/8/2008815101140/" title="热播电影" target="_blank">热播电影</a> （4）</li>
<li><a href="http://www.lao8.org/user/8/2008102493244/" title="ebay开店技巧" target="_blank">ebay开店技巧</a> （6）</li>
<li><a href="http://www.lao8.org/user/8/2009719122450/" title="SQL数据库" target="_blank">SQL数据库</a> （8）</li>
<li><a href="http://www.lao8.org/user/8/200986105026/" title="服务器安全" target="_blank">服务器安全</a> （1）</li>
<li><a href="http://www.lao8.org/user/8/200987111345/" title="索尼单反专区" target="_blank">索尼单反专区</a> （0）</li>
<li><a href="http://www.lao8.org/user/8/200987120553/" title="索尼 美能达 原厂定焦 广角镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂定焦广角镜头</a> （7）</li>
<li><a href="http://www.lao8.org/user/8/200987120644/" title="索尼 美能达 原厂定焦 标准镜头 sony minolta meinongda suoni 标头" target="_blank">Alpha原厂定焦标准镜头</a> （4）</li>
<li><a href="http://www.lao8.org/user/8/200987120750/" title="索尼 美能达 原厂望远 定焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂望远定焦镜头</a> （4）</li>
<li><a href="http://www.lao8.org/user/8/200987120832/" title="索尼 美能达 原厂广角变焦镜头 sony minolta meinongda suoni" target="_blank">Alpha原厂广角变焦镜头</a> （17）</li>
<li><a href="http://www.lao8.org/user/8/sony_fuchang/" title="sony 副厂镜头 索尼副厂镜头 索尼副厂变焦镜头 索尼副厂自动镜头 索尼副厂单反镜头 minolta meinongda suoni" target="_blank">索尼单反副厂变焦镜头</a> （1）</li>
<li><a href="http://www.lao8.org/user/8/200981731112/" title="Godaddy(GD)美国空间" target="_blank">Godaddy(GD)美国空间</a> （3）</li>
<li><a href="http://www.lao8.org/user/8/200981741553/" title="索尼副厂定焦镜头" target="_blank">索尼副厂定焦镜头</a> （1）</li>
</ul>
<h3 id="lao8-">lao8 最新文章：</h3>
<ul>
<li><a href="http://www.lao8.org/html/8/2009-12-11/20091211125038.html" target="_blank">春运，又是春运，新版火车票貌似不能解决倒票吧</a></li>
<li><a href="http://www.lao8.org/html/8/2009-12-10/suoni_shengji_gujian/" target="_blank">sony索尼 a700 怎样升级固件？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-12-10/a700/" target="_blank">怎样查看sony（索尼）a700 固件版本</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-28/20091028114200.html" target="_blank">2009天平山红枫节的时间</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-25/20091025100338.html" target="_blank">可恶的手机诈骗</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-24/20091024105546.html" target="_blank">Beta 是什么意思？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-22/20091022234259.html" target="_blank">阿尔法、贝塔是怎么打出来的？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-13/2009101330617.html" target="_blank">熬夜为什么会口臭？</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-10/2009101033225.html" target="_blank">柔光箱、反光伞、柔光伞的效果区别</a></li>
<li><a href="http://www.lao8.org/html/8/2009-10-10/2009101030532.html" target="_blank">爱上asp.net</a></li>
</ul>
<p><a href="http://www.miibeian.gov.cn/" target="_blank">苏ICP备07500238号</a> | <a href="mailto:tc_show@126.com">tc_show@126.com</a> <a href="http://www.51.la/?001536816" title="51.la 专业、免费、强健的访问统计" target="_blank">网站统计</a> <img src="http://web.51.la:82/go.asp?svid=1&amp;id=1536816&amp;tpages=1&amp;ttimes=1&amp;tzone=8&amp;tcolor=32&amp;sSize=1280,1024&amp;referrer=http%3A//www.google.cn/search%3Fhl%3Dzh-CN&amp;newwindow%3D1&amp;q%3Ddiv+%E6%BB%9A%E5%8A%A8%E6%9D%A1&amp;aq%3D2g&amp;oq%3Ddiv++&amp;vpage=http%3A//www.lao8.org/html/8/2009-6-9/div_css/" alt="">
<strong><a href="http://sitemap.cn.yahoo.com/search?p=http%3A%2F%2Fwww.lao8.org%2Fhtml%2F8%2F2009-6-9%2Fdiv_css%2F&amp;bwm=i" target="_blank">1</a></strong> 链向本页</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DIV/">DIV</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DIV/" class="label label-primary">DIV</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:36"datetime="2014-03-07 09:54:36"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DIV--div显示滚动条和控制滚动条属性的css代码-老吧网" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-hadoop--hdfs_design/">hdfs_design</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:36.000Z"> <a href="/2014/02/02/2014-02-02-hadoop--hdfs_design/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="hdfs_design">hdfs_design</h1>
<p>HDFS Architecture
by Dhruba Borthakur
Table of contents
1 2
Introduction .......................................................................................................................3 Assumptions and Goals .....................................................................................................3
2.1 2.2 2.3 2.4 2.5 2.6
Hardware Failure .......................................................................................................... 3 Streaming Data Access .................................................................................................3 Large Data Sets .............................................................................................................3 Simple Coherency Model ............................................................................................. 4 “Moving Computation is Cheaper than Moving Data” ................................................4 Portability Across Heterogeneous Hardware and Software Platforms .........................4
3 4 5
NameNode and DataNodes ...............................................................................................4 The File System Namespace ............................................................................................. 5 Data Replication ................................................................................................................6
5.1 5.2 5.3
Replica Placement: The First Baby Steps .................................................................... 7 Replica Selection .......................................................................................................... 8 Safemode ...................................................................................................................... 8
6 7 8
The Persistence of File System Metadata ......................................................................... 8 The Communication Protocols ......................................................................................... 9 Robustness ........................................................................................................................ 9
8.1 8.2 8.3 8.4 8.5
Data Disk Failure, Heartbeats and Re-Replication .....................................................10 Cluster Rebalancing ....................................................................................................10 Data Integrity ..............................................................................................................10 Metadata Disk Failure ................................................................................................ 10 Snapshots ....................................................................................................................11
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
9
Data Organization ........................................................................................................... 11
9.1 9.2 9.3
Data Blocks ................................................................................................................ 11 Staging ........................................................................................................................11 Replication Pipelining ................................................................................................ 12 FS Shell .....................................................................................................................12 DFSAdmin ................................................................................................................ 13 Browser Interface ......................................................................................................13 File Deletes and Undeletes ....................................................................................... 13 Decrease Replication Factor ..................................................................................... 14
10
Accessibility .................................................................................................................. 12
10.1 10.2 10.3 11
Space Reclamation ........................................................................................................ 13
11.1 11.2 12
References ..................................................................................................................... 14
Page 2
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture</p>
<ol>
<li>Introduction
The Hadoop Distributed File System (HDFS) is a distributed file system designed to run on commodity hardware. It has many similarities with existing distributed file systems. However, the differences from other distributed file systems are significant. HDFS is highly fault-tolerant and is designed to be deployed on low-cost hardware. HDFS provides high throughput access to application data and is suitable for applications that have large data sets. HDFS relaxes a few POSIX requirements to enable streaming access to file system data. HDFS was originally built as infrastructure for the Apache Nutch web search engine project. HDFS is part of the Apache Hadoop Core project. The project URL is <a href="http://hadoop.apache.org/core/" target="_blank">http://hadoop.apache.org/core/</a>.</li>
<li>Assumptions and Goals
2.1. Hardware Failure
Hardware failure is the norm rather than the exception. An HDFS instance may consist of hundreds or thousands of server machines, each storing part of the file system’s data. The fact that there are a huge number of components and that each component has a non-trivial probability of failure means that some component of HDFS is always non-functional. Therefore, detection of faults and quick, automatic recovery from them is a core architectural goal of HDFS.
2.2. Streaming Data Access
Applications that run on HDFS need streaming access to their data sets. They are not general purpose applications that typically run on general purpose file systems. HDFS is designed more for batch processing rather than interactive use by users. The emphasis is on high throughput of data access rather than low latency of data access. POSIX imposes many hard requirements that are not needed for applications that are targeted for HDFS. POSIX semantics in a few key areas has been traded to increase data throughput rates.
2.3. Large Data Sets
Applications that run on HDFS have large data sets. A typical file in HDFS is gigabytes to terabytes in size. Thus, HDFS is tuned to support large files. It should provide high aggregate data bandwidth and scale to hundreds of nodes in a single cluster. It should support tens of millions of files in a single instance.
Page 3
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
2.4. Simple Coherency Model
HDFS applications need a write-once-read-many access model for files. A file once created, written, and closed need not be changed. This assumption simplifies data coherency issues and enables high throughput data access. A Map/Reduce application or a web crawler application fits perfectly with this model. There is a plan to support appending-writes to files in the future.
2.5. “Moving Computation is Cheaper than Moving Data”
A computation requested by an application is much more efficient if it is executed near the data it operates on. This is especially true when the size of the data set is huge. This minimizes network congestion and increases the overall throughput of the system. The assumption is that it is often better to migrate the computation closer to where the data is located rather than moving the data to where the application is running. HDFS provides interfaces for applications to move themselves closer to where the data is located.
2.6. Portability Across Heterogeneous Hardware and Software Platforms
HDFS has been designed to be easily portable from one platform to another. This facilitates widespread adoption of HDFS as a platform of choice for a large set of applications.</li>
<li>NameNode and DataNodes
HDFS has a master/slave architecture. An HDFS cluster consists of a single NameNode, a master server that manages the file system namespace and regulates access to files by clients. In addition, there are a number of DataNodes, usually one per node in the cluster, which manage storage attached to the nodes that they run on. HDFS exposes a file system namespace and allows user data to be stored in files. Internally, a file is split into one or more blocks and these blocks are stored in a set of DataNodes. The NameNode executes file system namespace operations like opening, closing, and renaming files and directories. It also determines the mapping of blocks to DataNodes. The DataNodes are responsible for serving read and write requests from the file system’s clients. The DataNodes also perform block creation, deletion, and replication upon instruction from the NameNode.
Page 4
Copyright © 2008 The Apache Software Foundation. All rights reserved.
<img src="" alt=""> HDFS Architecture
The NameNode and DataNode are pieces of software designed to run on commodity machines. These machines typically run a GNU/Linux operating system (OS). HDFS is built using the Java language; any machine that supports Java can run the NameNode or the DataNode software. Usage of the highly portable Java language means that HDFS can be deployed on a wide range of machines. A typical deployment has a dedicated machine that runs only the NameNode software. Each of the other machines in the cluster runs one instance of the DataNode software. The architecture does not preclude running multiple DataNodes on the same machine but in a real deployment that is rarely the case. The existence of a single NameNode in a cluster greatly simplifies the architecture of the system. The NameNode is the arbitrator and repository for all HDFS metadata. The system is designed in such a way that user data never flows through the NameNode.</li>
<li>The File System Namespace
HDFS supports a traditional hierarchical file organization. A user or an application can create directories and store files inside these directories. The file system namespace hierarchy is
Page 5
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
similar to most other existing file systems; one can create and remove files, move a file from one directory to another, or rename a file. HDFS does not yet implement user quotas or access permissions. HDFS does not support hard links or soft links. However, the HDFS architecture does not preclude implementing these features. The NameNode maintains the file system namespace. Any change to the file system namespace or its properties is recorded by the NameNode. An application can specify the number of replicas of a file that should be maintained by HDFS. The number of copies of a file is called the replication factor of that file. This information is stored by the NameNode.</li>
<li>Data Replication
HDFS is designed to reliably store very large files across machines in a large cluster. It stores each file as a sequence of blocks; all blocks in a file except the last block are the same size. The blocks of a file are replicated for fault tolerance. The block size and replication factor are configurable per file. An application can specify the number of replicas of a file. The replication factor can be specified at file creation time and can be changed later. Files in HDFS are write-once and have strictly one writer at any time. The NameNode makes all decisions regarding replication of blocks. It periodically receives a Heartbeat and a Blockreport from each of the DataNodes in the cluster. Receipt of a Heartbeat implies that the DataNode is functioning properly. A Blockreport contains a list of all blocks on a DataNode.
Page 6
Copyright © 2008 The Apache Software Foundation. All rights reserved.
<img src="" alt=""> HDFS Architecture
5.1. Replica Placement: The First Baby Steps
The placement of replicas is critical to HDFS reliability and performance. Optimizing replica placement distinguishes HDFS from most other distributed file systems. This is a feature that needs lots of tuning and experience. The purpose of a rack-aware replica placement policy is to improve data reliability, availability, and network bandwidth utilization. The current implementation for the replica placement policy is a first effort in this direction. The short-term goals of implementing this policy are to validate it on production systems, learn more about its behavior, and build a foundation to test and research more sophisticated policies. Large HDFS instances run on a cluster of computers that commonly spread across many racks. Communication between two nodes in different racks has to go through switches. In most cases, network bandwidth between machines in the same rack is greater than network bandwidth between machines in different racks. The NameNode determines the rack id each DataNode belongs to via the process outlined in Rack Awareness. A simple but non-optimal policy is to place replicas on unique racks. This prevents losing data when an entire rack fails and allows use of bandwidth from multiple
Page 7
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
racks when reading data. This policy evenly distributes replicas in the cluster which makes it easy to balance load on component failure. However, this policy increases the cost of writes because a write needs to transfer blocks to multiple racks. For the common case, when the replication factor is three, HDFS’s placement policy is to put one replica on one node in the local rack, another on a different node in the local rack, and the last on a different node in a different rack. This policy cuts the inter-rack write traffic which generally improves write performance. The chance of rack failure is far less than that of node failure; this policy does not impact data reliability and availability guarantees. However, it does reduce the aggregate network bandwidth used when reading data since a block is placed in only two unique racks rather than three. With this policy, the replicas of a file do not evenly distribute across the racks. One third of replicas are on one node, two thirds of replicas are on one rack, and the other third are evenly distributed across the remaining racks. This policy improves write performance without compromising data reliability or read performance. The current, default replica placement policy described here is a work in progress.
5.2. Replica Selection
To minimize global bandwidth consumption and read latency, HDFS tries to satisfy a read request from a replica that is closest to the reader. If there exists a replica on the same rack as the reader node, then that replica is preferred to satisfy the read request. If angg/ HDFS cluster spans multiple data centers, then a replica that is resident in the local data center is preferred over any remote replica.
5.3. Safemode
On startup, the NameNode enters a special state called Safemode. Replication of data blocks does not occur when the NameNode is in the Safemode state. The NameNode receives Heartbeat and Blockreport messages from the DataNodes. A Blockreport contains the list of data blocks that a DataNode is hosting. Each block has a specified minimum number of replicas. A block is considered safely replicated when the minimum number of replicas of that data block has checked in with the NameNode. After a configurable percentage of safely replicated data blocks checks in with the NameNode (plus an additional 30 seconds), the NameNode exits the Safemode state. It then determines the list of data blocks (if any) that still have fewer than the specified number of replicas. The NameNode then replicates these blocks to other DataNodes.</li>
<li>The Persistence of File System Metadata
Page 8
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
The HDFS namespace is stored by the NameNode. The NameNode uses a transaction log called the EditLog to persistently record every change that occurs to file system metadata. For example, creating a new file in HDFS causes the NameNode to insert a record into the EditLog indicating this. Similarly, changing the replication factor of a file causes a new record to be inserted into the EditLog. The NameNode uses a file in its local host OS file system to store the EditLog. The entire file system namespace, including the mapping of blocks to files and file system properties, is stored in a file called the FsImage. The FsImage is stored as a file in the NameNode’s local file system too. The NameNode keeps an image of the entire file system namespace and file Blockmap in memory. This key metadata item is designed to be compact, such that a NameNode with 4 GB of RAM is plenty to support a huge number of files and directories. When the NameNode starts up, it reads the FsImage and EditLog from disk, applies all the transactions from the EditLog to the in-memory representation of the FsImage, and flushes out this new version into a new FsImage on disk. It can then truncate the old EditLog because its transactions have been applied to the persistent FsImage. This process is called a checkpoint. In the current implementation, a checkpoint only occurs when the NameNode starts up. Work is in progress to support periodic checkpointing in the near future. The DataNode stores HDFS data in files in its local file system. The DataNode has no knowledge about HDFS files. It stores each block of HDFS data in a separate file in its local file system. The DataNode does not create all files in the same directory. Instead, it uses a heuristic to determine the optimal number of files per directory and creates subdirectories appropriately. It is not optimal to create all local files in the same directory because the local file system might not be able to efficiently support a huge number of files in a single directory. When a DataNode starts up, it scans through its local file system, generates a list of all HDFS data blocks that correspond to each of these local files and sends this report to the NameNode: this is the Blockreport.</li>
<li>The Communication Protocols
All HDFS communication protocols are layered on top of the TCP/IP protocol. A client establishes a connection to a configurable TCP port on the NameNode machine. It talks the ClientProtocol with the NameNode. The DataNodes talk to the NameNode using the DataNode Protocol. A Remote Procedure Call (RPC) abstraction wraps both the Client Protocol and the DataNode Protocol. By design, the NameNode never initiates any RPCs. Instead, it only responds to RPC requests issued by DataNodes or clients.</li>
<li>Robustness
The primary objective of HDFS is to store data reliably even in the presence of failures. The
Page 9
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
three common types of failures are NameNode failures, DataNode failures and network partitions.
8.1. Data Disk Failure, Heartbeats and Re-Replication
Each DataNode sends a Heartbeat message to the NameNode periodically. A network partition can cause a subset of DataNodes to lose connectivity with the NameNode. The NameNode detects this condition by the absence of a Heartbeat message. The NameNode marks DataNodes without recent Heartbeats as dead and does not forward any new IO requests to them. Any data that was registered to a dead DataNode is not available to HDFS any more. DataNode death may cause the replication factor of some blocks to fall below their specified value. The NameNode constantly tracks which blocks need to be replicated and initiates replication whenever necessary. The necessity for re-replication may arise due to many reasons: a DataNode may become unavailable, a replica may become corrupted, a hard disk on a DataNode may fail, or the replication factor of a file may be increased.
8.2. Cluster Rebalancing
The HDFS architecture is compatible with data rebalancing schemes. A scheme might automatically move data from one DataNode to another if the free space on a DataNode falls below a certain threshold. In the event of a sudden high demand for a particular file, a scheme might dynamically create additional replicas and rebalance other data in the cluster. These types of data rebalancing schemes are not yet implemented.
8.3. Data Integrity
It is possible that a block of data fetched from a DataNode arrives corrupted. This corruption can occur because of faults in a storage device, network faults, or buggy software. The HDFS client software implements checksum checking on the contents of HDFS files. When a client creates an HDFS file, it computes a checksum of each block of the file and stores these checksums in a separate hidden file in the same HDFS namespace. When a client retrieves file contents it verifies that the data it received from each DataNode matches the checksum stored in the associated checksum file. If not, then the client can opt to retrieve that block from another DataNode that has a replica of that block.
8.4. Metadata Disk Failure
The FsImage and the EditLog are central data structures of HDFS. A corruption of these files can cause the HDFS instance to be non-functional. For this reason, the NameNode can be configured to support maintaining multiple copies of the FsImage and EditLog. Any update
Page 10
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
to either the FsImage or EditLog causes each of the FsImages and EditLogs to get updated synchronously. This synchronous updating of multiple copies of the FsImage and EditLog may degrade the rate of namespace transactions per second that a NameNode can support. However, this degradation is acceptable because even though HDFS applications are very data intensive in nature, they are not metadata intensive. When a NameNode restarts, it selects the latest consistent FsImage and EditLog to use. The NameNode machine is a single point of failure for an HDFS cluster. If the NameNode machine fails, manual intervention is necessary. Currently, automatic restart and failover of the NameNode software to another machine is not supported.
8.5. Snapshots
Snapshots support storing a copy of data at a particular instant of time. One usage of the snapshot feature may be to roll back a corrupted HDFS instance to a previously known good point in time. HDFS does not currently support snapshots but will in a future release.</li>
<li>Data Organization
9.1. Data Blocks
HDFS is designed to support very large files. Applications that are compatible with HDFS are those that deal with large data sets. These applications write their data only once but they read it one or more times and require these reads to be satisfied at streaming speeds. HDFS supports write-once-read-many semantics on files. A typical block size used by HDFS is 64 MB. Thus, an HDFS file is chopped up into 64 MB chunks, and if possible, each chunk will reside on a different DataNode.
9.2. Staging
A client request to create a file does not reach the NameNode immediately. In fact, initially the HDFS client caches the file data into a temporary local file. Application writes are transparently redirected to this temporary local file. When the local file accumulates data worth over one HDFS block size, the client contacts the NameNode. The NameNode inserts the file name into the file system hierarchy and allocates a data block for it. The NameNode responds to the client request with the identity of the DataNode and the destination data block. Then the client flushes the block of data from the local temporary file to the specified DataNode. When a file is closed, the remaining un-flushed data in the temporary local file is transferred to the DataNode. The client then tells the NameNode that the file is closed. At this point, the NameNode commits the file creation operation into a persistent store. If the
Page 11
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
NameNode dies before the file is closed, the file is lost. The above approach has been adopted after careful consideration of target applications that run on HDFS. These applications need streaming writes to files. If a client writes to a remote file directly without any client side buffering, the network speed and the congestion in the network impacts throughput considerably. This approach is not without precedent. Earlier distributed file systems, e.g. AFS, have used client side caching to improve performance. A POSIX requirement has been relaxed to achieve higher performance of data uploads.
9.3. Replication Pipelining
When a client is writing data to an HDFS file, its data is first written to a local file as explained in the previous section. Suppose the HDFS file has a replication factor of three. When the local file accumulates a full block of user data, the client retrieves a list of DataNodes from the NameNode. This list contains the DataNodes that will host a replica of that block. The client then flushes the data block to the first DataNode. The first DataNode starts receiving the data in small portions (4 KB), writes each portion to its local repository and transfers that portion to the second DataNode in the list. The second DataNode, in turn starts receiving each portion of the data block, writes that portion to its repository and then flushes that portion to the third DataNode. Finally, the third DataNode writes the data to its local repository. Thus, a DataNode can be receiving data from the previous one in the pipeline and at the same time forwarding data to the next one in the pipeline. Thus, the data is pipelined from one DataNode to the next.</li>
<li>Accessibility
HDFS can be accessed from applications in many different ways. Natively, HDFS provides a FileSystem Java API for applications to use. A C language wrapper for this Java API is also available. In addition, an HTTP browser can also be used to browse the files of an HDFS instance. Work is in progress to expose HDFS through the WebDAV protocol.
10.1. FS Shell
HDFS allows user data to be organized in the form of files and directories. It provides a commandline interface called FS shell that lets a user interact with the data in HDFS. The syntax of this command set is similar to other shells (e.g. bash, csh) that users are already familiar with. Here are some sample action/command pairs:
Action Create a directory named /foodir Command bin/hadoop dfs -mkdir /foodir
Page 12
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
Remove a directory named /foodir View the contents of a file named /foodir/myfile.txt
bin/hadoop dfs -rmr /foodir bin/hadoop dfs -cat /foodir/myfile.txt
FS shell is targeted for applications that need a scripting language to interact with the stored data.
10.2. DFSAdmin
The DFSAdmin command set is used for administering an HDFS cluster. These are commands that are used only by an HDFS administrator. Here are some sample action/command pairs:
Action Put the cluster in Safemode Generate a list of DataNodes Recommission or decommission DataNode(s) Command bin/hadoop dfsadmin -safemode enter bin/hadoop dfsadmin -report bin/hadoop dfsadmin -refreshNodes
10.3. Browser Interface
A typical HDFS install configures a web server to expose the HDFS namespace through a configurable TCP port. This allows a user to navigate the HDFS namespace and view the contents of its files using a web browser.</li>
<li>Space Reclamation
11.1. File Deletes and Undeletes
When a file is deleted by a user or an application, it is not immediately removed from HDFS. Instead, HDFS first renames it to a file in the /trash directory. The file can be restored quickly as long as it remains in /trash. A file remains in /trash for a configurable amount of time. After the expiry of its life in /trash, the NameNode deletes the file from the HDFS namespace. The deletion of a file causes the blocks associated with the file to be freed. Note that there could be an appreciable time delay between the time a file is deleted by a user and the time of the corresponding increase in free space in HDFS. A user can Undelete a file after deleting it as long as it remains in the /trash directory. If a user wants to undelete a file that he/she has deleted, he/she can navigate the /trash directory and retrieve the file. The /trash directory contains only the latest copy of the file
Page 13
Copyright © 2008 The Apache Software Foundation. All rights reserved.
HDFS Architecture
that was deleted. The /trash directory is just like any other directory with one special feature: HDFS applies specified policies to automatically delete files from this directory. The current default policy is to delete files from /trash that are more than 6 hours old. In the future, this policy will be configurable through a well defined interface.
11.2. Decrease Replication Factor
When the replication factor of a file is reduced, the NameNode selects excess replicas that can be deleted. The next Heartbeat transfers this information to the DataNode. The DataNode then removes the corresponding blocks and the corresponding free space appears in the cluster. Once again, there might be a time delay between the completion of the setReplication API call and the appearance of free space in the cluster.</li>
<li>References
Hadoop JavaDoc API. HDFS source code: <a href="http://hadoop.apache.org/core/version_control.html" target="_blank">http://hadoop.apache.org/core/version_control.html</a>
Page 14
Copyright © 2008 The Apache Software Foundation. All rights reserved.</li>
</ol>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/hadoop/">hadoop</a></li></span></span> | <span class="tags">Tagged <a href="/tags/hadoop/" class="label label-primary">hadoop</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:36"datetime="2014-03-07 09:54:36"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-hadoop--hdfs_design/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-hadoop--hdfs_design" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/114/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/112/">112</a></li><li><a class="page-number" href="/page/113/">113</a></li><li><a class="page-number" href="/page/114/">114</a></li><li class="active"><li><span class="page-number current">115</span></li><li><a class="page-number" href="/page/116/">116</a></li><li><a class="page-number" href="/page/117/">117</a></li><li><a class="page-number" href="/page/118/">118</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/116/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 16:47:46</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
