
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 126 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分区--Oracle数据库中分区表的操作方法1/">Oracle数据库中分区表的操作方法1</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分区--Oracle数据库中分区表的操作方法1/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-1">Oracle数据库中分区表的操作方法1</h1>
<p><a href="http://reg.163.com/" target="_blank">通行证</a>：用户名  密码 <a href="http://mail.163.com/" target="_blank"></a><a href="http://www.163.com/">首页</a> - <a href="http://news.163.com/" target="_blank">新闻</a> - <a href="http://www.126.com/" target="_blank">免费邮箱</a> - <a href="http://sms.163.com/" target="_blank">短信</a> - <a href="http://popo.163.com/" target="_blank">POPO</a> - <a href="http://photo.163.com/" target="_blank">相册</a> - <a href="http://so.163.com/" target="_blank">搜索</a> - <a href="http://love.163.com/" target="_blank">交友</a> - <a href="http://adfarm.mediaplex.com/ad/ck/4080-25846-9511-15?cn=netease;textlink;hp" target="_blank">拍卖</a> <a href="http://www.163.com/" target="_blank"><img src="" alt="NetEase"></a>
 <a href="http://news.163.com/" target="_blank">新闻</a> | <a href="http://sports.163.com/" target="_blank">体育</a> | <a href="http://finance.163.com/" target="_blank">财经</a> | <a href="http://ent.163.com/" target="_blank">娱乐</a> | <a href="http://biz.163.com/" target="_blank">商业</a>| <a href="http://tech.163.com/" target="_blank"><strong>科技</strong></a> | <a href="http://auto.163.com/" target="_blank">汽车</a> | <a href="http://digi.163.com/" target="_blank">数码</a> | <a href="http://lady.163.com/" target="_blank">女人</a> | <a href="http://travel.163.com/" target="_blank">旅游</a> | <a href="http://education.163.com/" target="_blank">教育</a> | <a href="http://culture.163.com/" target="_blank">文化</a> | <a href="http://gz.163.com/" target="_blank">广州</a> | <a href="http://news.163.com/war/" target="_blank">军事</a> | <a href="http://bulo.163.com/" target="_blank">部落</a>
<a href="http://talk.163.com/" target="_blank">评论</a> | <a href="http://sports.163.com/nba/" target="_blank">NBA</a> | <a href="http://ent.163.com/people/" target="_blank">明星</a> | <a href="http://stock.163.com/" target="_blank">证券</a> | <a href="http://fund.163.com/" target="_blank">基金</a> | <a href="http://tech.163.com/discover/" target="_blank">探索</a> | <a href="http://soufun.163.com/" target="_blank">房产</a> | <a href="http://mobile.163.com/" target="_blank">手机</a> | <a href="http://health.163.com/sex/" target="_blank">两性</a> | <a href="http://health.163.com/" target="_blank">健康</a> | <a href="http://px.163.com/" target="_blank">培训</a> | <a href="http://ent.163.com/ent/level1/movie.html" target="_blank">电影</a> | <a href="http://game.163.com/" target="_blank">游戏</a>| <a href="http://adfarm.mediaplex.com/ad/ck/4080-25838-9511-9?cn=netease;2word;hp" target="_blank">拍卖</a> | <a href="http://bbs.163.com/" target="_blank">论坛</a>  <a href="http://tech.163.com/school/" target="_blank"><img src="" alt="网易学院·教程"></a> ·<a href="http://tech.163.com/special/t/000915AD/tools.html" target="_blank">工具软件</a>·<a href="http://tech.163.com/special/o/000915A6/officetool.html" target="_blank">办公软件</a>·<a href="http://tech.163.com/special/O/000915A0/OS.html" target="_blank">操作系统</a>·<a href="http://tech.163.com/special/p/0009158A/photos.html" target="_blank">图形图像</a>·<a href="http://tech.163.com/special/w/0009158K/website.html" target="_blank">网站建设</a>·<a href="http://tech.163.com/special/d/0009159F/developer.html" target="_blank">编程开发</a>·<a href="http://tech.163.com/special/m/0009158R/multimedia.html" target="_blank">多媒体</a>·<a href="http://tech.163.com/special/n/000917GE/net.html" target="_blank">网络</a>·<a href="http://tech.163.com/special/d/000917GF/du.html" target="_blank">病毒</a> ·<a href="http://tech.163.com/school" target="_blank">学院首页</a>·<a href="http://tech.163.com/special/S/000915SN/S_Special.html" target="_blank">精选专题</a>·<a href="http://tech.163.com/special/A/00091593/Arts1.html" target="_blank">艺术设计</a>·<a href="http://tech.163.com/special/E/00091ESS/Ebook.html" target="_blank">电子杂志</a>·<a href="http://tech.163.com/special/S/000915AH/S_InterView.html" target="_blank">教授视点</a>·<a href="http://tech.163.com/special/A/000915AH/AllPro1.html" target="_blank">教授名录</a>·<a href="http://tech.163.com/special/s/000915AS/softnews.html" target="_blank">软件新闻</a>·<a href="http://tech.163.com/special/s/000917D5/schoolbbs.html" target="_blank">论坛</a></p>
<p>你现在的位置是： <a href="http://www.163.com/" target="_blank">网易</a> &gt; <a href="http://tech.163.com/" target="_blank">网易科技</a> &gt; <a href="http://tech.163.com/school" target="_blank">网易学院·教程</a></p>
<h1 id="oracle-">Oracle数据库中分区表的操作方法</h1>
<p><a href="http://tech.163.com/school" target="_blank">http://tech.163.com/school</a> · 2005-06-16 11:44:19 · 来源: blog</p>
<p>第1页：Oracle数据库中分区表的操作方法 第2页：Oracle数据库中分区表的操作方法
<strong>摘要</strong>：在大量业务数据处理的项目中，可以考虑使用分区表来提高应用系统的性能并方便数据管理，本文详细介绍了分区表的使用。
在大型的企业应用或企业级的数据库应用中，要处理的数据量通常可以达到几十到几百GB，有的甚至可以到TB级。虽然存储介质和数据处理技术的发展也很快，但是仍然不能满足用户的需求，为了使用户的大量的数据在读写操作和查询中速度更快，Oracle提供了对表和索引进行分区的技术，以改善大型应用系统的性能。
使用分区的优点：
·增强可用性：如果表的某个分区出现故障，表在其他分区的数据仍然可用；
·维护方便：如果表的某个分区出现故障，需要修复数据，只修复该分区即可；
·均衡I/O：可以把不同的分区映射到磁盘以平衡I/O，改善整个系统性能；
·改善查询性能：对分区对象的查询可以仅搜索自己关心的分区，提高检索速度。
Oracle数据库提供对表或索引的分区方法有三种：
·范围分区
·Hash分区（散列分区）
·复合分区
下面将以实例的方式分别对这三种分区方法来说明分区表的使用。为了测试方便，我们先建三个表空间。</p>
<p>create tablespace dinya_space01    datafile ’/test/demo/oracle/demodata/dinya01.dnf’ size 50M    create tablespace dinya_space01    datafile ’/test/demo/oracle/demodata/dinya02.dnf’ size 50M    create tablespace dinya_space01    datafile ’/test/demo/oracle/demodata/dinya03.dnf’ size 50M
<strong>1.1. 分区表的创建</strong>
1.1.1. 范围分区
范围分区就是对数据表中的某个值的范围进行分区，根据某个值的范围，决定将该数据存储在哪个分区上。如根据序号分区，根据业务记录的创建日期进行分区等。
需求描述：有一个物料交易表，表名：material_transactions。该表将来可能有千万级的数据记录数。要求在建该表的时候使用分区表。这时候我们可以使用序号分区三个区，每个区中预计存储三千万的数据，也可以使用日期分区，如每五年的数据存储在一个分区上。
根据交易记录的序号分区建表：</p>
<p>SQL&gt; create table dinya_test    2 (    3 transaction_id number primary key,    4 item_id number(8) not null,    5 item_description varchar2(300),    6 transaction_date date not null    7 )    8 partition by range (transaction_id)    9 (    10 partition part_01 values less than(30000000) tablespace dinya_space01,    11 partition part_02 values less than(60000000) tablespace dinya_space02,    12 partition part_03 values less than(maxvalue) tablespace dinya_space03    13 );    Table created.
建表成功，根据交易的序号，交易ID在三千万以下的记录将存储在第一个表空间dinya_space01中，分区名为:par_01，在三千万到六千万之间的记录存储在第二个表空间：
dinya_space02中，分区名为：par_02，而交易ID在六千万以上的记录存储在第三个表空间dinya_space03中，分区名为par_03.
根据交易日期分区建表：</p>
<p>SQL&gt; create table dinya_test    2 (    3 transaction_id number primary key,    4 item_id number(8) not null,    5 item_description varchar2(300),    6 transaction_date date not null    7 )    8 partition by range (transaction_date)    9 (    10 partition part_01 values less than(to_date(’2006-01-01’,’yyyy-mm-dd’))    tablespace dinya_space01,    11 partition part_02 values less than(to_date(’2010-01-01’,’yyyy-mm-dd’))    tablespace dinya_space02,    12 partition part_03 values less than(maxvalue) tablespace dinya_space03    13 );    Table created.
这样我们就分别建了以交易序号和交易日期来分区的分区表。每次插入数据的时候，系统将根据指定的字段的值来自动将记录存储到制定的分区（表空间）中。
当然，我们还可以根据需求，使用两个字段的范围分布来分区，如partition by range ( transaction_id ,transaction_date), 分区条件中的值也做相应的改变，请读者自行测试。
1.1.2. Hash分区（散列分区）
散列分区为通过指定分区编号来均匀分布数据的一种分区类型，因为通过在I/O设备上进行散列分区，使得这些分区大小一致。如将物料交易表的数据根据交易ID散列地存放在指定的三个表空间中：</p>
<p>SQL&gt; create table dinya_test    2 (    3 transaction_id number primary key,    4 item_id number(8) not null,    5 item_description varchar2(300),    6 transaction_date date    7 )    8 partition by hash(transaction_id)    9 (    10 partition part_01 tablespace dinya_space01,    11 partition part_02 tablespace dinya_space02,    12 partition part_03 tablespace dinya_space03    13 );    Table created.
建表成功，此时插入数据，系统将按transaction_id将记录散列地插入三个分区中，这里也就是三个不同的表空间中。
1.1.3. 复合分区
有时候我们需要根据范围分区后，每个分区内的数据再散列地分布在几个表空间中，这样我们就要使用复合分区。复合分区是先使用范围分区，然后在每个分区内再使用散列分区的一种分区方法，如将物料交易的记录按时间分区，然后每个分区中的数据分三个子分区，将数据散列地存储在三个指定的表空间中：</p>
<p>SQL&gt; create table dinya_test    2 (    3 transaction_id number primary key,    4 item_id number(8) not null,    5 item_description varchar2(300),    6 transaction_date date    7 )    8 partition by range(transaction_date)subpartition by hash(transaction_id)    9 subpartitions 3 store in (dinya_space01,dinya_space02,dinya_space03)    10 (    11 partition part_01 values less than(to_date(’2006-01-01’,’yyyy-mm-dd’)),    12 partition part_02 values less than(to_date(’2010-01-01’,’yyyy-mm-dd’)),    13 partition part_03 values less than(maxvalue)    14 );    Table created.
该例中，先是根据交易日期进行范围分区，然后根据交易的ID将记录散列地存储在三个表空间中。
<strong>1.2. 分区表操作</strong>
以上了解了三种分区表的建表方法，下面将使用实际的数据并针对按日期的范围分区来测试分区表的数据记录的操作。
1.2.1. 插入记录：</p>
<p>SQL&gt; insert into dinya_test values(1,12,’BOOKS’,sysdate);    1 row created.    SQL&gt; insert into dinya_test values(2,12, ’BOOKS’,sysdate+30);    1 row created.    SQL&gt; insert into dinya_test values(3,12, ’BOOKS’,to_date(’2006-05-30’,’yyyy-mm-dd’));    1 row created.    SQL&gt; insert into dinya_test values(4,12, ’BOOKS’,to_date(’2007-06-23’,’yyyy-mm-dd’));    1 row created.    SQL&gt; insert into dinya_test values(5,12, ’BOOKS’,to_date(’2011-02-26’,’yyyy-mm-dd’));    1 row created.    SQL&gt; insert into dinya_test values(6,12, ’BOOKS’,to_date(’2011-04-30’,’yyyy-mm-dd’));    1 row created.    SQL&gt; commit;    Commit complete.    SQL&gt;
按上面的建表结果，2006年前的数据将存储在第一个分区part_01上，而2006年到2010年的交易数据将存储在第二个分区part_02上，2010年以后的记录存储在第三个分区part_03上。</p>
<p><img src="" alt="落叶秋客"> <a href="http://tech.163.com/" target="_blank">[返回首页]</a></p>
<p><a href="http://tech.163.com/05/0616/11/1MC8AUT900091589.html#" target="_blank"><img src="" alt=""></a> [1] [<a href="http://tech.163.com/05/0616/11/1MC8AUT900091589_2.html" target="_blank">2</a>] <a href="http://tech.163.com/05/0616/11/1MC8AUT900091589_2.html" target="_blank"><img src="" alt=""></a>
<strong>相关文章：</strong></p>
<ul>
<li>·<a href="http://tech.163.com/05/0610/11/1LSQ9ANG00091589.html" target="_blank">Oracle数据库集中复制方法浅议</a>(2005-06-10 11:50:09)</li>
<li>·<a href="http://tech.163.com/05/0608/11/1LNJOGMA00091589.html" target="_blank">Oracle中使用PL/SQL操作COM对象</a>(2005-06-08 11:19:55)</li>
<li>·<a href="http://tech.163.com/05/0607/15/1LLF6ODF00091589.html" target="_blank">Oracle平台应用数据库系统的设计与开发</a>(2005-06-07 15:21:49)</li>
<li>·<a href="http://tech.163.com/05/0606/10/1LIAGLN000091589.html" target="_blank">Oracle与SQL Server在企业应用中的比较</a>(2005-06-06 10:02:08)</li>
<li>·<a href="http://tech.163.com/05/0420/08/1HP5LHI6000915DD.html" target="_blank">SUN与Oracle牵手对抗SAP和IBM信息化巨头</a>(2005-04-20 08:49:19)</li>
</ul>
<p><strong>推荐文章：</strong></p>
<p>·<a href="http://tech.163.com/08/0117/13/42DNAAL500091589.html" target="_blank">赢在2007赛迪网年度企业人物榜单揭晓</a> ·<a href="http://tech.163.com/08/0111/14/41UC892E00091589.html" target="_blank">你最需要哪种类型的视频教程</a> ·<a href="http://tech.163.com/07/1206/14/3V1M3KJA00091589.html" target="_blank">不用网银也网上购物 三步自助开通</a> ·<a href="http://tech.163.com/07/1204/09/3US0INJ500091589.html" target="_blank">2007年UPA用户体验大会成功闭幕</a> ·<a href="http://tech.163.com/07/1124/10/3U2B680L00091589.html" target="_blank">2007中国青年设计节暨用户体验年会在京开幕</a> ·<a href="http://tech.163.com/07/1123/14/3U07BF3000091589.html" target="_blank">User Friendly 2007现场图片</a> ·<a href="http://tech.163.com/07/1120/15/3TOJAKSS00091589.html" target="_blank">手机畅游互联网 空中Opera 2.0实测</a> ·<a href="http://tech.163.com/07/1120/10/3TO3Q38200091589.html" target="_blank">动易软件即将全面开源和免费</a> ·<a href="http://tech.163.com/07/0830/17/3N5MP1KG000917GR.html" target="_blank">搜图有“道” 图片达人的搜索秘籍</a> ·<a href="http://tech.163.com/07/0827/15/3MTMJAC60009159C.html" target="_blank">数字水墙 08年世博会亮相</a> ·<a href="http://tech.163.com/07/0827/14/3MTLTCQM00091599.html" target="_blank">RabbitAir MinusA2空气净化器设计</a> ·<a href="http://tech.163.com/07/0827/14/3MTL6T860009159B.html" target="_blank">Oscar Bjarnason 平面设计</a> ·<a href="http://tech.163.com/07/0827/12/3MTDSFIV00091JFM.html" target="_blank">国产杀毒软件半个月内勇夺两项国际权威认证</a> ·<a href="http://tech.163.com/07/0827/11/3MT9FRH900092A5O.html" target="_blank">美化你的博客-推荐多个博客图标下载网站</a> ·<a href="http://tech.163.com/07/0827/11/3MT8N9K6000920O4.html" target="_blank">微软回应Vista用户遇到的网络问题“设计如此”</a> ·<a href="http://tech.163.com/07/0827/10/3MT8ALLD000918BL.html" target="_blank">eBay改进用户体验 借鉴亚马逊页面设计搜索功能</a> ·<a href="http://tech.163.com/07/0827/10/3MT86E56000915AS.html" target="_blank">极点五笔6.0正式版发布</a> ·<a href="http://tech.163.com/07/0827/10/3MT5KT0J000915AC.html" target="_blank">WPS Office 2007抢先试用</a> ·<a href="http://tech.163.com/07/0827/10/3MT5A8I4000915AS.html" target="_blank">报告称Google Apps功能远不及微软Office</a> ·<a href="http://tech.163.com/07/0827/10/3MT55K55000917GE.html" target="_blank">什么是SOCK5代理，什么是HTTP代理</a>
<a href=""></a> 最新评论<a href=""></a> <a href="http://comment.news.163.com/reply/post.jsp?board=tech_bbs&amp;threadid=1MC8AUT900091589" target="_blank"><img src="" alt=""></a>   <img src="" alt=""> <strong><a href="http://comment.news.163.com/reply/post.jsp?type=re&amp;board=tech_bbs&amp;threadid=1MC8AUT900091589" target="_blank">更多评论</a></strong> 共 <strong><em>0</em></strong>条评论 网易通行证：  　 密码：  　 　      参与评论   您的发表的评论将在5分钟内被审核，请耐心等待</p>
<p>网易学院联系电话：020-61210163-560 合作/投稿邮箱：NeteaseSchool(at)126.com</p>
<p>合作媒体：<a href="http://www.isblog.cn/" target="_blank">结绳记事</a> <a href="http://www.arthtml.com/" target="_blank">艺网</a> <a href="http://www.pc120.net.cn/" target="_blank">中国电脑救援中心</a> <a href="http://www.ad110.com/" target="_blank">ad110.com</a> <a href="http://www.jcwcn.com/" target="_blank">中国教程网</a> <a href="http://fif.hlw.cn/" target="_blank">FIF多媒体制作组</a> <a href="http://www.xjke.com/" target="_blank">金鹰电脑教程网</a> <a href="http://www.cybermagics.com/" target="_blank">时代光魔</a> <a href="http://www.ttup.cn/" target="_blank">好好学习 天天向上</a>
<a href="http://tech.163.com/special/d/00091M9L/draftad1.html" target="_blank">主编信箱</a>　热线:020-　<a href="http://bbs3.news.163.com/board/postlist.jsp?b=idea" target="_blank">给网易提意见</a>　<a href="http://corp.163.com/" target="_blank">About NetEase</a> - <a href="http://gb.corp.163.com/gb/about/overview.html" target="_blank">公司简介</a> - <a href="http://gb.corp.163.com/gb/contactus.html" target="_blank">联系方法</a> - <a href="http://corp.163.com/gb/job/job.html" target="_blank">招聘信息</a> - <a href="http://gb.corp.163.com/gb/cs.html" target="_blank">客户服务</a> - <a href="http://gb.corp.163.com/gb/legal.html" target="_blank">相关法律</a> - <a href="http://emarketing.biz.163.com/" target="_blank">网络营销</a> - <a href="http://help.163.com/" target="_blank">帮助中心</a>
网易公司版权所有
©1997-2009</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分区/">分区</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分区/" class="label label-success">分区</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分区--Oracle数据库中分区表的操作方法1/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分区--Oracle数据库中分区表的操作方法1" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-安装--Redhat5下Oracle10g安装，相信没有比这个更全的了-Linux-Tech/">Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-安装--Redhat5下Oracle10g安装，相信没有比这个更全的了-Linux-Tech/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="redhat-5-oracle10g-linux-tech-iteye-">Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了 - Linux - Tech - ITeye论坛</h1>
<p><a href="http://www.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.iteye.com/login" target="_blank">登录</a> <a href="http://www.iteye.com/signup" target="_blank">注册</a></p>
<p><a href="http://www.iteye.com/" target="_blank"><img src="&quot;ITeye-最棒的软件开发交流社区&quot;" alt="ITeye-最棒的软件开发交流社区"></a></p>
<p><a href="http://www.iteye.com/clicks/678" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.iteye.com/forums" target="_blank">论坛首页</a> → <a href="http://www.iteye.com/forums/board/Tech" target="_blank">综合技术版</a> → <a href="http://www.iteye.com/forums/tag/Linux" target="_blank">Linux</a> →</p>
<h1 id="redhat-5-oracle10g-">Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了</h1>
<p><a href="http://www.iteye.com/forums/board/Tech" target="_blank">全部</a> <a href="http://www.iteye.com/forums/tag/Database" target="_blank">Database</a> <a href="http://www.iteye.com/forums/tag/Haskell" target="_blank">Haskell</a> <a href="http://www.iteye.com/forums/tag/Erlang" target="_blank">Erlang</a> <a href="http://www.iteye.com/forums/tag/FP" target="_blank">FP</a> <a href="http://www.iteye.com/forums/tag/Linux" target="_blank">Linux</a> <a href="http://www.iteye.com/forums/tag/algorithm" target="_blank">数据结构和算法</a> <a href="http://www.iteye.com/forums/tag/mysql" target="_blank">mysql</a> <a href="http://www.iteye.com/forums/tag/OracleDB" target="_blank">oracle</a> <a href="http://www.iteye.com/forums/tag/DB2" target="_blank">DB2</a> <a href="http://www.iteye.com/forums/tag/SQLServer" target="_blank">SQLServer</a> <a href="http://www.iteye.com/forums/tag/PostgreSQL" target="_blank">PostgreSQL</a> <a href="http://www.iteye.com/forums/tag/MacOSX" target="_blank">MacOSX</a> <a href="http://www.iteye.com/forums/tag/Unix" target="_blank">Unix</a> <a href="http://www.iteye.com/forums/tag/Technology" target="_blank">编程综合</a> <a href="http://www.iteye.com/forums/tag/OS" target="_blank">OS</a>
<a href="http://www.iteye.com/forums/43/topics/846536/posts/new" title="发表回复"></a></p>
<p><a href="http://www.iteye.com/clicks/593" target="_blank">最成熟稳定甘特图控件,支持Java和.Net</a></p>
<p>« 上一页 1 <a href="http://www.iteye.com/topic/846536?page=2" target="_blank">2</a> <a href="http://www.iteye.com/topic/846536?page=3" target="_blank">3</a> <a href="http://www.iteye.com/topic/846536?page=2" target="_blank">下一页 »</a>
浏览 17684 次
 <a href="http://www.iteye.com/topic/846536" target="_blank">主题：Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了</a></p>
<p>精华帖 (0) :: 良好帖 (0) :: 新手帖 (0) :: 隐藏帖 (1) 作者 正文 * cuisuqiang</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://cuisuqiang.iteye.com/" target="_blank"><img src="&quot;cuisuqiang的博客: 风中落叶&quot;" alt="cuisuqiang的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 30</li>
<li>积分: 60</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-19  </li>
</ul>
<p><a href="http://www.iteye.com/topic/846536#" target="_blank">&lt;</a> <a href="http://www.iteye.com/topic/846536#" target="_blank">&gt;</a> 猎头职位:</p>
<p>相关文章: <a href="http://www.iteye.com/topic/846536#" title="关闭" target="_blank"> </a></p>
<ul>
<li><a href="http://www.iteye.com/topic/48315" title="RHAS4安装oracle10g步骤" target="_blank">RHAS4安装oracle10g步骤</a></li>
<li><a href="http://www.iteye.com/topic/39577" title="oracle9i installation on fedora core 6 " target="_blank">oracle9i installation on fedora core 6</a></li>
<li><a href="http://www.iteye.com/topic/78485" title="Redhat9.2 安装ORACLE 10.1g " target="_blank">Redhat9.2 安装ORACLE 10.1g</a>
推荐群组: <a href="http://grails.group.iteye.com/" target="_blank">Groovy on Grails</a>
<a href="http://www.iteye.com/wiki/topic/846536" target="_blank">更多相关推荐</a></li>
</ul>
<p>1.安装JDK
<a href="http://java.sun.com" target="_blank">http://java.sun.com</a>
(1) 下载后的BIN文件可以直接执行
/# chmod 755 jdk-1.6.0_23-linux-i586.rpm.bin
/# ./ jdk-1.6.0_23-linux-i586.rpm.bin
此步完成后，会生成jdk-1.6.0_23-linux-i586.rpm的文件
默认安装到了/usr/java/jdk1.6.0_23
(2) /etc/profile  设置环境变量
增加如下内容：
JAVA_HOME=/usr/java/jdk1.6.0_23
JRE_HOME=/usr/java/jdk1.6.0_23/jre
PATH=$PATH:$JAVA_HOME/bin:JRE_HOME/bin
CLASSPATH=.:$JAVA_HOME/lib/jt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib
export JAVA_HOME JRE_HOME PATH CLASSPATH
按Esc,然后:wq保存退出
使环境变量生效 source /etc/profile
查看:  echo $JAVA_HOME (会显示JDK所在目录)
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
2.检查安装包
make-3.79.1
gcc-3.2.3-34
glibc-2.3.2-95.20
glibc-devel-2.5-12.i386.rpm
glibc-headers-2.5-12.i386.rpm
compat-db-4.0.14-5
compat-gcc-7.3-2.96.128
compat-gcc-c++-7.3-2.96.128 compat-libstdc++-7.3-2.96.128
compat-libstdc++-devel-7.3-2.96.128
libXpm-3.5.5-3.i386.rpm libXp
openmotif21-2.1.30-8 setarch-1.3-1
libgomp-4.1.1-52.el5.i386.rpm
查询所需安装包是否完整
rpm -q gcc make binutils openmotif setarch compat-db compat-gcc compat-gcc-c++ compat-libstdc++ compat-libstdc++-devel libXp
由于缺失的包之间有严格的依赖关系，所以必须按照如下顺序安装缺失的包
rpm -Uvh compat-db-4/</em>
rpm -Uvh libaio-0/<em>
rpm -Uvh compat-libstdc++-33-3/</em>
rpm -Uvh glibc-headers-2.5-12.i386.rpm
rpm -Uvh glibc-devel-2.5-12.i386.rpm
rpm -Uvh compat-gcc-34-3/<em>
rpm -Uvh compat-gcc-34-c++-3/</em>
rpm -Uvh libXp-1/<em>
rpm -Uvh openmotif-2/</em>
rpm -Uvh gcc-4/<em>
rpm -Uvh glibc-2.5-12.i686.rpm
rpm -Uvh libgomp-4.1.1-52.el5.i386.rpm
rpm -Uvh gcc-4.1.1-52.el5.i386.rpm
安装完成后仍然提示部分包没有安装，不过不影响使用
package compat-gcc is not installed
package compat-gcc-c++ is not installed
package compat-libstdc++ is not installed
package compat-libstdc++-devel is not installed
另一种说法：
查询所需安装包是否完整
rpm -q gcc make binutils openmotif setarch libXp
而对于需要安装的包，按如下关键字搜索和安装即可 compat -&gt; libXp -&gt; openmotif 全部安装完毕即可(我是这样做的)
/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
3.增加Oracle安装和使用的用户
(1) 新增组和用户
groupadd oinstall
groupadd dba
groupadd oper
useradd -g oinstall -G dba oracle
passwd oracle
(2) 创建Oracle的安装目录，并把权限付给oracle用户,其实创建用户后就已经有该文件了
mkdir -p /home/oracle/
chown -R oracle:oinstall /home/oracle
chmod -R 775 /home/oracle
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
4.修改配置文件
(1) /etc/sysctl.conf  行末添加以下内容，已有的修改
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
/# semaphors: semmsl, semmns, semopm, semmni
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
net.core.rmem_default=262144
net.core.rmem_max=262144
net.core.wmem_default=262144
net.core.wmem_max=262144
运行下面的命令使得内核参数生效
/sbin/sysctl -p
(2) /etc/security/limits.conf  行末添加以下内容
/#use for oracle
/</em> soft nproc 2047
/<em> hard nproc 16384
/</em> soft nofile 1024
/<em> hard nofile 65536
(3) /etc/pam.d/login  行末添加以下内容
session required pam_limits.so
(4) /etc/selinux/config
更改 SELINUX=disabled 关闭防火墙，必须的
(5) /etc/redhat-release  Linux版本信息，5不支持Oracle，安装后可以改回去
Red Hat Enterprise Linux AS release 3 (Taroon)
或Red Hat Enterprise Linux AS release 4 (Nahant Update 4)
(6) gedit /etc/profile 就是增加JDK配置的文件，在增加JDK配置后紧接着增加如下内容
if [ $USER = &quot;oracle&quot; ];then
if [ $SHELL = &quot;/bin/ksh&quot; ]; then
ulimit -p 16384
ulimit -n 65536
else
ulimit -u 16384 -n 65536
fi
fi
(6) bash_profile 在创建用户后在用户的目录下有一个.bash_profile(使用Oracle用户)
并在文件中增加如下内容
(ORACLE_BASE是最重要的，他代表Oracle的安装路径)
(在安装时就可以创建数据库，如果安装完毕重启，则再启动监听时无法启动，则要注意ORACLE_HOME在数据库安装后要根据实际路径进行修改)
ORACLE_BASE=/home/oracle/oracle
ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1
ORACLE_SID=CUI
PATH=$PATH:$HOME/bin:$ORACLE_HOME/bin
LD_LIBRARY_PATH=$ORACLE_HOME/lib:/usr/lib
export ORACLE_BASE ORACLE_HOME ORACLE_SID PATH LD_LIBRARY_PATH
/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
5.解压(使用Oracle用户)
unzip 10201_database_linux32.zip -d /tmp/oracle
改权限
chown oracle /tmp/oracle
chmod -R  755 /tmp/oracle
安装
到根目录下：./runInstaller
(如果安装时不创建数据库，可以在Oracle_HOME/bin 下运行 dbca 来创建和管理数据库)
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
6.配置Oracle在Linux下的命令
(1) 修改Rehhat版本信息
/etc/redhat-release 将版本改为原来版本
(2) 启动数据库与监听
/etc/oratab
SID名字:/Oracle/app/product/10.2.0/db_1:N为
oracle:/Oracle/app/product/10.2.0/db_1:Y
$Oracle_HOME/bin/dbstart
把其中的Oracle_HOME_LISTNER=什么东西，注释掉
加上    Oracle_HOME_LISTNER=$Oracle_HOME
修改/增加配置文件，起名字叫oracle,添加下面的script
(如果.bash_profile文件中配置过的话，就把export注销)
===== Script ====
/#!/bin/bash
/#
/# chkconfig: 35 95 1
/# description: init script to start/stop oracle database 10g, TNS listener, EMS
/# match these values to your environment:
export ORACLE_BASE=/u01/app/oracle
export ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1
export ORACLE_TERM=xterm
export PATH=/u01/app/oracle/bin:$ORACLE_HOME/bin:$PATH
export ORACLE_SID=oracle
export DISPLAY=localhost:0
export ORACLE_USER=oracle
/# see how we are called:
case $1 in
start)
su - &quot;$ORACLE_USER&quot;&lt;&lt;EOO
lsnrctl start
sqlplus /nolog&lt;&lt;EOS
connect / as sysdba
startup
EOS
emctl start dbconsole
EOO
touch /var/lock/subsys/$scriptname
;;
stop)
su - &quot;$ORACLE_USER&quot;&lt;&lt;EOO
lsnrctl stop
sqlplus /nolog&lt;&lt;EOS
connect / as sysdba
shutdown immediate
EOS
emctl stop dbconsole
EOO
rm -f /var/lock/subsys/scriptname
;;
/</em>)
echo &quot;Usage: $0 {start|stop}&quot;
;;
esac
===========end of script==============
授权
chown root:root /etc/rc.d/init.d/oracle
chmod 755 /etc/rc.d/init.d/oracle
(3) 启动/关闭服务
service oracle start / service oracle stop
(有可能启动会报syntax error: unexpected end of file错)
(这是因为回车的问题,你用vi把它去掉。在windows里，换行用的两个符号，回车符\r换行符\n；在linux下只需一个符号\n就可以了)
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
附(一):卸载（简单，全是rm）
1)使用SQL/</em>PLUS停止数据库
$ sqlplus /nolog
SQL&gt; connect / as sysdba
SQL&gt; shutdown [immediate]
SQL&gt; exit
2)停止Listener
$ lsnrctl stop
3)停止HTTP服务
$ $ORACLE_HOME/Apache/Apache/bin/apachectl stop
4)用su或者重新登录到root
(1)运行 $ORACLE_HOME/bin/localconfig delete
(2)/# rm -rf $ORACLE_BASE//*
(3)/# rm -f /etc/oraInst.loc /etc/oratab
(4)/# rm -rf /etc/oracle
(5)/# rm -f /etc/inittab.cssd
(6)/# rm -f /usr/local/bin/coraenv
(7)/# rm -f /usr/local/bin/dbhome
(8)/# rm -f /usr/local/bin/oraenv
(9)删除oracle用户和组
userdel –r oracle
groupdel oinstall
groupdel dba
(10)将启动服务删除
chkconfig --del dbora
附(二):正常模式启动和关闭数据库
9i 之后已经没有 svrmgrl 了，所有的管理工作都通过 sqlplus 来完成
启动数据库步骤如下:
注:$ORACLE_HOME为oracle的安装路径
1,以oracle用户登录
su oracle
2,启动TNS监听器
$ORACLE_HOME/bin/lsnrctl start
3,用sqlplus启动数据库
$ORACLE_HOME/bin/sqlplus /nolog
SQL&gt; connect system/change_on_install as sysdba
SQL&gt; startup
出现如下显示，表示Oracle已经成功启动
ORACLE instance started.
Total System Global Area  205520896 bytes
Fixed Size                   778392 bytes
Variable Size              74456936 bytes
Database Buffers          130023424 bytes
Redo Buffers                 262144 bytes
Database mounted.
Database opened.
4,用sqlplus停止数据库
$ORACLE_HOME/bin/sqlplus /nolog
SQL&gt; connect system/change_on_install as sysdba
SQL&gt; shutdown
注：shutdown可加关闭选项,从最温和到最粗暴的行为选项为(shutdown、shutdown transactional、shutdown immediate、shutdown abort)
命令解释如下
shutdown:关闭，等待每个用户退出系统戓被取消后退出关闭数据库
shutdown transactional:事务性关闭，等待每个用户提交戓回退当前的事务，然后oracle取消对话，在所有用户退出系统后执行关闭
shutdown immediate:直接关闭，取消所有用户对话（促使回退），执行正常的关闭程序
shutdown abort:终止关闭，关闭数据库时没有自动检查点戓日志开关
出现如下显示,表示oracle已经停止
Database closed
Database dismounted
ORACLE instance shut down
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。</p>
<p>推荐链接</p>
<p>*</p>
<ul>
<li><a href="http://www.iteye.com/clicks/617" target="_blank">20-30万急聘多名天才Java/MTA软件工程师</a></li>
<li><a href="http://www.iteye.com/clicks/508" target="_blank">3G培训就业月薪平均7K+，不3K就业不花一分钱！</a></li>
<li><a href="http://www.iteye.com/clicks/527" target="_blank">见证又一个准百万富翁的诞生！</a> <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://cuisuqiang.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=cuisuqiang" title="发送站内短信" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=cuisuqiang" title="关注作者" target="_blank"> </a>  * genggeng</li>
<li>等级: 初级会员</li>
<li><a href="http://genggeng.iteye.com/" target="_blank"><img src="&quot;genggeng的博客: gavin的技术博客 java python nosql 分布式 缓存 &quot;" alt="genggeng的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 53</li>
<li>积分: 70</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-19  </li>
</ul>
<p>shutdown immediate; <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://genggeng.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://genggeng.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=genggeng" title="发送站内短信" target="_blank"> </a> <a href="http://genggeng.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=genggeng" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1809714" title="genggeng回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * cuisuqiang</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://cuisuqiang.iteye.com/" target="_blank"><img src="&quot;cuisuqiang的博客: 风中落叶&quot;" alt="cuisuqiang的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 30</li>
<li>积分: 60</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-19  </li>
</ul>
<p>这些命令的话，我想不用那么啰嗦吧！如果需要可以到网上查查，我不保证我的方法都是最好的，希望大家提出意见 <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://cuisuqiang.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=cuisuqiang" title="发送站内短信" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=cuisuqiang" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1810087" title="cuisuqiang回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * mathgl</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://mathgl.iteye.com/" target="_blank"><img src="&quot;mathgl的博客: mathgl&quot;" alt="mathgl的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 941</li>
<li>积分: 50</li>
<li>来自: HK</li>
<li><img src="" alt="">
  发表时间：2010-12-20  </li>
</ul>
<p>cuisuqiang 写道</p>
<p>这些命令的话，我想不用那么啰嗦吧！如果需要可以到网上查查，我不保证我的方法都是最好的，希望大家提出意见
oracle在非认证过的linux版本下装确实有些啰嗦，找到好几个版本的安装流程，还不怎么一样... <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://mathgl.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://mathgl.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=mathgl" title="发送站内短信" target="_blank"> </a> <a href="http://mathgl.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=mathgl" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1810794" title="mathgl回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">1</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * cuisuqiang</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://cuisuqiang.iteye.com/" target="_blank"><img src="&quot;cuisuqiang的博客: 风中落叶&quot;" alt="cuisuqiang的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 30</li>
<li>积分: 60</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-20  </li>
</ul>
<p>mathgl 写道</p>
<p>cuisuqiang 写道</p>
<p>这些命令的话，我想不用那么啰嗦吧！如果需要可以到网上查查，我不保证我的方法都是最好的，希望大家提出意见
oracle在非认证过的linux版本下装确实有些啰嗦，找到好几个版本的安装流程，还不怎么一样...
这是Redhat5下Oracle10G的安装流程，其实其他版本的话，大同小异，可以再参考一下网上其他人的。不过相对于这个版本的来说，我觉得够全了吧 <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://cuisuqiang.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=cuisuqiang" title="发送站内短信" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=cuisuqiang" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1811273" title="cuisuqiang回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * 伤心雨</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://wang25262875-gmail-com.iteye.com/" target="_blank"><img src="&quot;伤心雨的博客: &quot;" alt="伤心雨的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 28</li>
<li>积分: 0</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-23  </li>
</ul>
<p>挺全的。。。
但是。。。真的需要安装JDK吗？ <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://wang25262875-gmail-com.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://wang25262875-gmail-com.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=%E4%BC%A4%E5%BF%83%E9%9B%A8" title="发送站内短信" target="_blank"> </a> <a href="http://wang25262875-gmail-com.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=%E4%BC%A4%E5%BF%83%E9%9B%A8" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1816005" title="伤心雨回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * mathgl</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://mathgl.iteye.com/" target="_blank"><img src="&quot;mathgl的博客: mathgl&quot;" alt="mathgl的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 941</li>
<li>积分: 50</li>
<li>来自: HK</li>
<li><img src="" alt="">
  发表时间：2010-12-23  </li>
</ul>
<p>伤心雨 写道</p>
<p>挺全的。。。
但是。。。真的需要安装JDK吗？
oracle那东西 安装还要swing呢... <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://mathgl.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://mathgl.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=mathgl" title="发送站内短信" target="_blank"> </a> <a href="http://mathgl.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=mathgl" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1816183" title="mathgl回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * cuisuqiang</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://cuisuqiang.iteye.com/" target="_blank"><img src="&quot;cuisuqiang的博客: 风中落叶&quot;" alt="cuisuqiang的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 30</li>
<li>积分: 60</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-23  </li>
</ul>
<p>伤心雨 写道</p>
<p>挺全的。。。
但是。。。真的需要安装JDK吗？
我流程里面已经写了吧！ <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://cuisuqiang.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=cuisuqiang" title="发送站内短信" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=cuisuqiang" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1816866" title="cuisuqiang回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * cuisuqiang</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://cuisuqiang.iteye.com/" target="_blank"><img src="&quot;cuisuqiang的博客: 风中落叶&quot;" alt="cuisuqiang的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 30</li>
<li>积分: 60</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-23  </li>
</ul>
<p>mathgl 写道</p>
<p>伤心雨 写道</p>
<p>挺全的。。。
但是。。。真的需要安装JDK吗？
oracle那东西 安装还要swing呢...
如果你有那个能力得话，可以考虑纯命令方式，不过我不会 <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://cuisuqiang.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=cuisuqiang" title="发送站内短信" target="_blank"> </a> <a href="http://cuisuqiang.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=cuisuqiang" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1816867" title="cuisuqiang回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">0</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票  * 伤心雨</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://wang25262875-gmail-com.iteye.com/" target="_blank"><img src="&quot;伤心雨的博客: &quot;" alt="伤心雨的博客"></a></li>
<li>性别: <img src="&quot;男&quot;" alt=""></li>
<li>文章: 28</li>
<li>积分: 0</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2010-12-24   最后修改：2010-12-24</li>
</ul>
<p>cuisuqiang 写道</p>
<p>mathgl 写道</p>
<p>伤心雨 写道</p>
<p>挺全的。。。
但是。。。真的需要安装JDK吗？
oracle那东西 安装还要swing呢...
如果你有那个能力得话，可以考虑纯命令方式，不过我不会
我教你。
1 首先安装必要工具包
mount /dev/cdrom /media/
cd /mnt/cdrom/Server/
rpm -Uvh setarch-2
rpm -Uvh make-3
rpm -Uvh glibc-2
rpm -Uvh libaio-0
rpm -Uvh compat-libstdc++-33-3
rpm -Uvh compat-gcc-34-3
rpm -Uvh compat-gcc-34-c++-3
rpm -Uvh gcc-4
rpm -Uvh libXp-1
rpm -Uvh openmotif-2
rpm -Uvh compat-db-4
编辑 /etc/hosts。文件应当包含类似以下的文本：
127.0.0.1      localhost.localdomain    localhost
192.168.203.11 stctestbox01.us.oracle.com stctestbox01
2 更改修改/etc/redhat-release文件，因为Oracle10g数据库暂不支持RHEL5：
/# vi /etc/redhat-release
/# Red Hat Enterprise Linux Server release 5.2 (Tikanga)
redhat-4
3 Oracle数据库必须在Oracle用户下才能安装。故，建立相应的用户群组、用户，以及设置相应的目录属主
、目录权限。切记，要给Oracle用户设置密码哦，同时，密码要符合复杂性要求，譬如：weiguo520.。
groupadd oinstall
groupadd dba
groupadd oper
useradd -g oinstall -G dba oracle
mkdir -p /opt/oracle/or10g
chown -R oracle.oinstall /opt/oracle
chmod -R 775 /opt/oracle
passwd oracle
4 配置内核相关参数，以便支持Oracle数据库。
/# vim /etc/sysctl.conf
/# For Oracle
kernel.shmmni = 4096
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip<em>local_port_range = 1024 65000
net.core.rmem_default = 262144
net.core.rmem_max = 262144
net.core.wmem_default = 262144
net.core.wmem_max = 262144
5 设置Oracle用户Shell limit。
/# vim /etc/security/limits.conf
/# For Oracle
oracle soft nproc 2047
oracle hard nproc 16384
oracle soft nofile 1024
oracle hard nofile 65536
6 在/etc/pam.d/login file文件末端添加相关内容，如果它已经存在则退出。
/# vim /etc/pam.d/login
/# For Oracle
session    required     /lib/security/pam_limits.so
7 修改Oracle用户语言环境，注销掉root用户，以oracle用户登录系统。
$ touch .i18n
$ vi .i18n
export LC_CTYPE=&quot;US_en&quot;
也可以不执行。但是在安装过程中在命令行执行export LC_CTYPE=&quot;US_en&quot;
8 配置Oracle用户环境变量，以便支持Oracle数据库安装以及今后的操作、维护。
$ vim .bash_profile
/# For Oracle
TMP=/tmp; export TMP
TMPDIR=$TMP; export TMPDIR
ORACLE_BASE=/opt/oracle; export ORACLE_BASE   /#自己的路径oracle安装路径的上级路径
ORACLE_HOME=$ORACLE_BASE/or10g; export ORACLE_HOME   /#自己的oracle安装路径
ORACLE_SID=orcl; export ORACLE_SID     /#自己的 数据库实例
ORACLE_TERM=xterm; export ORACLE_TERM
PATH=/usr/sbin:$PATH; export PATH
PATH=$ORACLE_HOME/bin:$PATH; export PATH
LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib; export LD_LIBRARY_PATH
CLASSPATH=$ORACLE_HOME/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib; export CLASSPATH
if [ $USER = &quot;oracle&quot; ]; then
       if [ $SHELL = &quot;/bin/ksh&quot; ]; then
             ulimit -p 16384
             ulimit -n 65536
       else
             ulimit -u 16384 -n 65536
       fi
fi
9 启动安装，首先运行xhost hostname命令启动X-Windows安装界面，如下图所示：
$ xhost mail.weiguo.com
$ unzip 10201_database_linux32.zip
$ cd database
$ ./runInstaller
10 修改dbstart
找到ORACLE_HOME_LISTNER=/ade/vikrkuma_new/oracle这行， 修改成:
ORACLE_HOME_LISTNER=/u01/app/product/10.2.0/db_1
或者直接修改成：
ORACLE_HOME_LISTNER=$ORACLE_HOME
测试运行
oracle$dbshut
oracle$dbstart
看能否启动或关闭oracle 服务及listener服务
oracle$ ps -efw | grep ora</em>
oracle$ lsnrctl status
oracle$ ps -efw | grep LISTEN | grep -v grep
11 自启动
首先使用root用户修改：
编辑/etc/oratab， (将N该为Y)
orcl:/oracle/app/product/10.2.0/db_1:N (将N该为Y)
在root下/etc/init.d/路径中建立oracle
/#!/bin/bash
/# chkconfig:345 99 10
/# description: Startup Script for oracle Databases
export ORACLE_BASE=/opt/oracle
export ORACLE_HOME=/opt/oracle/or10g
export ORACLE_SID=orcl
export PATH=$ORACLE_HOME/bin:$PATH
case &quot;$1&quot; in
  start)
    /#
    /#oracle10g start
    /#
    echo -n &quot;Starting Oracle&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/dbstart&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/emctl start dbconsole&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/lsnrctl start&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/isqlplusctl start&quot;
    ;;
  stop)
    /#
    /#oracle stop
    /#
    echo -n &quot;Shutdown Oracle.&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/emctl stop dbconsole&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/isqlplusctl stop&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/dbshut&quot;
    su - oracle -c &quot;$ORACLE_HOME/bin/lsnrctl stop&quot;
    ;;
  restart)
    /#
    /#oracle restart
    /# 
    $0 stop
    $0 start
    ;;
    /*)
    echo &quot;Oracle10g start|stop|restart&quot;
    exit 1
esac
exit 0
12 加入服务
/#service oracle start    测试oracle能不能启动
/#chkconfig --add oracle
/#chkconfig --level 345 oracle on
/#chkconfig --list oracle 看运行情况
dbua中文运行方法:
前提安装了JDK1.5或者更高的版本。
修改dbua文件
找到 JRE_DIR文件修改为  $JAVA_HOME/jre就可以运行中文环境了。
13 打补丁
停止一切oracle。然后运行运行补丁程序
修改 dbstart dbshut中让ORACLE_HOME_LISTNER=$1改为
ORACLE_HOME_LISTNER=$ORACLE_HOME
dbua
重新启动
14、清理日志文件。（解决非正常关闭数据库引起的数据库无法启动）
alter database clear unarchived logfile group 2;
alter database open; <a href="http://www.iteye.com/topic/846536#" target="_blank">返回顶楼</a> <a href="http://wang25262875-gmail-com.iteye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://wang25262875-gmail-com.iteye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.iteye.com/messages/new?message%5Breceiver_name%5D=%E4%BC%A4%E5%BF%83%E9%9B%A8" title="发送站内短信" target="_blank"> </a> <a href="http://wang25262875-gmail-com.iteye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://app.iteye.com/feed?subscription%5Bsubscribed_user_name%5D=%E4%BC%A4%E5%BF%83%E9%9B%A8" title="关注作者" target="_blank"> </a> <a href="http://www.iteye.com/topic/846536#1817131" title="伤心雨回帖:Redhat 5 下 Oracle10g 安装，相信没有比这个更全的了" target="_blank">回帖地址</a></p>
<p><a href="http://www.iteye.com/topic/846536#" title="好" target="_blank">1</a> <a href="http://www.iteye.com/topic/846536#" title="差" target="_blank">0</a> 请登录后投票</p>
<p><a href="http://www.iteye.com/forums/43/topics/846536/posts/new" title="发表回复"></a></p>
<p>« 上一页 1 <a href="http://www.iteye.com/topic/846536?page=2" target="_blank">2</a> <a href="http://www.iteye.com/topic/846536?page=3" target="_blank">3</a> <a href="http://www.iteye.com/topic/846536?page=2" target="_blank">下一页 »</a>
<a href="http://www.iteye.com/forums" target="_blank">论坛首页</a> → <a href="http://www.iteye.com/forums/board/Tech" target="_blank">综合技术版</a> → <a href="http://www.iteye.com/forums/tag/Linux" target="_blank">Linux</a>
跳转论坛:Java编程和Java企业应用 Web前端技术 移动编程和手机应用开发 C/C++编程 Ruby编程 Python编程 PHP编程 Flash编程和RIA Microsoft .Net 综合技术 软件开发和项目管理 行业应用 入门讨论 招聘求职 海阔天空</p>
<ul>
<li><a href="http://www.iteye.com/jobs/1139" title="北京:ThoughtWorks诚聘Architect" target="_blank">北京: ThoughtWorks诚聘Architect</a></li>
<li><a href="http://www.iteye.com/jobs/1889" title="北京:国政通诚聘互联网软件开发工程师" target="_blank">北京: 国政通诚聘互联网软件开发工程师</a></li>
<li><p><a href="http://www.iteye.com/jobs/1829" title="上海:Scilearn China诚聘Web 用户界面工程师" target="_blank">上海: Scilearn China诚聘Web 用户界面工程师</a></p>
</li>
<li><p><a href="http://www.iteye.com/" target="_blank">首页</a></p>
</li>
<li><a href="http://www.iteye.com/news" target="_blank">资讯</a></li>
<li><a href="http://www.iteye.com/magazines" target="_blank">精华</a></li>
<li><a href="http://www.iteye.com/forums" target="_blank">论坛</a></li>
<li><a href="http://www.iteye.com/ask" target="_blank">问答</a></li>
<li><a href="http://www.iteye.com/blogs" target="_blank">博客</a></li>
<li><a href="http://www.iteye.com/groups" target="_blank">群组</a></li>
<li><a href="http://www.iteye.com/job" target="_blank">招聘</a></li>
<li><a href="http://www.iteye.com/search" target="_blank">搜索</a></li>
<li><a href="http://www.iteye.com/index/service" target="_blank">广告服务</a></li>
<li><a href="http://webmaster.iteye.com/" target="_blank">ITeye黑板报</a></li>
<li><a href="http://www.iteye.com/index/contactus" target="_blank">联系我们</a></li>
<li><a href="http://www.iteye.com/index/friend_links" target="_blank">友情链接</a></li>
</ul>
<p>© 2003-2011 ITeye.com. [ <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP证110151号</a> 京公网安备110105010620 ]</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/安装/">安装</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/安装/" class="label label-info">安装</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-安装--Redhat5下Oracle10g安装，相信没有比这个更全的了-Linux-Tech/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-安装--Redhat5下Oracle10g安装，相信没有比这个更全的了-Linux-Tech" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--MySQL忘记root密码，解决办法/">MySQL 忘记root密码，解决办法</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--MySQL忘记root密码，解决办法/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="mysql-root-">MySQL 忘记root密码，解决办法</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/blogs/subjects" target="_blank">专栏</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="">更多 ▼</a></p>
<p><a href="http://job.iteye.com/iteye" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://snowolf.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://snowolf.iteye.com/login" target="_blank">登录</a> <a href="http://snowolf.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-snowolf-http-snowolf-iteye-com-"><a href="http://snowolf.iteye.com/" target="_blank">Snowolf的意境空间！</a></h1>
<ul>
<li><a href="http://snowolf.iteye.com/" target="_blank"><strong>博客</strong></a></li>
<li><a href="http://snowolf.iteye.com/weibo" target="_blank">微博</a></li>
<li><a href="http://snowolf.iteye.com/album" target="_blank">相册</a></li>
<li><a href="http://snowolf.iteye.com/link" target="_blank">收藏</a></li>
<li><a href="http://snowolf.iteye.com/blog/guest_book" target="_blank">留言</a></li>
<li><a href="http://snowolf.iteye.com/blog/profile" target="_blank">关于我</a></li>
</ul>
<h3 id="-mysql-root-"><a href="">MySQL 忘记root密码，解决办法</a> **</h3>
<p><strong>博客分类：</strong></p>
<ul>
<li><a href="http://snowolf.iteye.com/category/34962" target="_blank">DB／MySQL</a>
<a href="http://www.iteye.com/blogs/tag/mysql" target="_blank">mysql</a><a href="http://www.iteye.com/blogs/tag/root" target="_blank">root</a></li>
</ul>
<p>今天遇到个破问题：用了N久的MySQL要新建数据库，竟然忘记了密码。<img src="" alt=""> 而这个问题居然也很常见！<img src="" alt="">
要修改MySQL的root密码，有两个先决条件：</p>
<ul>
<li>有修改MySQL配置文件的权限</li>
<li>有重启MySQL服务的权限
先修改配置文件：
引用</li>
</ul>
<p>/# vim /etc/my.cnf
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
/# Default to using old password format for compatibility with mysql 3.x
/# clients (those using the mysqlclient10 compatibility package).
old_passwords=1
/# Disabling symbolic-links is recommended to prevent assorted security risks;
/# to do so, uncomment this line:
/# symbolic-links=0
[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
在<strong>[mysqld]</strong>下增加<strong>skip-grant-tables</strong>，即跳过权限验证。
然后登录MySQL，修改root密码：
引用</p>
<p>/# mysql
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.0.95 Source distribution
Copyright (c) 2000, 2011, Oracle and/or its affiliates. All rights reserved.
Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.
Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.
mysql&gt; use mysql;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A
Database changed
mysql&gt; update user SET Password = password(&#39;<Your Password>&#39;) where user=&#39;root&#39;;
Query OK, 3 rows affected (0.00 sec)
Rows matched: 3  Changed: 3  Warnings: 0
mysql&gt; flush privileges ;
Query OK, 0 rows affected (0.00 sec)
mysql&gt; quit
Bye
然后把刚才修改的配置文件再改回来，最后重启服务：
引用</p>
<p>/# service mysqld restart
停止 MySQL：                                               [确定]
启动 MySQL：                                               [确定]
大功告成！<img src="" alt="">
PS：更果断的办法：
引用</p>
<p>关闭mysqld
命令行执行 mysqld --skip-grant-tables &amp; 无密码登陆！
突然了解了，黑客入侵，就这么简单。。。。<img src="" alt="">
<strong>5</strong>
顶</p>
<p><strong>4</strong>
踩</p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a></p>
<p><a href="http://snowolf.iteye.com/blog/1627343" title="Eclipse+Maven快速生成Web项目，解决部署时Maven lib依赖问题" target="_blank">Eclipse+Maven快速生成Web项目，解决部署 ...</a> | <a href="http://snowolf.iteye.com/blog/1622203" title="Linux环境小问题——Get HostName Error" target="_blank">Linux环境小问题——Get HostName Error</a></p>
<ul>
<li>2012-08-08 18:09</li>
<li>浏览 3165</li>
<li><a href="">评论(4)</a></li>
<li>分类:<a href="http://www.iteye.com/blogs/category/database" target="_blank">数据库</a></li>
<li><a href="http://www.iteye.com/wiki/blog/1625674" target="_blank">相关推荐</a></li>
</ul>
<h3 id="-">评论</h3>
<p><a href=""></a></p>
<p>4 楼 <a href="http://snowolf.iteye.com/" title="snowolf" target="_blank">snowolf</a> 2012-08-09  </p>
<p>dwangel 写道</p>
<p>先关掉mysqld
然后，直接命令行执行 mysqld --skip-grant-tables &amp;就可以了。
不用改配置。
改配置要改过去，还要改回来。
这个果断！！！<img src="" alt="">
3 楼 <a href="http://dwangel.iteye.com/" title="dwangel" target="_blank">dwangel</a> 2012-08-09  </p>
<p>先关掉mysqld
然后，直接命令行执行 mysqld --skip-grant-tables &amp;就可以了。
不用改配置。
改配置要改过去，还要改回来。</p>
<p>2 楼 <a href="http://jinnianshilongnian.iteye.com/" title="jinnianshilongnian" target="_blank">jinnianshilongnian</a> 2012-08-09  </p>
<p><img src="" alt=""> ，哈哈哈
我转载了啊<img src="" alt="">
1 楼 <a href="http://smiky.iteye.com/" title="smiky" target="_blank">smiky</a> 2012-08-09  </p>
<p>其实最简单的办法是找一个安装好了的mysql,其对应安装目录下的系统数据库内的文件全部copy到有问题的mysql下就OK了</p>
<h3 id="-">发表评论</h3>
<p><a href="http://snowolf.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://snowolf.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://snowolf.iteye.com/" target="_blank"><img src="&quot;snowolf的博客: Snowolf的意境空间！&quot;" alt="snowolf的博客"></a></p>
<p>snowolf</p>
<ul>
<li>浏览: 902575 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 北京</li>
<li><img src="" alt=""><h3 id="-http-snowolf-iteye-com-blog-user_visits-">最近访客 <a href="http://snowolf.iteye.com/blog/user_visits" target="_blank">更多访客&gt;&gt;</a></h3>
</li>
</ul>
<p><a href="http://wdr.iteye.com/" target="_blank"><img src="&quot;D_e_人的博客: 醉爱Java&quot;" alt="D_e_人的博客"></a></p>
<p><a href="http://wdr.iteye.com/" title="D_e_人" target="_blank">D<em>e</em>人</a></p>
<p><a href="http://201308215603.iteye.com/" target="_blank"><img src="&quot;华个子的博客: &quot;" alt="华个子的博客"></a></p>
<p><a href="http://201308215603.iteye.com/" title="华个子" target="_blank">华个子</a>
<a href="http://torry-he.iteye.com/" target="_blank"><img src="&quot;torry_he的博客: &quot;" alt="torry_he的博客"></a></p>
<p><a href="http://torry-he.iteye.com/" title="torry_he" target="_blank">torry_he</a></p>
<p><a href="http://cxzucc.iteye.com/" target="_blank"><img src="&quot;cxzucc的博客: &quot;" alt="cxzucc的博客"></a></p>
<p><a href="http://cxzucc.iteye.com/" title="cxzucc" target="_blank">cxzucc</a></p>
<h3 id="-">文章分类</h3>
<ul>
<li><a href="http://snowolf.iteye.com/" target="_blank">全部博客 (161)</a></li>
<li><a href="http://snowolf.iteye.com/category/44718" target="_blank">职场 &amp;&amp; 心情 (22)</a></li>
<li><a href="http://snowolf.iteye.com/category/28520" target="_blank">Java／Basic (17)</a></li>
<li><a href="http://snowolf.iteye.com/category/102898" target="_blank">Java／Compression (7)</a></li>
<li><a href="http://snowolf.iteye.com/category/68576" target="_blank">Java／Security (22)</a></li>
<li><a href="http://snowolf.iteye.com/category/147023" target="_blank">Java／Maven (3)</a></li>
<li><a href="http://snowolf.iteye.com/category/214766" target="_blank">Java／Cache (11)</a></li>
<li><a href="http://snowolf.iteye.com/category/38039" target="_blank">Eclipse (4)</a></li>
<li><a href="http://snowolf.iteye.com/category/28518" target="_blank">Spring (19)</a></li>
<li><a href="http://snowolf.iteye.com/category/39212" target="_blank">ORM／Hibernate (2)</a></li>
<li><a href="http://snowolf.iteye.com/category/36643" target="_blank">ORM／iBatis (3)</a></li>
<li><a href="http://snowolf.iteye.com/category/28851" target="_blank">DB／NoSQL (10)</a></li>
<li><a href="http://snowolf.iteye.com/category/34962" target="_blank">DB／MySQL (7)</a></li>
<li><a href="http://snowolf.iteye.com/category/93301" target="_blank">DB／MS SQL Server (4)</a></li>
<li><a href="http://snowolf.iteye.com/category/64032" target="_blank">OS／Linux (10)</a></li>
<li><a href="http://snowolf.iteye.com/category/124565" target="_blank">OS／Mac (7)</a></li>
<li><a href="http://snowolf.iteye.com/category/67920" target="_blank">C／C++ (4)</a></li>
<li><a href="http://snowolf.iteye.com/category/48004" target="_blank">Server Architecture／Basic (11)</a></li>
<li><a href="http://snowolf.iteye.com/category/64267" target="_blank">Server Architecture／Distributed (17)</a></li>
<li><a href="http://snowolf.iteye.com/category/51869" target="_blank">Moblie／Andriod (2)</a></li>
<li><a href="http://snowolf.iteye.com/category/64109" target="_blank">WebService (3)</a></li>
<li><a href="http://snowolf.iteye.com/category/195003" target="_blank">Objective-C (1)</a></li>
<li><a href="http://snowolf.iteye.com/category/28519" target="_blank">Html (1)</a></li>
<li><a href="http://snowolf.iteye.com/category/68028" target="_blank">设计模式 (1)</a></li>
<li><a href="http://snowolf.iteye.com/category/271868" target="_blank">Scala (0)</a></li>
<li><p><a href="http://snowolf.iteye.com/category/274875" target="_blank">Kafka (1)</a></p>
<h3 id="-">社区版块</h3>
</li>
<li><p><a href="http://snowolf.iteye.com/blog/news" target="_blank">我的资讯</a> (0)</p>
</li>
<li><a href="http://snowolf.iteye.com/blog/post" target="_blank">我的论坛</a> (66)</li>
<li><a href="http://snowolf.iteye.com/blog/answered_problems" target="_blank">我的问答</a> (4)</li>
</ul>
<h3 id="-">存档分类</h3>
<ul>
<li><a href="http://snowolf.iteye.com/blog/monthblog/2013-05" target="_blank">2013-05</a> (2)</li>
<li><a href="http://snowolf.iteye.com/blog/monthblog/2013-04" target="_blank">2013-04</a> (1)</li>
<li><a href="http://snowolf.iteye.com/blog/monthblog/2013-03" target="_blank">2013-03</a> (3)</li>
<li><p><a href="http://snowolf.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">评论排行榜</h3>
</li>
<li><p><a href="http://snowolf.iteye.com/blog/1667104" title="征服 Redis + Jedis + Spring （二）—— 哈希表操作（HMGET HMSET）" target="_blank">征服 Redis + Jedis + Spring （二）—— ...</a></p>
</li>
<li><a href="http://snowolf.iteye.com/blog/1681944" title="MySQL 查询时强制区分大小写" target="_blank">MySQL 查询时强制区分大小写</a></li>
<li><a href="http://snowolf.iteye.com/blog/1679923" title="MySQL 运维笔记（一）—— 终止高负载SQL" target="_blank">MySQL 运维笔记（一）—— 终止高负载SQL</a></li>
<li><a href="http://snowolf.iteye.com/blog/1666908" title="征服 Redis + Jedis + Spring （一）—— 配置&amp;常规操作（GET SET DEL）" target="_blank">征服 Redis + Jedis + Spring （一）—— ...</a></li>
<li><a href="http://snowolf.iteye.com/blog/1748094" title="我的职场生涯（十）——又一个两年" target="_blank">我的职场生涯（十）——又一个两年</a></li>
</ul>
<h3 id="-">最新评论</h3>
<ul>
<li><a href="http://dbh0512.iteye.com/" title="dbh0512" target="_blank">dbh0512</a>： 这样操作只是在缓存中读取吗?项目中是不是只有在海量频繁读取某一 ...
<a href="http://snowolf.iteye.com/blog/1666908#bc2322585" target="_blank">征服 Redis + Jedis + Spring （一）—— 配置&amp;常规操作（GET SET DEL）</a></li>
<li><a href="http://jacy9.iteye.com/" title="愤怒的程序猿" target="_blank">愤怒的程序猿</a>： LZ:keytool错误:java.lang.Exceptio ...
<a href="http://snowolf.iteye.com/blog/397693#bc2322089" target="_blank">Java加密技术（九）——初探SSL</a></li>
<li><a href="http://snowolf.iteye.com/" title="snowolf" target="_blank">snowolf</a>： juwend 写道如果被加密的明文使用String ming ...
<a href="http://snowolf.iteye.com/blog/381767#bc2321550" target="_blank">Java加密技术（四）——非对称加密算法RSA</a></li>
<li><a href="http://simylau.iteye.com/" title="simylau" target="_blank">simylau</a>： water_lang 写道@Autowired      pr ...
<a href="http://snowolf.iteye.com/blog/577989#bc2320738" target="_blank">Spring 注解学习手札（一） 构建简单Web应用</a></li>
<li><a href="http://ifox.iteye.com/" title="ifox" target="_blank">ifox</a>： phrmgb 写道学习了，这些东东有时感觉很偏的，但是特殊的业 ...
<a href="http://snowolf.iteye.com/blog/1329649#bc2319809" target="_blank">Java关键字——transient</a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2012 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]
<img src="http://stat.iteye.com/?url=http%3A%2F%2Fsnowolf.iteye.com%2Fblog%2F1625674&amp;referrer=http%3A%2F%2Fsnowolf.iteye.com%2F%3Fpage%3D2&amp;user_id=" alt=""> <img src="http://dt.tongji.linezing.com/tongji.do?unit_id=1122445&amp;uv_id=15753577192130187469&amp;uv_new=0&amp;cna=&amp;cg=&amp;mid=&amp;mmland=&amp;ade=&amp;adtm=&amp;sttm=&amp;cpa=&amp;ss_id=3627902245&amp;ss_no=4&amp;ec=1&amp;ref=http%3A//snowolf.iteye.com/%3Fpage%3D2&amp;url=http%3A//snowolf.iteye.com/blog/1625674&amp;title=MySQL %u5FD8%u8BB0root%u5BC6%u7801%uFF0C%u89E3%u51B3%u529E%u6CD5 - Snowolf%u7684%u610F%u5883%u7A7A%u95F4%uFF01 - ITeye%u6280%u672F%u7F51%u7AD9&amp;charset=utf-8&amp;domain=iteye.com&amp;hashval=909&amp;filtered=0&amp;app=Microsoft Internet Explorer&amp;agent=Mozilla/5.0 %28compatible%3B MSIE 9.0%3B Windows NT 6.1%3B WOW64%3B Trident/5.0%3B SLCC2%3B .NET CLR 2.0.50727%3B .NET CLR 3.5.30729%3B .NET CLR 3.0.30729%3B Media Center PC 6.0%3B .NET4.0C%3B .NET4.0E%3B InfoPath.3%29&amp;color=24-bit&amp;screen=1600x900&amp;lg=zh-cn&amp;je=1&amp;fv=10.0&amp;st=1377062586&amp;vc=eee3dea2&amp;ut=2&amp;url_id=0&amp;cnu=0.8579118113412903" alt=""><a href="http://tongji.alimama.com/report.html?unit_id=1122445" target="_blank"><img src="" alt="量子统计"></a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--MySQL忘记root密码，解决办法/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--MySQL忘记root密码，解决办法" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--本地phpmyadmin访问远程mysql数据库/">本地phpmyadmin访问远程mysql数据库</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--本地phpmyadmin访问远程mysql数据库/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-phpmyadmin-mysql-">本地phpmyadmin访问远程mysql数据库</h1>
<p><strong>方法：</strong></p>
<p><strong>1、在本地访问phpmyadmin 可查看远程mysql数据库,phpMyAdmin 3.3.1只需要修改 $cfg[&#39;Servers&#39;][$i][&#39;host&#39;]的值;</strong></p>
<p><strong>2、修改</strong>libraries目录下的config.default.php(写字板打开)文件中的<strong>AllowArbitraryServer为真即可（$cfg[&#39;AllowArbitraryServer&#39;] = true;）;</strong></p>
<p>‍</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--本地phpmyadmin访问远程mysql数据库/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--本地phpmyadmin访问远程mysql数据库" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--OracleB-tree、位图、全文索引三大索引性能比较及优缺点汇总/">Oracle B</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--OracleB-tree、位图、全文索引三大索引性能比较及优缺点汇总/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-b-tree-">Oracle B-tree、位图、全文索引三大索引性能比较及优缺点汇总</h1>
<p>引言：大家都知道“效率”是数据库中非常重要的一个指标，如何提高效率大家可能都会想起索引，但索引又这么多种，什么场合应该使用什么索引呢？哪种索引可以提高我们的效率，哪种索引可以让我们的效率大大降低（有时还不如全表扫描性能好）下面要讲的“索引”如何成为我们的利器而不是灾难！多说一点，由于不同索引的存储结构不同，所以应用在不同组织结构的数据上，本篇文章重点就是：理解不同的技术都适合在什么地方应用！
B-Tree索引
场合：非常适合数据重复度低的字段 例如 身份证号码  手机号码  QQ号等字段，常用于主键 唯一约束，一般在在线交易的项目中用到的多些。
原理：一个键值对应一行（rowid）  格式： 【索引头|键值|rowid】
优点：当没有索引的时候，<a href="http://www.itpub.net/pubtree/?node=1" target="_blank">oracle</a>只能全表扫描where qq=40354446 这个条件那么这样是灰常灰常耗时的，当数据量很大的时候简直会让人崩溃，那么有个B-tree索引我们就像翻书目录一样，直接定位rowid立刻就找到了我们想要的数据，实质减少了I/O操作就提高速度，它有一个显著特点查询性能与表中数据量无关，例如 查2万行的数据用了3 consistent get,当查询1200万行的数据时才用了4 consistent gets。
当我们的字段中使用了主键or唯一约束时，不用想直接可以用B-tree索引
缺点：不适合键值重复率较高的字段上使用，例如 第一章 1-500page 第二章 501-1000page
实验：
alter system flush shared_pool;   清空共享池
alter system flush buffer_cache;  清空数据库缓冲区，都是为了实验需要
创建leo_t1  leo_t2 表
leo_t1 表的object_id列的数据是没有重复值的，我们抽取了10行数据就可以看出来了。
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create table leo_t1 as select object_id,object_name from dba_objects;
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select count(/*) from leo_t1;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  9872
</code></pre><p><a href="mailto:LS@LEO">LS@LEO</a>&gt;  select /* from leo_t1 where rownum &lt;= 10;
OBJECT_ID OBJECT_NAME</p>
<hr>
<pre><code>    20 ICOL$
    44 I_USER1
    28 CON$
    15 UNDO$
    29 C_COBJ/#
     3 I_OBJ/#
    25 PROXY_ROLE_DATA$
    39 I_IND1
    51 I_CDEF2
    26 I_PROXY_ROLE_DATA$_1
</code></pre><p>leo_t2 表的object_id列我们是做了取余操作，值就只有0,1两种，因此重复率较高，如此设置为了说明重复率对B树索引的影响
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create table leo_t2 as select mod(object_id,2) object_ID ,object_name from dba_objects;
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select count(/*) from leo_t2;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  9873
</code></pre><p><a href="mailto:LS@LEO">LS@LEO</a>&gt; select /* from leo_t2 where rownum &lt;= 10;
OBJECT_ID OBJECT_NAME</p>
<hr>
<pre><code>     0 ICOL$
     0 I_USER1
     0 CON$
     1 UNDO$
     1 C_COBJ/#
     1 I_OBJ/#
     1 PROXY_ROLE_DATA$
     1 I_IND1
     1 I_CDEF2
     0 I_PROXY_ROLE_DATA$_1
</code></pre><p><a href="mailto:LS@LEO">LS@LEO</a>&gt; create index leo_t1_index on leo_t1(object_id);   创建B-tree索引，说明 默认创建的都是B-tree索引
Index created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create index leo_t2_index on leo_t2(object_ID);   创建B-tree索引
Index created.
让我们看一下leo_t1与leo_t2的重复情况
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select count(distinct(object_id)) from leo_t1;    让我们看一下leo_t1与leo_t2的重复情况，leo_t1没有重复值，leo_t2有很多</p>
<h2 id="count-distinct-object_id-">COUNT(DISTINCT(OBJECT_ID))</h2>
<pre><code>                  9872
</code></pre><p><a href="mailto:LS@LEO">LS@LEO</a>&gt; select count(distinct(object_ID)) from leo_t2;</p>
<h2 id="count-distinct-object_id-">COUNT(DISTINCT(OBJECT_ID))</h2>
<pre><code>                     2
</code></pre><p>收集2个表统计信息 
<a href="mailto:LS@LEO">LS@LEO</a>&gt; execute dbms_stats.gather_table_stats(ownname=&gt;&#39;LS&#39;,tabname=&gt;&#39;LEO_T1&#39;,method_opt=&gt;&#39;for all indexed columns size 2&#39;,cascade=&gt;TRUE);
<a href="mailto:LS@LEO">LS@LEO</a>&gt; execute dbms_stats.gather_table_stats(ownname=&gt;&#39;LS&#39;,tabname=&gt;&#39;LEO_T2&#39;,method_opt=&gt;&#39;for all indexed columns size 2&#39;,cascade=&gt;TRUE);
参数详解：
method_opt=&gt;&#39;for all indexed columns size 2&#39;  size_clause=integer 整型 ，范围 1~254 ，使用柱状图[ histogram analyze ]分析列数据的分布情况
cascade=&gt;TRUE                          收集表的统计信息的同时收集B-tree索引的统计信息
显示执行计划和统计信息+设置autotrace简介
序号  命令                          解释
1    SET AUTOTRACE OFF             此为默认值，即关闭Autotrace 
2    SET AUTOTRACE ON EXPLAIN      只显示执行计划
3    SET AUTOTRACE ON STATISTICS   只显示执行的统计信息
4    SET AUTOTRACE ON              包含2,3两项内容
5    SET AUTOTRACE TRACEONLY       与ON相似，但不显示语句的执行结果
结果键值少的情况
set autotrace trace exp stat;  （SET AUTOTRACE OFF 关闭执行计划和统计信息）
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select /* from leo_t1 where object_id=1;
no rows selected</p>
<h2 id="execution-plan-">Execution Plan 执行计划</h2>
<h2 id="plan-hash-value-3712193284">Plan hash value: 3712193284</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation                   | Name         | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT            |              |     1 |    21 |     2   (0)| 00:00:01 |
|   1 |  TABLE ACCESS BY INDEX ROWID| LEO_T1       |     1 |    21 |     2   (0)| 00:00:01 |</p>
<h2 id="-2-index-range-scan-leo_t1_index-1-1-0-00-00-01-">|/*  2 |   INDEX RANGE SCAN索引扫描  | LEO_T1_INDEX |     1 |       |     1   (0)| 00:00:01 |</h2>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   2 - access(&quot;OBJECT_ID&quot;=1)</p>
<h2 id="statistics-">Statistics  统计信息</h2>
<pre><code>      0  recursive calls
      0  db block gets
      2  consistent gets  我们知道leo_t1表的object_id没有重复值，因此使用B-tree索引扫描只有2次一致性读
      0  physical reads
      0  redo size
    339  bytes sent via SQL/*Net to client
    370  bytes received via SQL/*Net from client
      1  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
      0  rows processed
</code></pre><p>结果键值多的情况
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select /<em> from leo_t2 where object_ID=1; （select //</em>+full(leo_t2) /<em>/ /</em>  from leo_t2 where object_ID=1;hint方式强制全表扫描）
4943 rows selected.    </p>
<h2 id="execution-plan-">Execution Plan  执行计划</h2>
<h2 id="plan-hash-value-3657048469">Plan hash value: 3657048469</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation         | Name   | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT  |        |  4943 | 98860 |    12   (0)| 00:00:01 |</p>
<h2 id="-1-table-access-full-leo_t2-4943-98860-12-0-00-00-01-sql-4943row-4943row">|/*  1 |  TABLE ACCESS FULL| LEO_T2 |  4943 | 98860 |    12   (0)| 00:00:01 | sql结果是4943row，那么全表扫描也是4943row</h2>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   1 - filter(&quot;OBJECT_ID&quot;=1) </p>
<h2 id="statistics-">Statistics  统计信息</h2>
<pre><code>      1  recursive calls
      0  db block gets
    366  consistent gets   导致有366次一致性读
      0  physical reads
      0  redo size
 154465  bytes sent via SQL/*Net to client
   4000  bytes received via SQL/*Net from client
    331  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
   4943  rows processed
</code></pre><p>大家肯定会疑惑，为什么要用全表扫描而不用B-tree索引呢，这是因为oracle基于成本优化器CBO认为使用全表扫描要比使用B-tree索引性能更好更快，由于我们结果重复率很高，导致有366次一致性读，从cup使用率12%上看也说明了B-tree索引不适合键值重复率较高的列
我们在看一下强制使用B-tree索引时，效率是不是没有全表扫描高呢？
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select //<em>+index(leo_t2 leo_t2_index) /</em>/ /* from leo_t2 where object_ID=1; hint方式强制索引扫描
4943 rows selected.</p>
<h2 id="execution-plan-">Execution Plan  执行计划</h2>
<h2 id="plan-hash-value-321706586">Plan hash value: 321706586</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation                   | Name         | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT            |              |  4943 | 98860 |    46   (0)| 00:00:01 |
|   1 |  TABLE ACCESS BY INDEX ROWID| LEO_T2       |  4943 | 98860 |    46   (0)| 00:00:01 |</p>
<h2 id="-2-index-range-scan-leo_t2_index-4943-10-0-00-00-01-">|/*  2 |   INDEX RANGE SCAN          | LEO_T2_INDEX |  4943 |       |    10   (0)| 00:00:01 |</h2>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   2 - access(&quot;OBJECT_ID&quot;=1)</p>
<h2 id="statistics-">Statistics  统计信息</h2>
<pre><code>      1  recursive calls
      0  db block gets
    704  consistent gets  使用B-tree索引704次一致性读 &gt; 全表扫描366次一致性读，而且cpu使用率也非常高，显然效果没有全表扫描高
      0  physical reads
      0  redo size
 171858  bytes sent via SQL/*Net to client
   4000  bytes received via SQL/*Net from client
    331  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
   4943  rows processed
</code></pre><p>小结：从以上的测试我们可以了解到，B-tree索引在什么情况下使用跟键值重复率高低有很大关系的，之间没有一个明确的分水岭，只能多测试分析执行计划后来决定。
位图索引   Bitmap index
场合：列的基数很少，可枚举，重复值很多，数据不会被经常更新
原理：一个键值对应很多行（rowid）， 格式：键值  start_rowid   end_rowid  位图
优点：OLAP 例如报表类数据库 重复率高的数据 特定类型的查询例如count、or、and等逻辑操作因为只需要进行位运算即可得到我们需要的结果
缺点：不适合重复率低的字段，还有经常DML操作（insert，update，delete），因为位图索引的锁代价极高，修改一个位图索引段影响整个位图段，例如修改
一个键值，会影响同键值的多行，所以对于OLTP 系统位图索引基本上是不适用的
实验：位图索引和B-tree索引的性能比较
set pagesize 100;   设置页大小
利用dba_objects数据字典创建一个15万行的表
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create table leo_bm_t1 as select /<em> from dba_objects;
Table created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; insert into leo_bm_t1 select /</em> from leo_bm_t1;  翻倍插入
9876 rows created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; /
19752 rows created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; /
39504 rows created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; /
79008 rows created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; /
158016 rows created.
因object_type字段重复值较高，顾在此字段上创建bitmap索引
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create bitmap index leo_bm_t1_index on leo_bm_t1(object_type);
Index created.
创建一个和leo_bm_t1表结构一模一样的表leo_bm_t2，并在object_type列上创建一个B-tree索引（15万行记录）
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create table leo_bm_t2 as select /* from leo_bm_t1;
Table created.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create index leo_bm_t2_bt_index on leo_bm_t2(object_type);
Index created.
对比位图索引和B-tree索引所占空间大小,很明显位图要远远小于B-tree索引所占用的空间，节约空间特性也是我们选择位图的理由之一
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select segment_name,bytes from user_segments where segment_type=&#39;INDEX&#39;;
SEGMENT_NAME                                                                           BYTES</p>
<hr>
<p>LEO_BM_T1_INDEX                                                                       327680(327K)
LEO_BM_T2_BT_INDEX                                                                   7340032(7M)
显示执行计划和统计信息
set autotrace trace exp stat;
在创建有位图索引的表上做count操作对比执行计划
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select count(/*) from leo_bm_t1 where object_type=&#39;TABLE&#39;;</p>
<h2 id="execution-plan-">Execution Plan  执行计划</h2>
<h2 id="plan-hash-value-3251686305">Plan hash value: 3251686305</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation                   | Name            | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT            |                 |     1 |    11 |     4   (0)| 00:00:01 |
|   1 |  SORT AGGREGATE             |                 |     1 |    11 |            |          |
|   2 |   BITMAP CONVERSION COUNT   |                 | 36315 |   390K|     4   (0)| 00:00:01 |</p>
<h2 id="-3-bitmap-index-single-value-leo_bm_t1_index-">|/*  3 |    BITMAP INDEX SINGLE VALUE| LEO_BM_T1_INDEX |       |       |            |          |</h2>
<p>位图索引上只扫描了一个值</p>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   3 - access(&quot;OBJECT_TYPE&quot;=&#39;TABLE&#39;)</p>
<h2 id="note">Note</h2>
<ul>
<li>dynamic sampling used for this statement 动态采样
Statistics   统计信息</li>
</ul>
<hr>
<pre><code>      9  recursive calls
      0  db block gets
     93  consistent gets  oracle选择使用位图索引访问数据，导致93次一致性读
      7  physical reads
      0  redo size
    413  bytes sent via SQL/*Net to client
    381  bytes received via SQL/*Net from client
      2  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
      1  rows processed
</code></pre><p>在创建有B-tree索引的表上做count操作对比执行计划
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select count(/*) from leo_bm_t2 where object_type=&#39;TABLE&#39;;</p>
<h2 id="execution-plan-">Execution Plan   执行计划</h2>
<h2 id="plan-hash-value-613433245">Plan hash value: 613433245</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation         | Name               | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT  |                    |     1 |    11 |    59   (0)| 00:00:01 |
|   1 |  SORT AGGREGATE   |                    |     1 |    11 |            |          |</p>
<h2 id="-2-index-range-scan-leo_bm_t2_bt_index-25040-268k-59-0-00-00-01-">|/*  2 |   INDEX RANGE SCAN| LEO_BM_T2_BT_INDEX | 25040 |   268K|    59   (0)| 00:00:01 |</h2>
<p>B-tree索引上全部扫描，cpu使用率达到了59%，比位图索引cpu使用率4%高出许多</p>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   2 - access(&quot;OBJECT_TYPE&quot;=&#39;TABLE&#39;)</p>
<h2 id="note">Note</h2>
<ul>
<li>dynamic sampling used for this statement 动态采样
Statistics   统计信息</li>
</ul>
<hr>
<pre><code>     32  recursive calls
      0  db block gets
    161  consistent gets  B-tree索引表上发生了161次一致性读要远远高于位图索引表上93次一致性读，因此还是位图索引效率高
     74  physical reads
      0  redo size
    413  bytes sent via SQL/*Net to client
    381  bytes received via SQL/*Net from client
      2  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
      1  rows processed
</code></pre><p>我们再看看等值查找where object_type=&#39;TABLE&#39;情况下位图索引和B-tree索引的性能对比
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select /* from leo_bm_t1 where object_type=&#39;TABLE&#39; ;
28512 rows selected.</p>
<h2 id="execution-plan-">Execution Plan  执行计划</h2>
<h2 id="plan-hash-value-4228542614">Plan hash value: 4228542614</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation                    | Name            | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT             |                 | 36315 |  6277K|   562   (0)| 00:00:07 |
|   1 |  TABLE ACCESS BY INDEX ROWID | LEO_BM_T1       | 36315 |  6277K|   562   (0)| 00:00:07 |
|   2 |   BITMAP CONVERSION TO ROWIDS| 位图映像-&gt;rowids |       |       |            |          |</p>
<h2 id="-3-bitmap-index-single-value-leo_bm_t1_index-">|/*  3 |    BITMAP INDEX SINGLE VALUE | LEO_BM_T1_INDEX |       |       |            |          |</h2>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   3 - access(&quot;OBJECT_TYPE&quot;=&#39;TABLE&#39;)</p>
<h2 id="note">Note</h2>
<ul>
<li>dynamic sampling used for this statement动态采样
Statistics   统计信息</li>
</ul>
<hr>
<pre><code>      7  recursive calls
      0  db block gets
   4407  consistent gets  使用位图索引发生了4407次一致性读
      0  physical reads
      0  redo size
2776927  bytes sent via SQL/*Net to client
  21281  bytes received via SQL/*Net from client
   1902  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
  28512  rows processed
</code></pre><p>leo_bm_t2表上使用B-tree索引得到执行计划
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select //<em>+index(leo_bm_t2 leo_bm_t2_bt_index) /</em>/ /* from leo_bm_t2 where object_type=&#39;TABLE&#39; ;
28512 rows selected.  我们强制使用B-tree索引扫描等值条件</p>
<h2 id="execution-plan-">Execution Plan  执行计划</h2>
<h2 id="plan-hash-value-1334503202">Plan hash value: 1334503202</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation                   | Name               | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT            |                    | 25040 |  4328K|  2063   (1)| 00:00:25 |
|   1 |  TABLE ACCESS BY INDEX ROWID| LEO_BM_T2          | 25040 |  4328K|  2063   (1)| 00:00:25 |</p>
<h2 id="-2-index-range-scan-leo_bm_t2_bt_index-25040-59-0-00-00-01-">|/*  2 |   INDEX RANGE SCAN          | LEO_BM_T2_BT_INDEX | 25040 |       |    59   (0)| 00:00:01 |</h2>
<p>B-tree索引上全部扫描，cpu使用率达到了2063%，比位图索引cpu使用率562%高出许多</p>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   2 - access(&quot;OBJECT_TYPE&quot;=&#39;TABLE&#39;)</p>
<h2 id="note">Note</h2>
<ul>
<li>dynamic sampling used for this statement
Statistics</li>
</ul>
<hr>
<pre><code>      7  recursive calls
      0  db block gets
   6621  consistent gets  
      0  physical reads
      0  redo size
2776927  bytes sent via SQL/*Net to client
  21281  bytes received via SQL/*Net from client
   1902  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
  28512  rows processed
</code></pre><p>小结：在等值查找中我们可以看出位图索引的效率依言高于B-tree索引
全文索引 Text index
定义：全文索引就是通过将文字按照某种语言进行词汇拆分，重新将数据组合存储，来达到快速检索的目的
场合：当字段里存储的都是文本时适合用全文索引，常用于搜索文字
优点：全文索引不是按照键值存储的，而是按照分词重组数据，常用于模糊查询Where name like &#39;%leonarding%&#39;效率比全表扫描高很多，适用OLAP系统，
OLTP系统里面用到的并不多。
缺点：全文索引会占用大量空间有时比原表本身占的空间还多，bug较多，维护困难。
实验：全文索引性能优势
创建一个表包含2个字段
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create table leo_text_t1 (id int,name varchar(10));
Table created.
在name字段上创建B-tree索引，但检索的时候并没有用，还是全表扫描
<a href="mailto:LS@LEO">LS@LEO</a>&gt; create index leo_text_t1_bt_index on leo_text_t1(name);
Index created.
插入4条记录
insert into leo_text_t1 values(1,&#39;Tom&#39;);
insert into leo_text_t1 values(2,&#39;Tom Tom&#39;);
insert into leo_text_t1 values(1,&#39;Tom&#39;);
insert into leo_text_t1 values(2,&#39;Tom Tom&#39;);
commit;
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select /* from leo_text_t1;
        ID NAME</p>
<hr>
<pre><code>     1 Tom
     2 Tom Tom
     1 Tom
     2 Tom Tom
</code></pre><p>我们在创建一个表，并在name字段上创建全文索引
create table leo_text_t2 as select /* from leo_text_t1;
创建全文索引的前提
ORACLE10g 创建全文索引过程：
1,首先查看ORACLE是否已安装“全文检索工具”
  通过查看是否存在 CTXSYS 用户，CTXAPP角色即可判断。
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select username from dba_users;</p>
<h2 id="username">USERNAME</h2>
<p>LS
CTXSYS   默认是没有的，需要安装2个脚本catctx.sql，drdefus.sql
2,如果ORACLE没有安装“全文检索工具”，则使用以下步骤手工安装。
  a)进入ORACLE安装目录
  cd $ORACLE_HOME
  b)使用 DBA 角色登陆数据库
  sqlplus sys/sys as sysdba
  c)查看表空间文件存放路径
  select name from v$datafile;
  d)为 CTXSYS 用户创建表空间
  CREATE TABLESPACE ctxsys
  LOGGING
  DATAFILE &#39;/u01/app/oracle/oradata/LEO/file1/ctxsys01.dbf&#39;
  SIZE 32m
  AUTOEXTEND ON
  NEXT 32m MAXSIZE 2048m
  EXTENT MANAGEMENT LOCAL ;
  e)创建 CTXSYS 用户，创建 CTXAPP 角色
  @?/ctx/admin/catctx.sql ctxsys ctxsys temp1 nolock
  --(密码、表空间、临时表空间、用户状态)
  --如果当前sql脚本无执行权限，请手工添加。
  f)为 CTXSYS 执行初始化工作，如果没有此操作，后续操作会失败。
  connect ctxsys/ctxsys;
  @?/ctx/admin/defaults/drdefus.sql
3,创建全文索引
  a)创建词法分析器及相关表
  --词法分析器
execute ctx_ddl.create_preference(&#39;offerProdAddrLexer&#39;,&#39;CHINESE_LEXER&#39;);
  --词法
execute ctx_ddl.create_preference(&#39;offerProdAddrList&#39;, &#39;BASIC_WORDLIST&#39;);
execute  ctx_ddl.set_attribute(&#39;offerProdAddrList&#39;,&#39;PREFIX_INDEX&#39;,&#39;TRUE&#39;);
execute  ctx_ddl.set_attribute(&#39;offerProdAddrList&#39;,&#39;PREFIX_MIN_LENGTH&#39;,1);
execute  ctx_ddl.set_attribute(&#39;offerProdAddrList&#39;,&#39;PREFIX_MAX_LENGTH&#39;, 5);
execute  ctx_ddl.set_attribute(&#39;offerProdAddrList&#39;,&#39;SUBSTRING_INDEX&#39;, &#39;YES&#39;);
b)创建全文索引
<a href="mailto:LS@LEO">LS@LEO</a>&gt; conn ctxsys/ctxsys
Connected.
<a href="mailto:CTXSYS@LEO">CTXSYS@LEO</a>&gt; create index ls.leo_text_t2_text_index on ls.leo_text_t2(name) indextype is ctxsys.context;
<a href="mailto:CTXSYS@LEO">CTXSYS@LEO</a>&gt; conn ls/ls
Connected.
<a href="mailto:LS@LEO">LS@LEO</a>&gt; set autotrace on;
<a href="mailto:LS@LEO">LS@LEO</a>&gt; select /* from leo_text_t1 where name like &#39;%Tom%&#39;;
        ID NAME</p>
<hr>
<pre><code>     1 Tom
     2 Tom Tom
     1 Tom
     2 Tom Tom
</code></pre><h2 id="execution-plan-">Execution Plan   执行计划</h2>
<h2 id="plan-hash-value-3687902158">Plan hash value: 3687902158</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation         | Name        | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT  |             |     4 |    80 |     3   (0)| 00:00:01 |</p>
<h2 id="-1-table-access-full-leo_text_t1-4-80-3-0-00-00-01-">|/*  1 |  TABLE ACCESS FULL| LEO_TEXT_T1 |     4 |    80 |     3   (0)| 00:00:01 |</h2>
<p>全表扫描，cpu使用率3%</p>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   1 - filter(&quot;NAME&quot; LIKE &#39;%Tom%&#39;)</p>
<h2 id="note">Note</h2>
<ul>
<li>dynamic sampling used for this statement动态采样
Statistics   统计信息</li>
</ul>
<hr>
<pre><code>     56  recursive calls
      0  db block gets
     23  consistent gets  全表扫描没有使用B-tree索引，导致23次一致性读
      0  physical reads
      0  redo size
    538  bytes sent via SQL/*Net to client
    381  bytes received via SQL/*Net from client
      2  SQL/*Net roundtrips to/from client
      2  sorts (memory)
      0  sorts (disk)
      4  rows processed
</code></pre><p><a href="mailto:LS@LEO">LS@LEO</a>&gt; select /* from leo_text_t2 where contains(name,&#39;Tom&#39;)&gt;0;
        ID NAME</p>
<hr>
<pre><code>     1 Tom
     2 Tom Tom
     1 Tom
     2 Tom Tom
</code></pre><h2 id="execution-plan-">Execution Plan   执行计划</h2>
<h2 id="plan-hash-value-2789465217">Plan hash value: 2789465217</h2>
<h2 id="-id-operation-name-rows-bytes-cost-cpu-time-">| Id  | Operation                   | Name                   | Rows  | Bytes | Cost (%CPU)| Time     |</h2>
<p>|   0 | SELECT STATEMENT            |                        |     1 |    32 |     4   (0)| 00:00:01 |
|   1 |  TABLE ACCESS BY INDEX ROWID| LEO_TEXT_T2            |     1 |    32 |     4   (0)| 00:00:01 |</p>
<h2 id="-2-domain-index-leo_text_t2_text_index-4-0-00-00-01-">|/*  2 |   DOMAIN INDEX              | LEO_TEXT_T2_TEXT_INDEX |       |       |     4   (0)| 00:00:01 |</h2>
<h2 id="predicate-information-identified-by-operation-id-">Predicate Information (identified by operation id):</h2>
<p>   2 - access(&quot;CTXSYS&quot;.&quot;CONTAINS&quot;(&quot;NAME&quot;,&#39;Tom&#39;)&gt;0)</p>
<h2 id="note">Note</h2>
<ul>
<li>dynamic sampling used for this statement动态采样
Statistics   统计信息</li>
</ul>
<hr>
<pre><code>     11  recursive calls
      0  db block gets
     19  consistent gets   
      0  physical reads
      0  redo size
    545  bytes sent via SQL/*Net to client
    381  bytes received via SQL/*Net from client
      2  SQL/*Net roundtrips to/from client
      0  sorts (memory)
      0  sorts (disk)
      4  rows processed
</code></pre><p>小结：从如上实验来看，当我们检索大量文字的时候使用全文索引要比全表扫描快很多了，有弊就有利，由于全文索引会占用大量空间提前预估全文索引大小保留出足够的空间，context类型全文索引不是基于事务的，无法保证索引和数据实时同步，DML完成后，如果在全文索引中查不到键值时，可以通过手工or定时任务来刷新同步，而B-tree、位图都是实时的。
总结：本次实验了B-tree  位图  全文三大索引的性能，同时比较了各自适合场合和用途，还总结了各自的优缺点，由于水平有限有不足之处还请大家指点。</p>
<p>Leonarding</p>
<p>2012.7.31</p>
<p>天津&amp;summer</p>
<p>分享<a href="http://f.dataguru.cn/.:;" target="_blank"><strong>技术</strong></a>~收获快乐</p>
<p>Blog：<a href="http://space.itpub.net/26686207" target="_blank"><a href="http://space.itpub.net/26686207">http://space.itpub.net/26686207</a></a>
来源： <a href="[http://www.itpub.net/thread-1700144-1-1.html](http://www.itpub.net/thread-1700144-1-1.html)">[http://www.itpub.net/thread-1700144-1-1.html](http://www.itpub.net/thread-1700144-1-1.html)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--OracleB-tree、位图、全文索引三大索引性能比较及优缺点汇总/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--OracleB-tree、位图、全文索引三大索引性能比较及优缺点汇总" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/125/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/123/">123</a></li><li><a class="page-number" href="/page/124/">124</a></li><li><a class="page-number" href="/page/125/">125</a></li><li class="active"><li><span class="page-number current">126</span></li><li><a class="page-number" href="/page/127/">127</a></li><li><a class="page-number" href="/page/128/">128</a></li><li><a class="page-number" href="/page/129/">129</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/127/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 13:06:28</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
