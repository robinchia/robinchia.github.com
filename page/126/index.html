
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 126 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2/">oracle的表空间，分区表，以及索引的总结_开拓者_百度空间 (2)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-_-_-2-">oracle的表空间，分区表，以及索引的总结<em>开拓者</em>百度空间 (2)</h1>
<h3 id="-">分享到</h3>
<ul>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">QQ空间</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">新浪微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度搜藏</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">人人网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">腾讯微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">开心网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">腾讯朋友</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度空间</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">豆瓣网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">搜狐微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度新首页</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">QQ收藏</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">和讯微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">我的淘宝</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度贴吧</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">更多...</a></li>
</ul>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度分享</a></p>
<p><a href="http://hi.baidu.com/"></a></p>
<ul>
<li><a href="http://hi.baidu.com/index" target="_blank">广场</a></li>
<li><a href="https://passport.baidu.com/center" target="_blank">jywv</a>
*</li>
<li><a href="https://passport.baidu.com/?logout&amp;bdstoken=aa9855a9aad4216b27441b12182ad1a7&amp;u=http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3" target="_blank">退出</a>
<a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">关注此空间</a><h1 id="-http-hi-baidu-com-new-cnbxj-"><a href="http://hi.baidu.com/new/cnbxj" target="_blank">开拓者</a></h1>
</li>
</ul>
<p>开拓者</p>
<p>2008-06-02 22:46</p>
<h2 id="oracle-">oracle的表空间，分区表，以及索引的总结</h2>
<p>表空间：
Oracle的UNDOTBS01.DBF文件太大的解决办法
1、.禁止undo tablespace自动增长
alter database datafile &#39;full_path\undotbs01.dbf&#39; autoextend off;
2.-- 创建一个新的小空间的undo tablespace
create undo tablespace undotBS2 datafile &#39;full_path\UNDOTBS02.DBF&#39; size 100m;
-- 设置新的表空间为系统undo_tablespace
alter system set undo_tablespace=undotBS2;
-- Drop 旧的表空间
drop tablespace undotbs1 including contents;
--查看所有表空间的情况
select /<em> from dba_tablespaces
--创建表空间
create tablespace HRPM0
datafile &#39;/oradata/misdb/HRPM0.DBF&#39; size 5m autoextend on next 10m maxsize unlimited
--删除表空间
DROP TABLESPACE data01 INCLUDING CONTENTS AND DATAFILES;
--修改表空间大小
alter database datafile &#39;/path/NADDate05.dbf&#39; resize 100M
分区表：
当表中的数据量不断增大，查询数据的速度就会变慢，应用程序的性能就会下降，这时就应该考虑对表进行分区。表进行分区后，逻辑上表仍然是一张完整的表，只是将表中的数据在物理上存放到多个表空间(物理文件上)，这样查询数据时，不至于每次都扫描整张表。
Oracle中提供了以下几种表分区：
一、范围分区：这种类型的分区是使用列的一组值，通常将该列成为分区键。
示例1：假设有一个CUSTOMER表，表中有数据200000行，我们将此表通过CUSTOMER_ID进行分区，每个分区存储100000行，我们将每个分区保存到单独的表空间中，这样数据文件就可以跨越多个物理磁盘。下面是创建表和分区的代码，如下：
CREATE TABLE CUSTOMER
(
CUSTOMER_ID NUMBER NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR2(30) NOT NULL,
LAST_NAME VARCHAR2(30) NOT NULL,
PHONE VARCHAR2(15) NOT NULL,
EMAIL VARCHAR2(80),
STATUS CHAR(1)
)
PARTITION BY RANGE (CUSTOMER_ID)
(
PARTITION CUS_PART1 VALUES LESS THAN (100000) TABLESPACE CUS_TS01,
PARTITION CUS_PART2 VALUES LESS THAN (200000) TABLESPACE CUS_TS02
)
注意：在创建表进行分区时，表空间必须先存在，而且建议将不同的分区放入不同的表空间中。
示例2：假设有ORDER_ACTIVITIES表，每6个月对订单进行清理，我们可以按月份对表进行分区，分区代码如下：
CREATE TABLE ORDER_ACTIVITIES
(
ORDER_ID NUMBER(7) NOT NULL,
ORDER_DATE DATE,
TOTAL_AMOUNT NUMBER,
CUSTOTMER_ID NUMBER(7),
PAID CHAR(1)
)
PARTITION BY RANGE (ORDER_DATE)
(
PARTITION ORD_ACT_PART01 VALUES LESS THAN (TO_DATE(&#39;01-MAY-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS01,
PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUN-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS02,
PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUL-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS03
)
二、列表分区：该分区的特点是某列的值只有几个，基于这样的特点我们可以采用列表分区。
示例1：
CREATE TABLE PROBLEM_TICKETS
(
PROBLEM_ID NUMBER(7) NOT NULL PRIMARY KEY,
DESCRIPTION VARCHAR2(2000),
CUSTOMER_ID NUMBER(7) NOT NULL,
DATE_ENTERED DATE NOT NULL,
STATUS VARCHAR2(20)
)
PARTITION BY LIST (STATUS)
(
PARTITION PROB_ACTIVE VALUES (&#39;ACTIVE&#39;) TABLESPACE PROB_TS01,
PARTITION PROB_INACTIVE VALUES (&#39;INACTIVE&#39;) TABLESPACE PROB_TS02
)
三、散列分区：这类分区是在列值上使用散列算法，以确定将行放入哪个分区中。当列的值没有合适的条件时，建议使用散列分区。请看下列示例：
示例1：
CREATE TABLE HASH_TABLE
(
COL NUMBER(8),
INF VARCHAR2(100)
)
PARTITION BY HASH (COL)
(
PARTITION PART01 TABLESPACE HASH_TS01,
PARTITION PART02 TABLESPACE HASH_TS02,
PARTITION PART03 TABLESPACE HASH_TS03
)
四、复合范围列表分区：这种分区是基于范围分区和列表分区，表首先按某列进行范围分区，然后再按某列进行列表分区，分区之中的分区被称为子分区。
示例1：
CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),
SALES_DATE DATE,
SALES_COST NUMBER(10),
STATUS VARCHAR2(20)
)
PARTITION BY RANGE(SALES_DATE)
SUBPARTITION BY LIST (STATUS)
(
PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P1_TS
(
SUBPARTITION P1SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP1_TS1,
SUBPARTITION P1SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP1_TS2
),
PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P2_TS
(
SUBPARTITION P2SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP2_TS1,
SUBPARTITION P2SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP2_TS2
)
)
示例2：使用TEMPLATE模板
CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),
SALES_DATE DATE,
SALES_COST NUMBER(10),
STATUS VARCHAR2(20)
)
PARTITION BY RANGE(SALES_DATE)
SUBPARTITION BY LIST (STATUS)
SUBPARTITION TEMPLATE
(
SUBPARTITION SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP1_TS1,
SUBPARTITION SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP2_TS2
)
(
PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P1_TS,
PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P2_TS
)
五、复合范围散列分区：这种分区是基于范围分区和散列分区，表首先按某列进行范围分区，然后再按某列进行散列分区。与上面的定义方式非常的类似，在此不单独举例。
表分区对于用户来说是透明的，我们在插入数据时Oracle会自动判断插入的数据，然后放入相应的表分区中。但有时我们想单独查询某个分区中的数据时，就必须手工指定分区的名称。
示例1：(此示例基于：四、复合范围列表分区的示例一)
向SALES表插入记录，不必指定表分区。
INSERT INTO SALES VALUES(&#39;00001&#39;,&#39;01-1月-02&#39;,100,&#39;ACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00002&#39;,&#39;01-1月-01&#39;,200,&#39;ACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00003&#39;,&#39;01-2月-03&#39;,300,&#39;INACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00004&#39;,&#39;04-2月-03&#39;,300,&#39;INACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00005&#39;,&#39;04-2月-02&#39;,300,&#39;INACTIVE&#39;)
/
不指定表分区查看SALES表信息：
SELECT /</em> FROM SALES; 结果如下所示：
指定P1表分区查询SALES表信息：
SELECT /<em> FROM SALES PARTITION(P1); 结果如下所示：
指定P1SUB1子分区查询SALES表信息:
SELECT /</em> FROM SALES SUBPARTITION(P1SUB1); 结果如下所示：
示例2：(此示例基于：四、复合范围列表分区的示例二)
示例2基于TEMPLATE模板的表分区，查询稍稍烦琐一点。
指定P1表分区查询SALES表信息：
SELECT /<em> FROM SALES PARTITION(P1); 结果如下所示,和刚才查询一致。
指定SUB1子分区查询SALES表信息:
SELECT /</em> FROM SALES SUBPARTITION(SUB1); 出现如下错误信息：
怎么解决以上问题呢？我们通过sys模式查看分区信息的数据字典,如下：
可以看出子分区不叫SUB1，而是P1_SUB1,重新查询信息，如下图所示：
有关表分区的一些维护性操作：
一、添加分区
以下代码给SALES表添加了一个P3分区
ALTER TABLE SALES ADD PARTITION P3 VALUES LESS THAN(TO_DATE(&#39;2003-06-01&#39;,&#39;YYYY-MM-DD&#39;));
注意：以上添加的分区界限应该高于最后一个分区界限。
以下代码给SALES表的P3分区添加了一个P3SUB1子分区
ALTER TABLE SALES MODIFY PARTITION P3 ADD SUBPARTITION P3SUB1 VALUES(&#39;COMPLETE&#39;);
二、删除分区
以下代码删除了P3表分区：
ALTER TABLE SALES DROP PARTITION P3;
在以下代码删除了P4SUB1子分区：
ALTER TABLE SALES DROP SUBPARTITION P4SUB1;
注意：如果删除的分区是表中唯一的分区，那么此分区将不能被删除，要想删除此分区，必须删除表。
三、截断分区
截断某个分区是指删除某个分区中的数据，并不会删除分区，也不会删除其它分区中的数据。当表中即使只有一个分区时，也可以截断该分区。通过以下代码截断分区：
ALTER TABLE SALES TRUNCATE PARTITION P2;
通过以下代码截断子分区：
ALTER TABLE SALES TRUNCATE SUBPARTITION P2SUB2;
四、合并分区
合并分区是将相邻的分区合并成一个分区，结果分区将采用较高分区的界限，值得注意的是，不能将分区合并到界限较低的分区。以下代码实现了P1 P2分区的合并：
ALTER TABLE SALES MERGE PARTITIONS P1,P2 INTO PARTITION P2;
五、拆分分区
拆分分区将一个分区拆分两个新分区，拆分后原来分区不再存在。注意不能对HASH类型的分区进行拆分。
ALTER TABLE SALES SBLIT PARTITION P2 AT(TO_DATE(&#39;2003-02-01&#39;,&#39;YYYY-MM-DD&#39;))
INTO (PARTITION P21,PARTITION P22);
六、接合分区(coalesca)
结合分区是将散列分区中的数据接合到其它分区中，当散列分区中的数据比较大时，可以增加散列分区，然后进行接合，值得注意的是，接合分区只能用于散列分区中。通过以下代码进行接合分区：
ALTER TABLE SALES COALESCA PARTITION;
七、重命名表分区
以下代码将P21更改为P2
ALTER TABLE SALES RENAME PARTITION P21 TO P2;
九、跨分区查询
select sum( /<em>) from (
(select count(/</em>) cn from t_table_SS PARTITION (P200709_1)
union all
select count(/<em>) cn from t_table_SS PARTITION (P200709_2));
十、查询表上有多少分区
SELECT /</em> FROM useR_TAB_PARTITIONS WHERE TABLE_NAME=&#39;tableName&#39;
十一、查询索引信息
select object_name,object_type,tablespace_name,sum(value)
from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;
group by object_name,object_type,tablespace_name
order by 4 desc
--显示数据库所有分区表的信息：
select /<em> from DBA_PART_TABLES
--显示当前用户可访问的所有分区表信息:
select /</em> from ALL_PART_TABLES
--显示当前用户所有分区表的信息：
select /<em> from USER_PART_TABLES
--显示表分区信息 显示数据库所有分区表的详细分区信息：
select /</em> from DBA_TAB_PARTITIONS
--显示当前用户可访问的所有分区表的详细分区信息：
select /<em> from ALL_TAB_PARTITIONS
--显示当前用户所有分区表的详细分区信息：
select /</em> from USER_TAB_PARTITIONS
--显示子分区信息 显示数据库所有组合分区表的子分区信息：
select /<em> from DBA_TAB_SUBPARTITIONS
--显示当前用户可访问的所有组合分区表的子分区信息：
select /</em> from ALL_TAB_SUBPARTITIONS
--显示当前用户所有组合分区表的子分区信息：
select /<em> from USER_TAB_SUBPARTITIONS
--显示分区列 显示数据库所有分区表的分区列信息：
select /</em> from DBA_PART_KEY_COLUMNS
--显示当前用户可访问的所有分区表的分区列信息：
select /<em> from ALL_PART_KEY_COLUMNS
--显示当前用户所有分区表的分区列信息：
select /</em> from USER_PART_KEY_COLUMNS
--显示子分区列 显示数据库所有分区表的子分区列信息：
select /<em> from DBA_SUBPART_KEY_COLUMNS
--显示当前用户可访问的所有分区表的子分区列信息：
select /</em> from ALL_SUBPART_KEY_COLUMNS
--显示当前用户所有分区表的子分区列信息：
select /<em> from USER_SUBPART_KEY_COLUMNS
--怎样查询出oracle数据库中所有的的分区表
select /</em> from user_tables a where a.partitioned=&#39;YES&#39;
--删除一个表的数据是
truncate table table_name;
--删除分区表一个分区的数据是
alter table table_name truncate partition p5;
注：分区根据具体情况选择。
表分区有以下优点：
1、数据查询：数据被存储到多个文件上，减少了I/O负载，查询速度提高。
2、数据修剪：保存历史数据非常的理想。
3、备份：将大表的数据分成多个文件，方便备份和恢复。</p>
<h1 id="4-dml-">4、并行性：可以同时向表中进行DML操作，并行性性能提高。</h1>
<p>索引：
1、一般索引：
create index index_name on table(col_name);
2、Oracle 分区索引详解
语法：Table Index
CREATE [UNIQUE|BITMAP] INDEX [schema.]index_name
ON [schema.]table_name [tbl_alias]
(col [ASC | DESC]) index_clause index_attribs
index_clauses:
分以下两种情况</p>
<ol>
<li>Local Index
就是索引信息的存放位置依赖于父表的Partition信息，换句话说创建这样的索引必须保证父表是Partition
1.1 索引信息存放在父表的分区所在的表空间。但是仅可以创建在父表为HashTable或者composite分区表的。
LOCAL STORE IN (tablespace)
1.2 仅可以创建在父表为HashTable或者composite分区表的。并且指定的分区数目要与父表的分区数目要一致
LOCAL STORE IN (tablespace) (PARTITION [partition [LOGGING|NOLOGGING] [TABLESPACE {tablespace|DEFAULT}] [PCTFREE int] [PCTUSED int] [INITRANS int] [MAXTRANS int] [STORAGE storage_clause] [STORE IN {tablespace_name|DEFAULT] [SUBPARTITION [subpartition [TABLESPACE tablespace]]]])
1.3 索引信息存放在父表的分区所在的表空间，这种语法最简单，也是最常用的分区索引创建方式。
Local
1.4 并且指定的Partition 数目要与父表的Partition要一致
LOCAL (PARTITION [partition
[LOGGING|NOLOGGING]
[TABLESPACE {tablespace|DEFAULT}]
[PCTFREE int]
[PCTUSED int]
[INITRANS int]
[MAXTRANS int]
[STORAGE storage_clause]
[STORE IN {tablespace_name|DEFAULT]
[SUBPARTITION [subpartition [TABLESPACE tablespace]]]])
Global Index
索引信息的存放位置与父表的Partition信息完全不相干。甚至父表是不是分区表都无所谓的。语法如下：
GLOBAL PARTITION BY RANGE (col_list)
( PARTITION partition VALUES LESS THAN (value_list)
[LOGGING|NOLOGGING]
[TABLESPACE {tablespace|DEFAULT}]
[PCTFREE int]
[PCTUSED int]
[INITRANS int]
[MAXTRANS int]
[STORAGE storage_clause] )
但是在这种情况下，如果父表是分区表，要删除父表的一个分区都必须要更新Global Index ,否则索引信息不正确
ALTER TABLE TableName DROP PARTITION PartitionName Update Global Indexes
--查询索引
select object_name,object_type,tablespace_name,sum(value)
from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;
group by object_name,object_type,tablespace_name
order by 4 desc
<a href="http://hi.baidu.com/tag/Oracle/feeds" target="_blank">/#Oracle</a></li>
</ol>
<p>分享到： <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到QQ空间" target="_blank"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到新浪微博"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到腾讯微博" target="_blank"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到人人网"></a></p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">举报</a> 浏览(64) <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">评论</a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">转载</a></p>
<h3 id="-">您可能也喜欢</h3>
<p><a href="http://hi.baidu.com/cnbxj/item/7e7a9de4639d4ab72f140be7" title="上一篇"></a></p>
<p><a href="http://hi.baidu.com/cnbxj/item/535c1a31f17a51f1e7bb7ae7" title="下一篇"></a></p>
<p>评论</p>
<p> 同时评论给 </p>
<p> 同时评论给原文作者 </p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank"> 发布 </a></p>
<p>500/0</p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">收起</a>|<a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#reply" target="_blank">查看更多</a></p>
<p><a href="http://hi.baidu.com/go/show/introduce" target="_blank">帮助中心</a> | <a href="http://tieba.baidu.com/p/1781683739" target="_blank">空间客服</a> | <a href="http://tousu.baidu.com/hi/add" target="_blank">投诉中心</a> | <a href="http://www.baidu.com/search/hi_contract.html" target="_blank">空间协议</a></p>
<p>©2012 Baidu</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--提高select查询效率/">提高select查询效率</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--提高select查询效率/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-select-">提高select查询效率</h1>
<p>1.对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。
2.应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：
select id from t where num is null 
可以在num上设置默认值0，确保表中num列没有null值，然后这样查询： 
select id from t where num=0 
3.应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描。 
4.应尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如： 
select id from t where num=10 or num=20 
可以这样查询： 
select id from t where num=10 
union all 
select id from t where num=20 
5.in 和 not in 也要慎用，否则会导致全表扫描，如： 
select id from t where num in(1,2,3) 
对于连续的数值，能用 between 就不要用 in 了： 
select id from t where num between 1 and 3
6.下面的查询也将导致全表扫描： 
select id from t where name like &#39;%abc%&#39; 
若要提高效率，可以考虑全文检索。
7.如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描： 
select id from t where num=@num 
可以改为强制查询使用索引： 
select id from t with(index(索引名)) where num=@num 
8.应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如： 
select id from t where num/2=100 
应改为: 
select id from t where num=100/<em>2
9.应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如： 
select id from t where substring(name,1,3)=&#39;abc&#39;--name以abc开头的id 
select id from t where datediff(day,createdate,&#39;2005-11-30&#39;)=0--‘2005-11-30’生成的id 
应改为: 
select id from t where name like &#39;abc%&#39; 
select id from t where createdate&gt;=&#39;2005-11-30&#39; and createdate&lt;&#39;2005-12-1&#39; 
10.不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。 
11.在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使用，并且应尽可能的让字段顺序与索引顺序相一致。 
12.不要写一些没有意义的查询，如需要生成一个空表结构： 
select col1,col2 into /#t from t where 1=0 
这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样： 
create table /#t(...) 
13.很多时候用 exists 代替 in 是一个好的选择： 
select num from a where num in(select num from b) 
用下面的语句替换： 
select num from a where exists(select 1 from b where num=a.num) 
14.并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。 
15.索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有必要。 
16.应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。
17.尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。
18.尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。
19.任何地方都不要使用 select /</em> from t ，用具体的字段列表代替“/*”，不要返回用不到的任何字段。 
20.尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。 
21.避免频繁创建和删除临时表，以减少系统表资源的消耗。 
22.临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使用导出表。
23.在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。 
24.如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后drop table ，这样可以避免系统表的较长时间锁定。 
25.尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。
26.使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。 
27.与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。 
28.在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。 
29.尽量避免大事务操作，提高系统并发能力。 
30.尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。</p>
<p>来源： <a href="[http://www.wudongqi.com/article/502.htm](http://www.wudongqi.com/article/502.htm)">[http://www.wudongqi.com/article/502.htm](http://www.wudongqi.com/article/502.htm)</a></p>
<p><strong>查询语句（Select）的优化建议</strong>
1、合理使用索引：where子句中变量顺序应与索引字键顺序相同。
如：create index test_idx on test(hm, rq, xx)
索引字键顺序：首先是号码hm，其次是日期rq，最后是标志xx，所以where子句
变量顺序应是where hm&lt;=“P1234”and rq=“06/06/1999”and xx=“DDD”,不应
是where xx=“DDD” and rq=“06/06/1999” and hm &lt;=“P1234”这样的不按索引字键顺序写法。
2、将最具有限制性的条件放在前面，大值在前，小值在后。
如：where colA&lt;=10000 AND colA&gt;=1　效率高
where colA&gt;=1 AND colA&lt;=10000 效率低
3、避免采用MATCHES和LIKE通配符匹配查询
通配符匹配查询特别耗费时间。即使在条件字段上建立了索引，在这种情况下也还是采用顺序扫描的方式。
例如语句：Select ＊ FROM customer Where zipcode MATCHES “524/<em>”
可以考虑将它改为Select ＊ FROM customer Where ZipCode&lt;=“524999” AND ZipCode &gt;=“524000”，则在执行查询时就会利用索引来查询，显然会大大提高速度。
4、避免非开始的子串
例如语句：Select ＊ FROM customer Where zipcode[2，3] &gt;“24”，在where子句中采用了非开始子串，因而这个语句也不会使用索引。
5、避免相关子查询
一个字段的标签同时在主查询和where子句中的查询中出现，那么很可能当主查询中的字段值改变之后，子查询必须重新查询一次。查询嵌套层次越多，效率越低，因此应当尽量避免子查询。如果子查询不可避免，那么要在子查询中过滤掉尽可能多的行。
例如：将下面的语句
select hm,rq from TabA
where item IN (select item form TabB where TabB.num=50)
改为：select hm,bf from TabA, TabB
where TabA.item=TabB.item AND TabB.num=50
6、避免或简化排序
应当简化或避免对大型表进行重复的排序。当能够利用索引自动以适当的次序产生输出时，优化器就避免了排序的步骤。以下是一些影响因素：
◆ 索引中不包括一个或几个待排序的字段；
◆ group by或order by子句中字段的次序与索引的次序不一样；
◆ 排序的字段来自不同的表。
为了避免不必要的排序，就要正确地增建索引，合理地合并数据库表（尽管有时可能影响表的规范化，但相对于效率的提高是值得的）。如果排序不可避免，那么应当试图简化它，如缩小排序的字段的范围等。
7、消除对大型表行数据的顺序存取
在嵌套查询中，对表的顺序存取对查询效率可能产生致命的影响。比如采用顺序存取策略，一个嵌套3层的查询，如果每层都查询1000行，那么这个查询就要查询10亿行数据。避免这种情况的主要方法就是对连接的字段进行索引。
例如，两个表：学生表（学号、姓名、年龄……）和选课表（学号、课程号、成绩）。如果两个表要做连接，就要在“学号”这个连接字段上建立索引。还可以使用并集来避免顺序存取。尽管在所有的检查列上都有索引，但某些形式的where子句强迫优化器使用顺序存取。下面的查询将强迫对orders表执行顺序/</em>作：
Select ＊ FROM orders Where (cust_num=126 AND order_num&gt;1001) or order_num=1008
虽然在cust_num和order_num上建有索引，但是在上面的语句中优化器还是使用顺序存取路径扫描整个表。
因为这个语句要检索的是分离的行的集合，所以应该改为如下语句：
Select ＊ FROM orders Where cust_num=126 AND order_num&gt;1001
  UNION
Select ＊ FROM orders Where order_num=1008
这样就能利用索引路径处理查询。
8、对于大数据量的求和应避免使用单一的sum命令处理，可采用group by方式与其结合，有时其效率可提高几倍甚至百倍。
9、避免会引起磁盘读写的rowid操作。在where子句中或select语句中，用rowid要产生磁盘读写，是一个物理过程，会影响性能。
10、使用临时表加速查询
把表的一个子集进行排序并创建临时表，有时能加速查询。它有助于避免多重排序/*作，而且在其他方面还能简化优化器的工作。
但要注意：临时表创建后不会反映主表的修改。在主表中数据频繁修改的情况下，注意不要丢失数据。</p>
<p>来源： <a href="[http://www.wudongqi.com/article/503.htm](http://www.wudongqi.com/article/503.htm)">[http://www.wudongqi.com/article/503.htm](http://www.wudongqi.com/article/503.htm)</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--提高select查询效率/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--提高select查询效率" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--MYSQL不能从远程连接的一个解决方法/">MYSQL不能从远程连接的一个解决方法</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--MYSQL不能从远程连接的一个解决方法/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="mysql-">MYSQL不能从远程连接的一个解决方法</h1>
<p>所有栏目 服务器 社交网络 电子商务 注册破解 网络资讯 本站作品 搜索引擎 酷站欣赏 安全防护 精品美文 整站程序 入侵检测 精品美图 ASP程序 精美整站 常用技巧 免费空间 架站技术 搜索引擎 PHP程序 新闻文章 免费电影 精美音乐 平面设计 站长心得 .NET程序 精品MV 社区论坛 DIV+CSS 有奖活动 数据库技术 网络常识 其他免费 JSP程序 服务器安全 JavaScript 生活常识 Vbscript VB程序 其他程序  标题 作者 内容</p>
<ul>
<li><a href="http://www.haishui.net/index.php" target="_blank">首页</a></li>
<li><a href="http://www.haishui.net/list.php?tid=53" target="_blank">热点资讯</a></li>
<li><a href="http://www.haishui.net/list.php?tid=12" target="_blank">免费资源</a></li>
<li><a href="http://www.haishui.net/list.php?tid=11" target="_blank">网络编程</a></li>
<li><a href="http://www.haishui.net/list.php?tid=10" target="_blank">站长天地</a></li>
<li><a href="http://www.haishui.net/list.php?tid=16" target="_blank">网页设计</a></li>
<li><a href="http://www.haishui.net/list.php?tid=15" target="_blank">网络安全</a></li>
<li><a href="http://www.haishui.net/list.php?tid=13" target="_blank">精品赏析</a></li>
<li><a href="http://www.haishui.net/list.php?tid=17" target="_blank">程序下载</a></li>
<li><a href="http://www.haishui.net/proxy/index.php" target="_blank">代理IP</a>
<a href="http://www.haishui.net/list.php" target="_blank">死灰复燃那天才会有更新改版！ [08-05-19 14:49:51]</a></li>
</ul>
<p>当前位置：<a href="http://www.haishui.net/index.php" target="_blank">首 页</a> &gt;&gt; <a href="http://www.haishui.net/list.php?tid=10" target="_blank">站长天地</a> &gt;&gt; <a href="http://www.haishui.net/list.php?tid=30" target="_blank">数据库技术</a> &gt;&gt; <a href="http://www.haishui.net/view.php?tid=30&amp;id=483" target="_blank">MYSQL不能从远程连接的一个解决方法</a> <strong>MYSQL不能从远程连接的一个解决方法</strong> 搜集者：海水 发布时间：06-03-13 浏览次数：12483 [<a href="">大</a> <a href="">中</a> <a href="">小</a>] 如果你想连接你的mysql的时候发生这个错误：
以下是引用内容：
ERROR 1130: Host &#39;192.168.1.3&#39; is not allowed to connect to this MySQL server
解决方法：
1。 改表法。可能是你的帐号不允许从远程登陆，只能在localhost。这个时候只要在localhost的那台电脑，登入mysql后，更改 &quot;mysql&quot; 数据库里的 &quot;user&quot; 表里的 &quot;host&quot; 项，从&quot;localhost&quot;改称&quot;%&quot;
mysql -u root -pvmwaremysql&gt;use mysql;mysql&gt;update user set host = &#39;%&#39; where user = &#39;root&#39;;mysql&gt;select host, user from user;</p>
<ol>
<li>授权法。例如，你想myuser使用mypassword从任何主机连接到mysql服务器的话。
GRANT ALL PRIVILEGES ON /<em>./</em> TO &#39;myuser&#39;@&#39;%&#39; IDENTIFIED BY &#39;mypassword&#39; WITH GRANT OPTION;
如果你想允许用户myuser从ip为192.168.1.3的主机连接到mysql服务器，并使用mypassword作为密码
GRANT ALL PRIVILEGES ON /<em>./</em> TO &#39;myuser&#39;@&#39;192.168.1.3&#39; IDENTIFIED BY &#39;mypassword&#39; WITH GRANT OPTION;    相关附件：无  相关文章[MYSQL]：</li>
</ol>
<ul>
<li>[05-10-09] <a href="http://www.haishui.net/view.php?tid=30&amp;id=13" title=" MYSQL 5.0.13 RC发布" target="_blank">MYSQL 5.0.13 RC发布</a></li>
<li>[05-11-23] <a href="http://www.haishui.net/view.php?tid=1&amp;id=165" title="配置最新的PHP加MYSQL服务器" target="_blank">配置最新的PHP加MYSQL服务器</a></li>
<li>[05-12-03] <a href="http://www.haishui.net/view.php?tid=30&amp;id=184" title="MYSQL出错代码列表" target="_blank">MYSQL出错代码列表</a></li>
<li>[06-01-27] <a href="http://www.haishui.net/view.php?tid=39&amp;id=326" title="免费200MB，PHP，MYSQL，CGI，FTP空间" target="_blank">免费200MB，PHP，MYSQL，CGI，FTP空间</a></li>
<li>[06-09-29] <a href="http://www.haishui.net/view.php?tid=30&amp;id=893" title="MYSQL常见出错代码" target="_blank">MYSQL常见出错代码</a> 下一篇：[06-03-13] <a href="http://www.haishui.net/view.php?tid=58&amp;id=484" title="一个馒头引发的血案" target="_blank">一个馒头引发的血案</a> 上一篇：[06-03-13] <a href="http://www.haishui.net/view.php?tid=5&amp;id=482" title="女生教你怎么追MM--送给没有女朋友的朋友" target="_blank">女生教你怎么追MM--送给没有女朋友的朋友</a> 相关评论： 添加评论:  Email: 验证码: <img src="" alt=""> 评论[最多255字节]:</li>
</ul>
<h2 id="-">广告时间</h2>
<h2 id="-">搜索信息</h2>
<p>输入您的搜索字词 站内搜索 网络搜索
提交搜索表单</p>
<h2 id="-">置顶文章</h2>
<h2 id="-">推荐文章</h2>
<h2 id="-">点击排行</h2>
<ul>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=719" title="MySQL开发中的外键与参照完整性" target="_blank">MySQL开发中的外键与参照完整性</a></li>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=483" title="MYSQL不能从远程连接的一个解决方法" target="_blank">MYSQL不能从远程连接的一个解决方法</a></li>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=150" title="SQL Server 2000安装图解" target="_blank">SQL Server 2000安装图解</a></li>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=215" title="忘记MySQL密码的更改方法" target="_blank">忘记MySQL密码的更改方法</a></li>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=419" title="远程连接sql server 2000服务器的解决方案" target="_blank">远程连接sql server 2000服务器的解决方案..</a></li>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=720" title="MySQL字段类型说明" target="_blank">MySQL字段类型说明</a></li>
<li><a href="http://www.haishui.net/view.php?tid=30&amp;id=13" title=" MYSQL 5.0.13 RC发布" target="_blank">MYSQL 5.0.13 RC发布</a>
版权所有 海水工作室 程序支持 海水 &amp; Spring 界面风格 MacroLong    <a href="http://www.miibeian.gov.cn/" target="_blank">晋ICP备05007933号</a></li>
</ul>
<p>本站所有信息均转载自网络，供大家阅读、使用，不负责任何侵权行为。</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--MYSQL不能从远程连接的一个解决方法/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--MYSQL不能从远程连接的一个解决方法" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--高水位线HighWaterMark-oracle性能优化/">高水位线(High Water Mark) </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--高水位线HighWaterMark-oracle性能优化/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-high-water-mark-oracle-">高水位线(High Water Mark) - oracle性能优化</h1>
<p>  <a href="http://blog.chinaunix.net/" target="_blank">博客首页</a> <a href="http://blog.chinaunix.net/register.php" target="_blank">注册</a> <a href="http://bbs.chinaunix.net/forumdisplay.php?fid=51" target="_blank">建议与交流</a> <a href="http://blog.chinaunix.net/top/" target="_blank">排行榜</a> <a href="http://blog.chinaunix.net/u2/60332/" target="_blank">加入友情链接</a>  <img src="" alt=""> <a href="http://blog.chinaunix.net/u2/star.php?blogid=60332" title="给此博客推荐值" target="_blank">推荐</a> <a href="http://blog.chinaunix.net/u2/complaint.php?blogid=60332" title="投诉此博客" target="_blank">投诉</a> 搜索：  <a href="http://blog.chinaunix.net/help/" target="_blank">帮助</a>  <strong>huaihe0410</strong></p>
<p> 努力,坚持,成败在此    <a href="http://huaihe0410.cublog.cn/" target="_blank">huaihe0410.cublog.cn</a> </p>
<ul>
<li><a href="http://control.cublog.cn/" target="_blank">管理博客</a></li>
<li><a href="http://control.cublog.cn/article_new.php" target="_blank">发表文章</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/guestbook.html" target="_blank">留言</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/links.html" target="_blank">收藏夹</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/group.html" target="_blank">博客圈</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/music.html" target="_blank">音乐</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/photo.html" target="_blank">相册</a></li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article.html" target="_blank">文章</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_138247.html" target="_blank">· AIX</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_125862.html" target="_blank">· 协议   }</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_126906.html" target="_blank">· socket</a></p>
</li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_93657.html" target="_blank">· jsp</a></li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_77152.html" target="_blank">· linux/unix   }</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_138139.html" target="_blank">· cvs</a></p>
</li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_120120.html" target="_blank">· 网络</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_133308.html" target="_blank">· shell</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_133261.html" target="_blank">· 指令</a></li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_78134.html" target="_blank">· mysql   }</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_141554.html" target="_blank">· cluster</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_77026.html" target="_blank">· oracle   }</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_105725.html" target="_blank">· oracle 并行</a></p>
</li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_105724.html" target="_blank">· oracle1011新特性</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_105726.html" target="_blank">· Oracle9i初始化参数中文说明</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_80194.html" target="_blank">· oracle性能优化</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_105313.html" target="_blank">· oracle索引组织表</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_80555.html" target="_blank">· oracle分区表</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_105723.html" target="_blank">· oracle函数</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_125712.html" target="_blank">· oracle字符集</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_110365.html" target="_blank">· PL/SQL</a></li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_99870.html" target="_blank">· python   }</a></p>
</li>
<li><p><a href="http://blog.chinaunix.net/u2/60332/article_120449.html" target="_blank">· smtp</a></p>
</li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_126980.html" target="_blank">· socket</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_126157.html" target="_blank">· 中文字符</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_97234.html" target="_blank">· resin/java</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_125210.html" target="_blank">· 编码</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_106939.html" target="_blank">· 编译</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_111905.html" target="_blank">· 测试</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/article_77025.html" target="_blank">· 其他</a></li>
<li><a href="http://blog.chinaunix.net/u2/60332/index.html" target="_blank">首页</a>  <strong>关于作者</strong> <img src="&quot;收起&quot;" alt="">   <a href="http://blog.chinaunix.net/u2/60332/" target="_blank"><img src="" alt=""></a>
<strong>我的分类</strong> <img src="&quot;收起&quot;" alt=""> 
<a href="http://blog.chinaunix.net/u2/rss.php?id=60332" target="_blank"><img src="" alt=""></a>
<strong>高水位线(High Water Mark)**</strong>什么是水线**(High Water Mark)?</li>
</ul>
<hr>
<p>所有的oracle段(segments，在此，为了理解方便，建议把segment作为表的一个同义词) 都有一个在段内容纳数据的上限，我们把这个上限称为&quot;high water mark&quot;或HWM。这个HWM是一个标记，用来说明已经有多少没有使用的数据块分配给这个segment。HWM通常增长的幅度为一次5个数据块，原则上HWM只会增大，不会缩小，即使将表中的数据全部删除，HWM还是为原值，由于这个特点，使HWM很象一个水库的历史最高水位，这也就是HWM的原始含义，当然不能说一个水库没水了，就说该水库的历史最高水位为0。但是如果我们在表上使用了truncate命令，则该表的HWM会被重新置为0。
<strong>HWM数据库的操作有如下影响：</strong>
a) 全表扫描通常要读出直到HWM标记的所有的属于该表数据库块，即使该表中没有任何数据。
b) 即使HWM以下有空闲的数据库块，键入在插入数据时使用了append关键字，则在插入时使用HWM以上的数据块，此时HWM会自动增大。
<strong>如何知道一个表的HWM？</strong>
a) 首先对表进行分析:
ANALYZE TABLE <tablename> ESTIMATE/COMPUTE STATISTICS;
b) SELECT blocks, empty_blocks, num_rows
FROM user_tables
WHERE table_name = <tablename>;
BLOCKS 列代表该表中曾经使用过得数据库块的数目，即水线。
EMPTY_BLOCKS 代表分配给该表，但是在水线以上的数据库块，即从来没有使用的数据块。
让我们以一个有28672行的BIG_EMP1表为例进行说明：
1) SQL&gt; SELECT segment_name,segment_type,blocks
FROM dba_segments
WHERE segment_name=&#39;BIG_EMP1&#39;;
SEGMENT_NAME SEGMENT_TYPE BLOCKS EXTENTS</p>
<hr>
<p>BIG_EMP1 TABLE 1024 2
1 row selected.
2) SQL&gt; ANALYZE TABLE big_emp1 ESTIMATE STATISTICS;
Statement processed.
3) SQL&gt; SELECT table_name,num_rows,blocks,empty_blocks
FROM user_tables
WHERE table_name=&#39;BIG_EMP1&#39;;
TABLE_NAME NUM_ROWS BLOCKS EMPTY_BLOCKS</p>
<hr>
<p>BIG_EMP1 28672 700 323
1 row selected.
<strong>注意：</strong>
BLOCKS + EMPTY_BLOCKS (700+323=1023)比DBA_SEGMENTS.BLOCKS少个数据库块，这是因为有一个数据库块被保留用作segment header。DBA_SEGMENTS.BLOCKS 表示分配给这个表的所有的数据库块的数目。USER_TABLES.BLOCKS表示已经使用过的数据库块的数目。
4) SQL&gt; SELECT COUNT (DISTINCT
DBMS_ROWID.ROWID_BLOCK_NUMBER(rowid)||
DBMS_ROWID.ROWID_RELATIVE_FNO(rowid)) &quot;Used&quot;
FROM big_emp1;</p>
<h2 id="used">Used</h2>
<p>700
1 row selected.
5) SQL&gt; DELETE from big_emp1;
28672 rows processed.
6) SQL&gt; commit;
Statement processed.
7) SQL&gt; ANALYZE TABLE big_emp1 ESTIMATE STATISTICS;
Statement processed.
8) SQL&gt; SELECT table_name,num_rows,blocks,empty_blocks
FROM user_tables
WHERE table_name=&#39;BIG_EMP1&#39;;
TABLE_NAME NUM_ROWS BLOCKS EMPTY_BLOCKS</p>
<hr>
<p>BIG_EMP1 0 700 323
1 row selected.
9) SQL&gt; SELECT COUNT (DISTINCT
DBMS_ROWID.ROWID_BLOCK_NUMBER(rowid)||
DBMS_ROWID.ROWID_RELATIVE_FNO(rowid)) &quot;Used&quot;
FROM big_emp1;</p>
<h2 id="used">Used</h2>
<p>0 -- 这表名没有任何数据库块容纳数据，即表中无数据
1 row selected.
10) SQL&gt; TRUNCATE TABLE big_emp1;
Statement processed.
11) SQL&gt; ANALYZE TABLE big_emp1 ESTIMATE STATISTICS;
Statement processed.
12) SQL&gt; SELECT table_name,num_rows,blocks,empty_blocks
2&gt; FROM user_tables
3&gt; WHERE table_name=&#39;BIG_EMP1&#39;;
TABLE_NAME NUM_ROWS BLOCKS EMPTY_BLOCKS</p>
<hr>
<p>BIG_EMP1 0 0 511
1 row selected.
13) SQL&gt; SELECT segment_name,segment_type,blocks
FROM dba_segments
WHERE segment_name=&#39;BIG_EMP1&#39;;
SEGMENT_NAME SEGMENT_TYPE BLOCKS EXTENTS</p>
<hr>
<p>BIG_EMP1 TABLE 512 1
1 row selected.
<strong>注意:</strong>
TRUNCATE命令回收了由delete命令产生的空闲空间，注意该表分配的空间由原先的1024块降为512块。
为了保留由delete命令产生的空闲空间，可以使用
TRUNCATE TABLE big_emp1 REUSE STORAGE
用此命令后，该表还会是原先的1024块。
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em></p>
<p><strong>Oracle表段中的高水位线HWM</strong>  </p>
<p>在Oracle数据的存储中，可以把存储空间想象为一个水库，数据想象为水库中的水。水库中的水的位置有一条线叫做水位线，在Oracle中，这条线被称为高水位线（High-warter mark, HWM）。在数据库表刚建立的时候，由于没有任何数据，所以这个时候水位线是空的，也就是说HWM为最低值。当插入了数据以后，高水位线就会上涨，但是这里也有一个特性，就是如果你采用delete语句删除数据的话，数据虽然被删除了，但是高水位线却没有降低，还是你刚才删除数据以前那么高的水位。也就是说，这条高水位线在日常的增删操作中只会上涨，不会下跌。</p>
<p>下面我们来谈一下Oracle中Select语句的特性。Select语句会对表中的数据进行一次扫描，但是究竟扫描多少数据存储块呢，这个并不是说数据库中有多少数据，Oracle就扫描这么大的数据块，而是Oracle会扫描高水位线以下的数据块。现在来想象一下，如果刚才是一张刚刚建立的空表，你进行了一次Select操作，那么由于高水位线HWM在最低的0位置上，所以没有数据块需要被扫描，扫描时间会极短。而如果这个时候你首先插入了一千万条数据，然后再用delete语句删除这一千万条数据。由于插入了一千万条数据，所以这个时候的高水位线就在一千万条数据这里。后来删除这一千万条数据的时候，由于delete语句不影响高水位线，所以高水位线依然在一千万条数据这里。这个时候再一次用select语句进行扫描，虽然这个时候表中没有数据，但是由于扫描是按照高水位线来的，所以需要把一千万条数据的存储空间都要扫描一次，也就是说这次扫描所需要的时间和扫描一千万条数据所需要的时间是一样多的。所以有时候有人总是经常说，怎么我的表中没有几条数据，但是还是这么慢呢，这个时候其实奥秘就是这里的高水位线了。</p>
<pre><code>那有没有办法让高水位线下降呢，其实有一种比较简单的方法，那就是采用TRUNCATE语句进行删除数据。采用TRUNCATE语句删除一个表的数据的时候，类似于重新建立了表，不仅把数据都删除了，还把HWM给清空恢复为0。所以如果需要把表清空，在有可能利用TRUNCATE语句来删除数据的时候就利用TRUNCATE语句来删除表，特别是那种数据量有可能很大的临时存储表。

在手动段空间管理（Manual Segment Space Management）中，段中只有一个HWM，但是在Oracle9iRelease1才添加的自动段空间管理（Automatic Segment Space Management）中，又有了一个低HWM的概念出来。为什么有了HWM还又有一个低HWM呢，这个是因为自动段空间管理的特性造成的。在手段段空间管理中，当数据插入以后，如果是插入到新的数据块中，数据块就会被自动格式化等待数据访问。而在自动段空间管理中，数据插入到新的数据块以后，数据块并没有被格式化，而是在第一次在第一次访问这个数据块的时候才格式化这个块。所以我们又需要一条水位线，用来标示已经被格式化的块。这条水位线就叫做低HWM。一般来说，低HWM肯定是低于等于HWM的。
</code></pre><p>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
<strong>修正ORACLE表的高水位线</strong></p>
<p>在ORACLE中，执行对表的删除操作不会降低该表的高水位线。而全表扫描将始终读取一个段(extent)中所有<strong>低于高水位线标记</strong>的块。如果在执行删除操作后不降低高水位线标记，则将导致查询语句的性能低下。下面的方法都可以降低高水位线标记。</p>
<p>1.执行表重建指令 alter table <em>table_name</em> move;
(在线转移表空间ALTER TABLE 。。。 MOVE TABLESPACE 。。。
 ALTER TABLE 。。。 MOVE 后面不跟参数也行，
 不跟参数表还是在原来的表空间，move后记住重建索引
 如果以后还要继续向这个表增加数据，没有必要move，
 只是释放出来的空间，只能这个表用，其他的表或者segment无法使用该空间
 )
2.执行alter table <em>table_name</em> shrink space; 注意，此命令为Oracle 10g新增功能，再执行该指令之前必须允许行移动 alter table <em>table_name</em> enable row movement;
3.复制要保留的数据到临时表t，drop原表，然后rename临时表t为原表
4.emp/imp
5.alter   table  table_name  deallocate   unused<br>6.尽量truncate 吧</p>
<p>   发表于： 2008-03-13，修改于： 2008-03-13 16:42 已浏览4027次，有评论1条 <a href="http://blog.chinaunix.net/u2/star.php?blogid=60332&amp;artid=495441" title="推荐这篇文章" target="_blank">推荐</a> <a href="http://blog.chinaunix.net/u2/complaint.php?blogid=60332&amp;artid=495441" title="投诉这篇文章" target="_blank">投诉</a>
  <strong>网友评论</strong>  <strong>凝结水晶</strong> 时间：2010-06-20 14:09:09 IP地址：122.233.180.★  <em>**</em> SQL&gt; select  EMPTY_BLOCKS,NUM_ROWS,BLOCKS,AVG_SPACE,AVG_ROW_LEN from user_tables where TABLE_NAME=upper(&#39;lyq_index_test&#39;);
EMPTY_BLOCKS   NUM_ROWS     BLOCKS  AVG_SPACE AVG_ROW_LEN</p>
<hr>
<pre><code>      98     821426       3358       3330         116
</code></pre><p>Elapsed: 00:00:00.05
SQL&gt; 
SQL&gt; 
SQL&gt; 
SQL&gt; select  segment_name,segment_type,blocks 
  2  from dba_segments
  3  where segment_name=upper(&#39;lyq_index_test&#39;);
SEGMENT_NAME                                                                      SEGMENT_TYPE           BLOCKS</p>
<hr>
<p>LYQ_INDEX_TEST                                                                    TABLE                    3456
为什么我从user_tables 表中出来的和dba_segments中出来的blocks是相等的？不是说会有一个保留的segments作为header吗？
  <strong>发表评论</strong> Copyright © 2001-2010 ChinaUnix.net All Rights Reserved</p>
<p>感谢所有关心和支持过ChinaUnix的朋友们
页面生成时间：0.07427</p>
<p><a href="http://www.miibeian.gov.cn/" target="_blank">京ICP证041476号</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--高水位线HighWaterMark-oracle性能优化/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--高水位线HighWaterMark-oracle性能优化" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-安装--Oracle10_2forRHEL5_4_x86_64安装手册-HankenGt的个人空间/">Oracle10_2 for RHEL5_4_x86_64 安装手册 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-安装--Oracle10_2forRHEL5_4_x86_64安装手册-HankenGt的个人空间/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle10_2-for-rhel5_4_x86_64-hankengt-itpub-powered-by-x-space">Oracle10_2 for RHEL5_4_x86_64 安装手册 - HankenGt的个人空间 - ITPUB个人空间 - powered by X-Space</h1>
<p><strong>HankenGt的个人空间</strong></p>
<p><a href="&quot;复制地址&quot;">copy</a> <a href="http://space.itpub.net/22650465" title="加入收藏" target="_blank">Bookmark</a> <a href="http://space.itpub.net/22650465" target="_blank">http://space.itpub.net/22650465</a></p>
<ul>
<li><a href="http://space.itpub.net/22650465/spacelist-blog" target="_blank">博客</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-image" target="_blank">图片</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-goods" target="_blank">商品</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-file" target="_blank">下载</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-link" target="_blank">收藏</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-video" target="_blank">影音</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-group" target="_blank">圈子</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-friend" target="_blank">好友</a></li>
<li><a href="http://space.itpub.net/22650465/spacelist-bbs" target="_blank">论坛</a></li>
<li><a href="http://space.itpub.net/22650465/action-viewpro" target="_blank">留言</a></li>
</ul>
<p><a href="http://space.itpub.net/batch.manage.php?uid=22650465" target="_blank">空间管理</a> 您的位置: <a href="http://space.itpub.net/" target="_blank">ITPUB个人空间</a> » <a href="http://space.itpub.net/22650465/" target="_blank">HankenGt的个人空间</a> » <a href="http://space.itpub.net/22650465/spacelist-blog" target="_blank">日志</a></p>
<h1 id="oracle10-2-for-rhel5-4-x86_64-">Oracle10.2 for RHEL5.4.x86_64 安装手册</h1>
<p><a href="http://space.itpub.net/batch.common.php?action=viewspace&amp;op=up&amp;itemid=625729&amp;uid=22650465" target="_blank">上一篇</a> / <a href="http://space.itpub.net/batch.common.php?action=viewspace&amp;op=next&amp;itemid=625729&amp;uid=22650465" target="_blank">下一篇</a>  2010-01-21 23:02:02 / 天气: 晴朗 / 心情: 高兴 / 精华(3) / 置顶(1)
<a href="http://space.itpub.net/22650465/viewspace-625729#xspace-tracks" target="_blank">查看( 558 )</a> / <a href="http://space.itpub.net/22650465/viewspace-625729#xspace-itemreply" target="_blank">评论( 1 )</a> / <a href="http://space.itpub.net/22650465/viewspace-625729#xspace-itemform" target="_blank">评分( 0 / 0 )</a></p>
<p>Oracle10.2 for RHEL5.4.x86_64<a href=""><strong>安装</strong></a>手册</p>
<h1 id="1-">1.   系统环境</h1>
<p>OS：Redhat Enterprise <a href=""><strong>Linux</strong></a> 5.4.x86_64</p>
<p>OS kenrel：2.6.18-164.EL5</p>
<p><a href=""><strong>Oracle</strong></a>：Oracle10.2.0.1EnterpriseFor Linux 86_64</p>
<p>Harddisk:320G</p>
<p>Memory:4G</p>
<p>Ethernet adapter：100Base-T</p>
<h1 id="2-">2.   操作系统要求</h1>
<h2 id="-">硬盘的分区和目录规划</h2>
<p><strong>Filesystem</strong></p>
<p><strong>Type<em>**</em></strong></p>
<p><strong>Size<em>**</em></strong></p>
<p><strong>Mounted on<em>**</em></strong> /dev/hda1</p>
<p>ext3</p>
<p>1,024M</p>
<p>/boot /dev/mapper/VG00-LV00</p>
<p>ext3</p>
<p>30,720M</p>
<p>/ /dev/mapper/VG00-LV01</p>
<p>swap</p>
<p>6,144M</p>
<p>N/A /dev/mapper/VG00-LV02</p>
<p>ext3</p>
<p>20,480 M</p>
<p>/home /dev/mapper/VG00-LV03</p>
<p>ext3</p>
<p>20,480 M</p>
<p>/opt /dev/mapper/VG00-LV04</p>
<p>ext3 </p>
<p>20,480 M</p>
<p>/usr /dev/mapper/VG00-LV05</p>
<p>ext3</p>
<p>20,480 M</p>
<p>/var /dev/mapper/VG00-LV06</p>
<p>ext3</p>
<p>20,480 M</p>
<p>/tmp /dev/mapper/VG00-LV07</p>
<p>ext3</p>
<p>61,440M</p>
<p>/oracle /dev/mapper/VG00-LV08</p>
<p>ext3</p>
<p>61,440M</p>
<p>/websphere tmpfs</p>
<p>ext3</p>
<p>20,480 M</p>
<p> /tmp</p>
<p><strong>1)       **</strong>检查硬件信息**</p>
<p>/#grep MemTotal /proc/meminfo</p>
<p>/#grep SwapTotal /proc/meminfo</p>
<p>/#df –h</p>
<h2 id="-linux-">验证Linux安装</h2>
<p><strong>2)       **</strong>检查内核版本**</p>
<p>/#uname -r</p>
<p><strong>3)       **</strong>安装<a href=""><strong>软件</strong></a>包**</p>
<p> 系统安装软件包的时候，选择“自定义”方式安装软件包，并且选择“安装全部软件包”的方式进行安装，如下补丁一定要安装，版本可以高于下面列出的</p>
<p>1)     binutils-2.17.50.0.6-12.EL5</p>
<p>2)     compat-db-4.2.52-5.1</p>
<p>3)     compat-libstdc++-33-3.2.3(i386)</p>
<p>4)     compat-libstdc++-33-3.2.3(x86_64)</p>
<p>5)     control-center-2.16.0-16. EL5</p>
<p>6)     gcc-4.1.2-46.EL5</p>
<p>7)     gcc-c++-4.1.2-46.EL5</p>
<p>8)     glibc-2.5-42</p>
<p>9)     glibc-common-2.5-42</p>
<p>10) libaio-0.3.106.3.2</p>
<p>11) libstdc++-4.1.2-46.EL5</p>
<p>12) libstdc++-devel-4.1.2-46.EL5</p>
<p>13) libXp-1.0.0-8</p>
<p>14) make-3.81-1.1</p>
<p>15) openmotif-2.3.1-2.3.EL5</p>
<p>16) pdksh-5.2.14-36.EL5</p>
<p>17) setarch-2.0-1.1</p>
<p>18) sysstat-7.0.2-3.EL5</p>
<p>（Tips： 建议先检查，再安装，参考步骤<strong>4）</strong></p>
<p>以下包建议安装i386和x86_64两者</p>
<p>libaio-0.3.106-3.2.x86_64.rpm</p>
<p>libaio-0.3.106-3.2.i386.rpm</p>
<p>libXp-1.0.0-8.x86_64.rpm </p>
<p>libXp-1.0.0-8.i386.rpm </p>
<p><strong>4)       **</strong>检查所需软件包**</p>
<p>/# rpm -q binutils compat-db control-center compat-libstdc++ gcc gcc-c++ glibc glibc-common libaio libstdc++ libstdc++-devel libXp make openmotif pdksh setarch sysstat</p>
<p>Ip地址的规划
主机名</p>
<p>Eth0</p>
<p>Eth1 devdb</p>
<p>130.120.2.158</p>
<p><strong>5)       **</strong>/etc/hosts<strong>**文件修改</strong></p>
<p>把127.0.0.1修改为网卡设置的(直实)ip地址,其后把多余的主机名去掉,只保留一个真实的主机名</p>
<p>如：130.120.2.158  devdb</p>
<h2 id="oracle-">ORACLE所需的系统配置</h2>
<p><strong>6)       **</strong>修改/etc/profile<strong>**文件</strong></p>
<p>添加如下内容:</p>
<p>/# for oracle</p>
<p>if [ $USER = &quot;oracle&quot; ]; then</p>
<pre><code>   if [ $SHELL = &quot;/bin/ksh&quot; ]; then

           ulimit -p 16384

           ulimit -n 65536

   else

           ulimit -u 16384 -n 65536

   fi
</code></pre><p>fi</p>
<p><strong>修改系统内核参数<em>**</em></strong></p>
<p><strong>7)       **</strong>编辑/etc/sysctl.conf<strong>**文件</strong></p>
<p>kernel.shmall = 2097152</p>
<p>kernel.shmmax = 2147483648</p>
<p>kernel.shmmni = 4096</p>
<p>/# semaphores: semmsl, semmns, semopm, semmni</p>
<p>kernel.sem = 250 32000 100 128</p>
<p>fs.file-max = 65536</p>
<p>net.ipv4.ip_local_port_range = 1024 65000</p>
<p>net.core.rmem_default = 1048576</p>
<p>net.core.rmem_max = 1048576</p>
<p>net.core.wmem_default = 262144</p>
<p>net.core.wmem_max = 262144</p>
<p>修改完成后，用root用户执行以下命令导入刚才写入的参数</p>
<p>＃sysctl -p</p>
<p><strong>8)       **</strong>编辑/etc/security/limits.conf<strong>**文件</strong></p>
<p>添加如下内容</p>
<p>/*  soft  nproc  2047</p>
<p>/*  hard nproc  16384</p>
<p>/*  soft  nofile  1024</p>
<p>/*  hard nofile  65536</p>
<p><strong>9)       **</strong>编辑/etc/pam.d/login<strong>**文件</strong></p>
<p>添加如下内容</p>
<p>session   required    /lib/security/pam_limits.so</p>
<p>session   required    pam_limits.so</p>
<p><strong>10)    **</strong>vi /etc/selinux/config**</p>
<p>确保以下内容</p>
<p>SELINUX=disabled</p>
<p><strong>11)    **</strong>创建oinstall dba<strong>**组</strong></p>
<p>＃groupadd oinstall</p>
<p>/# groupadd dba</p>
<p><strong>12)    **</strong>创建oracle<strong>**用户</strong></p>
<p>＃useradd –g oinstall –G dba oracle</p>
<p>/#passwd oracle</p>
<p><strong>13)    **</strong>创建oracle<strong>**软件安装目录</strong></p>
<p>＃mkdir /oracle/oradata</p>
<p><strong>14)    **</strong>修改目录属主属组**</p>
<p>＃chown –R oracle:oinstall /oracle/oradata</p>
<p>/# chmod 766 / oracle/oradata</p>
<p><strong>15)    **</strong> <strong><strong>以oracle</strong></strong>用户登录系统**</p>
<p>＃su – oracle</p>
<p><strong>16)    **</strong>  <strong><strong>修改.bash_profile</strong></strong>文件**</p>
<p>在里面添加如下内容</p>
<p>/#ORACLE ENVIRONENMENT</p>
<p>export ORACLE_BASE=/oracle/oradata</p>
<p>export ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1</p>
<p>export ORACLE_SID=YJZH10G</p>
<p>export ORACLE_TERM=xterm</p>
<p>export PATH=/usr/sbin:$PATH</p>
<p>export PATH=$ORACLE_HOME/bin:$PATH</p>
<p>export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib64:/usr/lib64:/usr/local/lib64:/usr/X11R6/lib64/</p>
<p>export CLASSPATH=$ORACLE_HOME/JRE:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib</p>
<p>export TMP=/tmp</p>
<p>export TMPDIR=$TMP</p>
<p>umask 022</p>
<p>unset USERNAME</p>
<p>执行环境设置</p>
<p>source ~/.bash_profile</p>
<p>验证是否正确</p>
<p>echo $ORACLE_BASE</p>
<p><strong>17)    **</strong>修改版本**</p>
<p>方法1:编辑文件/etc/redhat-release把Red Hat Enterprise Linux <a href=""><strong>Server</strong></a> release 5 (Tikanga)改成版本4，当然oracle安装完成后,要修改回来: redhat-release是只读文件,先更改它的属性,然后再更改</p>
<p>chmod 777 /etc/redhat-release</p>
<p>vi /etc/redhat-release</p>
<p>删除或注释掉这一行：Red Hat Enterprise Linux Server release 5 (Tikanga)</p>
<p>添加这一行：Red Hat Enterprise Linux AS release 4 (Nahant Update 4)</p>
<p>方法2:安装时忽略系统检查</p>
<p>/#./runInstaller -ignoreSysPrereqs</p>
<p><strong>18)    **</strong>重起系统**</p>
<p>＃reboot</p>
<h1 id="3-oracle-">3.   安装ORACLE软件</h1>
<p><strong>19)    **</strong>将<a href=""><strong>数据库</strong></a>软件上传到主机/oracle<strong>**目录，</strong></p>
<p>完毕后可以看到本路径下多了个文件：10201_database_linux_x86_64.cpio</p>
<p><strong>20)    **</strong>解压Oracle<strong>**安装文件</strong></p>
<p>cpio -idmv &lt; 10201_database_linux_x86_64cpio</p>
<p><strong>21)    **</strong>使GUI<strong>**终端上可以正常安装操作</strong></p>
<p>以root用户登录</p>
<p>＃xhost +  </p>
<p>  或这样</p>
<p>＃vncserver</p>
<p>然后切换为Oracle用户</p>
<p>/#su – oracle</p>
<p>/# cd /oracle/database</p>
<hr>
<p><strong>22)    **</strong>执行runInstaller<strong>**安装软件</strong></p>
<p>$.database/runInstaller  </p>
<p>出现安装画面</p>
<p><strong>23)    **</strong>选择Advanced Installation**</p>
<p><strong>24)    **</strong>指定存储oracle<strong><strong>安装信息的目录和该目录拥有者（oinstall</strong></strong>）**</p>
<p><strong>25)**</strong>选择安装方式，推荐选择<a href=""><strong>企业</strong></a>版**</p>
<p>请根据license情况选择安装内容。</p>
<p><strong>26)    **</strong>选择安装语言**</p>
<p><strong>27)    **</strong>选择安装目录**</p>
<p><strong>28)    **</strong>系统安装先决条件的检查**</p>
<p><strong>29)    **</strong>指定拥有dba<strong>**[</strong>管理<strong>]()权限的操作系统用户组</strong></p>
<p><strong>30)    **</strong>选择只安装数据库**</p>
<p><strong>31)    **</strong>显示安装清单**</p>
<p><strong>32)    **</strong>开始安装**</p>
<hr>
<p><strong>33)    **</strong>开始进行组件的配置**</p>
<p><strong>34)    **</strong>以root<strong>**用户执行如下的脚本</strong></p>
<p><strong>35)    **</strong>完成安装软件**</p>
<h1 id="4-oracle-">4.   创建ORACLE实例</h1>
<p>以oracle用户登陆，</p>
<p><strong>36)    **</strong>执行dbca<strong>**命令</strong></p>
<p>$dbca</p>
<p>出现欢迎画面</p>
<p>$dbca</p>
<p><strong>37)    **</strong>选择创建数据库**</p>
<p><strong>38)    **</strong>选择数据库模板（自定义数据库）**</p>
<p><strong>39) **</strong>定义数据库的“全局数据库名”和“SID”<strong>**为“YJZH10G”</strong></p>
<p><strong>40)    **</strong>选择数据库的管理选项**</p>
<p><strong>41)    **</strong>设置数据库的帐户密码，这里建议初始密码为：ora123**</p>
<p><strong>42)    **</strong>选择数据库的存储模式（文件系统）**</p>
<p><strong>43)    **</strong>使用模板中的文件位置来创建数据文件**</p>
<p><strong>44)    **</strong>查看并确认安装过程中会引用的文件位置变量**</p>
<p><strong>45)    **</strong>配置数据库的恢复选项（启用快闪恢复区和日志归档）**</p>
<p><strong>46)    **</strong>日志归档位置和格式的配置**</p>
<p>%t：线程号，%s：日志文件的序列号，%r：重设日志id</p>
<p>{ORACLE_BASE}/oradata/data2/{DB_NAME}/archive1</p>
<p>{ORACLE_BASE}/orabak/{DB_NAME}/archive2</p>
<p><strong>47)    **</strong>配置数据库内容**</p>
<p><strong>48)    **</strong>配置初试化参数选项－内存**</p>
<p><strong>49)    **</strong>配置初试化参数选项－数据块大小，数据库并发用户连接线程数**</p>
<p><strong>50)    **</strong>配置初试化参数－数据库字符集，国家字符集**</p>
<p>这是亚运会项目的特别需要，一般按以下选择安装</p>
<hr>
<p><strong>51)    **</strong>配置初试化参数－连接模式，选择共享模式**</p>
<p><strong>52)    **</strong>存储配置－控制文件位置**</p>
<p><strong>53)    **</strong>存储配置－控制文件选项**</p>
<p><strong>54)    **</strong>存储配置－数据文件**</p>
<p><strong>55)    **</strong>数据库创建选项（生成创建数据库脚本）**</p>
<p>生成数据库脚本以便在创建另一节点个数据库的时候使用该脚本</p>
<p><strong>56)    **</strong>检查并确认先前的配置选项**</p>
<p><strong>57)    **</strong>开始创建数据库实例**</p>
<p><strong>58)    **</strong>创建完成**</p>
<p><strong>59)    **</strong>通过以下信息访问数据库**</p>
<p><a href="http://devdb:5560/isqlplus" target="_blank">http://devdb:5560/isqlplus</a></p>
<p><a href="http://devdb:5560/isqlplus/dba" target="_blank">http://devdb:5560/isqlplus/dba</a></p>
<p><a href="http://devdb:1158/em" target="_blank">http://devdb:1158/em</a></p>
<p>如果不能解析机器名，用IP地址直接访问</p>
<p><a href="http://130.120.2.158:5560/isqlplus" target="_blank">http://130.120.2.158:5560/isqlplus</a></p>
<p><a href="http://130.120.2.158:5560/isqlplus/dba" target="_blank">http://130.120.2.158:5560/isqlplus/dba</a></p>
<p><a href="http://130.120.2.158:1158/em" target="_blank">http://130.120.2.158:1158/em</a></p>
<p><a href="http://www.itpub.net/post.php?action=import&amp;itemid=625729" target="_blank">导入论坛</a> <a href="">引用链接</a> <a href="">收藏</a> <a href="">分享给好友</a> <a href="">推荐到圈子</a> <a href="http://space.itpub.net/batch.manage.php?itemid=625729" target="_blank">管理</a> <a href="">举报</a></p>
<p>TAG:
<img src="" alt=""> <a href="">引用</a> <a href="">删除</a> 支持开源   /   2010-01-26 08:45:28 Oracle不开源，即使运行在linux上，也照样影响中国信息安全，要坚决抵制！</p>
<p><a href="">查看全部评论</a></p>
<p><a href="">-5</a> <a href="">-3</a> <a href="">-1</a> <a href="">-</a> <a href="">+1</a> <a href="">+3</a> <a href="">+5</a></p>
<p>评分：0</p>
<p>我来说两句</p>
<p>显示全部</p>
<p><img src="" alt=":loveliness:"> <img src="" alt=":handshake"> <img src="" alt=":victory:"> <img src="" alt=":funk:"> <img src="" alt=":time:"> <img src="" alt=":kiss:"> <img src="" alt=":call:"> <img src="" alt=":hug:"> <img src="" alt=":lol"> <img src="" alt=":&#39;("> <img src="" alt=":Q"> <img src="" alt=":L"> <img src="" alt=";P"> <img src="" alt=":$"> <img src="" alt=":P"> <img src="" alt=":o"> <img src="" alt=":@"> <img src="" alt=":D"> <img src="" alt=":("> <img src="" alt=":)"></p>
<p>内容</p>
<p>昵称</p>
<p>验证  <img src="&quot;看不清？点击换一个&quot;" alt="seccode"></p>
<p>提交评论</p>
<p><img src="" alt="HankenGt"></p>
<p><a href="http://space.itpub.net/22650465/action-viewpro-showpro-1" target="_blank">HankenGt</a></p>
<h3 id="-">用户菜单</h3>
<ul>
<li><a href="http://space.itpub.net/22650465/action-viewpro" target="_blank">给我留言</a></li>
<li><a href="">加入好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_22650465&amp;touid=22650465&amp;pmid=0&amp;daterange=2" target="_blank">发短消息</a></li>
<li><a href="http://space.itpub.net/22650465/action-viewpro-showpro-1" target="_blank">我的介绍</a></li>
<li><a href="http://www.itpub.net/space-uid-22650465.html" target="_blank">论坛资料</a></li>
<li><a href="http://space.itpub.net/batch.manage.php?uid=22650465" target="_blank">空间管理</a><h3 id="-">标题搜索</h3>
</li>
</ul>
<h3 id="-">日历</h3>
<p><a href="http://space.itpub.net/action-spacelist-uid-22650465-type-blog-starttime-1317398400-endtime-1320076800" target="_blank">«</a> <a href="http://space.itpub.net/action-spacelist-uid-22650465-type-blog-starttime-1320076800-endtime-1322668800" target="_blank">2011-11-14</a>   日 一 二 三 四 五 六     1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30      </p>
<h3 id="-">我的存档</h3>
<ul>
<li><a href="http://space.itpub.net/22650465/action-spacelist-starttime-1262275200-endtime-1264953600" target="_blank">2010年01月</a>   </li>
<li><a href="http://space.itpub.net/22650465/action-spacelist-starttime-1259596799" target="_blank">查看所有存档</a></li>
</ul>
<h3 id="-">数据统计</h3>
<ul>
<li>访问量: 617</li>
<li>日志数: 1</li>
<li>建立时间: 2010-01-21</li>
<li><p>更新时间: 2010-01-21</p>
<h3 id="rss-">RSS订阅</h3>
</li>
<li><p><a href="http://space.itpub.net/22650465/action-rss-type-blog" target="_blank"><img src="" alt="RSS订阅"></a></p>
</li>
</ul>
<p><a href="http://space.itpub.net/batch.login.php?action=logout" target="_blank">清空Cookie</a> - <a href="mailto:admin@yourdomain.com">联系我们</a> - <a href="http://space.itpub.net/" target="_blank">ITPUB个人空间</a> - <a href="http://www.itpub.net/" target="_blank">交流论坛</a> - <a href="http://space.itpub.net/action/spaces" target="_blank">空间列表</a> - <a href="http://space.itpub.net/archiver/" target="_blank">站点存档</a> - <a href="http://space.itpub.net/action/register" target="_blank">升级自己的空间</a></p>
<p>Powered by <a href="http://www.supesite.com/" target="_blank"><strong>X-Space</strong></a> <em>3.0.2</em> © 2001-2007 <a href="http://www.comsenz.com/" target="_blank">Comsenz Inc.</a>
<a href="http://www.miibeian.gov.cn/" target="_blank">京ICP证:010037号</a><a href="http://www.miibeian.gov.cn/" target="_blank"></a><a href="http://space.itpub.net/1711153"><img src="" alt="我要啦免费统计"></a><img src="" alt="">
<a href="">Open Toolbar</a>     <img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/安装/">安装</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/安装/" class="label label-info">安装</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-安装--Oracle10_2forRHEL5_4_x86_64安装手册-HankenGt的个人空间/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-安装--Oracle10_2forRHEL5_4_x86_64安装手册-HankenGt的个人空间" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/125/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/123/">123</a></li><li><a class="page-number" href="/page/124/">124</a></li><li><a class="page-number" href="/page/125/">125</a></li><li class="active"><li><span class="page-number current">126</span></li><li><a class="page-number" href="/page/127/">127</a></li><li><a class="page-number" href="/page/128/">128</a></li><li><a class="page-number" href="/page/129/">129</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/127/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 19:05:47</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
