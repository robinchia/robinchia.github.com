
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 78 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing/">一致性hash算法 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-hash-consistent-hashing">一致性hash算法 - consistent hashing</h1>
<p>您还未登录！|<a href="https://passport.csdn.net/account/login" target="_blank">登录</a>|<a href="https://passport.csdn.net/account/register" target="_blank">注册</a>|<a href="https://passport.csdn.net/help/faq" target="_blank">帮助</a></p>
<ul>
<li><a href="http://www.csdn.net/" target="_blank">首页</a></li>
<li><a href="http://news.csdn.net/" target="_blank">业界</a></li>
<li><a href="http://mobile.csdn.net/" target="_blank">移动</a></li>
<li><a href="http://cloud.csdn.net/" target="_blank">云计算</a></li>
<li><a href="http://sd.csdn.net/" target="_blank">研发</a></li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a></li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a></li>
<li><h2 id="-"><a href="">更多</a></h2>
</li>
</ul>
<h1 id="-sparkliang-http-blog-csdn-net-sparkliang-"><a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang的专栏</a></h1>
<h1 id="-">#</h1>
<ul>
<li><a href="http://blog.csdn.net/sparkliang?viewmode=contents" target="_blank"><img src="" alt="">目录视图</a></li>
<li><a href="http://blog.csdn.net/sparkliang?viewmode=list" target="_blank"><img src="" alt="">摘要视图</a></li>
<li><a href="http://blog.csdn.net/sparkliang/rss/list" target="_blank"><img src="" alt="">订阅</a>
<a href="http://www.csdn.net/article/2013-07-09/2816160" target="_blank">专访赵霏：应把握机会 HTML5游戏开发已臻成熟</a>        <a href="http://blog.csdn.net/blogdevteam/article/details/9226601" target="_blank">2013年7月微软MVP当选名单揭晓</a>      <a href="http://blog.csdn.net/csdnproduct/article/details/9226265" target="_blank">CSDN博客频道自定义摘要、图片水印、热门标签等功能上线啦</a>      <a href="http://blog.csdn.net/blogdevteam/article/details/9136613" target="_blank">CSDN博客第二期云计算最佳博主评选</a>      <a href=""></a></li>
</ul>
<h3 id="-hash-consistent-hashing-"><a href="">一致性hash算法 - consistent hashing</a></h3>
<p>分类： <a href="http://blog.csdn.net/sparkliang/article/category/488397" target="_blank">算法艺术</a>  2010-02-02 09:19 46510人阅读 <a href="">评论</a>(80) <a href="&quot;收藏&quot;">收藏</a> <a href="&quot;举报&quot;">举报</a>
<a href="http://blog.csdn.net/tag/details.html?tag=%e7%ae%97%e6%b3%95" target="_blank">算法</a><a href="http://blog.csdn.net/tag/details.html?tag=cache" target="_blank">cache</a><a href="http://blog.csdn.net/tag/details.html?tag=object" target="_blank">object</a><a href="http://blog.csdn.net/tag/details.html?tag=%e6%9c%8d%e5%8a%a1%e5%99%a8" target="_blank">服务器</a><a href="http://blog.csdn.net/tag/details.html?tag=%e5%ad%98%e5%82%a8" target="_blank">存储</a><a href="http://blog.csdn.net/tag/details.html?tag=c" target="_blank">c</a></p>
<p>目录<a href="&quot;系统根据文章中H1到H6标签自动生成文章目录&quot;">(?)</a><a href="&quot;展开&quot;">[+]</a></p>
<ol>
<li><p><a href="">一致性 hash 算法 consistent hashing</a></p>
</li>
<li><p><a href="">基本场景</a></p>
</li>
<li><a href="">hash 算法和单调性</a></li>
<li><p><a href="">consistent hashing 算法的原理</a></p>
</li>
<li><p><a href="">环形hash 空间</a></p>
</li>
<li><a href="">把对象映射到hash 空间</a></li>
<li><a href="">把cache 映射到hash 空间</a></li>
<li><a href="">把对象映射到cache</a></li>
<li><p><a href="">考察cache 的变动</a></p>
</li>
<li><p><a href="">虚拟节点</a></p>
</li>
<li><a href="">小结</a><h1 id="-hash-consistent-hashing-"><a href=""></a>一致性 hash 算法（ consistent hashing ）</h1>
</li>
</ol>
<p>张亮</p>
<p>consistent hashing 算法早在 1997 年就在论文 <strong><a href="http://portal.acm.org/citation.cfm?id=258660" target="_blank">Consistent hashing and random trees</a></strong> 中被提出，目前在 cache 系统中应用越来越广泛；</p>
<h2 id="-1-"><a href=""></a>1 基本场景</h2>
<p>比如你有 N 个 cache 服务器（后面简称 cache ），那么如何将一个对象 object 映射到 N 个 cache 上呢，你很可能会采用类似下面的通用方法计算 object 的 hash 值，然后均匀的映射到到 N 个 cache ；</p>
<p>hash(object)%N</p>
<p>一切都运行正常，再考虑如下的两种情况；</p>
<p>1  一个 cache 服务器 m down 掉了（在实际应用中必须要考虑这种情况），这样所有映射到 cache m 的对象都会失效，怎么办，需要把 cache m 从 cache 中移除，这时候 cache 是 N-1 台，映射公式变成了 hash(object)%(N-1) ；</p>
<p>2  由于访问加重，需要添加 cache ，这时候 cache 是 N+1 台，映射公式变成了 hash(object)%(N+1) ；</p>
<p>1 和 2 意味着什么？这意味着突然之间几乎所有的 cache 都失效了。对于服务器而言，这是一场灾难，洪水般的访问都会直接冲向后台服务器；</p>
<p>再来考虑第三个问题，由于硬件能力越来越强，你可能想让后面添加的节点多做点活，显然上面的 hash 算法也做不到。</p>
<p>  有什么方法可以改变这个状况呢，这就是 consistent hashing...</p>
<h2 id="-2-hash-"><a href=""></a>2 hash 算法和单调性</h2>
<p>Hash 算法的一个衡量指标是单调性（ Monotonicity ），定义如下：</p>
<p>单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够保证原有已分配的内容可以被映射到新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。</p>
<p>容易看到，上面的简单 hash 算法 hash(object)%N 难以满足单调性要求。</p>
<h2 id="-3-consistent-hashing-"><a href=""></a>3 consistent hashing 算法的原理</h2>
<p>consistent hashing 是一种 hash 算法，简单的说，在移除 / 添加一个 cache 时，它能够尽可能小的改变已存在 key 映射关系，尽可能的满足单调性的要求。</p>
<p>下面就来按照 5 个步骤简单讲讲 consistent hashing 算法的基本原理。</p>
<h3 id="-3-1-hash-"><a href=""></a>3.1 环形hash 空间</h3>
<p>考虑通常的 hash 算法都是将 value 映射到一个 32 为的 key 值，也即是 0~2^32-1 次方的数值空间；我们可以将这个空间想象成一个首（ 0 ）尾（ 2^32-1 ）相接的圆环，如下面图 1 所示的那样。</p>
<p><img src="" alt="circle space"></p>
<p>图 1 环形 hash 空间</p>
<h3 id="-3-2-hash-"><a href=""></a>3.2  把对象映射到hash 空间</h3>
<p>接下来考虑 4 个对象 object1~object4 ，通过 hash 函数计算出的 hash 值 key 在环上的分布如图 2 所示。</p>
<p>hash(object1) = key1;</p>
<p>… …</p>
<p>hash(object4) = key4;</p>
<p><img src="" alt="object"></p>
<p>图 2 4 个对象的 key 值分布</p>
<h3 id="-3-3-cache-hash-"><a href=""></a>3.3  把cache 映射到hash 空间</h3>
<p>Consistent hashing 的基本思想就是将对象和 cache 都映射到同一个 hash 数值空间中，并且使用相同的 hash 算法。</p>
<p>假设当前有 A,B 和 C 共 3 台 cache ，那么其映射结果将如图 3 所示，他们在 hash 空间中，以对应的 hash 值排列。</p>
<p>hash(cache A) = key A;</p>
<p>… …</p>
<p>hash(cache C) = key C;</p>
<p><img src="" alt="cache"></p>
<p>图 3 cache 和对象的 key 值分布</p>
<p>说到这里，顺便提一下 cache 的 hash 计算，一般的方法可以使用 cache 机器的 IP 地址或者机器名作为 hash 输入。</p>
<h3 id="-3-4-cache"><a href=""></a>3.4  把对象映射到cache</h3>
<p>现在 cache 和对象都已经通过同一个 hash 算法映射到 hash 数值空间中了，接下来要考虑的就是如何将对象映射到 cache 上面了。</p>
<p>在这个环形空间中，如果沿着顺时针方向从对象的 key 值出发，直到遇见一个 cache ，那么就将该对象存储在这个 cache 上，因为对象和 cache 的 hash 值是固定的，因此这个 cache 必然是唯一和确定的。这样不就找到了对象和 cache 的映射方法了吗？！</p>
<p>依然继续上面的例子（参见图 3 ），那么根据上面的方法，对象 object1 将被存储到 cache A 上； object2 和 object3 对应到 cache C ； object4 对应到 cache B ；</p>
<h3 id="-3-5-cache-"><a href=""></a>3.5  考察cache 的变动</h3>
<p>前面讲过，通过  hash 然后求余的方法带来的最大问题就在于不能满足单调性，当 cache 有所变动时， cache 会失效，进而对后台服务器造成巨大的冲击，现在就来分析分析 consistent hashing 算法。</p>
<p><strong>3.5.1</strong> <strong>移除 cache</strong></p>
<p>考虑假设 cache B 挂掉了，根据上面讲到的映射方法，这时受影响的将仅是那些沿 cache B 逆时针遍历直到下一个 cache （ cache C ）之间的对象，也即是本来映射到 cache B 上的那些对象。</p>
<p>因此这里仅需要变动对象 object4 ，将其重新映射到 cache C 上即可；参见图 4 。</p>
<p><img src="" alt="remove"></p>
<p>图 4 Cache B 被移除后的 cache 映射</p>
<p><strong>3.5.2</strong> <strong>添加 cache</strong></p>
<p>再考虑添加一台新的 cache D 的情况，假设在这个环形 hash 空间中， cache D 被映射在对象 object2 和 object3 之间。这时受影响的将仅是那些沿 cache D 逆时针遍历直到下一个 cache （ cache B ）之间的对象（它们是也本来映射到 cache C 上对象的一部分），将这些对象重新映射到 cache D 上即可。</p>
<p>因此这里仅需要变动对象 object2 ，将其重新映射到 cache D 上；参见图 5 。</p>
<p><img src="" alt="add"></p>
<p>图 5  添加 cache D 后的映射关系</p>
<h2 id="-4-"><a href=""></a>4  虚拟节点</h2>
<p>考量 Hash 算法的另一个指标是平衡性 (Balance) ，定义如下：</p>
<p>平衡性</p>
<p>平衡性是指哈希的结果能够尽可能分布到所有的缓冲中去，这样可以使得所有的缓冲空间都得到利用。</p>
<p>hash 算法并不是保证绝对的平衡，如果 cache 较少的话，对象并不能被均匀的映射到 cache 上，比如在上面的例子中，仅部署 cache A 和 cache C 的情况下，在 4 个对象中， cache A 仅存储了 object1 ，而 cache C 则存储了 object2 、 object3 和 object4 ；分布是很不均衡的。</p>
<p>为了解决这种情况， consistent hashing 引入了“虚拟节点”的概念，它可以如下定义：</p>
<p>“虚拟节点”（ virtual node ）是实际节点在 hash 空间的复制品（ replica ），一实际个节点对应了若干个“虚拟节点”，这个对应个数也成为“复制个数”，“虚拟节点”在 hash 空间中以 hash 值排列。</p>
<p>仍以仅部署 cache A 和 cache C 的情况为例，在图 4 中我们已经看到， cache 分布并不均匀。现在我们引入虚拟节点，并设置“复制个数”为 2 ，这就意味着一共会存在 4 个“虚拟节点”，  cache A1, cache A2 代表了 cache A ； cache C1, cache C2 代表了 cache C ；假设一种比较理想的情况，参见图 6 。</p>
<p><img src="" alt="virtual nodes"></p>
<p>图 6  引入“虚拟节点”后的映射关系</p>
<p>此时，对象到“虚拟节点”的映射关系为：</p>
<p>objec1-&gt;cache A2 ； objec2-&gt;cache A1 ； objec3-&gt;cache C1 ； objec4-&gt;cache C2 ；</p>
<p>因此对象 object1 和 object2 都被映射到了 cache A 上，而 object3 和 object4 映射到了 cache C 上；平衡性有了很大提高。</p>
<p>引入“虚拟节点”后，映射关系就从 { 对象 -&gt; 节点 } 转换到了 { 对象 -&gt; 虚拟节点 } 。查询物体所在 cache 时的映射关系如图 7 所示。</p>
<p><img src="" alt="map"></p>
<p>图 7  查询对象所在 cache</p>
<p>“虚拟节点”的 hash 计算可以采用对应节点的 IP 地址加数字后缀的方式。例如假设 cache A 的 IP 地址为 202.168.14.241 。</p>
<p>引入“虚拟节点”前，计算 cache A 的 hash 值：</p>
<p>Hash(“202.168.14.241”);</p>
<p>引入“虚拟节点”后，计算“虚拟节”点 cache A1 和 cache A2 的 hash 值：</p>
<p>Hash(“202.168.14.241/#1”);   // cache A1</p>
<p>Hash(“202.168.14.241/#2”);   // cache A2</p>
<h2 id="-5-"><a href=""></a>5  小结</h2>
<p>Consistent hashing 的基本原理就是这些，具体的分布性等理论分析应该是很复杂的，不过一般也用不到。</p>
<p><a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing" target="_blank"><a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing">http://weblogs.java.net/blog/2007/11/27/consistent-hashing</a></a>  上面有一个 java 版本的例子，可以参考。</p>
<p><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx" target="_blank"><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx">http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx</a></a>  转载了一个 PHP 版的实现代码。</p>
<p><a href="http://www.codeproject.com/KB/recipes/lib-conhash.aspx" target="_blank"><a href="http://www.codeproject.com/KB/recipes/lib-conhash.aspx">http://www.codeproject.com/KB/recipes/lib-conhash.aspx</a></a> C语言版本</p>
<p>一些参考资料地址：</p>
<p><a href="http://portal.acm.org/citation.cfm?id=258660" target="_blank"><a href="http://portal.acm.org/citation.cfm?id=258660">http://portal.acm.org/citation.cfm?id=258660</a></a></p>
<p><a href="http://en.wikipedia.org/wiki/Consistent_hashing" target="_blank"><a href="http://en.wikipedia.org/wiki/Consistent_hashing">http://en.wikipedia.org/wiki/Consistent_hashing</a></a></p>
<p><a href="http://www.spiteful.com/2008/03/17/programmers-toolbox-part-3-consistent-hashing/" target="_blank"><a href="http://www.spiteful.com/2008/03/17/programmers-toolbox-part-3-consistent-hashing/">http://www.spiteful.com/2008/03/17/programmers-toolbox-part-3-consistent-hashing/</a></a></p>
<p> <a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing" target="_blank"><a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing">http://weblogs.java.net/blog/2007/11/27/consistent-hashing</a></a></p>
<p><a href="http://tech.idv2.com/2008/07/24/memcached-004/" target="_blank"><a href="http://tech.idv2.com/2008/07/24/memcached-004/">http://tech.idv2.com/2008/07/24/memcached-004/</a></a></p>
<p><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx" target="_blank"><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx">http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx</a></a></p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a></p>
<ol>
<li>上一篇：<a href="http://blog.csdn.net/sparkliang/article/details/5272296" target="_blank">Map Reduce – the Free Lunch is not over?</a></li>
<li>下一篇：<a href="http://blog.csdn.net/sparkliang/article/details/5279424" target="_blank">Hadoop分布式文件系统：架构和设计要点</a>
查看评论<a href=""></a></li>
</ol>
<p>70楼 <a href="http://blog.csdn.net/u011335846" target="_blank">Spark-zh</a> 2013-07-09 20:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/u011335846" target="_blank"><img src="" alt=""></a>感谢楼主的讲解，很明了。69楼 <a href="http://blog.csdn.net/thomastianqq" target="_blank">thomastianqq</a> 2013-07-09 17:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/thomastianqq" target="_blank"><img src="" alt=""></a>单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够保证原有已分配的内容可以被映射到新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。
Hi,LZ，文中关于单调性的阐述是错误的。正确的应该是：哈希的结果应能够保证原有已分配的内容可以被映射到原有的或者新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。68楼 <a href="http://blog.csdn.net/lgfeng218" target="_blank">lgfeng218</a> 2013-06-26 11:59发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lgfeng218" target="_blank"><img src="" alt=""></a>通俗易懂67楼 <a href="http://blog.csdn.net/midstr" target="_blank">midstr</a> 2013-06-18 14:54发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/midstr" target="_blank"><img src="" alt=""></a>通俗易懂，顶一个哈66楼 <a href="http://blog.csdn.net/zxh87" target="_blank">zxh87</a> 2013-06-03 15:18发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zxh87" target="_blank"><img src="" alt=""></a>很好，又看了一次！65楼 <a href="http://blog.csdn.net/fanjiabing" target="_blank">fanjiabing</a> 2013-05-22 16:00发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/fanjiabing" target="_blank"><img src="" alt=""></a>写的很好!64楼 <a href="http://blog.csdn.net/mydreamongo" target="_blank">mydreamongo</a> 2013-05-20 16:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/mydreamongo" target="_blank"><img src="" alt=""></a>讲的很好。。63楼 <a href="http://blog.csdn.net/bingmo01" target="_blank">bingmo01</a> 2013-05-17 00:31发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/bingmo01" target="_blank"><img src="" alt=""></a>很给力。基本上看懂62楼 <a href="http://blog.csdn.net/perfectshark" target="_blank">perfectshark</a> 2013-05-11 13:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/perfectshark" target="_blank"><img src="" alt=""></a>浅显易懂！61楼 <a href="http://blog.csdn.net/pymqqq" target="_blank">pymqqq</a> 2013-05-04 20:18发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/pymqqq" target="_blank"><img src="" alt=""></a>非常好，谢谢楼主！学习了！60楼 <a href="http://blog.csdn.net/zhaowenchaofang" target="_blank">草原面朝大海</a> 2013-04-30 22:59发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zhaowenchaofang" target="_blank"><img src="" alt=""></a>假设我们已经在cache A中存储了一个object 1，然后不巧的是cacheA在之后被删除了，这时候我们需要访问object1，难道再一次进行hash，将object1存到下一个cache中吗？
如果上述成立，问题是我们如何将object1从cacheA中读取出来，因为在实际情况中，很有可能是cacheA是一下子坏掉了。Re: <a href="http://blog.csdn.net/xuhb95083023" target="_blank">总版主</a> 2013-05-07 17:08发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xuhb95083023" target="_blank"><img src="" alt=""></a>回复zhaowenchaofang：我觉得可以把OBJ存三份，分别再顺时针往后三个cache中，这样就算cache瞬间崩溃了，那么重新复制一份备份保证有三个备份即可，加CACHE也不是问题，剪切一部分obj到新增的cache上即可。59楼 <a href="http://blog.csdn.net/sc274491910" target="_blank">sc274491910</a> 2013-04-19 18:07发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sc274491910" target="_blank"><img src="" alt=""></a>加入了虚拟节点后，出现加减节点的情况，这种情况怎么权衡呢？58楼 <a href="http://blog.csdn.net/r4t5y6u7" target="_blank">r4t5y6u7</a> 2013-04-07 13:46发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/r4t5y6u7" target="_blank"><img src="" alt=""></a>讲的太好了，清晰明了，浅显易懂57楼 <a href="http://blog.csdn.net/u010096845" target="_blank">轻舞飘扬</a> 2013-03-30 17:09发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/u010096845" target="_blank"><img src="" alt=""></a>非常好56楼 <a href="http://blog.csdn.net/scncpb" target="_blank">scncpb</a> 2013-03-27 15:13发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/scncpb" target="_blank"><img src="" alt=""></a>作者写的和老外写的一样通俗易懂55楼 <a href="http://blog.csdn.net/mail_f5" target="_blank">mail_f5</a> 2013-02-21 17:55发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/mail_f5" target="_blank"><img src="" alt=""></a>图文并茂，不错54楼 <a href="http://blog.csdn.net/zhouxiaoqingelse" target="_blank">zhouxiaoqingelse</a> 2013-02-20 18:18发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zhouxiaoqingelse" target="_blank"><img src="" alt=""></a>非常清晰，感谢。53楼 <a href="http://blog.csdn.net/sight_" target="_blank">sight_</a> 2013-01-22 11:08发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sight_" target="_blank"><img src="" alt=""></a>楼主，有个问题请教一下,这个算法是如何保证后面添加的服务器能承担更多的任务，我应该如何控制&quot;更多&quot;这个量。例如我的服务器是分等级的，如何根据这个等级来控制hash到它上面的任务。Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2013-01-22 13:57发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复sight<em>：首先新加入的节点，将会把后继节点的部分数据分流给自己；
后面的新数据将会根据hash结果，无区别的分配到各节点上；
从我了解的来看，hash本身解决不了你说的分等级问题；hash环上的所有节点都是无差别对待的。不过对于引入虚拟节点的hash环来说，一个方法就是根据优先级来设置vnode的个数，这样也可以做到能力强的节点承担更多数据的结果，从统计意义上，实际上可能略有偏差。52楼 <a href="http://blog.csdn.net/lyzlovely" target="_blank">林大虫</a> 2012-12-24 13:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lyzlovely" target="_blank"><img src="" alt=""></a>讲得很清晰啊51楼 <a href="http://blog.csdn.net/dream1baby" target="_blank">dream1baby</a> 2012-12-18 11:32发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/dream1baby" target="_blank"><img src="" alt=""></a>赞，学习了！50楼 <a href="http://blog.csdn.net/blueskyltt" target="_blank">blueskyltt</a> 2012-12-03 18:30发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/blueskyltt" target="_blank"><img src="" alt=""></a>楼主讲的很浅显易懂，赞49楼 <a href="http://blog.csdn.net/syzcch" target="_blank">syzcch</a> 2012-11-12 09:11发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/syzcch" target="_blank"><img src="" alt=""></a>讲的浅显易懂48楼 <a href="http://blog.csdn.net/jixianwu2009" target="_blank">jixianwu2009</a> 2012-11-05 10:03发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/jixianwu2009" target="_blank"><img src="" alt=""></a>清晰明了47楼 <a href="http://blog.csdn.net/guoqingcun" target="_blank">月亮床</a> 2012-10-23 18:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/guoqingcun" target="_blank"><img src="" alt=""></a>受益非浅46楼 <a href="http://blog.csdn.net/ju136" target="_blank">ju136</a> 2012-10-16 09:32发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/ju136" target="_blank"><img src="" alt=""></a>good45楼 <a href="http://blog.csdn.net/yangqisheng" target="_blank">yangqisheng</a> 2012-10-07 13:42发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/yangqisheng" target="_blank"><img src="" alt=""></a>楼主写的很好，一看就懂。我非常喜欢图文并茂的说明。谢谢楼主。44楼 <a href="http://blog.csdn.net/lcw918110" target="_blank">lcw918110</a> 2012-09-05 10:14发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lcw918110" target="_blank"><img src="" alt=""></a>3.5.1中，这时受影响的将仅是那些沿 cache B 逆时针遍历直到下一个 cache （ cache C ）之间的对象。其中的cache C如图所示应为 A。请楼主检查下。
谢谢楼主的博文。Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2012-09-05 15:42发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复lcw918110：赞，看的很仔细；逆时针是在A上，顺时针落在C上。Re: <a href="http://blog.csdn.net/lcw918110" target="_blank">lcw918110</a> 2012-09-07 11:40发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lcw918110" target="_blank"><img src="" alt=""></a>回复sparkliang：楼主，关于cache中使用的hash算法，楼主知道的还有哪些？学习学习。43楼 <a href="http://blog.csdn.net/renjunyi6666" target="_blank">renjunyi6666</a> 2012-08-23 11:38发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/renjunyi6666" target="_blank"><img src="" alt=""></a>受益!谢谢42楼 <a href="http://blog.csdn.net/Myxiao7" target="_blank">Myxiao7</a> 2012-08-17 21:05发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/Myxiao7" target="_blank"><img src="" alt=""></a>学习了41楼 <a href="http://blog.csdn.net/skywhsq1987" target="_blank">skywhsq1987</a> 2012-08-02 10:35发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/skywhsq1987" target="_blank"><img src="" alt=""></a>ding40楼 <a href="http://blog.csdn.net/m_vptr" target="_blank">m_vptr</a> 2012-08-02 09:25发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/m_vptr" target="_blank"><img src="" alt=""></a>好文章39楼 <a href="http://blog.csdn.net/boYwell" target="_blank">boYwell</a> 2012-08-01 09:08发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/boYwell" target="_blank"><img src="" alt=""></a>文笔很好，赞一个38楼 <a href="http://blog.csdn.net/leejunjie2008" target="_blank">YcdoiT</a> 2012-07-26 16:40发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/leejunjie2008" target="_blank"><img src="" alt=""></a>顶一个，我这种悟性的都能看懂了37楼 <a href="http://blog.csdn.net/longsaiqin" target="_blank">大城小爱</a> 2012-07-06 19:02发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/longsaiqin" target="_blank"><img src="" alt=""></a>讲得很清晰，不错不错36楼 <a href="http://blog.csdn.net/BruceXX" target="_blank">brucest0078</a> 2012-06-18 11:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/BruceXX" target="_blank"><img src="" alt=""></a>关于virtualNode 有一些问题，因为你的key在存储的时候可以这样，但是读取的时候只有原生的key去相关的内容，而不会把vNode的ip之类的带进去，所以这里只是理论呢还是已经有实践过？表示怀疑。Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2012-06-18 13:52发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复BruceXX：读取的时候，关vnode什么事呢。读取者事先是不知道key存在那个节点上的。35楼 <a href="http://blog.csdn.net/Honeybb" target="_blank">Honeybb</a> 2012-06-12 09:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/Honeybb" target="_blank"><img src="" alt=""></a>最近在看这方面的文章，很迷茫。 楼主，分布式网络关于资源定位与一致性哈希算法和paxos算法的关系，请楼主明示啊！Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2012-06-18 13:52发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复Honeybb：一致性哈希算法和paxos算法，没什么关联34楼 <a href="http://blog.csdn.net/laigege" target="_blank">laigege</a> 2012-06-02 09:48发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/laigege" target="_blank"><img src="" alt=""></a>楼主是好人33楼 <a href="http://blog.csdn.net/dengjm_2011" target="_blank">dengjm_2011</a> 2012-05-23 16:41发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/dengjm_2011" target="_blank"><img src="" alt=""></a>很不错的文章，简单明了！32楼 <a href="http://blog.csdn.net/zcl198715" target="_blank">zcl198715</a> 2012-04-29 21:34发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zcl198715" target="_blank"><img src="" alt=""></a>分析的很好！赞一个！31楼 <a href="http://blog.csdn.net/leonkyd" target="_blank">leonkyd</a> 2012-04-21 10:28发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/leonkyd" target="_blank"><img src="" alt=""></a>非常好的技术文章，赞一个30楼 <a href="http://blog.csdn.net/wumucehng" target="_blank">wumucheng</a> 2012-04-06 20:04发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/wumucehng" target="_blank"><img src="" alt=""></a>讲得非常清晰，赞！29楼 <a href="http://blog.csdn.net/lqbbduck" target="_blank">lqbbduck</a> 2012-03-30 00:51发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lqbbduck" target="_blank"><img src="" alt=""></a>分析得很好28楼 <a href="http://blog.csdn.net/TCCaiWQ" target="_blank">TCCaiWQ</a> 2012-03-15 16:54发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/TCCaiWQ" target="_blank"><img src="" alt=""></a>简洁明了27楼 <a href="http://blog.csdn.net/RunZhi1989" target="_blank">RunZhi1989</a> 2012-03-05 17:22发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/RunZhi1989" target="_blank"><img src="" alt=""></a>赞，我看英文维基百科一直没看懂，博主的东西真是简洁明了。赞赞赞！26楼 <a href="http://blog.csdn.net/libobo5954451" target="_blank">libobo5954451</a> 2012-02-10 18:02发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/libobo5954451" target="_blank"><img src="" alt=""></a>非常好25楼 <a href="http://blog.csdn.net/humingchun" target="_blank">humingchun</a> 2012-01-02 19:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/humingchun" target="_blank"><img src="" alt=""></a>偶竟然看明白了 说明写的很清楚 呵呵24楼 <a href="http://blog.csdn.net/jmx_zhidai" target="_blank">jmx_zhidai</a> 2011-11-24 16:31发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/jmx_zhidai" target="_blank"><img src="" alt=""></a>写的非常明白，赞一个！！！23楼 <a href="http://blog.csdn.net/yfkiss" target="_blank">yfk</a> 2011-11-16 15:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/yfkiss" target="_blank"><img src="" alt=""></a>很赞的文章
谢谢lZ22楼 <a href="http://blog.csdn.net/kutpbpb_CSDN" target="_blank">南山道人</a> 2011-11-16 12:47发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/kutpbpb_CSDN" target="_blank"><img src="" alt=""></a>顶，非常感谢！21楼 <a href="http://blog.csdn.net/zhaopeinow" target="_blank">zhaopeinow</a> 2011-10-20 17:52发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zhaopeinow" target="_blank"><img src="" alt=""></a>顶20楼 <a href="http://blog.csdn.net/lbqBraveheart" target="_blank">lbqBraveheart</a> 2011-10-12 15:03发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lbqBraveheart" target="_blank"><img src="" alt=""></a>顶19楼 <a href="http://blog.csdn.net/xiangliangyu2008" target="_blank">向良玉</a> 2011-10-11 13:59发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xiangliangyu2008" target="_blank"><img src="" alt=""></a>好文章18楼 <a href="http://blog.csdn.net/xgtogd" target="_blank">xgtogd</a> 2011-09-25 23:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xgtogd" target="_blank"><img src="" alt=""></a>很好17楼 <a href="http://blog.csdn.net/fairywell" target="_blank">fairywell</a> 2011-09-12 21:54发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/fairywell" target="_blank"><img src="" alt=""></a>好文，图文并茂，让我一下就看明白了 ：）
Mark并收藏~~16楼 <a href="http://blog.csdn.net/parakpurple" target="_blank">parakpurple</a> 2011-08-29 17:09发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/parakpurple" target="_blank"><img src="" alt=""></a>写的太棒了 深入浅出15楼 <a href="http://blog.csdn.net/bokee" target="_blank">bokee</a> 2011-08-06 16:12发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/bokee" target="_blank"><img src="" alt=""></a>很清晰啊，想问下你的图是用什么工具画的？Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2011-08-30 09:19发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复bokee：visio啊14楼 <a href="http://blog.csdn.net/dahai_888" target="_blank">dahai_888</a> 2011-07-16 17:12发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/dahai_888" target="_blank"><img src="" alt=""></a>不得了。13楼 <a href="http://blog.csdn.net/wayon_yang" target="_blank">wayon_yang</a> 2011-05-30 11:49发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/wayon_yang" target="_blank"><img src="" alt=""></a>[e01]
英语不好 之前没看懂 现在清晰多了12楼 <a href="http://blog.csdn.net/laoyi19861011" target="_blank">laoyi19861011</a> 2011-05-13 20:45发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/laoyi19861011" target="_blank"><img src="" alt=""></a>这么好的一篇文章居然没有推荐，csdn的编辑干嘛吃去了11楼 <a href="http://blog.csdn.net/chemila" target="_blank">chemila</a> 2011-03-31 17:45发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/chemila" target="_blank"><img src="" alt=""></a>[e01]10楼 <a href="http://blog.csdn.net/liomao" target="_blank">liomao</a> 2011-03-29 09:13发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/liomao" target="_blank"><img src="" alt=""></a>[e10]9楼 <a href="http://blog.csdn.net/xunujNext" target="_blank">xunujNext</a> 2011-02-17 22:28发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xunujNext" target="_blank"><img src="" alt=""></a>不得不[e01]8楼 <a href="http://blog.csdn.net/printfabcd" target="_blank">printfabcd</a> 2010-12-17 14:51发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/printfabcd" target="_blank"><img src="" alt=""></a>请问虚拟节点，怎么保证均匀分布在，那个环上呢？？O(∩</em>∩)O~Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2011-03-11 15:31发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复 printfabcd：这就要由hash算法来保证了，均匀分布是概率上的均匀，当虚拟节点足够时，就能保证大概均匀了。7楼 <a href="http://blog.csdn.net/ccnuliu" target="_blank">ccnuliu</a> 2010-06-23 00:01发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/ccnuliu" target="_blank"><img src="" alt=""></a>假如cache通过hash函数计算出的值 和 object通过hash函数计算出来的值是同一个hash值怎么办？
那object应该指向哪个cache?Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2010-06-24 09:41发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复 ccnuliu：如果碰巧相同，就是指向具有相同hash值的cache。选择的原则是cache.hash &gt;= object.hash；（当然在环的衔接处是例外）Re: <a href="http://blog.csdn.net/a43350860" target="_blank">a43350860</a> 2011-03-05 18:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/a43350860" target="_blank"><img src="" alt=""></a>回复 sparkliang：假设我给hash环开启一扇大门，所有的值进来都必须经过这一扇门，那么我只要在这一扇大门里加一个hash关卡，我不关心你传进来的值是什么类型，是什么形态，我都是统一做hash运算，然后再分配到相应的节点上面去。6楼 <a href="http://blog.csdn.net/ccnuliu" target="_blank">ccnuliu</a> 2010-06-23 00:01发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/ccnuliu" target="_blank"><img src="" alt=""></a>问你一个问题
加入cache通过hash函数计算出的值 和 object通过hash函数计算出来的值是同一个hash值怎么办？
那object应该指向哪个cache?5楼 <a href="http://blog.csdn.net/chengqianl" target="_blank">chengqianl</a> 2010-06-02 16:53发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/chengqianl" target="_blank"><img src="" alt=""></a>收益了4楼 <a href="http://blog.csdn.net/specific_intel" target="_blank">specific_intel</a> 2010-05-12 16:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/specific_intel" target="_blank"><img src="" alt=""></a>[e01] 非常清晰，谢谢！3楼 <a href="http://blog.csdn.net/yayaaishenghuo" target="_blank">yayaaishenghuo</a> 2010-03-09 13:46发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/yayaaishenghuo" target="_blank"><img src="" alt=""></a>讲得太好了2楼 <a href="http://blog.csdn.net/匿名用户" target="_blank">匿名用户</a> 2010-02-22 10:06发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/匿名用户" target="_blank"><img src="" alt=""></a>[e10]1楼 <a href="http://blog.csdn.net/匿名用户" target="_blank">匿名用户</a> 2010-02-22 10:05发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/匿名用户" target="_blank"><img src="" alt=""></a>[e01]
您还没有登录,请<a href="">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fsparkliang%2Farticle%2Fdetails%2F5279393" target="_blank">[注册]</a></p>
<p>/* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a href=""></a><a href=""></a>
<a href="&quot;回到顶部&quot;"><img src="" alt="TOP"></a></p>
<p>个人资料</p>
<p><a href="http://my.csdn.net/sparkliang" target="_blank"><img src="&quot;访问我的空间&quot;" alt=""></a>
<a href="http://my.csdn.net/sparkliang" target="_blank">sparkliang</a></p>
<p><a href="&quot;[加关注]&quot;"></a> <a href="&quot;[发私信]&quot;"></a>
<a href="http://medal.blog.csdn.net/allmedal.aspx" target="_blank"><img src="" alt=""></a></p>
<ul>
<li>访问：383734次</li>
<li>积分：3864分</li>
<li><p>排名：第1399名</p>
</li>
<li><p>原创：87篇</p>
</li>
<li>转载：15篇</li>
<li>译文：4篇</li>
<li>评论：395条</li>
</ul>
<p>文章搜索</p>
<p><a href=""></a></p>
<p>文章分类</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488400" target="_blank">C/C++语言</a>(25)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/806112" target="_blank">ICE相关</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/660506" target="_blank">libevent分析</a>(14)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/635072" target="_blank">Linux</a>(7)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/503089" target="_blank">STL</a>(4)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/534835" target="_blank">Windows程序设计</a>(8)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/699896" target="_blank">分布式系统</a>(32)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488397" target="_blank">算法艺术</a>(8)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/614184" target="_blank">网络程序设计</a>(31)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488399" target="_blank">虚拟现实</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/641160" target="_blank">软件架构</a>(11)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488398" target="_blank">随笔</a>(8)</li>
<li><p><a href="http://blog.csdn.net/sparkliang/article/category/1342001" target="_blank">Leveldb</a>(19)
文章存档</p>
</li>
<li><p><a href="http://blog.csdn.net/sparkliang/article/month/2013/07" target="_blank">2013年07月</a>(1)</p>
</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/06" target="_blank">2013年06月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/05" target="_blank">2013年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/04" target="_blank">2013年04月</a>(5)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/03" target="_blank">2013年03月</a>(7)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/02" target="_blank">2013年02月</a>(5)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/11" target="_blank">2012年11月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/10" target="_blank">2012年10月</a>(3)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/05" target="_blank">2012年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/02" target="_blank">2012年02月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/12" target="_blank">2011年12月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/11" target="_blank">2011年11月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/07" target="_blank">2011年07月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/06" target="_blank">2011年06月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/04" target="_blank">2011年04月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/10" target="_blank">2010年10月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/09" target="_blank">2010年09月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/07" target="_blank">2010年07月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/06" target="_blank">2010年06月</a>(7)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/05" target="_blank">2010年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/04" target="_blank">2010年04月</a>(5)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/03" target="_blank">2010年03月</a>(6)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/02" target="_blank">2010年02月</a>(6)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/01" target="_blank">2010年01月</a>(8)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/12" target="_blank">2009年12月</a>(14)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/11" target="_blank">2009年11月</a>(3)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/08" target="_blank">2009年08月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/07" target="_blank">2009年07月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/06" target="_blank">2009年06月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/04" target="_blank">2009年04月</a>(4)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/03" target="_blank">2009年03月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/01" target="_blank">2009年01月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2008/12" target="_blank">2008年12月</a>(6)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2008/11" target="_blank">2008年11月</a>(1)</li>
</ul>
<p>展开</p>
<p>阅读排行</p>
<ul>
<li><a href="&quot;一致性hash算法 - consistent hashing&quot;">一致性hash算法 - consistent hashing</a>(46507)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957667" title="libevent源码深度剖析一" target="_blank">libevent源码深度剖析一</a>(38682)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655" title="Linux Epoll介绍和程序实例" target="_blank">Linux Epoll介绍和程序实例</a>(29675)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957744" title="libevent源码深度剖析二" target="_blank">libevent源码深度剖析二</a>(24922)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957820" title="libevent源码深度剖析三" target="_blank">libevent源码深度剖析三</a>(21004)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4974876" title="libevent源码深度剖析五" target="_blank">libevent源码深度剖析五</a>(14714)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5202394" title="libevent源码深度剖析PDF" target="_blank">libevent源码深度剖析PDF</a>(13425)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957885" title="libevent源码深度剖析四" target="_blank">libevent源码深度剖析四</a>(12823)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4985955" title="libevent源码深度剖析六" target="_blank">libevent源码深度剖析六</a>(11796)</li>
<li><p><a href="http://blog.csdn.net/sparkliang/article/details/4987751" title="libevent源码深度剖析七" target="_blank">libevent源码深度剖析七</a>(10646)
评论排行</p>
</li>
<li><p><a href="&quot;一致性hash算法 - consistent hashing&quot;">一致性hash算法 - consistent hashing</a>(80)</p>
</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655" title="Linux Epoll介绍和程序实例" target="_blank">Linux Epoll介绍和程序实例</a>(67)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5359634" title="C/C++语言实现动态数组" target="_blank">C/C++语言实现动态数组</a>(21)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957667" title="libevent源码深度剖析一" target="_blank">libevent源码深度剖析一</a>(20)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957820" title="libevent源码深度剖析三" target="_blank">libevent源码深度剖析三</a>(15)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5350272" title="开源网络框架HPServer0.2.10版发布" target="_blank">开源网络框架HPServer0.2.10版发布</a>(14)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5284579" title="KMP算法真的很简单1" target="_blank">KMP算法真的很简单1</a>(12)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957744" title="libevent源码深度剖析二" target="_blank">libevent源码深度剖析二</a>(12)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5306809" title="libevent源码深度剖析十三——libevent信号处理注意点" target="_blank">libevent源码深度剖析十三——libevent信号处理注意点</a>(11)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5202394" title="libevent源码深度剖析PDF" target="_blank">libevent源码深度剖析PDF</a>(10)</li>
</ul>
<p>推荐文章
最新评论</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/xystar2012" target="_blank">xystar2012</a>: 代码有一个bug，在accpet后的sockfd，每次读或者写时，不能再调用epoll_ctl的EP...</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/zhkhhust" target="_blank">zhkhhust</a>: 楼主您好，我在ubuntu 下面测试时， 发现每次用 telnet 连接到 12345 端口，刚打了...</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/geniuslinchao" target="_blank">geniuslinchao</a>: 例子程序少加了stirng.h和stdlib.h两个头文件</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/u011335846" target="_blank">Spark-zh</a>: 感谢楼主的讲解，很明了。</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/thomastianqq" target="_blank">thomastianqq</a>: 单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够...</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/lgfeng218" target="_blank">lgfeng218</a>: 通俗易懂</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/midstr" target="_blank">midstr</a>: 通俗易懂，顶一个哈</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4836536#comments" target="_blank">Epoll vs. IOCP</a></li>
</ul>
<p><a href="http://blog.csdn.net/xly931" target="_blank">xly931</a>: @tiange0823:一般说的阻塞都是只IO操作本身是否阻塞（参见unix网络编程第六章）；epo...</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/qiuzhenguang" target="_blank">qiuzhenguang</a>: 相当好的一篇教程，学习了！多谢楼主。</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5202394#comments" target="_blank">libevent源码深度剖析PDF</a></li>
</ul>
<p><a href="http://blog.csdn.net/superyongzhe" target="_blank">superyongzhe</a>: 谢谢分享！！！</p>
<p><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2355263776&amp;site=qq&amp;menu=yes" target="_blank">QQ客服</a> <a href="http://e.weibo.com/csdnsupport/profile" target="_blank">微博客服</a> <a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a> <a href="mailto:webmaster@csdn.net">联系邮箱：webmaster@csdn.net</a> 服务热线：400-600-2320京 ICP 证 070598 号北京创新乐知信息技术有限公司 版权所有世纪乐知(北京)网络技术有限公司 提供技术支持江苏乐知网络技术有限公司 提供商务支持Copyright © 1999-2012, CSDN.NET, All Rights Reserved <a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="" alt="GongshangLogo"></a>
<img src="http://counter.csdn.net/pv.aspx?id=24" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/">算法&数组&优化</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/算法/">算法</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/算法/" class="label label-success">算法</a><a href="/tags/算法&数组&优化/" class="label label-info">算法&数组&优化</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--单向链表/">单向链表</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--单向链表/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">单向链表</h1>
<h3 id="-http-tangyanbo-iteye-com-blog-1472811-"><a href="http://tangyanbo.iteye.com/blog/1472811" target="_blank">单向链表</a>**</h3>
<p><strong>博客分类：</strong> </p>
<ul>
<li><a href="http://tangyanbo.iteye.com/category/214982" target="_blank">数据结构</a>
<a href="http://www.iteye.com/blogs/tag/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" target="_blank">数据结构</a></li>
</ul>
<p><strong>【链表】 
</strong>是一种线性表，但是并不会按线性的顺序存储数据，而是在每一个节点里存到下一个节点的指针(Pointer)。 
由于不必须按顺序存储，链表在插入的时候可以达到O(1)的复杂度，比另一种线性表顺序表快得多， 
但是查找一个节点或者访问特定编号的节点则需要O(n)的时间， 
而顺序表相应的时间复杂度分别是O(㏒ n)和O(1)。 
<strong>【单向链表】 
</strong> 是链表的一种，其特点是链表的链接方向是单向的，对链表的访问要通过顺序读取从头部开始
  一个节点包含两个域，一个信息域和一个指针域，指针域指向下一个节点，最后一个节点指向一个空值
 单向链表有一个头节点，可以不存储任何信息，包含一个指向第一个节点的指针
 特点:
 1.访问节点速度慢，需要从头节点一次遍历链表
 2.更新节点快，节点不需要移动，更改相应指针即可 </p>
<p>单向链表节点类定义如下：</p>
<p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"></a></p>
<ol>
<li>public class Node<AnyType>{  </li>
<li></li>
<li>AnyType element;  </li>
<li></li>
<li>Node<AnyType> next;     </li>
<li></li>
<li>}  </li>
</ol>
<p>要实现单向列表的相关操作，可定义类SingleLinkedList如下：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"></a></p>
<ol>
<li>public class SingleLinkedList<AnyType>{  </li>
<li></li>
<li>private static class Node<AnyType>{  </li>
<li></li>
<li>AnyType element;  </li>
<li></li>
<li>Node<AnyType> next;     </li>
<li></li>
<li>public Node(AnyType element){  </li>
<li>this.element = element;  </li>
<li>}  </li>
<li></li>
<li>}  </li>
<li></li>
<li>private Node<AnyType> header = new Node<AnyType>(null);  </li>
<li></li>
<li>private int size = 0;  </li>
<li></li>
<li>public boolean isEmpty(){  </li>
<li>return size==0;  </li>
<li>}  </li>
<li></li>
<li>public void makeEmpty(){  </li>
<li>header = null;  </li>
<li>}  </li>
<li></li>
<li>public int size(){  </li>
<li>return size;  </li>
<li>}   </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* Get element by index </li>
<li>/<em> /</em>/  </li>
<li>public AnyType get(int index){        </li>
<li>return getNode(index).element;  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* Add the element to the end of this list </li>
<li>/<em> /</em>/  </li>
<li>public void add(AnyType element){  </li>
<li>add(new Node<AnyType>(element));  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* Inserts the specified element at the specified position in this list </li>
<li>/* 插入逻辑： </li>
<li>/* 1.创建一个新节点 </li>
<li>/* 2.将原index节点的前一个节点的指针指向新节点 </li>
<li>/* 3.将新节点的指针指向index节点 </li>
<li>/* 4.插入后，新节点的位置为index </li>
<li>/<em> /</em>/  </li>
<li>public void add(int index,AnyType element){  </li>
<li>Node<AnyType> newNode = new Node<AnyType>(element);  </li>
<li>Node<AnyType> previous = getNode(index-1);  </li>
<li>//index节点  </li>
<li>Node<AnyType> node = previous.next;  </li>
<li>//将原index节点的前一个节点的指针指向newNode  </li>
<li>previous.next = newNode;  </li>
<li>//将newNode的指针指向index节点  </li>
<li>newNode.next = node;  </li>
<li>size++;  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* Inserts the specified element at the specified position in this list </li>
<li>/* 删除逻辑： </li>
<li>/* 1.获得index节点的前一个节点previousNode </li>
<li>/* 2.获得index节点的后一个节点nextNode </li>
<li>/* 3.将previousNode的指针指向nextNode </li>
<li>/<em> /</em>/  </li>
<li>public void remove(int index){  </li>
<li>Node<AnyType> previous = getNode(index-1);  </li>
<li>Node<AnyType> next = previous.next.next;  </li>
<li>previous.next = next;  </li>
<li>size--;  </li>
<li>}  </li>
<li></li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 定义此方法是为了便于测试 </li>
<li>/<em> /</em>/  </li>
<li>public List<Integer> getElements(){  </li>
<li>if(isEmpty()){  </li>
<li>return null;  </li>
<li>}else{  </li>
<li>List<Integer> elements = new ArrayList<Integer>();  </li>
<li>Node<AnyType> node = (Node<AnyType>) header;  </li>
<li>while(node.next!=null){  </li>
<li>node = node.next;  </li>
<li>elements.add(((Element)node.element).getValue());  </li>
<li>}  </li>
<li>return elements;  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li></li>
<li>//private methods  </li>
<li>private Node<AnyType> getNode(int index){  </li>
<li>if(isEmpty()){  </li>
<li>throw new RuntimeException(&quot;List is empty&quot;);  </li>
<li>}  </li>
<li>int i = 0;  </li>
<li>Node<AnyType> node = header;  </li>
<li>while(i&lt;=index){  </li>
<li>node = node.next;  </li>
<li>i++;  </li>
<li>}  </li>
<li>return node;  </li>
<li>}  </li>
<li></li>
<li>private void add(Node<AnyType> newNode){  </li>
<li>Node<AnyType> node = header;  </li>
<li>while(node.next!=null){  </li>
<li>node = node.next;  </li>
<li>}  </li>
<li>node.next = newNode;  </li>
<li>size++;  </li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>如何实现链表反向：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"></a></p>
<ol>
<li>//<em>/</em> </li>
<li>/* 链表反向 </li>
<li>/<em> /</em>/  </li>
<li>public void reverse(){  </li>
<li>if(!isEmpty()){  </li>
<li>reverse(header.next,header.next.next);  </li>
<li>}         </li>
<li>}  </li>
</ol>
<p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"></a></p>
<ol>
<li>private void reverse(Node<AnyType> node,Node<AnyType> nextNode){  </li>
<li>if(nextNode.next!=null){  </li>
<li>reverse(nextNode,nextNode.next);              </li>
<li>}else{  </li>
<li>//如果该节点是表尾，那么用头节点指向此节点  </li>
<li>header.next = nextNode;  </li>
<li>}     </li>
<li>//该节点的指针指向前一个节点P，并将节点P的指针设置为空  </li>
<li>nextNode.next = node;  </li>
<li>node.next = null;  </li>
<li>}  </li>
</ol>
<p>来源： <a href="[http://tangyanbo.iteye.com/blog/1472811](http://tangyanbo.iteye.com/blog/1472811)">[http://tangyanbo.iteye.com/blog/1472811](http://tangyanbo.iteye.com/blog/1472811)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/">算法&数组&优化</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/算法/">算法</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/算法/" class="label label-success">算法</a><a href="/tags/算法&数组&优化/" class="label label-info">算法&数组&优化</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--单向链表/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-算法数组优化-算法--单向链表" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--散列表/">散列表</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--散列表/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">散列表</h1>
<p><strong>博客分类：</strong> </p>
<ul>
<li><a href="http://tangyanbo.iteye.com/category/214982" target="_blank">数据结构</a>
<a href="http://www.iteye.com/blogs/tag/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" target="_blank">数据结构</a></li>
</ul>
<p><strong>【散列表】</strong> 
它是用一个散列函数把关键字 映射到散列表中的特定位置。 
在理想情况下，如果元素e 的关键字为k，散列函 数为f，那么e 在散列表中的位置为f (k)。要搜索关键字为k 
的元素，首先要计算出f (k)，然后看 表中f (k)处是否有元素。如果有，便找到了该元素。如果没有，说明该字典中不包含该元素。 
在前一种情况中，如果要删除该元素，只需把表中f (k)位置置为空即可。在后一种情况中，可 以通过把元素放在f (k)位置以实现插入。 
此例是一个理想情况下的散列表，不考虑关键字重复的情况</p>
<p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"></a></p>
<ol>
<li>public class HashList {   </li>
<li></li>
<li>private String[] table;  </li>
<li></li>
<li>private int size;  </li>
<li></li>
<li>private int threshold;  </li>
<li></li>
<li>private static final int INITIAL_CAPACITY = 10;  </li>
<li></li>
<li>private static final int SIZE_INCREASE = 10;  </li>
<li></li>
<li>private static final float DEFAULT_LOAD_FACTOR = 0.75f;  </li>
<li></li>
<li></li>
<li></li>
<li>public HashList(){  </li>
<li>threshold = (int)(INITIAL_CAPACITY/*DEFAULT_LOAD_FACTOR);  </li>
<li>table = new String[INITIAL_CAPACITY];  </li>
<li>}  </li>
<li></li>
<li></li>
<li></li>
<li>public HashList(String[] table){  </li>
<li>this.table = table;  </li>
<li>}  </li>
<li></li>
<li></li>
<li></li>
<li></li>
<li>//<em>/</em> </li>
<li>/* Get the actual size of the list </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public int size(){  </li>
<li>return size;  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* for test </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public String[] getElements(){  </li>
<li>return table;  </li>
<li>}  </li>
<li></li>
<li>public boolean contains(String element) {  </li>
<li>if (element == null) {  </li>
<li>return false;  </li>
<li>}  </li>
<li>if (element.equals(table[getIndex(element)])) {  </li>
<li>return true;  </li>
<li>}  </li>
<li>return false;  </li>
<li>}  </li>
<li></li>
<li>public void add(String element){  </li>
<li>int index = getIndex(element);  </li>
<li>if(size&gt;threshold){  </li>
<li>resize();  </li>
<li>}  </li>
<li>table[index] = element;  </li>
<li>size++;  </li>
<li>}  </li>
<li></li>
<li></li>
<li></li>
<li>//private methods  </li>
<li>//<em>/</em> </li>
<li>/* resize the array </li>
<li>/*/  </li>
<li>private void resize(){  </li>
<li>String[] newArray = new String[table.length+SIZE_INCREASE];  </li>
<li>for(int i=0;i&lt;table.length;i++){  </li>
<li>newArray[i] = table[i];  </li>
<li>}  </li>
<li>table = newArray;  </li>
<li>threshold = (int)(table.length/*DEFAULT_LOAD_FACTOR);  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* get the index of the element </li>
<li>/* @param element </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public int getIndex(String element) {  </li>
<li>return (element.hashCode() &amp; 0x7FFFFFFF) % table.length;  </li>
<li>}     </li>
<li>}  </li>
</ol>
<p>来源： <a href="[http://tangyanbo.iteye.com/blog/1476372](http://tangyanbo.iteye.com/blog/1476372)">[http://tangyanbo.iteye.com/blog/1476372](http://tangyanbo.iteye.com/blog/1476372)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/">算法&数组&优化</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/算法/">算法</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/算法/" class="label label-success">算法</a><a href="/tags/算法&数组&优化/" class="label label-info">算法&数组&优化</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--散列表/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-算法数组优化-算法--散列表" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA/">Using CAS without the CAS login screen </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="using-cas-without-the-cas-login-screen-central-authentication-service-jasig-wiki">Using CAS without the CAS login screen - Central Authentication Service - Jasig Wiki</h1>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#title-heading" target="_blank">Skip to content</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#breadcrumbs" target="_blank">Skip to breadcrumbs</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#header-menu-bar" target="_blank">Skip to header menu</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#navigation" target="_blank">Skip to action menu</a></li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#quick-search-query" target="_blank">Skip to quick search</a>
Quick Search</p>
</li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">Browse</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/listpages.action?key=CAS" title="Browse pages in the Central Authentication Service space ( Type &#39;g&#39; then &#39;s" target="_blank">Pages</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewrecentblogposts.action?key=CAS" title="Browse blogs in the Central Authentication Service space" target="_blank">Blog</a></li>
<li><a href="https://wiki.jasig.org/labels/listlabels-heatmap.action?key=CAS" title="Browse labels in the Central Authentication Service space" target="_blank">Labels</a></li>
<li><a href="https://wiki.jasig.org/spaces/listattachmentsforspace.action?key=CAS" title="Browse attachments in the Central Authentication Service space" target="_blank">Attachments</a></li>
<li><a href="https://wiki.jasig.org/mail/archive/viewmailarchive.action?key=CAS" title="Browse mail in the Central Authentication Service space" target="_blank">Mail</a></li>
<li><a href="https://wiki.jasig.org/spaces/viewspacesummary.action?key=CAS" title="Browse additional space functions in the Central Authentication Service space" target="_blank">Advanced</a></li>
<li><p><a href="https://wiki.jasig.org/spaces/usage/report.action?key=CAS" target="_blank">Activity</a></p>
</li>
<li><p><a href="http://docs.atlassian.com/confluence/docs-41/whatsnew/iframe" target="_blank">What’s New</a></p>
</li>
<li><a href="https://wiki.jasig.org/spacedirectory/view.action" title="Browse the Confluence space directory" target="_blank">Space Directory</a></li>
<li><a href="https://wiki.jasig.org/dashboard/configurerssfeed.action" title="Create your custom RSS feed." target="_blank">Feed Builder</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="View available keyboard shortcuts ( Type &#39;?" target="_blank">Keyboard Shortcuts</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="Browse gadgets provided by Confluence" target="_blank">Confluence Gadgets</a></li>
<li><a href="https://wiki.jasig.org/login.action?os_destination=%2Fdisplay%2FCAS%2FUsing%2BCAS%2Bwithout%2Bthe%2BCAS%2Blogin%2Bscreen" target="_blank">Log In</a></li>
<li><a href="https://wiki.jasig.org/signup.action" target="_blank">Sign Up</a></li>
</ul>
<ol>
<li><a href="https://wiki.jasig.org/dashboard.action" title="Go to Dashboard ( Type &#39;g&#39; then &#39;d" target="_blank">Dashboard</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS" target="_blank">Central Authentication Service</a></li>
<li><strong>…</strong></li>
<li><a href="https://wiki.jasig.org/display/CAS/CASifying+Applications" target="_blank">CASifying Applications</a></li>
<li><a href="">Using CAS without the CAS login screen</a></li>
</ol>
<ul>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">Tools</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewpageattachments.action?pageId=5225" title="View Attachments ( Type &#39;t" target="_blank">Attachments (0)</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewpreviousversions.action?pageId=5225" target="_blank">Page History</a></li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=5225" title="Edit restrictions" target="_blank">Restrictions</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=5225" target="_blank">Info</a></p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=5225" title="Link to this Page ( Type &#39;k" target="_blank">Link to this Page…</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/pages/listpages-dirview.action?key=CAS&amp;openId=5225#selectedPageInHierarchy" target="_blank">View in Hierarchy</a></li>
<li><a href="https://wiki.jasig.org/plugins/viewsource/viewpagesrc.action?pageId=5225" target="_blank">View Source</a></li>
</ul>
<h1 id="-https-wiki-jasig-org-display-cas-using-cas-without-the-cas-login-screen-"><a href="https://wiki.jasig.org/display/CAS" target="_blank"><img src="" alt=""></a>  <a href="">Using CAS without the CAS login screen</a></h1>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#page-metadata-end" target="_blank">Skip to end of metadata</a></p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="Page restrictions apply. Click the lock icon to view or edit the restriction." target="_blank">Page restrictions apply</a></li>
<li>Added by <a href="https://wiki.jasig.org/display/~awp9" target="_blank">Andrew Petro</a>, last edited by <a href="https://wiki.jasig.org/display/~brummermann" target="_blank">Hendrik Brummermann</a> on Jul 26, 2011  (<a href="https://wiki.jasig.org/pages/diffpages.action?pageId=5225&amp;originalId=52495191" target="_blank">view change</a>)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">show comment</a> <a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">hide comment</a>
<strong>Comment:</strong> Corrected links that should have been relative instead of absolute.
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#page-metadata-start" target="_blank">Go to start of metadata</a></li>
</ul>
<p>This page is for documenting how to use CAS without using the CAS login screen.</p>
<h2 id="why-not-to-do-this">Why not to do this</h2>
<p>One of the advantages CAS brings to the table is a single authentication user experience across all applications using CAS. The user doesn&#39;t have to wonder whether he should be giving his password to any particular application, because no applications other than CAS receive the password.</p>
<p>Implementing this hack results in applications other than CAS having access to actual usernames and passwords. This is a bad thing. It reduces the security value CAS is trying to give you.</p>
<h2 id="existing-features">Existing features</h2>
<p>The CAS gateway feature allows your application to attempt to use CAS single sign on to authenticate the user without interrupting the user experience to display a CAS login screen. If no SSO session already exists, CAS simply redirects back to your service without displaying the login screen.</p>
<h2 id="alternative-approaches">Alternative approaches</h2>
<p>An alternative to your application rendering its own login screen is to get CAS Server to render the login screen you would have wanted to render. <a href="https://wiki.jasig.org/display/CAS/Columbia" target="_blank">WIND</a> goes this route. This is on the feature list for CAS 3.</p>
<p>A relatively easy option (for portals, at least) is to proxy the HTML of the CAS login page and display it inline in the portal page.  The proxied form should still submit to CAS itself.  You can tweak the CAS jsps to use different CSS styles depending on the User Agent or Remote Host, to provide a modified (e.g. smaller) login screen.</p>
<h2 id="using-cas-without-the-login-screen">Using CAS without the login screen</h2>
<p>Suppose you really do want your service to be handling the user&#39;s username and password.</p>
<p>First, produce your custom form. When your custom form submits, the recipient of the submit needs to do the following:</p>
<h3 id="validate-the-username-and-password">Validate the username and password</h3>
<p>Somehow, you need to figure out whether this username and password are correct.</p>
<p>One thing to do would be to generate an HTTP request for CAS login, parse out a valid login ticket, then issue a request for CAS login posting the login ticket, username, and password. Parse the response. If it indicates a success, the username and password are valid. Otherwise not.</p>
<p>Another thing to do would be to go directly against whatever it is that CAS is using to validate usernames and passwords.</p>
<p>If the username and password didn&#39;t match, redisplay your form. If they did match, then either 1) you&#39;re done because all you wanted to do was authenticate the user, or 2) now you need to establish the CAS SSO session in the web browser and obtain a Service ticket.</p>
<h3 id="establish-the-sso-session-and-possibly-get-a-proxy-ticket">Establish the SSO session and possibly get a Proxy Ticket</h3>
<p>Again, get a login ticket and the jsessionid. Then, generate a redirect to the browser placing the sesisonid, login ticket, the username, and the password on the CAS login URL to which you&#39;re redirecting:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">?</a>https:</p>
<p>//cas.example.com/cas/login;jsessionid=XXXXXXXX?username=XXXXXXX&amp;password=XXXXXXX&amp;lt=XXXXXX</p>
<p>Specify the service to be your application where you want to receive the service ticket.</p>
<p>CAS will set the Single Sign On cookie so the user will have a CAS SSO session established.</p>
<p>Since the username, password, and login ticket are good, CAS will redirect back to your service with the service ticket. Grab the service ticket and validate it in the normal way (presumably using a CAS client). This is your opportunity to obtain a Proxy Ticket.</p>
<p>Note: This only works as long as the user has not visited the CAS webpage before. Otherwise he or she got a different sessionid cookie which has priority over the sessionid in the url.</p>
<h2 id="experience-reports">Experience Reports</h2>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen" target="_blank">Here is an experience report</a> on how an UI-less mode for CAS has been achieved using javascript only on the client side. Passwords are only handed over to the SSL secured CAS service, not to a third party.
Labels:</p>
<p>None</p>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="Edit Labels ( Type &#39;l" target="_blank">Edit Labels</a>&quot;)
Powered by a free <strong>Atlassian Confluence Open Source Project License</strong> granted to Java Architectures Special Interest Group. <a href="http://www.atlassian.com/c/conf/11461" target="_blank">Evaluate Confluence today</a>.
This Confluence installation runs a Free Gliffy License - <a href="http://www.gliffy.com/products/confluence-plugin/" target="_blank">Evaluate Gliffy</a> for your Wiki!</p>
<ul>
<li>Powered by <a href="http://www.atlassian.com/software/confluence" target="_blank">Atlassian Confluence</a> 4.1.5, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" target="_blank">Enterprise Wiki</a></li>
<li>Printed by Atlassian Confluence 4.1.5, the Enterprise Wiki.</li>
<li>·  <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" target="_blank">Report a bug</a></li>
<li>·  <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" target="_blank">Atlassian News</a></li>
</ul>
<p><a href=""></a><a href=""></a><a href=""></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span><span class="breadcrumb"><li><a href="/categories/CAS/">CAS</a></li><li><a href="/categories/CAS/without+cas+login+screen/">without+cas+login+screen</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a><a href="/tags/without+cas+login+screen/" class="label label-success">without+cas+login+screen</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/">Using CAS without the Login Screen </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="using-cas-without-the-login-screen-central-authentication-service-jasig-wiki">Using CAS without the Login Screen - Central Authentication Service - Jasig Wiki</h1>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#title-heading" target="_blank">Skip to content</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#breadcrumbs" target="_blank">Skip to breadcrumbs</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#header-menu-bar" target="_blank">Skip to header menu</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#navigation" target="_blank">Skip to action menu</a></li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#quick-search-query" target="_blank">Skip to quick search</a>
Quick Search</p>
</li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">Browse</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/listpages.action?key=CAS" title="Browse pages in the Central Authentication Service space ( Type &#39;g&#39; then &#39;s" target="_blank">Pages</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewrecentblogposts.action?key=CAS" title="Browse blogs in the Central Authentication Service space" target="_blank">Blog</a></li>
<li><a href="https://wiki.jasig.org/labels/listlabels-heatmap.action?key=CAS" title="Browse labels in the Central Authentication Service space" target="_blank">Labels</a></li>
<li><a href="https://wiki.jasig.org/spaces/listattachmentsforspace.action?key=CAS" title="Browse attachments in the Central Authentication Service space" target="_blank">Attachments</a></li>
<li><a href="https://wiki.jasig.org/mail/archive/viewmailarchive.action?key=CAS" title="Browse mail in the Central Authentication Service space" target="_blank">Mail</a></li>
<li><a href="https://wiki.jasig.org/spaces/viewspacesummary.action?key=CAS" title="Browse additional space functions in the Central Authentication Service space" target="_blank">Advanced</a></li>
<li><p><a href="https://wiki.jasig.org/spaces/usage/report.action?key=CAS" target="_blank">Activity</a></p>
</li>
<li><p><a href="http://docs.atlassian.com/confluence/docs-41/whatsnew/iframe" target="_blank">What’s New</a></p>
</li>
<li><a href="https://wiki.jasig.org/spacedirectory/view.action" title="Browse the Confluence space directory" target="_blank">Space Directory</a></li>
<li><a href="https://wiki.jasig.org/dashboard/configurerssfeed.action" title="Create your custom RSS feed." target="_blank">Feed Builder</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="View available keyboard shortcuts ( Type &#39;?" target="_blank">Keyboard Shortcuts</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Browse gadgets provided by Confluence" target="_blank">Confluence Gadgets</a></li>
<li><a href="https://wiki.jasig.org/login.action?os_destination=%2Fdisplay%2FCAS%2FUsing%2BCAS%2Bwithout%2Bthe%2BLogin%2BScreen" target="_blank">Log In</a></li>
<li><a href="https://wiki.jasig.org/signup.action" target="_blank">Sign Up</a></li>
</ul>
<ol>
<li><a href="https://wiki.jasig.org/dashboard.action" title="Go to Dashboard ( Type &#39;g&#39; then &#39;d" target="_blank">Dashboard</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS" target="_blank">Central Authentication Service</a></li>
<li><strong>…</strong></li>
<li><a href="https://wiki.jasig.org/display/CAS/Home" target="_blank">Home</a></li>
<li><a href="">Using CAS without the Login Screen</a></li>
</ol>
<ul>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">Tools</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewpageattachments.action?pageId=3604523" title="View Attachments ( Type &#39;t" target="_blank">Attachments (0)</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewpreviousversions.action?pageId=3604523" target="_blank">Page History</a></li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=3604523" title="Edit restrictions" target="_blank">Restrictions</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=3604523" target="_blank">Info</a></p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=3604523" title="Link to this Page ( Type &#39;k" target="_blank">Link to this Page…</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/pages/listpages-dirview.action?key=CAS&amp;openId=3604523#selectedPageInHierarchy" target="_blank">View in Hierarchy</a></li>
<li><a href="https://wiki.jasig.org/plugins/viewsource/viewpagesrc.action?pageId=3604523" target="_blank">View Source</a></li>
</ul>
<h1 id="-https-wiki-jasig-org-display-cas-using-cas-without-the-login-screen-"><a href="https://wiki.jasig.org/display/CAS" target="_blank"><img src="" alt=""></a>  <a href="">Using CAS without the Login Screen</a></h1>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#page-metadata-end" target="_blank">Skip to end of metadata</a></p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Page restrictions apply. Click the lock icon to view or edit the restriction." target="_blank">Page restrictions apply</a></li>
<li>Added by <a href="https://wiki.jasig.org/display/~jacomac" target="_blank">Konrad Wulf</a>, last edited by <a href="https://wiki.jasig.org/display/~newacct" target="_blank">newacct</a> on Aug 28, 2010  (<a href="https://wiki.jasig.org/pages/diffpages.action?pageId=3604523&amp;originalId=52495897" target="_blank">view change</a>)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">show comment</a> <a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">hide comment</a>
<strong>Comment:</strong> Corrected links that should have been relative instead of absolute.
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#page-metadata-start" target="_blank">Go to start of metadata</a></li>
</ul>
<h2 id="motivation">Motivation</h2>
<p>We wanted to be more flexible in the use of the login UI, so e.g. wanted to embed it in several places as a small panel. Moreover, we wanted to understand CAS as a pure service, not having to maintain layout information twice. Also, we wanted to support both, login postings from another site and direct login at the CAS server as a fallback.</p>
<h2 id="proposed-solutions-that-do-not-work">Proposed Solutions that do not work</h2>
<p>There have been two proposals, which we haven&#39;t found to be suitable:</p>
<ul>
<li>AJAX: Ajax requests are sandboxed and that sandbox is even more strict than the two-dot rule applied to cookies: It really has to be exactly the same server name in order to work</li>
<li><p>IFrames: In this <a href="http://tp.its.yale.edu/pipermail/cas-dev/2006-October/001451.html" target="_blank">posting to the cas-dev mailing list</a>, it has been suggested to use an iFrame to embed a login panel on a remote site. This has two limitations:</p>
</li>
<li><p>How to get rid of the Frame after login? in the default view a successful login would lead to redirect only in that frame. If you use target=&quot;parent&quot; in the from tag, how do you display errors then?</p>
</li>
<li><p>You would have limited layout possibilities.</p>
<p>So for our requirements, none of the proposed solutions were adequate.</p>
</li>
</ul>
<h2 id="our-solution">Our Solution</h2>
<p>We decided to use Javascript triggered redirects, which allows us to use this mechanism also on static html pages (e.g. CMS based contents). While loading we request a login ticket, then the login form displays and then it submits to the CAS login URL. If Errors are present at CAS we redirect to the referring page, adding a parameter &quot;error_message&quot; to that request.</p>
<h3 id="client-side">Client side</h3>
<p>Here is the static remote login form we use:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>&lt;!DOCTYPE html PUBLIC</p>
<p>&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</p>
<p>&quot;<a href="http://www.w3.org/TR/html4/loose.dtd" target="_blank"><a href="http://www.w3.org/TR/html4/loose.dtd">http://www.w3.org/TR/html4/loose.dtd</a>&quot;</a></p>
<p>&gt;</p>
<html>
<head>

<meta http-equiv=

"Content-Type"

content=

"text/html; charset=ISO-8859-1"

>
<title>Test remote Login using JS</title>

<script type=

"text/javascript"

>
function prepareLoginForm() {



$(

&#39;myLoginForm&#39;

).action = casLoginURL;


$(

&quot;lt&quot;

).value = loginTicket;

}


function checkForLoginTicket() {


var loginTicketProvided =

false

;



var query   =

&#39;&#39;

;


casLoginURL =

&#39;<a href="https://pcdt057:8443/cas/login&#39;" target="_blank"><a href="https://pcdt057:8443/cas/login">https://pcdt057:8443/cas/login</a>&#39;</a>

;



thisPageURL =

&#39;<a href="https://pcdt057:8443/cas/test-remote-login-js+error.html&#39;" target="_blank"><a href="https://pcdt057:8443/cas/test-remote-login-js+error.html">https://pcdt057:8443/cas/test-remote-login-js+error.html</a>&#39;</a>

;


casLoginURL +=

&#39;?login-at=&#39;

+ encodeURIComponent (thisPageURL);




query   = window.location.search;



query   = query.substr (

1

);





var param   =

new

Array();



//var value = new Array();


var temp    =

new

Array();



param   = query.split (

&#39;&amp;&#39;

);




i =

0

;


while

(param[i]) {



temp        = param[i].split (

&#39;=&#39;

);


if

(temp[

0

] ==

&#39;lt&#39;

) {



loginTicket = temp[

1

];


loginTicketProvided =

true

;



}


if

(temp[

0

] ==

&#39;error_message&#39;

) {



error = temp[

1

];


}



i++;


}



if

(!loginTicketProvided) {


location.href = casLoginURL +

&#39;&amp;get-lt=true&#39;

;



}
}


function $(id) {



return

document.getElementById(id);
}

var loginTicket;
var error;

var casLoginURL;
var thisPageURL;


checkForLoginTicket();

onload = prepareLoginForm;
</script>

</head>
<body>

<h2>Test remote Login using JS</h2>
<form id=

"myLoginForm"

action=

""

method=

"post"

>

<input type=

"hidden"

value=

"submit"

name=

"_eventId"

/>
<table>

<tr>


<td id=

"txt_error"

colspan=

"2"

>




<script type=

"text/javascript"

language=

"javascript"

>



<!--


if

( error ) {



error = decodeURIComponent (error);


document.write (error);



}


//-->



</script>




</td>
</tr>

<tr>


<td>Benutzer:</td>



<td><input type=

"text"

value=

"konrad"

name=

"username"

></td>
</tr>

<tr>


<td>Password:</td>



<td><input type=

"text"

value=

"konrad"

name=

"password"

></td>
</tr>

<tr>


<td>Login Ticket:</td>



<td><input type=

"text"

name=

"lt"

id=

"lt"

value=

""

></td>
</tr>

<tr>


<td>Service:</td>



<td><input type=

"text"

name=

"service"

value=

"[http://quiz.jacomac.de"](http://quiz.jacomac.de/)

></td>
</tr>

<tr>


<td align=

"right"

colspan=

"2"

><input type=

"submit"

/></td>

</tr>
</table>

</form>
</body>

</html>

<h3 id="cas-side">CAS side</h3>
<p>Adapting only the views and introducing if-else statements there meant having logic that belongs to the controllers in the view. Therefore we decided to inject our add-on into the spring web flow. Here are the changes we have made to login-webflow.xml (changes highlighted in blue):
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>&lt;?xml version=</p>
<p>&quot;1.0&quot;</p>
<p>encoding=</p>
<p>&quot;UTF-8&quot;</p>
<p>?&gt;</p>
<flow xmlns=

"[http://www.springframework.org/schema/webflow"](http://www.springframework.org/schema/webflow)


xmlns:xsi=

"[http://www.w3.org/2001/XMLSchema-instance"](http://www.w3.org/2001/XMLSchema-instance)



xsi:schemaLocation="


http:

//www.springframework.org/schema/webflow



http:

//www.springframework.org/schema/webflow/spring-webflow-1.0.xsd">

<start-state idref="provideLoginTicketToRemoteRequestor" />

<action-state id="provideLoginTicketToRemoteRequestor">
<action bean="provideLoginTicketToRemoteRequestorAction" />
<transition on="loginTicketRequested" to="viewRedirectToRequestor" />
<transition on="continue" to="automaticCookiePathSetter" />
</action-state>

<view-state id="viewRedirectToRequestor" view="bmRedirectToRequestorView">
<transition on="submit" to="bindAndValidate" />
</view-state>
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a><action-state id=

"automaticCookiePathSetter"

>



<action bean=

"automaticCookiePathSetterAction"

/>


<transition on=

"success"



to=

"ticketGrantingTicketExistsCheckAction"

/>


</action-state>




<action-state id=

"ticketGrantingTicketExistsCheckAction"

>



<action bean=

"ticketGrantingTicketExistsAction"

/>


<transition on=

"ticketGrantingTicketExists"



to=

"hasServiceCheck"

/>


<transition on=

"noTicketGrantingTicketExists"



to=

"gatewayRequestCheck"

/>


</action-state>




<action-state id=

"gatewayRequestCheck"

>



<action bean=

"gatewayRequestCheckAction"

/>


<transition on=

"gateway"

to=

"redirect"

/>



<transition on=

"authenticationRequired"

to=

"viewLoginForm"

/>


</action-state>




<action-state id=

"hasServiceCheck"

>



<action bean=

"hasServiceCheckAction"

/>


<transition on=

"authenticatedButNoService"



to=

"viewGenericLoginSuccess"

/>


<transition on=

"hasService"

to=

"renewRequestCheck"

/>



</action-state>




<action-state id=

"renewRequestCheck"

>


<action bean=

"renewRequestCheckAction"

/>



<transition on=

"authenticationRequired"

to=

"viewLoginForm"

/>


<transition on=

"generateServiceTicket"



to=

"generateServiceTicket"

/>


</action-state>




<!--



<action-state id=

"startAuthenticate"

>


<action bean=

"x509Check"

/>



<transition on=

"success"

to=

"sendTicketGrantingTicket"

/>


<transition on=

"error"

to=

"viewLoginForm"

/>



</action-state>


-->



<view-state id=

"viewLoginForm"

view=

"casLoginView"

>


<transition on=

"submit"

to=

"bindAndValidate"

/>



</view-state>




<action-state id=

"bindAndValidate"

>


<action bean=

"authenticationViaFormAction"

/>



<transition on=

"success"

to=

"submit"

/>


<transition on=

"error"

to=

"viewLoginForm"

/>



</action-state>




<action-state id=

"submit"

>


<action bean=

"authenticationViaFormAction"

method=

"submit"

/>



<transition on=

"warn"

to=

"warn"

/>


<transition on=

"success"

to=

"sendTicketGrantingTicket"

/>



<transition on=

"error"

to=

"viewLoginForm"

/>

<transition on="errorForRemoteRequestor" to="viewRedirectToRequestor" />
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a></action-state>




<action-state id=

"sendTicketGrantingTicket"

>



<action bean=

"sendTicketGrantingTicketAction"

/>


<transition on=

"success"

to=

"serviceCheck"

/>



</action-state>




<action-state id=

"serviceCheck"

>


<action bean=

"hasServiceCheckAction"

/>



<transition on=

"authenticatedButNoService"


to=

"viewGenericLoginSuccess"

/>



<transition on=

"hasService"

to=

"generateServiceTicket"

/>


</action-state>




<action-state id=

"generateServiceTicket"

>



<action bean=

"generateServiceTicketAction"

/>


<transition on=

"success"

to=

"warn"

/>



<transition on=

"error"

to=

"viewLoginForm"

/>


<transition on=

"gateway"

to=

"redirect"

/>



</action-state>




<!--


The

"warn"

action makes the determination of whether to redirect directly to the requested



service or display the

"confirmation"

page to go back to the server.


-->



<action-state id=

"warn"

>


<action bean=

"warnAction"

/>



<transition on=

"redirect"

to=

"redirect"

/>


<transition on=

"warn"

to=

"showWarningView"

/>



</action-state>




<!--


the

"viewGenericLogin"

is the end state

for

when a user attempts to login without coming directly from a service.



They have only initialized their single-sign on session.


-->



<end-state id=

"viewGenericLoginSuccess"


view=

"casLoginGenericSuccessView"

/>






<!--


The

"showWarningView"

end state is the end state

for

when the user has requested privacy settings (to be

"warned"

) to be turned on.  It delegates to a



view defines in default_views.properties that display the

"Please click here to go to the service."

message.


-->



<end-state id=

"showWarningView"

view=

"casLoginConfirmView"

/>




<!--


The

"redirect"

end state allows CAS to properly end the workflow

while

still redirecting



the user back to the service required.


-->



<end-state id=

"redirect"


view=

"externalRedirect:${externalContext.requestParameterMap['service']}${requestScope.ticket == null ? '' : (externalContext.requestParameterMap['service'].indexOf('?') != -1 ? '&amp;' : '?') + 'ticket=' + requestScope.ticket}"

/>




<global-transitions>



<transition to=

"viewServiceErrorView"


on-exception=

"org.jasig.cas.services.UnauthorizedServiceException"

/>



</global-transitions>
</flow>

<h2 id="problems-encountered-and-suggested-solutions">Problems encountered and suggested solutions</h2>
<p>The solution works well, but it has a very dirty edge: introducing a new event in the submit method that allows us to distinguish between a login posting from the CAS Site and another site. Here we had to redeclare the <em>submit</em> method in <em>org.jasig.cas.web.flow.AuthenticationViaFormAction</em> (changes marked in blue):
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>[...]        </p>
<p>try</p>
<p>{</p>
<p>final</p>
<p>String ticketGrantingTicketId =</p>
<p>this</p>
<p>.centralAuthenticationService</p>
<p>.createTicketGrantingTicket(credentials);</p>
<p>ContextUtils.addAttribute(context,</p>
<p>AbstractLoginAction.REQUEST_ATTRIBUTE_TICKET_GRANTING_TICKET,</p>
<p>ticketGrantingTicketId);</p>
<p>setWarningCookie(response, warn);</p>
<p>return</p>
<p>success();</p>
<p>}</p>
<p>catch</p>
<p>(</p>
<p>final</p>
<p>TicketException e) {</p>
<p>populateErrorsInstance(context, e);</p>
<pre><code>        // START: ChangesBusinessMart: check, whether the posting has been sent from a remote server
        String myServerName = request.getLocalName();
        String referrer = request.getParameter(&quot;login-at&quot;);
        if (referrer != null &amp;&amp; referrer.indexOf(myServerName) == -1) {
            return result(&quot;errorForRemoteRequestor&quot;);
        }
</code></pre><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>return</p>
<p>error();</p>
<p>}
[...]</p>
<p> This could have been avoided by</p>
<ol>
<li>making this submit method overridable (non-final) to add new events in a derived class. Or</li>
<li>to make such a distinction of events in the standard CAS distribution.</li>
</ol>
<p>Maybe this can be accomplished somehow in future versions of CAS?</p>
<h2 id="listing-of-the-other-files-mentioned-in-this-solution">Listing of the other files mentioned in this solution</h2>
<p>provideLoginTicketToRemoteRequestorAction -&gt; introduces a new parameter get-lt to signal that a new login ticket shall be issued to the HTTP Referer:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>package</p>
<p>de.businessmart.sso.cas.flow;</p>
<p>import</p>
<p>javax.servlet.http.HttpServletRequest;</p>
<p>import</p>
<p>javax.servlet.http.HttpServletResponse;</p>
<p>import</p>
<p>org.jasig.cas.web.flow.util.ContextUtils;
import</p>
<p>org.springframework.beans.factory.InitializingBean;</p>
<p>import</p>
<p>org.springframework.webflow.action.AbstractAction;
import</p>
<p>org.springframework.webflow.core.collection.MutableAttributeMap;</p>
<p>import</p>
<p>org.springframework.webflow.execution.Event;
import</p>
<p>org.springframework.webflow.execution.RequestContext;</p>
<p>import</p>
<p>de.businessmart.sso.cas.CasUtility;</p>
<p>//<em>/</em></p>
<p>/* Opens up the CAS web flow to allow external retrieval of a login ticket.</p>
<p>/* @author konrad.wulf</p>
<p>/*</p>
<p>/*/</p>
<p>public</p>
<p>class</p>
<p>ProvideLoginTicketToRemoteRequestorAction</p>
<p>extends</p>
<p>AbstractAction
{</p>
<p>@Override</p>
<p>protected</p>
<p>Event doExecute(RequestContext context)</p>
<p>throws</p>
<p>Exception</p>
<p>{</p>
<p>final</p>
<p>HttpServletRequest request = ContextUtils.getHttpServletRequest(context);</p>
<p>if</p>
<p>(request.getParameter(</p>
<p>&quot;get-lt&quot;</p>
<p>) !=</p>
<p>null</p>
<p>&amp;&amp; request.getParameter(</p>
<p>&quot;get-lt&quot;</p>
<p>).equalsIgnoreCase(</p>
<p>&quot;true&quot;</p>
<p>)) {</p>
<p>return</p>
<p>result(</p>
<p>&quot;loginTicketRequested&quot;</p>
<p>);</p>
<p>}</p>
<p>return</p>
<p>result(</p>
<p>&quot;continue&quot;</p>
<p>);</p>
<p>}</p>
<p>}</p>
<p>viewRedirectToRequestor actually does the redirects to the referrer:</p>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>&lt;%</p>
<p>@page</p>
<p>import</p>
<p>=</p>
<p>&quot;de.businessmart.sso.cas.CasUtility&quot;</p>
<p>%&gt;</p>
<p>&lt;%@ taglib prefix=</p>
<p>&quot;c&quot;</p>
<p>uri=</p>
<p>&quot;<a href="http://java.sun.com/jsp/jstl/core" target="_blank"><a href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>&quot;</a></p>
<p>%&gt;
&lt;%@ taglib prefix=</p>
<p>&quot;spring&quot;</p>
<p>uri=</p>
<p>&quot;<a href="http://www.springframework.org/tags" target="_blank"><a href="http://www.springframework.org/tags">http://www.springframework.org/tags</a>&quot;</a></p>
<p>%&gt;</p>
<p>&lt;% String separator =</p>
<p>&quot;&quot;</p>
<p>;
String referrer = request.getHeader(</p>
<p>&quot;Referer&quot;</p>
<p>);</p>
<p>referrer = CasUtility.resetUrl(referrer);
if</p>
<p>(referrer !=</p>
<p>null</p>
<p>&amp;&amp; referrer.length() &gt;</p>
<p>0</p>
<p>) {</p>
<p>separator =(referrer.indexOf(</p>
<p>&quot;?&quot;</p>
<p>) &gt; -</p>
<p>1</p>
<p>)?</p>
<p>&quot;&amp;&quot;</p>
<p>:</p>
<p>&quot;?&quot;</p>
<p>; %&gt;</p>
<html>



<head>


<script>



var redirectURL =

&quot;&lt;%= referrer + separator %&gt;lt=${flowExecutionKey}&quot;

;


<spring:hasBindErrors name=

"credentials"

>



redirectURL +=

&#39;&amp;error_message=&#39;

+ encodeURIComponent (

&#39;<c:forEach var="error" items="${errors.allErrors}"><spring:message code="${error.code}" text="${error.defaultMessage}" /></c:forEach>&#39;

);


</spring:hasBindErrors>



window.location.href = redirectURL;


</script>



</head>


<body></body>

<p></html>&lt;%
}</p>
<p>else
{</p>
<p>out.print(</p>
<p>&quot;You better know what to do here.&quot;</p>
<p>);
} %&gt;</p>
<p>And for completeness, here is the CasUtility that removes obsolete parameters from the query string:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>package</p>
<p>de.businessmart.sso.cas;</p>
<p>public</p>
<p>class</p>
<p>CasUtility {</p>
<p>//<em>/</em></p>
<p>/* Removes the previously attached GET parameters &quot;lt&quot; and &quot;error_message&quot; to be able to send new ones.</p>
<p>/* @param casUrl</p>
<p>/* @return</p>
<p>/*/</p>
<p>public</p>
<p>static</p>
<p>String resetUrl ( String casUrl) {</p>
<p>String cleanedUrl;</p>
<p>String[] paramsToBeRemoved =</p>
<p>new</p>
<p>String[]{</p>
<p>&quot;lt&quot;</p>
<p>,</p>
<p>&quot;error_message&quot;</p>
<p>,</p>
<p>&quot;get-lt&quot;</p>
<p>};</p>
<p>cleanedUrl = removeHttpGetParameters(casUrl, paramsToBeRemoved);</p>
<p>return</p>
<p>cleanedUrl;</p>
<p>}</p>
<p>//<em>/</em></p>
<p>/* Removes selected HTTP GET parameters from a given URL</p>
<p>/* @param casUrl</p>
<p>/* @param paramsToBeRemoved</p>
<p>/* @return</p>
<p>/*/</p>
<p>public</p>
<p>static</p>
<p>String removeHttpGetParameters (String casUrl, String[] paramsToBeRemoved) {</p>
<p>String cleanedUrl = casUrl;</p>
<p>if</p>
<p>(casUrl !=</p>
<p>null</p>
<p>)</p>
<p>{</p>
<p>// check if there is any query string at all</p>
<p>if</p>
<p>(casUrl.indexOf(</p>
<p>&quot;?&quot;</p>
<p>) == -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>return</p>
<p>casUrl;</p>
<p>}</p>
<p>else</p>
<p>{</p>
<p>// determine the start and end position of the parameters to be removed</p>
<p>int</p>
<p>startPosition, endPosition;</p>
<p>boolean</p>
<p>containsOneOfTheUnwantedParams =</p>
<p>false</p>
<p>;</p>
<p>for</p>
<p>(String paramToBeErased : paramsToBeRemoved)</p>
<p>{</p>
<p>startPosition = -</p>
<p>1</p>
<p>;</p>
<p>endPosition = -</p>
<p>1</p>
<p>;</p>
<p>if</p>
<p>(cleanedUrl.indexOf(</p>
<p>&quot;?&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) &gt; -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>startPosition = cleanedUrl.indexOf(</p>
<p>&quot;?&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) +</p>
<p>1</p>
<p>;</p>
<p>}</p>
<p>else</p>
<p>if</p>
<p>(cleanedUrl.indexOf(</p>
<p>&quot;&amp;&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) &gt; -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>startPosition = cleanedUrl.indexOf(</p>
<p>&quot;&amp;&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) +</p>
<p>1</p>
<p>;</p>
<p>}</p>
<p>if</p>
<p>(startPosition &gt; -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>int</p>
<p>temp = cleanedUrl.indexOf(</p>
<p>&quot;&amp;&quot;</p>
<p>, startPosition);</p>
<p>endPosition = (temp &gt; -</p>
<p>1</p>
<p>) ? temp +</p>
<p>1</p>
<p>: cleanedUrl</p>
<p>.length();</p>
<p>// remove that parameter, leaving the rest untouched</p>
<p>cleanedUrl = cleanedUrl.substring(</p>
<p>0</p>
<p>, startPosition)</p>
<ul>
<li>cleanedUrl.substring(endPosition);</li>
</ul>
<p>containsOneOfTheUnwantedParams =</p>
<p>true</p>
<p>;</p>
<p>}</p>
<p>}</p>
<p>// wenn nur noch das Fragezeichen vom query string übrig oder am schluss ein &quot;&amp;&quot;, dann auch dieses entfernen</p>
<p>if</p>
<p>(cleanedUrl.endsWith(</p>
<p>&quot;?&quot;</p>
<p>) || cleanedUrl.endsWith(</p>
<p>&quot;&amp;&quot;</p>
<p>))</p>
<p>{</p>
<p>cleanedUrl = cleanedUrl.substring(</p>
<p>0</p>
<p>,</p>
<p>cleanedUrl.length() -</p>
<p>1</p>
<p>);</p>
<p>}</p>
<p>// erst zurückgeben, wenn wir auch überprüft haben, ob nicht ein parameter mehrfach angegeben wurde...</p>
<p>if</p>
<p>(!containsOneOfTheUnwantedParams)</p>
<p>return</p>
<p>casUrl;</p>
<p>else</p>
<p>cleanedUrl = removeHttpGetParameters(cleanedUrl, paramsToBeRemoved);</p>
<p>}</p>
<p>}</p>
<p>return</p>
<p>cleanedUrl;</p>
<p>}</p>
<p>}
Labels:</p>
<p>None</p>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Edit Labels ( Type &#39;l" target="_blank">Edit Labels</a>&quot;)</p>
<h2 id="-8-comments-https-wiki-jasig-org-display-cas-using-cas-without-the-login-screen-"><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">8 Comments</a></h2>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Hide/Show Comments" target="_blank">Hide/Show Comments</a></p>
<ol>
<li><img src="&quot;battags&quot;" alt="User icon: battags"></li>
</ol>
<p>Apr 25, 2007</p>
<h3 id="-scott-battaglia-https-wiki-jasig-org-display-battags-"><a href="https://wiki.jasig.org/display/~battags" target="_blank">Scott Battaglia</a></h3>
<p>The IFRAME method actually does work. As stated in emails on the CAS developer&#39;s list, it requires replacing the default view with a JavaScript redirect view.</p>
<p>This allows the following:
(a) errors will continue to be displayed correctly (in the iframe)
(b) redirects the browser correctly
(c) usernames and passwords are never collected on the client application</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=3604556#comment-3604556" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;albert4cas&quot;" alt="User icon: albert4cas"></li>
</ul>
<p>Jul 09, 2007</p>
<h3 id="-alberto-mozzone-https-wiki-jasig-org-display-albert4cas-"><a href="https://wiki.jasig.org/display/~albert4cas" target="_blank">Alberto Mozzone</a></h3>
<p>Hi there,
I made the changes described here, but I&#39;m stuck with these problems:</p>
<ul>
<li>Where the file &quot;viewRedirectToRequestor.jsp&quot; must be placed ?</li>
<li>There isn&#39;t the definition of bean with class &quot;ProvideLoginTicketToRemoteRequestorAction&quot; in &quot;applicationContext.xml&quot;.</li>
<li>After adding it, I get the exception:</li>
</ul>
<p>2007-07-09 17:08:18,773 ERROR [org.apache.catalina.core.ContainerBase.[Catalina].[auth.domain.com].[/].[cas]] - Servlet.service() for servlet cas threw exception
java.lang.InstantiationException
    at sun.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:30)</p>
<p>And CAS shows its generic exception page &quot;CAS is unavailable&quot;.</p>
<p>Where am I wrong ?</p>
<p>Somebody can help, please ?</p>
<p>Thanks in advance.</p>
<p>Alberto</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=6619787#comment-6619787" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;netstokedev@gmail.com&quot;" alt="User icon: netstokedev@gmail.com"></li>
</ul>
<p>Dec 07, 2007</p>
<h3 id="-kevin-mckee-https-wiki-jasig-org-display-netstokedev-gmail-com-"><a href="https://wiki.jasig.org/display/~netstokedev@gmail.com" target="_blank">Kevin McKee</a></h3>
<p>A much simpler and elegant version is to not deal with getting a login ticket at all and to simply auto submit the CAS form via Javascript if a param such as &#39;auto&#39; is submitted to the login form along with the service, username, and password parameters.</p>
<p>Example of casLoginView.jsp:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a> &lt;%</p>
<p>// If we recieve the &#39;auto&#39; parameter as &#39;true&#39; we attempt to
// auto populate the form from the request variables and submit it</p>
<p>String auto = request.getParameter(</p>
<p>&quot;auto&quot;</p>
<p>);
if</p>
<p>(auto !=</p>
<p>null</p>
<p>&amp;&amp; auto.equals(</p>
<p>&quot;true&quot;</p>
<p>)) {</p>
<p>%&gt;</p>
<script language=

"javascript"

>

 function doAutoLogin() {
  document.forms[

0

].username.value =

'<%=request.getParameter("username")%>'

;

  document.forms[

0

].password.value =

'<%=request.getParameter("password")%>'

;
  document.forms[

0

].submit();

 }


// Add the auto login function to the onload event

 addLoadEvent(doAutoLogin);
</script>

<p>&lt;% 
}</p>
<p>%&gt;    </p>
<p>No fuss, no muss. CAS will then redirect back to your service url with a ticket that is ready to be validated. This comes in really handy if you are doing something like creating users in your system and then auto logging them in after the creation process.</p>
<p>I know purists will hate the fact that we put a scriptlet in there (i&#39;m not too wild about it either), but it is alot easier than all the redirects involved for grabbing a login ticket just to submit credentials.</p>
<p>Just a note, you will also want to change the name of the submit button from &#39;submit&#39; or else Javascript will have a fit. Hope this helps.</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=8716750#comment-8716750" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;jacomac&quot;" alt="User icon: jacomac"></li>
</ul>
<p>Jun 06, 2008</p>
<h3 id="-konrad-wulf-https-wiki-jasig-org-display-jacomac-"><a href="https://wiki.jasig.org/display/~jacomac" target="_blank">Konrad Wulf</a></h3>
<p>Here&#39;s a tardy response to Alberto Mozzone&#39;s post. Sorry for not having answered any earlier. But better late than never <img src="" alt="(wink)"> It still seems to be of interest:</p>
<p>I have forgotten to mention in this article that the view bmRedirectToRequestorView needs to be defined in the default_views.properties file, which is located at &quot;/WEB-INF/classes&quot;. The following entries need to be added there:</p>
<p>/#/#/# Redirect with login ticket view
bmRedirectToRequestorView.(class)=org.springframework.web.servlet.view.JstlView
bmRedirectToRequestorView.url=/WEB-INF/view/jsp/default/ui/bmRedirectToRequestorView.jsp</p>
<p>Moreover, Alberto was also quite right that the bean &quot;provideLoginTicketToRemoteRequestorAction&quot; has to be defined somewhere. I did that in /WEB-INF/cas-servlet.xml:</p>
<p>id=&quot;provideLoginTicketToRemoteRequestorAction&quot;
class=&quot;de.businessmart.sso.cas.flow.ProvideLoginTicketToRemoteRequestorAction&quot; /&gt;</p>
<p>With these 2 little additions the solution description should be complete.</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=13570147#comment-13570147" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;gauravsaxena&quot;" alt="User icon: gauravsaxena"></li>
</ul>
<p>Oct 13, 2010</p>
<h3 id="-gaurav-saxena-https-wiki-jasig-org-display-gauravsaxena-"><a href="https://wiki.jasig.org/display/~gauravsaxena" target="_blank">gaurav saxena</a></h3>
<p>Hi,</p>
<p>This was a nice article. But i need to do the same with that latest version of CAS i.e. 3.4 . Can you please provide me the steps for the same. Atleast the stucture for login-webflow.xml as it is now using spring-webflow-2.0.xsd .</p>
<p>Thanks in advance.</p>
<p>Gaurav Saxena</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=37946049#comment-37946049" title="Permanent link to this comment" target="_blank">Permalink</a></li>
</ul>
<ol>
<li><img src="&quot;eholderman&quot;" alt="User icon: eholderman"></li>
</ol>
<p>Feb 02, 2011</p>
<h3 id="-ed-holderman-https-wiki-jasig-org-display-eholderman-"><a href="https://wiki.jasig.org/display/~eholderman" target="_blank">Ed Holderman</a></h3>
<p>I have the same question.  Does anyone have any tips on doing this in CAS 3.4.x and is there now a different way of accomplishing it with the new version?  My end goal is to alter the Liferay login portlet to submit credentials to CAS over https.  Out of the box IFrame portlets would hard code the service URL, breaking deep link capabilities.  Thank you - Ed</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=39813346#comment-39813346" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;rdemuth&quot;" alt="User icon: rdemuth"></li>
</ul>
<p>Jun 13, 2011</p>
<h3 id="-robert-demuth-https-wiki-jasig-org-display-rdemuth-"><a href="https://wiki.jasig.org/display/~rdemuth" target="_blank">Robert DeMuth</a></h3>
<p>Looking to do the same thing in CAS 3.4.6 (using the Maven2 overlay method).  It looks like login-webflow.xml has changed dramatically since this page was created.</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=46137905#comment-46137905" title="Permanent link to this comment" target="_blank">Permalink</a></li>
</ul>
<ol>
<li><img src="&quot;patino@fordham.edu&quot;" alt="User icon: patino@fordham.edu"></li>
</ol>
<p>Oct 17, 2011</p>
<h3 id="-jpats-https-wiki-jasig-org-display-patino-fordham-edu-"><a href="https://wiki.jasig.org/display/~patino@fordham.edu" target="_blank">jpats</a></h3>
<p>Hi, I just want to find out if you were able to have this working. If you did, really would like to find out how you did it. Thanks in advance.</p>
<ul>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=50857235#comment-50857235" title="Permanent link to this comment" target="_blank">Permalink</a>
Powered by a free <strong>Atlassian Confluence Open Source Project License</strong> granted to Java Architectures Special Interest Group. <a href="http://www.atlassian.com/c/conf/11461" target="_blank">Evaluate Confluence today</a>.
This Confluence installation runs a Free Gliffy License - <a href="http://www.gliffy.com/products/confluence-plugin/" target="_blank">Evaluate Gliffy</a> for your Wiki!</p>
</li>
<li><p>Powered by <a href="http://www.atlassian.com/software/confluence" target="_blank">Atlassian Confluence</a> 4.1.5, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" target="_blank">Enterprise Wiki</a></p>
</li>
<li>Printed by Atlassian Confluence 4.1.5, the Enterprise Wiki.</li>
<li>·  <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" target="_blank">Report a bug</a></li>
<li>·  <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" target="_blank">Atlassian News</a></li>
</ul>
<p><a href=""></a><a href=""></a><a href=""></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span><span class="breadcrumb"><li><a href="/categories/CAS/">CAS</a></li><li><a href="/categories/CAS/without+cas+login+screen/">without+cas+login+screen</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a><a href="/tags/without+cas+login+screen/" class="label label-success">without+cas+login+screen</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/77/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/75/">75</a></li><li><a class="page-number" href="/page/76/">76</a></li><li><a class="page-number" href="/page/77/">77</a></li><li class="active"><li><span class="page-number current">78</span></li><li><a class="page-number" href="/page/79/">79</a></li><li><a class="page-number" href="/page/80/">80</a></li><li><a class="page-number" href="/page/81/">81</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/79/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 19:05:47</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
