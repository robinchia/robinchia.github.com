
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 145 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate总结/">Hibernate总结</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate总结/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="hibernate-">Hibernate总结</h1>
<p><a href="http://blog.csdn.net/llhhyy1989/article/details/7300599" target="_blank">Hibernate总结</a></p>
<p>看了大约十天的视频，从整体上了解一下hibernate，hibernate的优缺点以及如何搭建hibernate，在上篇博客中已经介绍。</p>
<p>   目前在看ssh，但是具体的细节没有研究，只是从整体了解其出现的原因以及如何配置，但是里面涉及到细节部分，暂时不做研究，根据后期的学习，会进行深刻理解。</p>
<p>  现在自己的java知识不够，这个阶段需要狂塞，猛汲取，整体上尽量消化。后期再对其进行研究细化。</p>
<p>   那我们看一下hibernate中整体的内容：</p>
<p><img src="" alt=""></p>
<p>   我们一一介绍其中的内容。</p>
<ol>
<li>Hibernate出现的原因上篇博客已经介绍，可以参考《Hibernate介绍》</li>
<li>Hibernate中的核心五大接口，在上篇博客中也已经介绍，可以参考《Hibernate介绍》</li>
<li>如何搭建Hibernate，请参考《八步详解Hibernate的搭建及使用》</li>
<li>持久化对象的三种状态。</li>
</ol>
<p>分别为：瞬时状态（Transient），持久化状态（Persistent），离线状态（Detached）。三种状态下的对象的生命周期如下：</p>
<p><img src="" alt=""></p>
<p>三种状态的区别是：瞬时状态的对象：没有被session管理，在数据库没有；持久化状态的对象：被session管理，在数据库存在，当属性发生改变，在清理缓存时，会自动和数据库同步；离线状态：没有被session管理，但是在数据库中存在。
来源： <a href="[http://blog.csdn.net/llhhyy1989/article/details/7300599](http://blog.csdn.net/llhhyy1989/article/details/7300599)">[http://blog.csdn.net/llhhyy1989/article/details/7300599](http://blog.csdn.net/llhhyy1989/article/details/7300599)</a> </p>
<p>5.测试工具Juit。</p>
<p>测试类需要继承TestCase，编写单元测试方法，方法名称必须为test开头，方法没有参数没有返回值，采用public修饰。其中在测试中，查询对象时，使用get或者load两种方法进行加载，这种方法的区别：get不支持延迟加载，而load默认情况下是支持延迟加载。并且get查询对象不存在时，返回null；而load查询对象不存在时，则抛出ObjectNotFoundException异常。</p>
<p>6.悲观锁和乐观锁解释。</p>
<p>悲观锁为了解决并发性，跟操作系统中的进程中添加锁的概念一样。就是在整个过程中在事务提交之前或回滚之前，其他的进程是无法访问这个资源的。悲观锁的实现方式有两种：一种使用数据库中的独占锁；另一种是在数据库添加一个锁的字段。hibernate中声明锁如下：</p>
<p>Account account = (Account)session.get(Account.class, 1, LockMode.UPGRADE);而net.sf.hibernate.LockMode类表示锁模式，当取值LockMode.UPGRADE时，则表示使用悲观锁for update；而乐观锁是为了解决版本冲突的问题。就是在数据库中添加version字段，每次更新时，则把自己的version与数据库中的version进行比较，若是版本相比较低，则不允许进行修改更新。</p>
<p>7.H ibernate中的缓存机制。</p>
<p>缓存是什么呢？缓存是应用程序和数据库之间的内存的一片区域。主要的目的是：为了减少对数据库读取的时间。当查询数据时，首先在缓存中查询，若存在，则直接取出，若不存在，然后再向数据库中查询。所以应该把经常访问数据库的数据放到缓存中，至于缓存中的数据如何不断的置换，这也需要涉及一种淘汰数据的算法。</p>
<p>谈到这个hibernate中的缓存，你想到了什么呢？刚才叙述缓存时，是否感觉很熟悉，感觉从哪也听过似的。嗯呢，是呢，是很熟悉，写着写着就很熟悉，这个刚才的缓存以及缓存的置换算法就和计算机组成中的cache类似。</p>
<p>好吧，来回到我们hibernate中的缓存。</p>
<p>hibernate中的缓存可以分为两种：一级缓存，也称session缓存；二级缓存，是由sessionFactory管理。</p>
<p>那一级缓存和二级缓存有什么区别呢？区别的关键关于：缓存的生命周期，也就是缓存的范围不同。</p>
<p>那首先介绍一下缓存的生命周期，也就是缓存的范围。</p>
<p>1.事务缓存，每个事务都有自己的缓存，当事务结束，则缓存的生命周期同样结束，正如上篇博客中我们提到，对数据库的操作，增删改查都是放到事务中的，和事务保持同步，若是事务提交完毕，一般是不允许是再次对数据库进行操作。所以session是属于事务缓存的。</p>
<p>2.应用缓存，一个应用程序中的缓存，也就是应用程序中的所有事务的缓存。只有当应用程序结束时，此时的缓存的额生命周期结束。二级缓存就是应用缓存。</p>
<p>3.集群缓存，被一台机器或多台机器的进程共享。</p>
<p>这下明白了一级缓存和二级缓存的区别了吧。那一级缓存和二级缓存的共同点是：都是缓存实体属性，</p>
<p>二级缓存一般情况都是由第三方插件实现的。第三方插件如：</p>
<p>EHCache，JbossCache（是由Jboss开源组织提供的），osCache(open symphony)，swarmCache。前三种对hibernate中的查询缓存是支持的，后一种是不支持hibernate查询缓存。</p>
<p>那什么是hibernate查询缓存呢？</p>
<p>查询缓存是用来缓存普通属性的，对于实体对象而言，是缓存实体对象的id。
来源： <a href="[http://blog.csdn.net/llhhyy1989/article/details/7306009](http://blog.csdn.net/llhhyy1989/article/details/7306009)">[http://blog.csdn.net/llhhyy1989/article/details/7306009](http://blog.csdn.net/llhhyy1989/article/details/7306009)</a> 8.hql查询。</p>
<p>  Hibernate query language。hql查询中关键字不区分大小写，但是类和属性都是区分大小写的。</p>
<p>  1.简单属性查询。</p>
<p>  单一属性查询，返回属性结果集列表，元素类型和实体类的相应的类型一致。
<strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>List students = session.createQuery(&quot;select name from Student&quot;).list();  </li>
<li></li>
<li>for (Iterator iter=students.iterator(); iter.hasNext();) {  </li>
<li></li>
<li>String name = (String)iter.next();  </li>
<li></li>
<li>System.out.println(name);  </li>
<li></li>
<li>}  </li>
</ol>
<p> //返回结果集属性列表，元素类型和实体类中的属性类型一致</p>
<p>多个属性查询，多个属性查询返回数组对象，对象数组的长度取决于属性的个数，对象数组中的元素类型与实体类中属性一致。
<strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>List students = session.createQuery(&quot;select id, name from Student&quot;).list();  </li>
<li></li>
<li>for (Iterator iter=students.iterator(); iter.hasNext();) {  </li>
<li></li>
<li>Object[] obj = (Object[])iter.next();  </li>
<li></li>
<li>System.out.println(obj[0] + &quot;, &quot; + obj[1]);  </li>
<li></li>
<li>}  </li>
</ol>
<p>2.实体对象查询</p>
<p>List students = session.createQuery(&quot;from Student&quot;).list();</p>
<p>当然这种hql语句，可以使用别名,as可以省去，如：from Student as s,若是使用select关键字，则必须使用别名。如：select s from Student as s.但是不支持select /* from Student格式。</p>
<p>查询中使用list和Iterate区别：</p>
<p>list查询是直接运行查询的结果，所以只有一句sql语句。而iterate方法则有可能会产生N+1条sql语句。这是怎么回事呢？要理解N+1条语句，首先得弄明白iterate是如何执行查询的？</p>
<p>首先发出一条查询对象ID的语句，然后根据对象的ID到缓存（缓存的概念上篇博客已经提到）中查找，若是存在查询出此对象的其他的属性，否则会发出N条语句，此时的N语句，是刚才第一次查询的记录条数。这种现象就是N+1sql语句。</p>
<p>其中list是默认情况下都发出sql语句，查询出的结果会放到缓存中，但是它不会利用缓存，即使放进去，下次执行时，仍然继续发出sql语句。</p>
<p>而：iterate默认情况下会利用缓存，若是缓存中有则不会发出N+1条语句。</p>
<p>3.条件查询。</p>
<p>这种方式就是传入参数，使用参数占位符“？”。也可以使用“：参数名”</p>
<p>java代码如下：
<strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>List students = session.createQuery(&quot;select s.id, s.name from Student s where s.name like ?&quot;)  </li>
<li></li>
<li>.setParameter(0, &quot;%0%&quot;)  </li>
<li></li>
<li>.list();  </li>
<li></li>
<li>List students = session.createQuery(&quot;select s.id, s.name from Student s where s.name like :myname&quot;)  </li>
<li></li>
<li>.setParameter(&quot;myname&quot;,  &quot;%0%&quot;)  </li>
<li></li>
<li><p>.list();  </p>
<p>4.使用原生sql语句。</p>
<p>  和咱们原先写入的sql语句一样。在此不介绍了。</p>
<p>5.外置命名查询。</p>
<p>   这个听起来有点晦涩，怎么理解呢？其实通俗的说就是把hql语句写在外面，写在映射文件中。使用标签：</p>
</li>
</ol>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li><query name="queryStudent">  </li>
<li></li>
<li>&lt;![CDATA[ 
1.</li>
<li>select s from Student s where s.id &lt;? 
1.</li>
<li>]]&gt;  </li>
<li></li>
<li></query>  </li>
</ol>
<pre><code>那在程序中是如何使用此标签的呢？使用session.getNameQuery()，并进行赋值，代码如下：
</code></pre><p><strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>List students = session.getNamedQuery(&quot;queryStudent&quot;)  </li>
<li></li>
<li>.setParameter(0, 10)  </li>
<li></li>
<li>.list();  </li>
</ol>
<p> 6.查询过滤器。</p>
<pre><code>这个是什么意思呢？过滤器大家很熟悉吧，不熟悉的可以参考我的以前博客&lt;&gt;.原来我们接触过编码过滤器，编码过滤器就是为了避免当时每个页面需要设置编码格式而提出的。这个查询过滤器其实也是这个意思。若是代码都需要某一句sql语句的话，可以考虑使用它。这样可以避免每次都写查询语句。

使用如下：首先在映射文件中配置标签：
</code></pre><p><strong>[html]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li><filter-def name="testFilter">  </li>
<li></li>
<li><filter-param type="integer" name="myid"/>  </li>
<li></li>
<li></filter-def>  </li>
</ol>
<p>  然后程序中如下使用并进行赋值：
<strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>session.enableFilter(&quot;testFilter&quot;)  </li>
<li></li>
<li>.setParameter(&quot;myid&quot;, 10);  </li>
</ol>
<p>7.分页查询。</p>
<pre><code>分页查询，这个肯定不陌生，因为在做drp项目时，做的最多的是分页，当时使用oracle数据库，分页查询涉及到三层嵌套。直接传入的参数为：每页的大小（记录数），页号。

 Hibernate中给我们已经封装好了，只要设置开始的页号以及每页的大小即可，不用亲自动手写嵌套的sql语句。

 代码如下：
</code></pre><p><strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>List students = session.createQuery(&quot;from Student&quot;)  </li>
<li></li>
<li>.setFirstResult(1)  </li>
<li></li>
<li>.setMaxResults(2)  </li>
<li></li>
<li>.list();  </li>
</ol>
<p>8.对象导航查询。</p>
<p>这个什么意思呢？这个只要是用于一个类的属性是另一个类的引用。比如：student类中有一个classes属性。其中的classes也是一个类Class的引用。</p>
<p>当我们查询的时候可以这样使用：
<strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>List students = session.createQuery(&quot;from Student s where s.classes.name like &#39;%t%&#39;&quot;)  </li>
<li></li>
<li>.list();  </li>
</ol>
<p>相当于：s.getClasses.getName()，直接使用get后面的属性，然后首字母小写。</p>
<p> 这种语法，是不是很熟悉？想想我们在哪是不是也用过？想起来了吗？估计你猜出来啦，呵呵，是JSTL（jsp standard tag library）中。若是想进一步了解，可以参考我的博客哈，当时是转载滴貌似。</p>
<p>9.连接查询。</p>
<pre><code>连接分为：内连接和外连接，其中外连接分为左连接，右连接，完全连接。这个跟数据库中的左右连接其实是一样的。我们通俗解释一下：

左连接：以左边为准，右边即使没哟匹配的，也要把这条记录查询出来，此时没有匹配的右边以null填充。

右连接：以右边为准，左边即使没有匹配的，也要把这条记录查询出来，此时没有匹配的左边以null填充。
</code></pre><p>   完全连接：只要一方存在即可。</p>
<p>   内连接：必须两方都存在才可以查询提取此记录。</p>
<p>10.统计查询。</p>
<pre><code> 其实就是查询count的记录数。其中查询出来的额count是long类型。
</code></pre><p>11.DML风格的操作。</p>
<pre><code> DML？其实DML=Data Manipulate Language（数据操作语言），举个例子：
</code></pre><p><strong>[java]</strong> <a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/llhhyy1989/article/details/7307436#" title="?" target="_blank">?</a></p>
<ol>
<li>session.createQuery(&quot;update Student s set s.name=? where s.id&lt;?&quot;)  </li>
<li></li>
<li>.setParameter(0, &quot;王斌&quot;)  </li>
<li></li>
<li>.setParameter(1, 2)  </li>
<li></li>
<li>.executeUpdate();   </li>
</ol>
<p>假若原来的名字是：李四，更新完数据库后变成王斌，若是我们此时取出数据，其姓名是李四还是王斌？按照道理应该是王斌，但是结果确实李四，若不信，可以自己去实践一下。</p>
<p>这个原因，是因为更新了数据库，但是缓存中没有更新，才会造成这种数据库和缓存不同步的问题。</p>
<p>所以，我们应该尽量不使用这种形式。扬其长避其短嘛。
来源： <a href="[http://blog.csdn.net/llhhyy1989/article/details/7307436](http://blog.csdn.net/llhhyy1989/article/details/7307436)">[http://blog.csdn.net/llhhyy1989/article/details/7307436](http://blog.csdn.net/llhhyy1989/article/details/7307436)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/框架汇总/">框架汇总</a></li></span><span class="breadcrumb"><li><a href="/categories/框架汇总/">框架汇总</a></li><li><a href="/categories/框架汇总/ORM/">ORM</a></li><li><a href="/categories/框架汇总/ORM/hibernate/">hibernate</a></li></span></span> | <span class="tags">Tagged <a href="/tags/ORM/" class="label label-primary">ORM</a><a href="/tags/hibernate/" class="label label-success">hibernate</a><a href="/tags/框架汇总/" class="label label-info">框架汇总</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate总结/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-框架汇总-ORM-hibernate--Hibernate总结" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-架构师-架构--大型网站架构演变和知识体系/">大型网站架构演变和知识体系</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-架构师-架构--大型网站架构演变和知识体系/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">大型网站架构演变和知识体系</h1>
<h1 id="-bluedavy-blog-http-www-blogjava-net-bluedavy-"><a href="http://www.blogjava.net/BlueDavy/" target="_blank">BlueDavy之技术Blog</a></h1>
<p>理论不懂就实践，实践不会就学理论！</p>
<h2 id="-http-www-blogjava-net-bluedavy-archive-2008-09-03-226749-html-"><a href="http://www.blogjava.net/BlueDavy/archive/2008/09/03/226749.html" target="_blank">大型网站架构演变和知识体系</a></h2>
<p>之前也有一些介绍大型网站架构演变的文章，例如LiveJournal的、ebay的，都是非常值得参考的，不过感觉他们讲的更多的是每次演变的结果，而没有很详细的讲为什么需要做这样的演变，再加上近来感觉有不少同学都很难明白为什么一个网站需要那么复杂的技术，于是有了写这篇文章的想法，在这篇文章中 将阐述一个普通的网站发展成大型网站过程中的一种较为典型的架构演变历程和所需掌握的知识体系，希望能给想从事互联网行业的同学一点初步的概念，:)，文中的不对之处也请各位多给点建议，让本文真正起到抛砖引玉的效果。</p>
<p><strong>架构演变第一步：物理分离webserver和数据库</strong></p>
<p>最开始，由于某些想法，于是在互联网上搭建了一个网站，这个时候甚至有可能主机都是租借的，但由于这篇文章我们只关注架构的演变历程，因此就假设这个时候 已经是托管了一台主机，并且有一定的带宽了，这个时候由于网站具备了一定的特色，吸引了部分人访问，逐渐你发现系统的压力越来越高，响应速度越来越慢，而这个时候比较明显的是数据库和应用互相影响，应用出问题了，数据库也很容易出现问题，而数据库出问题的时候，应用也容易出问题，于是进入了第一步演变阶段：将应用和数据库从物理上分离，变成了两台机器，这个时候技术上没有什么新的要求，但你发现确实起到效果了，系统又恢复到以前的响应速度了，并且支撑住了更高的流量，并且不会因为数据库和应用形成互相的影响。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>这一步架构演变对技术上的知识体系基本没有要求。</p>
<p><strong>架构演变第二步：增加页面缓存</strong></p>
<p>好景不长，随着访问的人越来越多，你发现响应速度又开始变慢了，查找原因，发现是访问数据库的操作太多，导致数据连接竞争激烈，所以响应变慢，但数据库连 接又不能开太多，否则数据库机器压力会很高，因此考虑采用缓存机制来减少数据库连接资源的竞争和对数据库读的压力，这个时候首先也许会选择采用squid 等类似的机制来将系统中相对静态的页面（例如一两天才会有更新的页面）进行缓存（当然，也可以采用将页面静态化的方案），这样程序上可以不做修改，就能够 很好的减少对webserver的压力以及减少数据库连接资源的竞争，OK，于是开始采用squid来做相对静态的页面的缓存。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>前端页面缓存技术，例如squid，如想用好的话还得深入掌握下squid的实现方式以及缓存的失效算法等。</p>
<p><strong>架构演变第三步：增加页面片段缓存</strong></p>
<p>增加了squid做缓存后，整体系统的速度确实是提升了，webserver的压力也开始下降了，但随着访问量的增加，发现系统又开始变的有些慢了，在尝 到了squid之类的动态缓存带来的好处后，开始想能不能让现在那些动态页面里相对静态的部分也缓存起来呢，因此考虑采用类似ESI之类的页面片段缓存策略，OK，于是开始采用ESI来做动态页面中相对静态的片段部分的缓存。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>页面片段缓存技术，例如ESI等，想用好的话同样需要掌握ESI的实现方式等；</p>
<p><strong>架构演变第四步：数据缓存</strong></p>
<p>在采用ESI之类的技术再次提高了系统的缓存效果后，系统的压力确实进一步降低了，但同样，随着访问量的增加，系统还是开始变慢，经过查找，可能会发现系 统中存在一些重复获取数据信息的地方，像获取用户信息等，这个时候开始考虑是不是可以将这些数据信息也缓存起来呢，于是将这些数据缓存到本地内存，改变完毕后，完全符合预期，系统的响应速度又恢复了，数据库的压力也再度降低了不少。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>缓存技术，包括像Map数据结构、缓存算法、所选用的框架本身的实现机制等。</p>
<p><strong>架构演变第五步： 增加webserver</strong></p>
<p>好景不长，发现随着系统访问量的再度增加，webserver机器的压力在高峰期会上升到比较高，这个时候开始考虑增加一台webserver，这也是为了同时解决可用性的问题，避免单台的webserver down机的话就没法使用了，在做了这些考虑后，决定增加一台webserver，增加一台webserver时，会碰到一些问题，典型的有：
1、如何让访问分配到这两台机器上，这个时候通常会考虑的方案是Apache自带的负载均衡方案，或LVS这类的软件负载均衡方案；
2、如何保持状态信息的同步，例如用户session等，这个时候会考虑的方案有写入数据库、写入存储、cookie或同步session信息等机制等；
3、如何保持数据缓存信息的同步，例如之前缓存的用户数据等，这个时候通常会考虑的机制有缓存同步或分布式缓存；
4、如何让上传文件这些类似的功能继续正常，这个时候通常会考虑的机制是使用共享文件系统或存储等；
在解决了这些问题后，终于是把webserver增加为了两台，系统终于是又恢复到了以往的速度。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>负载均衡技术（包括但不限于硬件负载均衡、软件负载均衡、负载算法、linux转发协议、所选用的技术的实现细节等）、主备技术（包括但不限于ARP欺骗、linux heart-beat等）、状态信息或缓存同步技术（包括但不限于Cookie技术、UDP协议、状态信息广播、所选用的缓存同步技术的实现细节等）、共享文件技术（包括但不限于NFS等）、存储技术（包括但不限于存储设备等）。</p>
<p><strong>架构演变第六步：分库</strong></p>
<p>享受了一段时间的系统访问量高速增长的幸福后，发现系统又开始变慢了，这次又是什么状况呢，经过查找，发现数据库写入、更新的这些操作的部分数据库连接的 资源竞争非常激烈，导致了系统变慢，这下怎么办呢，此时可选的方案有数据库集群和分库策略，集群方面像有些数据库支持的并不是很好，因此分库会成为比较普遍的策略，分库也就意味着要对原有程序进行修改，一通修改实现分库后，不错，目标达到了，系统恢复甚至速度比以前还快了。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>这一步更多的是需要从业务上做合理的划分，以实现分库，具体技术细节上没有其他的要求；</p>
<p>但同时随着数据量的增大和分库的进行，在数据库的设计、调优以及维护上需要做的更好，因此对这些方面的技术还是提出了很高的要求的。</p>
<p><strong>架构演变第七步：分表、DAL和分布式缓存</strong>
随着系统的不断运行，数据量开始大幅度增长，这个时候发现分库后查询仍然会有些慢，于是按照分库的思想开始做分表的工作，当然，这不可避免的会需要对程序 进行一些修改，也许在这个时候就会发现应用自己要关心分库分表的规则等，还是有些复杂的，于是萌生能否增加一个通用的框架来实现分库分表的数据访问，这个在ebay的架构中对应的就是DAL，这个演变的过程相对而言需要花费较长的时间，当然，也有可能这个通用的框架会等到分表做完后才开始做，同时，在这个阶段可 能会发现之前的缓存同步方案出现问题，因为数据量太大，导致现在不太可能将缓存存在本地，然后同步的方式，需要采用分布式缓存方案了，于是，又是一通考察和折磨，终于是将大量的数据缓存转移到分布式缓存上了。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>分表更多的同样是业务上的划分，技术上涉及到的会有动态hash算法、consistent hash算法等；</p>
<p>DAL涉及到比较多的复杂技术，例如数据库连接的管理（超时、异常）、数据库操作的控制（超时、异常）、分库分表规则的封装等；</p>
<p><strong>架构演变第八步：增加更多的webserver</strong></p>
<p>在做完分库分表这些工作后，数据库上的压力已经降到比较低了，又开始过着每天看着访问量暴增的幸福生活了，突然有一天，发现系统的访问又开始有变慢的趋势 了，这个时候首先查看数据库，压力一切正常，之后查看webserver，发现apache阻塞了很多的请求，而应用服务器对每个请求也是比较快的，看来 是请求数太高导致需要排队等待，响应速度变慢，这还好办，一般来说，这个时候也会有些钱了，于是添加一些webserver服务器，在这个添加 webserver服务器的过程，有可能会出现几种挑战：
1、Apache的软负载或LVS软负载等无法承担巨大的web访问量（请求连接数、网络流量等）的调度了，这个时候如果经费允许的话，会采取的方案是购 买硬件负载，例如F5、Netsclar、Athelon之类的，如经费不允许的话，会采取的方案是将应用从逻辑上做一定的分类，然后分散到不同的软负载集群中；
2、原有的一些状态信息同步、文件共享等方案可能会出现瓶颈，需要进行改进，也许这个时候会根据情况编写符合网站业务需求的分布式文件系统等；
在做完这些工作后，开始进入一个看似完美的无限伸缩的时代，当网站流量增加时，应对的解决方案就是不断的添加webserver。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>到了这一步，随着机器数的不断增长、数据量的不断增长和对系统可用性的要求越来越高，这个时候要求对所采用的技术都要有更为深入的理解，并需要根据网站的需求来做更加定制性质的产品。</p>
<p><strong>架构演变第九步：数据读写分离和廉价存储方案</strong></p>
<p>突然有一天，发现这个完美的时代也要结束了，数据库的噩梦又一次出现在眼前了，由于添加的webserver太多了，导致数据库连接的资源还是不够用，而这个时候又已经分库分表了，开始分析数据库的压力状况，可能会发现数据库的读写比很高，这个时候通常会想到数据读写分离的方案，当然，这个方案要实现并不 容易，另外，可能会发现一些数据存储在数据库上有些浪费，或者说过于占用数据库资源，因此在这个阶段可能会形成的架构演变是实现数据读写分离，同时编写一些更为廉价的存储方案，例如BigTable这种。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>数据读写分离要求对数据库的复制、standby等策略有深入的掌握和理解，同时会要求具备自行实现的技术；</p>
<p>廉价存储方案要求对OS的文件存储有深入的掌握和理解，同时要求对采用的语言在文件这块的实现有深入的掌握。</p>
<p><strong>架构演变第十步：进入大型分布式应用时代和廉价服务器群梦想时代</strong></p>
<p>经过上面这个漫长而痛苦的过程，终于是再度迎来了完美的时代，不断的增加webserver就可以支撑越来越高的访问量了，对于大型网站而言，人气的重要毋 庸置疑，随着人气的越来越高，各种各样的功能需求也开始爆发性的增长，这个时候突然发现，原来部署在webserver上的那个web应用已经非常庞大 了，当多个团队都开始对其进行改动时，可真是相当的不方便，复用性也相当糟糕，基本是每个团队都做了或多或少重复的事情，而且部署和维护也是相当的麻烦， 因为庞大的应用包在N台机器上复制、启动都需要耗费不少的时间，出问题的时候也不是很好查，另外一个更糟糕的状况是很有可能会出现某个应用上的bug就导 致了全站都不可用，还有其他的像调优不好操作（因为机器上部署的应用什么都要做，根本就无法进行针对性的调优）等因素，根据这样的分析，开始痛下决心，将 系统根据职责进行拆分，于是一个大型的分布式应用就诞生了，通常，这个步骤需要耗费相当长的时间，因为会碰到很多的挑战：
1、拆成分布式后需要提供一个高性能、稳定的通信框架，并且需要支持多种不同的通信和远程调用方式；
2、将一个庞大的应用拆分需要耗费很长的时间，需要进行业务的整理和系统依赖关系的控制等；
3、如何运维（依赖管理、运行状况管理、错误追踪、调优、监控和报警等）好这个庞大的分布式应用。
经过这一步，差不多系统的架构进入相对稳定的阶段，同时也能开始采用大量的廉价机器来支撑着巨大的访问量和数据量，结合这套架构以及这么多次演变过程吸取的经验来采用其他各种各样的方法来支撑着越来越高的访问量。</p>
<p>看看这一步完成后系统的图示：</p>
<p><img src="" alt=""></p>
<p>这一步涉及到了这些知识体系：</p>
<p>这一步涉及的知识体系非常的多，要求对通信、远程调用、消息机制等有深入的理解和掌握，要求的都是从理论、硬件级、操作系统级以及所采用的语言的实现都有清楚的理解。</p>
<p>运维这块涉及的知识体系也非常的多，多数情况下需要掌握分布式并行计算、报表、监控技术以及规则策略等等。</p>
<p>说起来确实不怎么费力，整个网站架构的经典演变过程都和上面比较的类似，当然，每步采取的方案，演变的步骤有可能有不同，另外，由于网站的业务不同，会有不同的专业技术的需求，这篇blog更多的是从架构的角度来讲解演变的过程，当然，其中还有很多的技术也未在此提及，像数据库集群、数据挖掘、搜索等，但在真实的演变过程中还会借助像提升硬件配置、网络环境、改造操作系统、CDN镜像等来支撑更大的流量，因此在真实的发展过程中还会有很多的不同，另外一个大型网站要做到的远远不仅仅上面这些，还有像安全、运维、运营、服务、存储等，要做好一个大型的网站真的很不容易，写这篇文章更多的是希望能够引出更多大型网站架构演变的介绍，:)。
ps:最后附上几篇LiveJournal架构演变的文章：
从LiveJournal后台发展看大规模网站性能优化方法
<a href="http://blog.zhangjianfeng.com/article/743" target="_blank">http://blog.zhangjianfeng.com/article/743</a><br>另外从这里：<a href="http://www.danga.com/words/大家可以找到更多关于现在LiveJournal网站架构的介绍。" target="_blank">http://www.danga.com/words/大家可以找到更多关于现在LiveJournal网站架构的介绍。</a></p>
<p>posted on 2008-09-03 19:12 <a href="http://www.blogjava.net/BlueDavy/" target="_blank">BlueDavy</a> 阅读(57644) <a href="">评论(96)</a>  <a href="http://www.blogjava.net/BlueDavy/admin/EditPosts.aspx?postid=226749" target="_blank">编辑</a>  <a href="http://www.blogjava.net/BlueDavy/AddToFavorite.aspx?id=226749" target="_blank">收藏</a> 所属分类: <a href="http://www.blogjava.net/BlueDavy/category/32839.html" target="_blank">Internet</a></p>
<p> <img src="" alt=""></p>
<p><a href=""></a> <a href=""></a></p>
<p>[</p>
<h3 id="-">评论</h3>
<p>]()</p>
<h3 id="-permalink-re-re-2008-09-03-19-51-jack-wang-http-www-blogjava-net-jack2007-"><a href=""></a><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-03 19:51  <a href="http://www.blogjava.net/Jack2007/">Jack.Wang</a></h3>
<p>bluedavy 大哥的文章就是好，拜读过几篇了。
今天也沙发一下  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jack.Wang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-03-22-49-ronghao-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-09-03 22:49  <a href="">ronghao</a></h3>
<p>好文！！另外想问一下你的图都是用什么软件画得？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=ronghao" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-03-23-00-always-bang-http-www-blogjava-net-lifesting-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-03 23:00  <a href="http://www.blogjava.net/lifesting/">Always BaNg.</a></h3>
<p>很清晰，看来web也可以搞得很复杂:)  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Always+BaNg." title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-03-23-12-fisher-http-www-iamfisher-net-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-09-03 23:12  <a href="http://www.iamfisher.net/">fisher</a></h3>
<p>同上，拿什么做图示的？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=fisher" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-03-23-13-bluedavy-http-www-blogjava-net-bluedavy-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-03 23:13  <a href="http://www.blogjava.net/BlueDavy/">BlueDavy</a></h3>
<p>@fisher
...visio  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-09-05-jack-wang-http-www-blogjava-net-jack2007-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 09:05  <a href="http://www.blogjava.net/Jack2007/">Jack.Wang</a></h3>
<p>文路非常清晰，再展开下可以写本书了  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jack.Wang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-09-58-yhking-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 09:58  <a href="">yhKing</a></h3>
<p>拜读了 ：）  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=yhKing" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-11-03-jinjiankang-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 11:03  <a href="">jinjiankang</a></h3>
<p>写的真不错，长见识了。作者可以考虑出本书了！我说的是真话！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=jinjiankang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-12-20-fangyq-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 12:20  <a href="">fangyq</a></h3>
<p>非常长见识，相信作者一定在这方面有很丰富的经验吧  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=fangyq" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-13-26-sopofo-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 13:26  <a href="">sopofo</a></h3>
<p>写的不错。
不过有些图箭头的方向好像有问题～～  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=sopofo" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-15-55-bluedavy-http-blog-bluedavy-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-09-04 15:55  <a href="http://blog.bluedavy.cn/">BlueDavy</a></h3>
<p>@sopofo
^_^，是的，这里更多的是示意。
  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-16-40-iceskysl-http-iceskysl-1sters-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 16:40  <a href="http://iceskysl.1sters.com/">Iceskysl</a></h3>
<p>竟然知道后期要应对大流量，为何不在开始设计的时候就合理的划分模块呢，免得到最后再来做分布式。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Iceskysl" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-19-06-jack-wang-http-www-blogjava-net-jack2007-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 19:06  <a href="http://www.blogjava.net/Jack2007/">Jack.Wang</a></h3>
<p>@Iceskysl
这你就错了！开始的时候你不可能考虑这么多，无论从架构还是商业的角度你都应该遵循演进的过程。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jack.Wang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-04-21-17-lan-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-04 21:17  <a href="">lan</a></h3>
<p>长见识了，写的很好  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=lan" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-05-00-03-icyriver-http-icyriver-net-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-05 00:03  <a href="http://icyriver.net/">IcyRiver</a></h3>
<p>总结得很好，赞一下。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=IcyRiver" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-05-12-58-ci-http-videoblue-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-05 12:58  <a href="http://videoblue.cn/">ci</a></h3>
<p>不错  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=ci" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-06-02-33-iceskysl-http-iceskysl-1sters-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-06 02:33  <a href="http://iceskysl.1sters.com/">Iceskysl</a></h3>
<p>@Jack.Wang
把一些比较独立的功能拉出来，做成子系统，按照其需要单靠扩容，前期架构时也不难想到吧。
不是说多准确，多精确，但是有些东西还是可以提早拎出来的吧。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Iceskysl" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-07-09-15-thinkinjava-http-www-blogjava-net-xiaofeihu-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-07 09:15  <a href="http://www.blogjava.net/xiaofeihu/">ThinkInJava</a></h3>
<p><a href="http://blog.sina.com.cn/s/blog_5b34bb430100aex5.html" target="_blank"><a href="http://blog.sina.com.cn/s/blog_5b34bb430100aex5.html">http://blog.sina.com.cn/s/blog_5b34bb430100aex5.html</a></a>
都不知道哪个是原创的了  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=ThinkInJava" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-07-22-17-bluedavy-http-www-blogjava-net-bluedavy-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-07 22:17  <a href="http://www.blogjava.net/BlueDavy/">BlueDavy</a></h3>
<p>@Iceskysl
我想这位仁兄还需要理解下为什么Martin Flower老大会说在不需要分布式的情况下就不要去分布式，如果可以选择的话，我觉得没有一家互联网公司会采用分布式...  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-10-09-38-hehe-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-09-10 09:38  <a href="">hehe</a></h3>
<p>架构演变第十步：进入大型分布式应用时代和廉价服务器群梦想时代
不是这样吧，分布式及服务器集群就能解决大型互联网应用吗？
  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=hehe" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-10-11-53-bluedavy-http-blog-bluedavy-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-09-10 11:53  <a href="http://blog.bluedavy.cn/">BlueDavy</a></h3>
<p>@hehe
这位同学，貌似没仔细看我blog中的最后部分。
“另外一个大型网站要做到的远远不仅仅上面这些，还有像安全、运维、运营、服务、存储等，要做好一个大型的网站真的很不容易”
如果你有什么想法，希望能写出来让大家也分享下。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-10-22-40-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-10 22:40  <a href="">路过</a></h3>
<p>不错，先学习了。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%b7%af%e8%bf%87" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-12-21-40-jack-wang-http-www-blogjava-net-jack2007-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-12 21:40  <a href="http://www.blogjava.net/Jack2007/">Jack.Wang</a></h3>
<p>所有软件开发方法都要解决从需求到实现之间的转换问题。基于体系结构的软件开发包含以下几个主要阶段：
1)通过对特定领域应用软件进行分析，提炼出其中的稳定需求和易变需求，建立可重用的领域模型。依据领域模型和用户需求，产生应用系统的需求规格说明。
2)在领域模型的基础上，根据需求规格说明提炼出特定领域的软件体系结构。这是系统的高层设计，其目标是通过重用领域体系结构库中已有的高质量的体系结构，或生成最适合该用户需求的体系结构，并加以提炼入库，以备将来的重用，并在此体系结构的指导下，把系统逐步分解成相应的组件和连接件，直至组件
和连接件可以被设计模式和面向对象方法处理为止。
3)这个阶段主要解决具体组件和连接件的设计问题。通过重用可重用组件库中模式、对象和其它可重用的设计件，或重新设计的组件，并提炼入库；然后通过具体的编程实现，就可得到可运行的程序  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jack.Wang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-16-23-25-willim-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-16 23:25  <a href="">willim</a></h3>
<p>应用出问题了，数据库也很容易出现问题，而数据库出问题的时候，应用也容易出问题
能具体说说出啥问题  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=willim" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-23-13-31-lingxiao-http-hi-baidu-com-netpet-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-23 13:31  <a href="http://hi.baidu.com/netpet">lingxiao</a></h3>
<p>写得不错。
我最近也在作相关方面的研究，不清楚对应到你上面阶段的那个部分，但是我的实现可能别有洞天。
我做web已经7年多了，最不能忍受的就是重复重复再重复，用了.net java之后我总于返回到了c时代，归结web应用其实就是数据＋格式化，而xml＋xslt恰恰就是这个模型，所以我的应用就是基于xml＋xslt，并且做了一整套的技术论证，从SEO到换肤、多语言等高级特性都有了合理的解决方法，并且可以模块重用，做到数据跟界面的彻底分离，这样更有利于静态化，数据重用。
当然，实现的过程有阻碍，我已经做这套系统做了3年，废弃了一套java做得半成品的东西（我重写了jsp，还做了一个webserver和解释器，但是发现静态处理性能不行），现在总于有点眉目了，我的web server静态处理性能能大到nginx的120％，apache的200％（均是在300用户负载的测试下），数据库应用服务能达到15000RPS／S（静态文件23000左右，测试是在单机情况下，cpu Q6600 4核，2G内存，1个主线程，4个应用线程测试），代理性能是静态性能的接近50％，这几乎成为极限了，这为我的模型奠定了基础。
完成后系统本身就自带分布式文件系统、负载均衡、缓存系统，应用是基于配置的数据管理器，可以将数据库、静态文件、prama、服务器变量等等通过数据管理器按照用户权限发送给可解析xml的客户端，对于SEO、非xslt解析支持的浏览器等等全部采用在服务器端合成输出。界面则全部由xslt完成。
这样就能保证90％的请求能到到亚静态文件的处理速度，系统还在完善中，采用c在linux下编写的，希望有空共同探讨。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=lingxiao" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-09-24-09-49-macrochen-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-09-24 09:49  <a href="">macrochen</a></h3>
<p><a href="http://highscalability.com/7-stages-scaling-web-apps" target="_blank"><a href="http://highscalability.com/7-stages-scaling-web-apps">http://highscalability.com/7-stages-scaling-web-apps</a></a>  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=macrochen" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-06-10-58-zjysky-http-hexun-com-zjysky-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-06 10:58  <a href="http://hexun.com/zjysky">zjysky</a></h3>
<p>大哥写的文章太精彩了。
希望可以对每个步骤做个深入研究  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=zjysky" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-06-11-19-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-06 11:19  <a href="">匿名</a></h3>
<p>好文！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%8c%bf%e5%90%8d" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-06-11-48-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-10-06 11:48  <a href="">呵呵</a></h3>
<p>不错，不错  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%91%b5%e5%91%b5" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-06-20-14-jackie-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-06 20:14  <a href="">Jackie</a></h3>
<p>支持多写写这样的文章。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jackie" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-07-16-43-nares-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-07 16:43  <a href="">Nares</a></h3>
<p>3个月后我会很需要这文章!努力!  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Nares" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-08-15-12-suibian-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-08 15:12  <a href="">suibian</a></h3>
<p>@Iceskysl
呵呵，我觉得这个演变几乎都是互联网的演变史了，已经不光是技术层面的东西了。
就像我们知道以后屏幕都是触摸的，也没有谁现在写程序把这个考虑进去。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=suibian" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-08-17-31-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-10-08 17:31  <a href="">木木</a></h3>
<p>就要这样的文章，谢谢了  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e6%9c%a8%e6%9c%a8" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-13-13-07-lin-http-www-chinaletour-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-13 13:07  <a href="http://www.chinaletour.com/">lin</a></h3>
<p>学习了,好文章,谢谢.  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=lin" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-13-17-32-ken-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-10-13 17:32  <a href="">ken</a></h3>
<p>清楚  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=ken" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-13-18-15-fl-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-13 18:15  <a href="">fl</a></h3>
<p>学习了,好文章,谢谢  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=fl" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-17-14-55-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-17 14:55  <a href="">李伟</a></h3>
<p>哇塞，太有才了，对你佩服的五体投地啊。
看君一片文，胜编十年程！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e6%9d%8e%e4%bc%9f" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-21-10-45-nongmin-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-21 10:45  <a href="">nongmin</a></h3>
<p>说的太好了，如果我们公司的网站能按这个思路做下来就好了，这实际的一个问题就是投入产出比，网站发展到什么规模，上什么设备，在哪里上设备，这些必须有个明确的思路。像我们公司的网站，投入总是大于产出，就是网站没有达到这个规模，可偏要上一些高端的设备，唉。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=nongmin" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-21-12-41-bluedavy-http-www-blogjava-net-bluedavy-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-21 12:41  <a href="http://www.blogjava.net/BlueDavy/">BlueDavy</a></h3>
<p>@nongmin
呵呵，有钱的公司，羡慕  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-10-24-16-10-ve-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-10-24 16:10  <a href="">VE</a></h3>
<p>看完了文章之后才发现 原来是B大师写的
拜一下B大师 Orz……
  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=VE" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-11-06-11-46-binzhang-http-www-yumianfeilong-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-11-06 11:46  <a href="http://www.yumianfeilong.com/">binzhang</a></h3>
<p>实践出真知阿  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=binzhang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-11-10-00-15-agile-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2008-11-10 00:15  <a href="">agile</a></h3>
<p>最后岂不是Cloud Compute了？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=agile" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-11-25-10-38-http-www-hzcarton-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-11-25 10:38  <a href="http://www.hzcarton.com/">卡通服装</a></h3>
<p>真理啊,我先收藏了,每天睡觉前看一遍!  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%8d%a1%e9%80%9a%e6%9c%8d%e8%a3%85" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-11-26-17-18-hao-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-11-26 17:18  <a href="">hao</a></h3>
<p>开大家智慧之先河  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=hao" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-12-08-17-15-xi2008wang-http-342700-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-12-08 17:15  <a href="http://342700/">xi2008wang</a></h3>
<p>看帖,留名 ^_^  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=xi2008wang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-12-12-09-56-http-blog-linizou-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-12-12 09:56  <a href="http://blog.linizou.com/">邹丽妮</a></h3>
<p>好贴.从别处看到贴子的推荐.很不错.分布式的想听全些.  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e9%82%b9%e4%b8%bd%e5%a6%ae" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-12-17-08-55-http-www-guanwl-net-blog-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-12-17 08:55  <a href="http://www.guanwl.net/blog">井辰</a></h3>
<p>爆强，从来没看过关于网站架构的这么强的帖子！！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e4%ba%95%e8%be%b0" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-12-17-18-02-lyle-sky-gmail-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-12-17 18:02  <a href="">lyle.sky@gmail.com</a></h3>
<p>相当不错的，思路很清晰，很好理解，能更加深入将每一个具体的实例就更好了。谢！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=lyle.sky%40gmail.com" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-12-20-21-08-http-www-e8e8-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-12-20 21:08  <a href="http://www.e8e8.cn/">网站建设</a></h3>
<p>说的太好了，如果我们公司的网站能按这个思路做下来就好了，这实际的一个问题就是投入产出比，网站发展到什么规模，上什么设备，在哪里上设备，这些必须有个明确的思路。像我们公司的网站，投入总是大于产出，就是网站没有达到这个规模，可偏要上一些高端的设备，唉  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e7%bd%91%e7%ab%99%e5%bb%ba%e8%ae%be" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2008-12-30-17-21-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2008-12-30 17:21  <a href="">大头虾</a></h3>
<p>小虾路过 拜读了 虽然很多不懂 但思路的清晰却是十分惊人的  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%a4%a7%e5%a4%b4%e8%99%be" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-01-05-19-41-baidu-http-www-wang-luo-net-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-01-05 19:41  <a href="http://www.wang-luo.net.cn/">Baidu</a></h3>
<p>拜读了 虽然很多不懂  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Baidu" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-01-05-19-42-http-www-bihua8-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-01-05 19:42  <a href="http://www.bihua8.cn/">壁画</a></h3>
<p>不错  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%a3%81%e7%94%bb" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-01-13-11-01-joe-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2009-01-13 11:01  <a href="">joe</a></h3>
<p>@lingxiao
前辈的所下的功夫值得钦佩！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=joe" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-01-16-10-25-http-www-xiangzisy-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-01-16 10:25  <a href="http://www.xiangzisy.cn/">藏獒</a></h3>
<p>十分不错.支持  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%97%8f%e7%8d%92" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-02-23-23-11-seonj-http-www-seonj-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-02-23 23:11  <a href="http://www.seonj.cn/">seonj</a></h3>
<p>新的一天开始了。我要学习大型网站架构演变和知识体系啦  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=seonj" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-03-28-17-43-http-www-chentianxing-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-03-28 17:43  <a href="http://www.chentianxing.com/">陈天星</a></h3>
<p>新的一天开始了。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e9%99%88%e5%a4%a9%e6%98%9f" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-04-18-22-36-http-zhigangxie-blog-bokee-net-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-04-18 22:36  <a href="http://zhigangxie.blog.bokee.net/">谢志钢</a></h3>
<p>拜读了，学习中。这应该就是立志做成一个大型Web2.0应用需要走过的里程碑，反过来说，如果有幸能够走到第十步，应该也算得上是一个比较成熟的Web2.0应用了。我最好还是从起步开始吧。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%b0%a2%e5%bf%97%e9%92%a2" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-05-07-13-56-fli-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-05-07 13:56  <a href="">Fli</a></h3>
<p>总结的很清晰。不过网站架构的发展往往不是按部就班，有可能在头一两个阶段就采用分布式cache，应用服务器水平扩展，数据库分库  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Fli" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-05-08-19-19-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-05-08 19:19  <a href="">金枪鱼</a></h3>
<p>很舒心的从头到尾看完了，如西湖灌顶啊，兄弟，我把这篇文章永远收藏在硬盘里：）  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e9%87%91%e6%9e%aa%e9%b1%bc" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-05-26-16-41-bingo-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-05-26 16:41  <a href="">bingo</a></h3>
<p>好文!!!行云流水一样,舒服!
只不过有些介绍的过分简单.  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=bingo" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-05-29-00-18-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-05-29 00:18  <a href="">路过</a></h3>
<p>好文，值得自己好好深究。。。。。。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%b7%af%e8%bf%87" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-06-08-11-53-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2009-06-08 11:53  <a href="">小小</a></h3>
<p>不错哦  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%b0%8f%e5%b0%8f" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-06-24-14-36-http-realzjy-blog-51cto-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-06-24 14:36  <a href="http://realzjy.blog.51cto.com/">张隽永</a></h3>
<p>分析的过程很透彻，演化的过比较细腻，一次只进化一点，希望与博主交流。我设计程序结构的时候，前几步是直接进化来的，跳跃很强，希望重点讨论后几部的进化过程。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%bc%a0%e9%9a%bd%e6%b0%b8" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-07-11-07-17-jim-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2009-07-11 07:17  <a href="">Jim</a></h3>
<p>当我们演化到第十步后，我们从front-end到back-end似乎都有了可以扩展和提高性能的方法，但还有一个问题: 动态内容的如何在不同地理位置分布来减少网络带来的延迟. CDN通过备份似乎比较好的解决了静态内容的发布，但动态的实时的数据又该如何处理呢？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jim" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-07-13-10-50-bluedavy-http-www-blogjava-net-bluedavy-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-07-13 10:50  <a href="http://www.blogjava.net/BlueDavy/">BlueDavy</a></h3>
<p>@Jim
顶，:)，通常来说，动态的实时数据更多的公司只能是依靠建立异地数据中心甚至是应用中心来提升。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-09-02-11-27-adss101-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-09-02 11:27  <a href="">adss101</a></h3>
<p>@lingxiao
怎么做到的，，我刚接触这块不久，，有好多东西都没有好的解决，看完你们所说，我忽然觉得自已还是刚起步，，好多东西要学习，实践。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=adss101" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-09-02-11-33-adss101-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-09-02 11:33  <a href="">adss101</a></h3>
<p>可以加我QQ：517305903
MSN：huyaoniu@hotmail.com  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=adss101" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-10-06-14-51-lxp-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-10-06 14:51  <a href="">lxp</a></h3>
<p>好贴，让我长见识了，本人刚接触这方面的东西，感觉还有好多东西要学习。
  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=lxp" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-10-26-09-40-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-10-26 09:40  <a href="">木色</a></h3>
<p>好东西,这样的贴本想只有在培训中可以看到。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e6%9c%a8%e8%89%b2" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-10-26-10-31-http-www-zhjia-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-10-26 10:31  <a href="http://www.zhjia.com/">众佳网络工作室</a></h3>
<p>不错，经验丰富啊！希望前辈多多赐教！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e4%bc%97%e4%bd%b3%e7%bd%91%e7%bb%9c%e5%b7%a5%e4%bd%9c%e5%ae%a4" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-11-18-17-31-wudz-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-11-18 17:31  <a href="">wudz</a></h3>
<p>太感谢了，这样的文章我找了很长时间，终于找到，这帮我理清了这方面的学习路线。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=wudz" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-11-23-10-13-cloudward-http-www-cloudward-cn-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-11-23 10:13  <a href="http://www.cloudward.cn/">cloudward</a></h3>
<p>这篇网站算是很深刻了，但是还远远不够细节，只有宏观指导价值。期盼在新书中能够有效提供一些更加实战、细节的内容。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=cloudward" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-12-10-15-52-jackie-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-12-10 15:52  <a href="">Jackie</a></h3>
<p>很好的文章，写得很清晰，我也是做大型网站的，文章中说的那些问题很多我都遇到过，很有感触。有些技术我们已经采用了，有些没有用，有些是第一次听说，开了眼界，决定收藏这篇文章了。
不知BlueDavy能否提供各种技术更加深入的介绍，想有一个全面深入的了解，谢谢。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Jackie" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-12-16-23-33-suyiming99-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-12-16 23:33  <a href="">suyiming99</a></h3>
<p>提个并发问题，
1000人或者更多 同时进行读写操作，应该如何入手呀？软件哪方面？硬件又哪方面呢？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=suyiming99" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2009-12-17-10-11-bluedavy-http-www-blogjava-net-bluedavy-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2009-12-17 10:11  <a href="http://www.blogjava.net/BlueDavy/">BlueDavy</a></h3>
<p>@suyiming99
个人看法，这个还抽象了点？读写比差不多的话会比较麻烦，基本上只能按用户把读写的压力分解开，但这要看使用场景是否允许分开，至少写是肯定要分开的。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=BlueDavy" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2010-02-27-23-10-giggs-http-www-blogjava-net-zhoupo-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2010-02-27 23:10  <a href="http://www.blogjava.net/zhoupo/">Giggs</a></h3>
<p>提示: 用户被禁止或删除 内容自动屏蔽  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Giggs" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2010-04-14-10-39-jack-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2010-04-14 10:39  <a href="">jack</a></h3>
<p>@Jack.Wang
很有道理，  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=jack" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2010-04-14-10-41-jack-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2010-04-14 10:41  <a href="">jack</a></h3>
<p>很有道理，开始设计的时候考虑的可能多是成本之类的问题，现在的企业在看到利润之前谁会保证给你多少money用来实现这么庞大的架构。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=jack" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2010-07-02-11-09-hcc-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2010-07-02 11:09  <a href="">HCC</a></h3>
<p>好文章，受益匪浅  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=HCC" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2010-09-17-17-22-http-www-luof-net-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2010-09-17 17:22  <a href="http://www.luof.net/">想入飞飞</a></h3>
<p>@ronghao
很多软件都可以的呀。
比如PS,FW等等  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e6%83%b3%e5%85%a5%e9%a3%9e%e9%a3%9e" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2010-12-07-16-24-http-www-24xn-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2010-12-07 16:24  <a href="http://www.24xn.com/">西南网</a></h3>
<p>说得不错.  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%a5%bf%e5%8d%97%e7%bd%91" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-01-17-11-38-smeagol-http-www-quxing-info-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-01-17 11:38  <a href="http://www.quxing.info/">Smeagol</a></h3>
<p>不错的文章，转了。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=Smeagol" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-01-25-13-48-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-01-25 13:48  <a href="">路过</a></h3>
<p>有两张图重复了  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%b7%af%e8%bf%87" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-04-07-19-50-durex-http-www-durex-shop-net-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-04-07 19:50  <a href="http://www.durex-shop.net/">durex</a></h3>
<p>真的是受益匪浅啊  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=durex" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-04-09-20-01-aa-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2011-04-09 20:01  <a href="">aa</a></h3>
<p>@lingxiao
你写成这样的，全xlst解析，估计也只能自己用了。
让其他人看懂，能么？怀疑  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=aa" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-05-13-09-22-mayi-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-05-13 09:22  <a href="">mayi</a></h3>
<p>@lingxiao
又过去两年了，不知你的工作成果完成没有？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=mayi" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-05-26-19-36-xiaofang-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2011-05-26 19:36  <a href="">xiaofang</a></h3>
<p>我公司正在做大型教育云，需要大型网站架构师，高薪聘请。联系电话13651262860 肖女士  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=xiaofang" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-06-07-11-33-mei-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-06-07 11:33  <a href="">mei</a></h3>
<p>极品文章，不得不顶  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=mei" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-09-01-09-24-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2011-09-01 09:24  <a href="">豆豆</a></h3>
<p>ESI 现在，这种技术，还有在用？  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e8%b1%86%e8%b1%86" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-09-25-14-18-saife-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-09-25 14:18  <a href="">saife</a></h3>
<p>是好朋友推荐的。非常喜欢。受教了~  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=saife" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-10-21-19-36-centask-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-10-21 19:36  <a href="">centask</a></h3>
<p>群上聊天进来的学习了  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=centask" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-11-30-15-24-http-www-blogjava-net-epic2005-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-11-30 15:24  <a href="http://www.blogjava.net/epic2005/">李朋越</a></h3>
<p>mark ...   <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=%e6%9d%8e%e6%9c%8b%e8%b6%8a" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2011-12-30-16-37-xiaolin-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2011-12-30 16:37  <a href="">xiaolin</a></h3>
<p>抽丝剥茧，一层层分析得透彻，非常好的文章。不故作高深，看得舒畅、明白。佩服！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=xiaolin" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2012-01-09-15-48-yiqc-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2012-01-09 15:48  <a href="">yiqc</a></h3>
<p>确实非常不错，适合精度。  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=yiqc" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2012-04-11-11-11-aa-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系[未登录]&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系[未登录]  2012-04-11 11:11  <a href="">aa</a></h3>
<p>写出来的这些，这说明从小到大都经历了一边!有实践，有理论，好文章!  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=aa" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2012-07-01-22-17-www-zrpmw-com-http-www-zrpmw-com-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系  2012-07-01 22:17  <a href="http://www.zrpmw.com/">www.zrpmw.com</a></h3>
<p>请大帅帮我解决一下我的小站问题.
下面是我的小站:<a href="http://www.zrpmw.com/" target="_blank"><a href="http://www.zrpmw.com/">http://www.zrpmw.com/</a></a> <a href="http://www.yitaoman.com/" target="_blank"><a href="http://www.yitaoman.com/">http://www.yitaoman.com/</a></a>  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=www.zrpmw.com" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-permalink-re-re-2012-11-22-18-36-http-www-blogjava-net-lcgg110-"><a href="&quot;permalink: re: 大型网站架构演变和知识体系&quot;">/#</a> <a href=""></a>re: 大型网站架构演变和知识体系<a href=""></a>  2012-11-22 18:36  <a href="http://www.blogjava.net/lcgg110/" target="_blank">超凡</a></h3>
<p>来看晚了点，学习良多！  <a href="">回复</a>  <a href="http://www.blogjava.net/comment?author=+%e8%b6%85%e5%87%a1" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a>
<a href="http://www.blogjava.net/RequireRegister.aspx" target="_blank">新用户注册</a>  <a href="">刷新评论列表</a>  </p>
<p><a href=""></a> <a href="http://www.aliyun.com/cps/channel?channel_id=1306&amp;user=0&amp;lv=1">推荐购买云服务器（15%返利+最高千元奖金）</a>   <a href="http://www.cnblogs.com/" target="_blank">博客园</a>  <a href="http://q.cnblogs.com/" target="_blank">博问</a>  <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>  <a href="http://job.cnblogs.com/cate-java_programmer/" target="_blank">Java程序员招聘</a> 标题  请输入标题 姓名  请输入你的姓名 主页 请输入验证码 验证码 /*  <img src="http://www.blogjava.net/Modules/CaptchaImage/JpegImage.aspx?cacheid=20130727230729" alt=""> 内容(请不要发表任何与政治相关的内容) 请输入评论内容 Remember Me?   <a href="http://www.blogjava.net/login.aspx?ReturnURL=http://www.blogjava.net/BlueDavy/archive/2008/09/03/226749.html&amp;SourceURL=/BlueDavy/archive/2008/09/03/226749.html" target="_blank">登录</a>       [使用Ctrl+Enter键可以直接提交]      网站导航:</p>
<p><a href="http://www.cnblogs.com/" title="程序员的网上家园" target="_blank">博客园</a>   <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>   <a href="http://kb.cnblogs.com/" target="_blank">知识库</a>   <a href="http://www.cppblog.com/" target="_blank">C++博客</a>   <a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a>   <a href="http://www.blogjava.net/BlueDavy/archive/2008/09/03/226749.html?opt=admin" target="_blank">管理</a> 相关文章:</p>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/05/04/320080.html" target="_blank">code show: 网络访问超时优化</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/04/16/318503.html" target="_blank">大型应用与SOA</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/04/14/318234.html" target="_blank">《Web容量规划的艺术》书评</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/04/10/317903.html" target="_blank">Unicorn给Twitter带来的效果</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/03/29/316806.html" target="_blank">从超市收银故事看互联网技术</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/03/19/315989.html" target="_blank">杭州程序员圆桌交流第一期–并发编程PPT</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/02/23/313701.html" target="_blank">SOA@eBay读后感</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/01/28/311148.html" target="_blank">在Java中使用协程（Coroutine）</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/11/16/302585.html" target="_blank">继续观看eBay的技术发展</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/09/06/294045.html" target="_blank">【转】王速瑜和我参加架构师接龙的对话</a><br>Powered by: <a href="http://www.blogjava.net/" target="_blank">BlogJava</a> Copyright © BlueDavy<h3 id="-">公告</h3>
</li>
</ul>
<p><a href="http://www.douban.com/subject/3843896/" target="_blank"><img src="" alt=""></a> 
<a href="http://china.osgiusers.org/" target="_blank"><img src="" alt=""></a>
<a href="http://feed.feedsky.com/bluedavy" title="BlogJava-BlueDavy之技术Blog" target="_blank"><img src="" alt=""></a> <a href="http://feed.feedsky.com/bluedavy" target="_blank"><img src="" alt="feedsky"></a>
<a href="http://www.zhuaxia.com/add_channel.php?url=http://feed.feedsky.com/bluedavy" target="_blank"><img src="" alt="抓虾"></a>
<a href="http://fusion.google.com/add?feedurl=http://feed.feedsky.com/bluedavy" target="_blank"><img src="" alt="google reader"></a>
<a href="http://www.xianguo.com/subscribe.php?url=http://feed.feedsky.com/bluedavy" target="_blank"><img src="" alt="鲜果"></a></p>
<h3 id="-">导航</h3>
<ul>
<li><a href="http://www.blogjava.net/" target="_blank">BlogJava</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/" target="_blank">首页</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/admin/EditPosts.aspx?opt=1" target="_blank">新随笔</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/contact.aspx?id=1" target="_blank">联系</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/rss" target="_blank">聚合</a><a href="http://www.blogjava.net/BlueDavy/rss" target="_blank"><img src="" alt=""></a></li>
<li><a href="http://www.blogjava.net/BlueDavy/admin/EditPosts.aspx" target="_blank">管理</a>
<a href="&quot;转到上一个月&quot;">&lt;</a>2008年9月<a href="&quot;转到下一个月&quot;">&gt;</a>日一二三四五六3112<a href="http://www.blogjava.net/BlueDavy/archive/2008/09/03.html" target="_blank">3</a>456789101112131415161718192021<a href="http://www.blogjava.net/BlueDavy/archive/2008/09/22.html" target="_blank">22</a>23242526272829301234567891011</li>
</ul>
<h3 id="-">统计</h3>
<ul>
<li>随笔 - 294</li>
<li>文章 - 2</li>
<li>评论 - 2068</li>
<li>引用 - 1</li>
</ul>
<h3 id="-">随笔分类</h3>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/category/10609.html" target="_blank">@RIAWork(10)</a> <a href="http://www.blogjava.net/BlueDavy/category/10609.html/rss" title="Subscribe to @RIAWork(10)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/32839.html" target="_blank">Internet(20)</a> <a href="http://www.blogjava.net/BlueDavy/category/32839.html/rss" title="Subscribe to Internet(20)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/1366.html" target="_blank">Java(82)</a> <a href="http://www.blogjava.net/BlueDavy/category/1366.html/rss" title="Subscribe to Java(82)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/8127.html" target="_blank">Javascript(7)</a> <a href="http://www.blogjava.net/BlueDavy/category/8127.html/rss" title="Subscribe to Javascript(7)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/18356.html" target="_blank">OSGi、SOA、SCA(81)</a> <a href="http://www.blogjava.net/BlueDavy/category/18356.html/rss" title="Subscribe to OSGi、SOA、SCA(81)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/1514.html" target="_blank">Plugin Architecture(10)</a> <a href="http://www.blogjava.net/BlueDavy/category/1514.html/rss" title="Subscribe to Plugin Architecture(10)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/1513.html" target="_blank">Workflow(4)</a> <a href="http://www.blogjava.net/BlueDavy/category/1513.html/rss" title="Subscribe to Workflow(4)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/11559.html" target="_blank">业界随想(28)</a> <a href="http://www.blogjava.net/BlueDavy/category/11559.html/rss" title="Subscribe to 业界随想(28)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/22527.html" target="_blank">数据集成(8)</a> <a href="http://www.blogjava.net/BlueDavy/category/22527.html/rss" title="Subscribe to 数据集成(8)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/1911.html" target="_blank">系统设计(38)</a> <a href="http://www.blogjava.net/BlueDavy/category/1911.html/rss" title="Subscribe to 系统设计(38)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/category/1367.html" target="_blank">软件工程(22)</a> <a href="http://www.blogjava.net/BlueDavy/category/1367.html/rss" title="Subscribe to 软件工程(22)" target="_blank">(rss)</a></li>
</ul>
<h3 id="-">随笔档案</h3>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/05.html" target="_blank">2010年5月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/04.html" target="_blank">2010年4月 (4)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/03.html" target="_blank">2010年3月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/02.html" target="_blank">2010年2月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2010/01.html" target="_blank">2010年1月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/12.html" target="_blank">2009年12月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/11.html" target="_blank">2009年11月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/10.html" target="_blank">2009年10月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/09.html" target="_blank">2009年9月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/08.html" target="_blank">2009年8月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/07.html" target="_blank">2009年7月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/06.html" target="_blank">2009年6月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/05.html" target="_blank">2009年5月 (4)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/04.html" target="_blank">2009年4月 (5)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/03.html" target="_blank">2009年3月 (5)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/01.html" target="_blank">2009年1月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/11.html" target="_blank">2008年11月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/10.html" target="_blank">2008年10月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/09.html" target="_blank">2008年9月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/08.html" target="_blank">2008年8月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/07.html" target="_blank">2008年7月 (4)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/06.html" target="_blank">2008年6月 (4)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/05.html" target="_blank">2008年5月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/04.html" target="_blank">2008年4月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/03.html" target="_blank">2008年3月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/02.html" target="_blank">2008年2月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/01.html" target="_blank">2008年1月 (10)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/12.html" target="_blank">2007年12月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/11.html" target="_blank">2007年11月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/10.html" target="_blank">2007年10月 (6)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/09.html" target="_blank">2007年9月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/08.html" target="_blank">2007年8月 (4)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/07.html" target="_blank">2007年7月 (5)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/06.html" target="_blank">2007年6月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/05.html" target="_blank">2007年5月 (4)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/04.html" target="_blank">2007年4月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/03.html" target="_blank">2007年3月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/02.html" target="_blank">2007年2月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/01.html" target="_blank">2007年1月 (1)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/12.html" target="_blank">2006年12月 (6)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/11.html" target="_blank">2006年11月 (5)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/10.html" target="_blank">2006年10月 (8)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/09.html" target="_blank">2006年9月 (13)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/08.html" target="_blank">2006年8月 (15)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/07.html" target="_blank">2006年7月 (3)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/06.html" target="_blank">2006年6月 (7)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/05.html" target="_blank">2006年5月 (9)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/04.html" target="_blank">2006年4月 (12)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/03.html" target="_blank">2006年3月 (13)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/02.html" target="_blank">2006年2月 (9)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/01.html" target="_blank">2006年1月 (14)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/12.html" target="_blank">2005年12月 (11)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/11.html" target="_blank">2005年11月 (14)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/10.html" target="_blank">2005年10月 (9)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/09.html" target="_blank">2005年9月 (10)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/08.html" target="_blank">2005年8月 (5)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/07.html" target="_blank">2005年7月 (9)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/06.html" target="_blank">2005年6月 (9)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/05.html" target="_blank">2005年5月 (2)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/02.html" target="_blank">2005年2月 (1)</a></li>
</ul>
<h3 id="-">文章档案</h3>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/archives/2005/05.html" target="_blank">2005年5月 (2)</a></li>
</ul>
<h3 id="blogger-s">Blogger&#39;s</h3>
<ul>
<li><a href="http://www.dbanotes.net/" target="_blank">DBANotes</a></li>
<li>大名鼎鼎了，勿需多说</li>
<li><a href="http://www.esbzone.net/" target="_blank">ESBZone</a> <a href="http://www.esbzone.net/feed" title="Subscribe to ESBZone" target="_blank">(rss)</a></li>
<li>SOA实战者，强烈推荐</li>
<li><a href="http://kenwublog.com/" target="_blank">kenwu&#39;s blog[推荐]</a> <a href="http://feed.kenwublog.com/" title="Subscribe to kenwu&#39;s blog[推荐]" target="_blank">(rss)</a></li>
<li>Java底层和JVM的很多文章，强烈推荐。</li>
<li><a href="http://dreamhead.blogbus.com/" target="_blank">梦想风暴</a></li>
<li><a href="http://www.blogjava.net/cenwenchu/" target="_blank">西湖边的穷秀才</a></li>
</ul>
<h3 id="-">搜索</h3>
<p>*</p>
<ul>
<li></li>
</ul>
<h3 id="-http-www-blogjava-net-bluedavy-commentsrss-aspx-">最新评论 <a href="http://www.blogjava.net/BlueDavy/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2013/07/19/321796.html#401750" target="_blank">1. re: 关于《分布式Java应用：基础与实践》一书</a></li>
<li>博主 大神啊 这个博客很久没有更新了</li>
<li>--1836567962@qq.com</li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2013/07/11/267970.html#401444" target="_blank">2. re: 网站架构相关PPT、文章整理（更新于2009-7-15）</a></li>
<li>这个文章很有用，收藏</li>
<li>--度哥网</li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2013/05/28/267968.html#399877" target="_blank">3. re: OSGi Opendoc &amp; Book</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--stono</li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2013/05/28/267968.html#399865" target="_blank">4. re: OSGi Opendoc &amp; Book</a></li>
<li>我再看《OSGi》原理与最佳实践，可是源码没有办法下载呀；
有没有什么办法呢？</li>
<li>--stono</li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2013/05/27/321796.html#399801" target="_blank">5. re: 关于《分布式Java应用：基础与实践》一书</a></li>
<li>在这篇blog中放置了我收集的一些网站架构相关的PPT和文章</li>
<li>--色都</li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/09/03/226749.html" target="_blank">1. 大型网站架构演变和知识体系(57644)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/04/28/267970.html" target="_blank">2. 网站架构相关PPT、文章整理（更新于2009-7-15）(38737)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/03/27/37582.html" target="_blank">3. Hibernate实践(31780)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/06/13/6037.html" target="_blank">4. 系统设计说明书(架构、概要、详细)目录结构(24259)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/08/25/65741.html" target="_blank">5. 发布《OSGi实战》正式版(17727)</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2008/09/03/226749.html" target="_blank">1. 大型网站架构演变和知识体系(96)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2005/09/07/12340.html" target="_blank">2. 漫谈CMS(88)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2009/04/28/267970.html" target="_blank">3. 网站架构相关PPT、文章整理（更新于2009-7-15）(66)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2007/09/29/149631.html" target="_blank">4. 《OSGi进阶》预览版发布(59)</a></li>
<li><a href="http://www.blogjava.net/BlueDavy/archive/2006/08/25/65741.html" target="_blank">5. 发布《OSGi实战》正式版(54)</a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/架构师/">架构师</a></li></span><span class="breadcrumb"><li><a href="/categories/架构师/">架构师</a></li><li><a href="/categories/架构师/架构/">架构</a></li></span></span> | <span class="tags">Tagged <a href="/tags/架构/" class="label label-primary">架构</a><a href="/tags/架构师/" class="label label-success">架构师</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-架构师-架构--大型网站架构演变和知识体系/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-架构师-架构--大型网站架构演变和知识体系" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate性能调优（转载--作者：RobbinFan）/">Hibernate性能调优（转载</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate性能调优（转载--作者：RobbinFan）/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="hibernate-robbin-fan-">Hibernate性能调优（转载--作者：Robbin Fan）</h1>
<hr>
<p><strong>一。**</strong>inverse = ?**</p>
<pre><code>      inverse=false(default)

                  用于单向one-to-many关联

                  parent.getChildren().add(child) // insert child

                  parent.getChildren().delete(child) // delete child

       inverse=true

                  用于双向one-to-many关联

                  child.setParent(parent); session.save(child) // insert child

                   session.delete(child)

        在分层结构的体系中

         parentDao, childDao对于CRUD的封装导致往往直接通过session接口持久化对象，而很少通过关联对象可达性
</code></pre><p><strong>二。**</strong>one-to-many<strong>**关系</strong></p>
<pre><code>            单向关系还是双向关系？

                 parent.getChildren().add(child)对集合的触及操作会导致lazy的集合初始化，在没有对集合配置二级缓存的情况下，应避免此类操作

               select /* from child where parent_id = xxx;

      性能口诀：

              1. 一般情况下避免使用单向关联，尽量使用双向关联

              2. 使用双向关联，inverse=“true”

              3. 在分层结构中通过DAO接口用session直接持久化对象，避免通过关联关系进行可达性持久化
</code></pre><p><strong>三。**</strong>many-to-one<strong>**关系</strong></p>
<pre><code>     单向many-to-one表达了外键存储方

     灵活运用many-to-one可以避免一些不必要的性能问题

     many-to-one表达的含义是：0..n : 1，many可以是0，可以是1，也可以是n，也就是说many-to-one可以表达一对多，一对一，多对一关系

      因此可以配置双向many-to-one关系，例如：

            1.   一桌四人打麻将，麻将席位和打麻将的人是什么关系？是双向many-to-one的关系
</code></pre><p><strong>四。**</strong>one-to-one**</p>
<pre><code>        通过主键进行关联

        相当于把大表拆分为多个小表

        例如把大字段单独拆分出来，以提高数据库操作的性能

        Hibernate的one-to-one似乎无法lazy，必须通过bytecode enhancement
</code></pre><p><strong>五。集合**</strong>List/Bag/Set**</p>
<pre><code>        one-to-many

           1.    List需要维护index column，不能被用于双向关联，必须inverse=“false”，被谨慎的使用在某些稀有的场合

           2.      Bag/Set语义上没有区别

           3.       我个人比较喜欢使用Bag

       many-to-many

           1.      Bag和Set语义有区别

           2。   建议使用Set
</code></pre><p><strong>六。集合的过滤</strong></p>
<pre><code>         1. children = session.createFilter(parent.getChildren(), “where this.age &gt; 5 and   this.age &lt; 10”).list()

     针对一对多关联当中的集合元素非常庞大的情况，特别适合于庞大集合的分页：

               session.createFilter(parent.getChildren(),“”).setFirstResult(0).setMaxResults(10).list();
</code></pre><p>在hibernate 中用 super.getSession().createFilter( , )</p>
<p><strong>七。继承关系当中的隐式多态</strong></p>
<pre><code>       HQL: from Object

         1.     把所有数据库表全部查询出来

          2.     polymorphism=“implicit”(default)将当前对象，和对象所有继承子类全部一次性取出

          3.      polymorphism=“explicit”，只取出当前查询对象
</code></pre><p><strong>八。**</strong>Hibernate<strong>**二级缓存</strong></p>
<pre><code>          著名的n+1问题：from Child，然后在页面上面显示每个子类的父类信息，就会导致n条对parent表的查询：

               select /* from parent where id = ?

               .......................

               select /* from parent where id = ?

          解决方案

                    1.      eager fetch

                     2.      二级缓存
</code></pre><p><strong>九。**</strong>inverse<strong>**和二级缓存的关系</strong></p>
<pre><code>        当使用集合缓存的情况下：

             1.     inverse=“false”，通过parent.getChildren()来操作，Hibernate维护集合缓存

              2.    inverse=“true”，直接对child进行操作，未能维护集合缓存！导致缓存脏数据

              3.    双向关联，inverse=“true”的情况下应避免使用集合缓存
</code></pre><p><strong>十。**</strong>Hibernate<strong><strong>二级缓存是提升</strong></strong>web<strong>**应用性能的法宝</strong></p>
<pre><code>          OLTP类型的web应用，由于应用服务器端可以进行群集水平扩展，最终的系统瓶颈总是逃不开数据库访问；

       哪个框架能够最大限度减少数据库访问，降低数据库访问压力， 哪个框架提供的性能就更高；针对数据库的缓存策略：

                1.        对象缓存：细颗粒度，针对表的记录级别，透明化访问，在不改变程序代码的情况下可以极大提升web应用的性能。对象缓存是ORM的制胜法宝。

                2.       对象缓存的优劣取决于框架实现的水平，Hibernate是目前已知对象缓存最强大的开源ORM

                3.        查询缓存：粗颗粒度，针对查询结果集，应用于数据实时化要求不高的场合
</code></pre><p><strong>十一。应用场合决定了系统架构</strong></p>
<p>一、是否需要ORM</p>
<p>Hibernate or iBATIS？</p>
<p>二、采用ORM决定了数据库设计</p>
<pre><code>        Hibernate：

                倾向于细颗粒度的设计，面向对象，将大表拆分为多个关联关系的小表，消除冗余column，通过二级缓存提升性能（DBA比较忌讳关联关系的出现，但是ORM的缓存将突破关联关系的性能瓶颈）；Hibernate的性能瓶颈不在于关联关系，而在于大表的操作

        iBATIS：

                倾向于粗颗粒度设计，面向关系，尽量把表合并，通过表column冗余，消除关联关系。无有效缓存手段。iBATIS的性能瓶颈不在于大表操作，而在于关联关系。
</code></pre><p>总结：</p>
<pre><code> 性能口诀

           1、使用双向一对多关联，不使用单向一对多

           2、灵活使用单向多对一关联

           3、不用一对一，用多对一取代

           4、配置对象缓存，不使用集合缓存

           5、一对多集合使用Bag，多对多集合使用Set

           6、继承类使用显式多态

           7、表字段要少，表关联不要怕多，有二级缓存撑腰
</code></pre><p>最近开始留意项目中的Hibernate的性能问题，希望可以抽出时间学习一下hiberante的性能优化。主要是对数据库连接池技术、hibernate二级缓存、hibernate的配置优化等问题进行学习！</p>
<p>1.关联关系：</p>
<p>普通的关联关系：是不包括一个连接表，也就是中间表如：</p>
<p>create table Person(personId bigint not null primary key,addressId bigint not null)</p>
<p>create table Address(addressId bigint not null primary key)</p>
<p>也就是不会还有一个关系表如：</p>
<p>create table Person(personId bigint not null primary key)</p>
<p>create table Address(addressId bigint not null primary key)</p>
<p>create table PersonAddress(personId bigint not null,ddressId bigint not null primary key)</p>
<p>单向many-to-one关联是最常见的，而单向one-to-many是不常见的</p>
<ol>
<li>inner join(内连接)</li>
</ol>
<p>left (outer) join（左外连接）</p>
<p>right (outer) join (右外连接)</p>
<p>full join (全连接，并不常用)</p>
<p>3.小技巧：</p>
<p>统计结果数目：</p>
<p>(Integer)session.iterator(&quot;select count(/*) from ..&quot;).next()).intValue();</p>
<p>根据一个集合大小来排序：</p>
<p>select user.id,user.name</p>
<p>from User as user.name</p>
<pre><code>left join user.messages msg
</code></pre><p>group by user.id,user.name</p>
<p>having count(msg)&gt;=1</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/框架汇总/">框架汇总</a></li></span><span class="breadcrumb"><li><a href="/categories/框架汇总/">框架汇总</a></li><li><a href="/categories/框架汇总/ORM/">ORM</a></li><li><a href="/categories/框架汇总/ORM/hibernate/">hibernate</a></li></span></span> | <span class="tags">Tagged <a href="/tags/ORM/" class="label label-primary">ORM</a><a href="/tags/hibernate/" class="label label-success">hibernate</a><a href="/tags/框架汇总/" class="label label-info">框架汇总</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-框架汇总-ORM-hibernate--Hibernate性能调优（转载--作者：RobbinFan）/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-框架汇总-ORM-hibernate--Hibernate性能调优（转载--作者：RobbinFan）" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-框架汇总-反射--Java反射机制剖析/">Java反射机制剖析</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-框架汇总-反射--Java反射机制剖析/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-">Java反射机制剖析</h1>
<p><a href="http://blog.csdn.net/lfsf802/article/details/7239652" target="_blank">（一）-定义和API</a></p>
<ol>
<li>什么是Java反射机制
Java的反射机制是在程序运行时，能够完全知道任何一个类，及其它的属性和方法，并且能够任意调用一个对象的属性和方法。这种运行时的动态获取就是Java的反射机制。其实这也是Java是动态语言的一个象征。</li>
</ol>
<p>用一句话来概括反射就是加载一个运行时才知道的类以及它的完整内部结构。</p>
<ol>
<li>为什么要有Java反射机制
我们为什么要用Java的反射机制呢？</li>
</ol>
<p>我认为有两种：</p>
<p>第一种：反射的目的就是为了扩展未知的应用。比如你写了一个程序，这个程序定义了一些接口，只要实现了这些接口的dll都可以作为插件来插入到这个程序中。那么怎么实现呢？就可以通过反射来实现。就是把dll加载进内存，然后通过反射的方式来调用dll中的方法。</p>
<p>第二种：在编码阶段不知道那个类名,要在运行期从配置文件读取类名, 这时候就没有办法硬编码new ClassName(),而必须用到反射才能创建这个对象。</p>
<p>一个生活中常看到的例子有助于理解我们为什么要用Java的反射机制：你进了一家饭店，你不知道他们都有那些菜，要多少钱。那么你第一件事情是干啥“服务员拿个菜单过来”，然后指着菜单说“我要这个，我要那个”。</p>
<ol>
<li>一起来看ReflectionAPI</li>
</ol>
<p>在生活中，我们使用一个未知的东西的时候总会用帮助来解决我们的使用问题，电视机有帮助，电脑有帮助，几乎所有的事物都携带着它的一本帮助，Java的反射机制也不例外。</p>
<p>在JDK中有Reflection API的帮助，它主要说明了什么是Java反射机制，这种反射机制提供了什么样的属性和方法，进一步我们能够知道能够通过它完成什么样的工作。</p>
<p>下面咱就一起看看这部分的API。这些接口和类都位于lang包里。</p>
<p>如图：</p>
<p><img src="" alt=""></p>
<p>接口：</p>
<p><img src="" alt=""></p>
<p>类：</p>
<p><img src="" alt=""></p>
<p>简单介绍一些类和接口的用法。</p>
<p>1)     Member成员是一种接口，反映有关单个成员（字段或方法）或构造方法的标识信息</p>
<p>2)     InvocationHandler是代理实例的调用处理程序 实现的接口（这个接口的具体用法等到java反射机制剖析4着重介绍）</p>
<p>3)     Method提供一个类的方法的信息以及访问类的方法的接口。</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Method;  </li>
<li></li>
<li>public class TestMethod {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws Exception  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Method methods[]=classType.getDeclaredMethods();  </li>
<li>for(int i=0;i&lt;methods.length;i++){  </li>
<li>System.out.println(methods[i].toString());  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>4)     Filed提供一个类的域的信息以及访问类的域的接口。</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Field;  </li>
<li></li>
<li></li>
<li>public class TestField {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws Exception  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Field[] fields = classType.getFields();  </li>
<li>for(int i=0;i&lt;fields.length;i++){  </li>
<li>System.out.println(fields[i].toString());  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>5)     Array 类提供了动态创建和访问 Java 数组的方法。</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239652#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Array;  </li>
<li></li>
<li></li>
<li>public class TestArray {  </li>
<li></li>
<li>public TestArray(){  </li>
<li></li>
<li>}  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws Exception  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li></li>
<li>Class&lt;?&gt; classType = Class.forName(&quot;java.lang.String&quot;);  </li>
<li></li>
<li>Object array = Array.newInstance(classType, 10);  </li>
<li></li>
<li>Array.set(array, 5, &quot;hello&quot;);  </li>
<li></li>
<li>String s = (String)Array.get(array, 5);  </li>
<li>System.out.println(s);  </li>
<li></li>
<li>}  </li>
<li></li>
<li>}  </li>
</ol>
<p>6)     Proxy提供动态地生成代理类和类实例的静态方法（这个方法在java放射机制剖析4着重介绍）。</p>
<p>其余的类和接口的使用方法详见API
来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239652](http://blog.csdn.net/lfsf802/article/details/7239652)">[http://blog.csdn.net/lfsf802/article/details/7239652](http://blog.csdn.net/lfsf802/article/details/7239652)</a></p>
<p> <a href="http://blog.csdn.net/lfsf802/article/details/7239711" target="_blank">（二）-功能以及举例</a></p>
<p>从<a href="http://blog.csdn.net/lfsf802/article/details/7239652" target="_blank">《java反射机制剖析（一）》</a>的API我们看到了许多接口和类，我们能够通过这些接口做些什么呢？</p>
<p>从上篇API中我们能看到它能够完成下面的这些功能：</p>
<p>1)     获得类
A.     运用getClass()  (每个class都有此函数)</p>
<pre><code>                                i.    String str = &quot;abc&quot;;

                              ii.    Class c1 = str.getClass();
</code></pre><p>B.     运用Class.forName() (static method 最常被使用)</p>
<pre><code>                                i.    Class c1 = Class.forName (&quot;java.lang.String&quot;);

                              ii.    Class c2 = Class.forName (&quot;java.awt.Button&quot;);
</code></pre><p>C.     运用  .class 语法</p>
<pre><code>                                i.    Class c1 = String.class;

                              ii.    Class c2 = java.awt.Button.class;

                            iii.    Class c4 = int.class;

                              iv.    Class c5 = int[].class;
</code></pre><p>D.     运用 TYPE语法 ( primitive wrapper classes 基本数据类型包装类的 TYPE语法)</p>
<pre><code>                                i.    Class c1 = Boolean.TYPE;
</code></pre><p>2)     获得属性（这个功能的实例见Java反射机制剖析（2））
以下四个方法可以获得属性，主要参见的是Java.lang.class</p>
<p> Public  Field  getField</p>
<p>(String name) 返回一个 Field 对象，它反映此 Class 对象所表示的类或接口的指定公共成员字段 public Field[] getFields() 返回一个包含某些 Field 对象的数组，这些对象反映此 Class 对象所表示的类或接口的所有可访问公共字段 Public  Field</p>
<p>getDeclaredField(String name) 返回一个 Field 对象，该对象反映此 Class 对象所表示的类或接口的指定已声明字段 public  Field[]</p>
<p>getDeclaredFields() 返回 Field 对象的一个数组，这些对象反映此 Class 对象所表示的类或接口所声明的所有字段</p>
<p>3)     获得方法（）
以下四个方法可以获得方法，要参见的是Java.lang.class</p>
<p>public  Method</p>
<p>getMethod(String name,</p>
<p>... )</p>
<p>返回一个 Method 对象，它反映此 Class 对象所表示的类或接口的指定公共成员方法 public Method[] getMethods()</p>
<p>返回一个包含某些 Method 对象的数组，这些对象反映此 Class 对象所表示的类或接口（包括那些由该类或接口声明的以及从超类和超接口继承的那些的类或接口）的公共 member 方法 public Method</p>
<p>getDeclaredMethod(String name,…)</p>
<p>返回一个 Method 对象，该对象反映此 Class 对象所表示的类或接口的指定已声明方法 public Method[]</p>
<p>getDeclaredMethods()</p>
<p>返回 Method 对象的一个数组，这些对象反映此 Class 对象表示的类或接口声明的所有方法，包括公共、保护、默认（包）访问和私有方法，但不包括继承的方法</p>
<p>4)     获取类的构造器
以下四个方法可以获得方法，要参见的是Java.lang.class</p>
<p>public  Constructor</p>
<p>getConstructor(Class&lt;?&gt;... )</p>
<p>返回一个 Constructor 对象，它反映此 Class 对象所表示的类的指定公共构造方法 public  Constructor&lt;?&gt;[]</p>
<p>getConstructors()</p>
<p>返回一个包含某些 Constructor 对象的数组，这些对象反映此 Class 对象所表示的类的所有公共构造方法 Public  Constructor<T></p>
<p>getDeclaredConstructor(Class&lt;?&gt;...)</p>
<p>返回一个 Constructor 对象，该对象反映此 Class 对象所表示的类或接口的指定构造方法 public  Constructor&lt;?&gt;[]</p>
<p>getDeclaredConstructors()</p>
<p>返回 Constructor 对象的一个数组，这些对象反映此 Class 对象表示的类声明的所有构造方法。它们是公共、保护、默认（包）访问和私有构造方法 
示例代码：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Constructor;  </li>
<li></li>
<li></li>
<li>public class TestConstructor {  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws ClassNotFoundException  </li>
<li>/* @throws SecurityException  </li>
<li>/* @throws NoSuchMethodException  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Constructor Constructor= classType.getConstructor();  </li>
<li></li>
<li>System.out.println(Constructor.toString());  </li>
<li></li>
<li>}  </li>
<li></li>
<li></li>
<li>}  </li>
</ol>
<p>5)     新建类的实例</p>
<p>调用类的Class对象的newInstance方法</p>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Constructor;  </li>
<li></li>
<li></li>
<li>public class TestConstructor {  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws ClassNotFoundException  </li>
<li>/* @throws SecurityException  </li>
<li>/* @throws NoSuchMethodException  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>//Constructor Constructor= classType.getConstructor();  </li>
<li>Object inst=classType.newInstance();  </li>
<li>System.out.println(inst);     </li>
<li>}  </li>
<li>}   调用默认Constructor对象的newInstance方法</li>
</ol>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.Constructor;  </li>
<li></li>
<li></li>
<li>public class TestConstructor {  </li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/* @throws ClassNotFoundException  </li>
<li>/* @throws SecurityException  </li>
<li>/* @throws NoSuchMethodException  </li>
<li>/*/  </li>
<li>public static void main(String[] args) throws Exception {  </li>
<li>// TODO Auto-generated method stub  </li>
<li>Class classType=Class.forName(args[0]);  </li>
<li>Constructor Constructor= classType.getConstructor();  </li>
<li>Object inst=Constructor.newInstance();  </li>
<li>System.out.println(inst);     </li>
<li>}  </li>
<li>}   调用带参数Constructor对象的newInstance方法</li>
</ol>
<p>示例：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239711#" title="?" target="_blank">?</a></p>
<ol>
<li>Class classType=User.class  </li>
<li>Constructor constructor2 =  </li>
<li>classType.getDeclaredConstructor(int.class, String.class);  </li>
<li></li>
<li>Object inst = constructor2.newInstance(1, &quot;123&quot;);  </li>
<li></li>
<li>System.out.println(inst);  </li>
</ol>
<p>来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239711](http://blog.csdn.net/lfsf802/article/details/7239711)">[http://blog.csdn.net/lfsf802/article/details/7239711](http://blog.csdn.net/lfsf802/article/details/7239711)</a></p>
<p><a href="http://blog.csdn.net/lfsf802/article/details/7239766" target="_blank">（三）-简单谈谈动态代理</a>
通过<a href="http://blog.csdn.net/lfsf802/article/details/7239652" target="_blank">Java反射机制剖析（一）</a>和<a href="http://blog.csdn.net/lfsf802/article/details/7239711" target="_blank">Java反射机制剖析（二）</a>的学习，已经对反射有了一定的了解，这一篇通过动态代理的例子来进一步学习反射机制。</p>
<ol>
<li>代理模式</li>
</ol>
<p>代理模式就是为其他对象提供一种代理来控制对这个对象的访问。其实代理模式是在访问的对象时引入一定程度的间接性，这种间接性可以附加多种用途。</p>
<p>它的特征是代理类与委托类有同样的接口，代理类主要负责为委托类预处理消息、过滤消息、把消息转发给委托类，以及事后处理消息等。代理类与委托类之间通常会存在关联关系，一个代理类的对象与一个委托类的对象关联，代理类的对象本身并不真正实现服务，而是通过调用委托类的对象的相关方法，来提供特定的服务。</p>
<ol>
<li>分类</li>
</ol>
<p>代理类按照创建时期可以分为两种，静态代理类和动态代理类。</p>
<p>静态代理类：由程序员创建或由特定工具自动生成源代码，再对其编译。在程序运行前，代理类的.class文件就已经存在了。</p>
<p>动态代理类：在程序运行时，运用反射机制动态创建而成。</p>
<ol>
<li>静态代理和动态代理举例</li>
</ol>
<p>静态代理：</p>
<p>业务接口类：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public interface UserManager {  </li>
<li></li>
<li>public void addUser(String userId, String userName);  </li>
<li></li>
<li>public void delUser(String userId);  </li>
<li></li>
<li>public void modifyUser(String userId, String userName);  </li>
<li></li>
<li>public String findUser(String userId);  </li>
<li>}<br>业务接口实现类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class UserManagerImpl implements UserManager {  </li>
<li></li>
<li>public void addUser(String userId, String userName) {  </li>
<li>//System.out.println(&quot;start--&gt;&gt;addUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>try {  </li>
<li>System.out.println(&quot;UserManagerImpl.addUser() userId--&gt;&gt;&quot; + userId);  </li>
<li></li>
<li>//System.out.println(&quot;success--&gt;&gt;addUser()&quot;);  </li>
<li>}catch(Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>//System.out.println(&quot;error--&gt;&gt;addUser()&quot;);  </li>
<li>throw new RuntimeException();  </li>
<li>}     </li>
<li>}  </li>
<li></li>
<li>public void delUser(String userId) {  </li>
<li>System.out.println(&quot;UserManagerImpl.delUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>}  </li>
<li></li>
<li>public String findUser(String userId) {  </li>
<li>System.out.println(&quot;UserManagerImpl.findUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>return &quot;张三&quot;;  </li>
<li>}  </li>
<li></li>
<li>public void modifyUser(String userId, String userName) {  </li>
<li>System.out.println(&quot;UserManagerImpl.modifyUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>}  </li>
<li></li>
<li>}<br>业务代理类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class UserManagerImplProxy implements UserManager {  </li>
<li></li>
<li>private UserManager userManager;  </li>
<li></li>
<li>public UserManagerImplProxy(UserManager userManager) {  </li>
<li>this.userManager = userManager;  </li>
<li>}  </li>
<li></li>
<li>public void addUser(String userId, String userName) {  </li>
<li>try {  </li>
<li>System.out.println(&quot;start--&gt;&gt;addUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>userManager.addUser(userId, userName);  </li>
<li>System.out.println(&quot;success--&gt;&gt;addUser()&quot;);  </li>
<li>}catch(Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>System.out.println(&quot;error--&gt;&gt;addUser()&quot;);  </li>
<li>}     </li>
<li>}  </li>
<li></li>
<li>public void delUser(String userId) {  </li>
<li></li>
<li>}  </li>
<li></li>
<li>public String findUser(String userId) {  </li>
<li>return null;  </li>
<li>}  </li>
<li></li>
<li>public void modifyUser(String userId, String userName) {  </li>
<li></li>
<li>}  </li>
<li></li>
<li>}<br>客户端类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class Client {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/*/  </li>
<li>public static void main(String[] args) {  </li>
<li>//UserManager userManager = new UserManagerImpl();  </li>
<li>UserManager userManager = new UserManagerImplProxy(new UserManagerImpl());  </li>
<li>userManager.addUser(&quot;0001&quot;, &quot;张三&quot;);  </li>
<li>}  </li>
<li></li>
<li>}<br>运行结果：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>start--&gt;&gt;addUser() userId--&gt;&gt;0001  </li>
<li>UserManagerImpl.addUser() userId--&gt;&gt;0001  </li>
<li>success--&gt;&gt;addUser()  </li>
</ol>
<p>动态代理：</p>
<p>业务接口类:</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public interface UserManager {  </li>
<li></li>
<li></li>
<li>public String test(String userId);  </li>
<li>}<br>业务接口实现类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>public class UserManagerImpl implements UserManager {  </li>
<li></li>
<li>public String test(String userId) {  </li>
<li>System.out.println(&quot;UserManagerImpl.findUser() userId--&gt;&gt;&quot; + userId);  </li>
<li>return &quot;张三&quot;;  </li>
<li>}  </li>
<li></li>
<li>}<br>BusinessHandler类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>import java.lang.reflect.InvocationHandler;  </li>
<li>import java.lang.reflect.Method;  </li>
<li>import java.lang.reflect.Proxy;  </li>
<li></li>
<li>public class BusinessHandler implements InvocationHandler {  </li>
<li></li>
<li>private Object targetObject;  </li>
<li></li>
<li>public Object newProxyInstance(Object targetObject) {  </li>
<li></li>
<li>this.targetObject = targetObject;  </li>
<li>return Proxy.newProxyInstance(targetObject.getClass().getClassLoader(),  </li>
<li>targetObject.getClass().getInterfaces(), this);  </li>
<li>}  </li>
<li></li>
<li>public Object invoke(Object proxy, Method method, Object[] args)  </li>
<li>throws Throwable {  </li>
<li>System.out.println(&quot;start--&gt;&gt;&quot; + method.getName());  </li>
<li>for (int i=0; i&lt;args.length; i++) {  </li>
<li>System.out.println(args[i]);  </li>
<li>}  </li>
<li>Object ret = null;  </li>
<li>try {  </li>
<li>//调用目标方法  </li>
<li>ret = method.invoke(targetObject, args);  </li>
<li>System.out.println(&quot;success--&gt;&gt;&quot; + method.getName());   </li>
<li>}catch(Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>System.out.println(&quot;error--&gt;&gt;&quot; + method.getName());  </li>
<li>throw e;  </li>
<li>}  </li>
<li>return ret;  </li>
<li>}  </li>
<li></li>
<li>}<br>客户端类：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>package com.bjpowernode.pattern;  </li>
<li></li>
<li>import java.lang.reflect.Field;  </li>
<li></li>
<li></li>
<li>public class Client {  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* @param args </li>
<li>/*/  </li>
<li>public static void main(String[] args) {  </li>
<li></li>
<li>BusinessHandler businessHandler = new BusinessHandler();  </li>
<li>UserManager userManager = (UserManager)businessHandler.newProxyInstance(new UserManagerImpl());  </li>
<li></li>
<li></li>
<li></li>
<li>//userManager.addUser(&quot;0001&quot;, &quot;张三&quot;);  </li>
<li>//userManager.delUser(&quot;0001&quot;);  </li>
<li>// System.out.println(userManager.getClass().getName());  </li>
<li></li>
<li>String name = userManager.test(&quot;0001&quot;);  </li>
<li>//String name = ((UserManagerImpl) logHandler.newProxyInstance(new UserManagerImpl())).test(&quot;0001&quot;);  </li>
<li>System.out.println(&quot;Client.main() --- &quot; + name);  </li>
<li>}  </li>
<li></li>
<li>}<br>运行结果：</li>
</ol>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239766#" title="?" target="_blank">?</a></p>
<ol>
<li>start--&gt;&gt;test  </li>
<li>0001  </li>
<li>UserManagerImpl.findUser() userId--&gt;&gt;0001  </li>
<li>success--&gt;&gt;test  </li>
<li>Client.main() --- 张三  </li>
</ol>
<p>来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239766](http://blog.csdn.net/lfsf802/article/details/7239766)">[http://blog.csdn.net/lfsf802/article/details/7239766](http://blog.csdn.net/lfsf802/article/details/7239766)</a></p>
<p> <a href="http://blog.csdn.net/lfsf802/article/details/7239799" target="_blank">（四）-深度剖析动态代理原理及总结</a>
动态代理类原理（<a href="http://blog.csdn.net/lfsf802/article/details/7239766" target="_blank">示例代码参见java反射机制剖析（三）</a>）
a)  理解上面的动态代理示例流程</p>
<p><img src="" alt=""></p>
<p>b)  代理接口实现类源代码剖析</p>
<p>咱们一起来剖析一下代理实现类（$Proxy0）的源代码和整个动态代理的流程。</p>
<p>$Proxy0生成的代码如下：</p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="copy" target="_blank">copy</a><a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="print" target="_blank">print</a><a href="http://blog.csdn.net/lfsf802/article/details/7239799#" title="?" target="_blank">?</a></p>
<ol>
<li>import java.lang.reflect.InvocationHandler;  </li>
<li>import java.lang.reflect.Method;  </li>
<li>import java.lang.reflect.Proxy;  </li>
<li>import java.lang.reflect.UndeclaredThrowableException;  </li>
<li></li>
<li>public final class $Proxy0 extends Proxy implements Manager {  </li>
<li></li>
<li>private static Method m1;  </li>
<li>private static Method m0;  </li>
<li>private static Method m3;  </li>
<li>private static Method m2;  </li>
<li></li>
<li>static {  </li>
<li>try {  </li>
<li>m1 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;equals&quot;,  </li>
<li>new Class[] { Class.forName(&quot;java.lang.Object&quot;) });  </li>
<li>m0 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;hashCode&quot;,  </li>
<li>new Class[0]);  </li>
<li>m3 = Class.forName(&quot;com.ml.test.Manager&quot;).getMethod(&quot;test&quot;,  </li>
<li>new Class[0]);  </li>
<li>m2 = Class.forName(&quot;java.lang.Object&quot;).getMethod(&quot;toString&quot;,  </li>
<li>new Class[0]);  </li>
<li>} catch (NoSuchMethodException nosuchmethodexception) {  </li>
<li>throw new NoSuchMethodError(nosuchmethodexception.getMessage());  </li>
<li>} catch (ClassNotFoundException classnotfoundexception) {  </li>
<li>throw new NoClassDefFoundError(classnotfoundexception.getMessage());  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>public $Proxy0(InvocationHandler invocationhandler) {  </li>
<li>super(invocationhandler);  </li>
<li>}  </li>
<li></li>
<li>@Override  </li>
<li>public final boolean equals(Object obj) {  </li>
<li>try {  </li>
<li>return ((Boolean) super.h.invoke(this, m1, new Object[] { obj }))  </li>
<li>.booleanValue();  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>@Override  </li>
<li>public final int hashCode() {  </li>
<li>try {  </li>
<li>return ((Integer) super.h.invoke(this, m0, null)).intValue();  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>public final void test() {  </li>
<li>try {  </li>
<li>super.h.invoke(this, m3, null);  </li>
<li>return;  </li>
<li>} catch (Error e) {  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>@Override  </li>
<li>public final String toString() {  </li>
<li>try {  </li>
<li>return (String) super.h.invoke(this, m2, null);  </li>
<li>} catch (Throwable throwable) {  </li>
<li>throw new UndeclaredThrowableException(throwable);  </li>
<li>}  </li>
<li>}  </li>
<li>}  </li>
</ol>
<p>引入眼帘的是这个代理接口实现类实现了业务类的接口（也就是例子中的UserManager接口），又继承了基类Proxy类；</p>
<p>接着就是构造函数，在构造方法中把BusinessHandler传过去,接着$Proxy0调用父类Proxy的构造器,为h赋值（这里要看Proxy的构造方法）；</p>
<p>随后看到的就是这个类重写了Proxy类的Equals、hashCode、toString方法，又实现了业务类接口的方法（即UserManager的test方法），具体重写和实现都是用到的super.h.invoke（即Proxy.h.invoke）这个方法。</p>
<p>简单分析完这个代理接口实现类，咱们下面来整体看一下这个动态代理是怎么实现的：</p>
<p>首先客户端初始化了BusinessHandler类，调用这个类的newProxyInstance(new UserManagerImpl())方法来初始化了上面的代理接口实现类；</p>
<p>接下来代理接口实现类通过构造函数把BusinessHandler传过去（也就是代码中的this），并通过Proxy的构造函数给h赋值；</p>
<p>随后再客户端就能实例化出代理接口实现类$Proxy0，我们把它强制转换为业务实现接口（UserManager）类型的（为什么要强制转换，这里非常有意思，如果不强制转换就会报错，这里很好解释，因为当前的环境根本不会知道这个代理接口实现类$Proxy0既继承Proxy又实现业务实现接口UserManager，但是强制转换成UserManager它是可以做到的，因为当前环境中就有UserManager。这就是反射的厉害之处，可以在运行时动态调用任何一个类并可以使用这个类的具体细节。）；</p>
<p>之后当我们调用test方法的时候其实是调用了$Proxy0中的test方法，这个方法的实现是通过Proxy.h的invoke方法实现的（即调用了BusinessHandler.invoke方法）；</p>
<p>之后在调用了Method的invoke方法（这时的参数是this，和args）。</p>
<p>这样就调用了UserManagerImpl的对应方法，之后返回给客户端。</p>
<p>到此就完成了整个的调用关系。</p>
<p>反射，反射，程序员的快乐
通过上篇文章对动态代理进行了深度剖析，现在想起来还感觉非常有意思，这里面其实最根本的机制就是反射机制，运行时动态实例化任何一个类，并且调用它的具体细节。现在反看动态代理的示例，其实发现这里最关键的还是在就在Proxy.newProxyInstance(..)方法执行时生成了$Proxy0的内存字节码这一点上，当我们有了内存字节码，我们的反射就会大显威力，这样才有了我们之后的一系列的调用关系。</p>
<p>通过反射机制的分析和动态代理示例的剖析，发现编程是一件多么有意思的事情，以至于我们沉浸其中不能自拔。</p>
<p>最后总结一下：反射，反射，程序员的快乐！
来源： <a href="[http://blog.csdn.net/lfsf802/article/details/7239799](http://blog.csdn.net/lfsf802/article/details/7239799)">[http://blog.csdn.net/lfsf802/article/details/7239799](http://blog.csdn.net/lfsf802/article/details/7239799)</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/框架汇总/">框架汇总</a></li></span><span class="breadcrumb"><li><a href="/categories/框架汇总/">框架汇总</a></li><li><a href="/categories/框架汇总/反射/">反射</a></li></span></span> | <span class="tags">Tagged <a href="/tags/反射/" class="label label-primary">反射</a><a href="/tags/框架汇总/" class="label label-success">框架汇总</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-框架汇总-反射--Java反射机制剖析/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-框架汇总-反射--Java反射机制剖析" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-框架汇总-activemq--activemq的网络层介绍/">activemq的网络层介绍</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:29.000Z"> <a href="/2014/02/02/2014-02-02-框架汇总-activemq--activemq的网络层介绍/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="activemq-">activemq的网络层介绍</h1>
<p>#</p>
<h3 id="-">概要</h3>
<p>activemq是一个apache的顶级项目，其实现了<a href="http://www.goldendoc.org/2011/08/jms_spec_message/" title="JMS规范介绍(1) JMS消息" target="_blank">JMS规范</a>，作为一个开源的JMS实现，activemq已经在很多地方得到了应用。同时，开源小组在研究JMS实现的时候，也选择了activemq作为研究对象，希望能够读其源码，让<a href="http://www.goldendoc.org/" title="开源学习小组：黄金档" target="_blank">开源小组</a>更好的明白JMS规范和实现。</p>
<p>在学习activemq的时候，我们发现还不能一下子就进去学习JMS规范的实现，而是需要了解其底层代码，包括其对网络连接的处理等等。所以，这篇文章就学习了<a href="http://www.goldendoc.org/2011/09/activemq-network-process/" title="activemq的网络层实现" target="_blank">activemq的网络层实现</a>。</p>
<h3 id="activemq-">activemq网络层概念</h3>
<p>activemq 是支持多协议的，因此，把单一协议的server抽象成更高一层，就很有意义，请看下面这张图：
<a href="http://www.goldendoc.org/wp-content/uploads/2011/09/activemq%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A51.png" target="_blank"><img src="" alt=""></a></p>
<p>在activemq中，差不多每种概念都有生命周期（见Service接口）。
这张图十分简单，实际中当然比这个要复杂。下面针对每个概念进行叙述。</p>
<h3 id="transport">Transport</h3>
<p>Transport 应该算是很底层的概念，他封装了 Socket，职责是发送和接受连接方的信息。
同时，在Transport中，增加了同步和异步的概念。
Transport拥有一个TransportListener。</p>
<h3 id="transportlistener">TransportListener</h3>
<p>顾名思义，TransportListener 就是监听 Transport 事件的发生以及做出一定的反映。
在activemq中，正是利用了 TransportListener 对 Command 进行处理 —— Command 是 activemq 网络传递的形式，每个请求都会被反序列化成一个 Command。</p>
<h3 id="transportserver">TransportServer</h3>
<p>就是一个server实例，他会处理外部进来的Socket，进而封装成 Transport 。此 Server 拥有一个 TransportAcceptListener 。</p>
<h3 id="transportacceptlistener">TransportAcceptListener</h3>
<p>负责 Accept Transport，将 Transport 封装成 Connection，从而开启 Connection 的生命周期。
这里需要注意的是：TransportServer 将 Socket 封装成 Transport，而 TransportAcceptListener 将 Transport 封装成 Connection。</p>
<h3 id="connection">Connection</h3>
<p>可以理解成业务层面上的连接。 Connection 会给相应的 Transport 设置 TransportListener ，从而获取底层 Socket 的活动情况，进行业务的处理。</p>
<h3 id="connector">Connector</h3>
<p>Connector就是较高层次的抽象，它代表对外的连接器，每个连接器都可以支持不同的协议。
Connector 通过给 TransportServer 设置 TransportAcceptListener ，从而能够控制 Transport 并产生相应的 Connection。</p>
<h3 id="-">总结</h3>
<p>总体来说，两个Listener是连接 Conncetor与TransportServer 和 Connection和Transport 的关键概念。
至于为什么要分成 Connector ， TransportServer 这两层，我想原因应该就是开头提到的： activemq需要支持多协议，因此 Connector 抽象起来，可以当作是针对不同协议的统一行为；而 TransportServer 就是针对各协议的具体实现。 对于 Connection,Transport 来说， Connector 是与 Connection 统一层次， Transport 是与 TransportServer 统一层次。
如果读者有时间，还可以查看<a href="http://www.goldendoc.org/" title="开源小组" target="_blank">开源小组</a>当时分析的<a href="http://www.goldendoc.org/wp-content/uploads/2011/09/activemq%E7%BD%91%E7%BB%9C%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B.png" target="_blank">activemq网络连接序列图</a>（是基于TcpTransportServer的，图像有点大，需要耐心看）</p>
<p><img src="" alt="">
来源： <a href="[http://www.goldendoc.org/2011/09/activemq-network-process/](http://www.goldendoc.org/2011/09/activemq-network-process/)">[http://www.goldendoc.org/2011/09/activemq-network-process/](http://www.goldendoc.org/2011/09/activemq-network-process/)</a></p>
<p>本文会把主要篇幅集中在这几个组件的创建时期，运行时期来讲解，最后会总结一下这几个组建使用的线程情况。一下的分析是基于 bio 的（nio 也是在这个结构当中，只是行为是基于 nio 特点的）。在<a href="http://www.goldendoc.org/2011/09/activemq-network-process/" title="activemq的网络层介绍（一）" target="_blank">activemq的网络层介绍（一）</a>也讲过，activemq中很多组件都实现了 Service 接口，而 Service 接口的作用就是赋予实现者有生命周期的意义。</p>
<h3 id="transportconnector">TransportConnector</h3>
<p>TransportConnector 是 Connector 的实现，是基于 Transport 的 Connector（目前activemq的Connector实现，也就是基于Transport的）。其内部依赖了 TransportServer ，这个也容易理解，因为这个 Connector 是基于 Transport 的。因此 TransportServer 也是其所重点依赖的组件。 值得注意的是 TransportServer 的 AcceptListener 也是在 TransportConnector 中指定的，具体见下文。</p>
<h3 id="transportconnector-">TransportConnector 的创建</h3>
<p>TransportConnector 的创建比较简单，直接接受传入进来的 TransportServer （关于 TransportServer 的创建，详见下文）。</p>
<h3 id="transportconnector-">TransportConnector 的运行</h3>
<p>TransportConnector 是一个 Service，有自己的生命周期。因此，在 activemq 开始的时候，其生命周期，会被启动（具体表现为被调用 start 方法）。</p>
<p>在 TransportConnector 的 start 方法中，可以很明显的看到两个主要的逻辑：为 TransportServer 设置一个匿名的 AcceptListener ，调用 TransportServer 启动。</p>
<p>对于 TransportConnector 为 TransportServer 设置的 AcceptListener，其逻辑主要是当 TransportServer 接收到传输进来的 Transport（由 TransportServer 将 Socket 封装成 Transport）之后，将 Transport 封装成 Connection ，并且启动 Connection 的生命周期。这里也不难理解：在<a href="http://www.goldendoc.org/2011/09/activemq-network-process/" title="activemq的网络层介绍（一）" target="_blank">activemq网络层介绍（一）</a>中也讲过， Connector 是与 Connection 一个层次的，TransportServer 与 Transport 是一个层次的。因此，将 AcceptListener 的匿名实现放在 TransportConnector 中，也就很好理解了。</p>
<h3 id="connection">Connection</h3>
<p>在 TransportServer 的 AcceptListener 收到传输进来的 Transport 之后，就创建了 Connection（实际类型是 TransportConnection），然后为 Connection 开启生命周期。
但一个Socket是从什么时候传进来，进而被封装成 Transport 的，会在下文有描述。现在让我们跟着 TransportConnection ，看看他是如何被创建的，以及在它的生命周期中，会做什么事情。</p>
<h3 id="transportconnection-">TransportConnection 的创建</h3>
<p>TransportConnection 是在 AcceptListener 收到 TransportServer 传进来的 Transport 之后创建的。可以想象，TransportConnection 是封装了 Transport 的。同时， Transport 的 TransportListener ，也是在 TransportConnection 的构造方法中进行了创建。此 TransportListener 的逻辑就是服务一个 Command (Command是 activemq 实例之间交互的基本对象，任何请求和响应都被activemq 序列化成一个 Command)，在得到响应的时候，进行分发（响应其实也是一个Command）。</p>
<h3 id="transportconnection-">TransportConnection 的运行</h3>
<p>在开始说 TransportConnection 的生命周期之前，可以先说一下 activemq 的 Task 接口，此接口有一个 iterate 遍历方法，activemq 一般对这个接口的用法都是使用一个线程去跑 iterater 方法，直到 iterater 返回 false 。一般的，iterater 方法里面都是在重复的做一段逻辑，只不过是这个逻辑实施的对象不一样而已。TransportConnection 正是实现了此接口。</p>
<p>在 TransportConnection 的 start 方法中，主要做了两件事情：创建一个 taskRunner ，以做好跑 Task 的准备（就是在另起线程跑自己的 Iiterater 方法）；调用 Transport 的 Start 方法，开启 Transport 的生命周期。</p>
<p>在 TransportConnection 自己的 Iiterater 方法中，就是到一个队列中取出 Command，并且使用 Transport 的 oneWay，将 Command 发送出去。</p>
<h3 id="transportserver">TransportServer</h3>
<p>按理说要接下来讲 Transport，但如果不先把 TransportServer 弄清出的话， Transport 还是有些难以理解的。因为是 TransportServer 将 接受到的 Socket 封装成 Transport。这里说的是 TransportServer 的实现， TcpTransportServer。</p>
<h3 id="tcptransportserver-">TcpTransportServer 的创建</h3>
<p>TransportServer 是由 TransportFactory 创建的。TransportFactory，不同的 TransportFactory 创建出不同的 TransportServer，而 TcpTransportServer 则是由 TcpTransportFactory 创建的。关于 TransportFactory 如何创建相应的 TransportServer，activemq使用了一套基于分析参数和配置文件来实现，说起来很高深，其实很朴实的，有兴趣也可以了解一下，这里不做深入。</p>
<h3 id="tcptransportserver-">TcpTransportServer 的运行</h3>
<p>这里主要使用 TcpTransportServer，TcpTransportServer 生命周期，是通过 TransportConnector 来开启的，这点在上面已经有所讲述。</p>
<p>这里要说一下 TransportServerThreadSupport，此类的作用是支持 TransportServer 能够开启另外一个线程，只要实现了 TransportServer Runnable，在 start 的时候，就能够开启另外一个线程，这也是 TransportServerThreadSupport 命令的含义。同样的机制也出现在 TransportThreadSupport 中。</p>
<p>现在来看一下 TcpTransportServer 的 start ：
TcpTransportServer 会开启两个线程，包括：</p>
<ol>
<li>实现了Runnable的线程，此线程的工作是不停的 accept 外部的 socket，然后将 socket 扔到一个队列中。简单来说，此线程是一个 acceptor。</li>
<li>另外一个线程的工作是，从队列中取出 socket ，并且将 WireFormat（ WireFormat 是在 activemq 中负责序列化和发序列化的组件） 和socket 封装成一个 Transport ，然后将创建好的 Transport 通知到 AcceptListener 中。</li>
</ol>
<h3 id="transport">Transport</h3>
<p>这里也主要讲 TcpTransport。</p>
<h3 id="tcptransport-">TcpTransport 的创建</h3>
<p>上面已经讲到，TcpTransport 是在 TcpTransportServer 中创建，并扔给了 AcceptListener 。并且，TcpTransport 也支持 TransportThreadSupport 的形式，可以另起一个线程。</p>
<h3 id="tcptransport-">TcpTransport 的运行</h3>
<p>TcpTransport 开始执行之后，专注于做两个事情：</p>
<ol>
<li>初始化 socket，并且把 socket 的流给设置起来。</li>
<li>另起一个线程，利用 wireFormat 将 socket 传过来的字节序列转化成一个 command ，然后将 Command 扔给 transportListener 。transportListener 所做的事情就是进行业务处理，然后将得到的 response （也是一个 command）通过 tcpTransport 的 oneway 传给对方。</li>
</ol>
<p>这样，这个网络通讯的过程就完成了。下面我们来总结一下 TcpTransportServer 的线程模型。</p>
<h3 id="tcptransportserver-">TcpTransportServer 的线程模型</h3>
<p>如图所示：
<a href="http://www.goldendoc.org/wp-content/uploads/2011/09/activemq%E6%A8%A1%E5%9E%8B.jpg" target="_blank"><img src="" alt="activemq网络线程模型"></a></p>
<p>activemq网络线程模型</p>
<h3 id="-">总结</h3>
<p>从上图中可以看出，accpetor 和 sockethandler 线程是在整个 transportServer 中的，而 ThreadPool 中的线程不会进行消息的发送，相反，当需要发送消息的时候，总是会创建新的线程去发送。这也是为了 ThreadPool 能将自己的线程利用率提高。因为这是 bio 的网络，如果消息的发送是利用线程池中的线程来发送的，那么很有可能线程池中的线程会在发送的时候阻塞，因为对方的网络不可预知。因此，新建一个新的线程，利用新建的线程发送消息，则是很明智的选择。
来源： <a href="[http://www.goldendoc.org/2011/09/activemq-network-process-2/](http://www.goldendoc.org/2011/09/activemq-network-process-2/)">[http://www.goldendoc.org/2011/09/activemq-network-process-2/](http://www.goldendoc.org/2011/09/activemq-network-process-2/)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/框架汇总/">框架汇总</a></li></span><span class="breadcrumb"><li><a href="/categories/框架汇总/">框架汇总</a></li><li><a href="/categories/框架汇总/activemq/">activemq</a></li></span></span> | <span class="tags">Tagged <a href="/tags/activemq/" class="label label-primary">activemq</a><a href="/tags/框架汇总/" class="label label-success">框架汇总</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:29"datetime="2014-03-07 09:54:29"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-框架汇总-activemq--activemq的网络层介绍/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-框架汇总-activemq--activemq的网络层介绍" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/144/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/142/">142</a></li><li><a class="page-number" href="/page/143/">143</a></li><li><a class="page-number" href="/page/144/">144</a></li><li class="active"><li><span class="page-number current">145</span></li><li><a class="page-number" href="/page/146/">146</a></li><li><a class="page-number" href="/page/147/">147</a></li><li><a class="page-number" href="/page/148/">148</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/146/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-26 21:21:33</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
