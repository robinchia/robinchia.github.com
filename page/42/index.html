
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 42 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-连接池--基于ApacheDBCP的数据库连接获取类原创-BeanSoft-sJavaBlo/">基于 Apache DBCP 的数据库连接获取类(原创) </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-连接池--基于ApacheDBCP的数据库连接获取类原创-BeanSoft-sJavaBlo/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-apache-dbcp-beansoft-s-java-blog-blogjava">基于 Apache DBCP 的数据库连接获取类(原创) - BeanSoft&#39;s Java Blog - BlogJava</h1>
<p><a href="http://www.blogjava.net/beansoft/" target="_blank">BeanSoft&#39;s Java Blog</a></p>
<p>MyEclipse 教程, Java EE 5, JSPWiki, Spring, Struts, Hibernate, JPA, SWT, Swing, AJAX, JavaScript, Netbeans</p>
<h1 id="-">导航</h1>
<ul>
<li><a href="http://www.blogjava.net/" target="_blank">BlogJava</a></li>
<li><a href="http://www.blogjava.net/beansoft/" target="_blank">首页</a></li>
<li><a href="http://www.blogjava.net/beansoft/admin/EditPosts.aspx?opt=1" target="_blank">新随笔</a>
*</li>
<li><a href="http://www.blogjava.net/beansoft/rss" target="_blank">聚合</a><a href="http://www.blogjava.net/beansoft/rss" target="_blank"><img src="" alt=""></a></li>
<li><p><a href="http://www.blogjava.net/beansoft/admin/EditPosts.aspx" target="_blank">管理</a>
公告</p>
</li>
<li><p>Java EE 专家
Java 高清视频
Mail: <a href="mailto:beansoft@126.com">beansoft@126.com</a>
Location: Beijing
<img src="" alt="">
<img src="" alt=""></p>
</li>
</ul>
<h1 id="-">随笔分类</h1>
<ul>
<li><a href="http://www.blogjava.net/beansoft/category/19463.html" target="_blank">AJAX(22)</a> <a href="http://www.blogjava.net/beansoft/category/19463.html/rss" title="Subscribe to AJAX(22)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/21451.html" target="_blank">Database(11)</a> <a href="http://www.blogjava.net/beansoft/category/21451.html/rss" title="Subscribe to Database(11)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17556.html" target="_blank">Eclipse(30)</a> <a href="http://www.blogjava.net/beansoft/category/17556.html/rss" title="Subscribe to Eclipse(30)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17516.html" target="_blank">Firefox(3)</a> <a href="http://www.blogjava.net/beansoft/category/17516.html/rss" title="Subscribe to Firefox(3)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17577.html" target="_blank">Free Software(20)</a> <a href="http://www.blogjava.net/beansoft/category/17577.html/rss" title="Subscribe to Free Software(20)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/24282.html" target="_blank">Game(4)</a> <a href="http://www.blogjava.net/beansoft/category/24282.html/rss" title="Subscribe to Game(4)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/23349.html" target="_blank">Hibernate(8)</a> <a href="http://www.blogjava.net/beansoft/category/23349.html/rss" title="Subscribe to Hibernate(8)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/22785.html" target="_blank">Java Code Share(12)</a> <a href="http://www.blogjava.net/beansoft/category/22785.html/rss" title="Subscribe to Java Code Share(12)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17555.html" target="_blank">Java EE(32)</a> <a href="http://www.blogjava.net/beansoft/category/17555.html/rss" title="Subscribe to Java EE(32)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17517.html" target="_blank">Java SE(27)</a> <a href="http://www.blogjava.net/beansoft/category/17517.html/rss" title="Subscribe to Java SE(27)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26076.html" target="_blank">JavaMail(5)</a> <a href="http://www.blogjava.net/beansoft/category/26076.html/rss" title="Subscribe to JavaMail(5)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26857.html" target="_blank">JavaScript(1)</a> <a href="http://www.blogjava.net/beansoft/category/26857.html/rss" title="Subscribe to JavaScript(1)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26074.html" target="_blank">JBoss(3)</a> <a href="http://www.blogjava.net/beansoft/category/26074.html/rss" title="Subscribe to JBoss(3)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26022.html" target="_blank">JSF(4)</a> <a href="http://www.blogjava.net/beansoft/category/26022.html/rss" title="Subscribe to JSF(4)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/27072.html" target="_blank">JSP(3)</a> <a href="http://www.blogjava.net/beansoft/category/27072.html/rss" title="Subscribe to JSP(3)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17506.html" target="_blank">JSPWiki(16)</a> <a href="http://www.blogjava.net/beansoft/category/17506.html/rss" title="Subscribe to JSPWiki(16)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/18621.html" target="_blank">Michael Jackson(1)</a> <a href="http://www.blogjava.net/beansoft/category/18621.html/rss" title="Subscribe to Michael Jackson(1)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17569.html" target="_blank">My Open Source Toys(30)</a> <a href="http://www.blogjava.net/beansoft/category/17569.html/rss" title="Subscribe to My Open Source Toys(30)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26073.html" target="_blank">MyEclipse(43)</a> <a href="http://www.blogjava.net/beansoft/category/26073.html/rss" title="Subscribe to MyEclipse(43)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/21997.html" target="_blank">NetBeans(15)</a> <a href="http://www.blogjava.net/beansoft/category/21997.html/rss" title="Subscribe to NetBeans(15)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17575.html" target="_blank">Open Source World(14)</a> <a href="http://www.blogjava.net/beansoft/category/17575.html/rss" title="Subscribe to Open Source World(14)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26075.html" target="_blank">Oracle(2)</a> <a href="http://www.blogjava.net/beansoft/category/26075.html/rss" title="Subscribe to Oracle(2)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17585.html" target="_blank">Other(72)</a> <a href="http://www.blogjava.net/beansoft/category/17585.html/rss" title="Subscribe to Other(72)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17518.html" target="_blank">Portable Java IDE(3)</a> <a href="http://www.blogjava.net/beansoft/category/17518.html/rss" title="Subscribe to Portable Java IDE(3)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/25965.html" target="_blank">ROR(2)</a> <a href="http://www.blogjava.net/beansoft/category/25965.html/rss" title="Subscribe to ROR(2)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/23350.html" target="_blank">Spring(29)</a> <a href="http://www.blogjava.net/beansoft/category/23350.html/rss" title="Subscribe to Spring(29)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/20433.html" target="_blank">Swing, GUI(9)</a> <a href="http://www.blogjava.net/beansoft/category/20433.html/rss" title="Subscribe to Swing, GUI(9)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/20278.html" target="_blank">SWT/JFACE/RCP(24)</a> <a href="http://www.blogjava.net/beansoft/category/20278.html/rss" title="Subscribe to SWT/JFACE/RCP(24)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/26856.html" target="_blank">Tomcat(1)</a> <a href="http://www.blogjava.net/beansoft/category/26856.html/rss" title="Subscribe to Tomcat(1)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17587.html" target="_blank">Web(42)</a> <a href="http://www.blogjava.net/beansoft/category/17587.html/rss" title="Subscribe to Web(42)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/22027.html" target="_blank">Web Framework(8)</a> <a href="http://www.blogjava.net/beansoft/category/22027.html/rss" title="Subscribe to Web Framework(8)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17929.html" target="_blank">Weblogic(7)</a> <a href="http://www.blogjava.net/beansoft/category/17929.html/rss" title="Subscribe to Weblogic(7)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17574.html" target="_blank">What&#39;s Hot(17)</a> <a href="http://www.blogjava.net/beansoft/category/17574.html/rss" title="Subscribe to What&#39;s Hot(17)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/17511.html" target="_blank">战地2 Battle Field 2(2)</a> <a href="http://www.blogjava.net/beansoft/category/17511.html/rss" title="Subscribe to 战地2 Battle Field 2(2)" target="_blank">(rss)</a></li>
<li><a href="http://www.blogjava.net/beansoft/category/18212.html" target="_blank">老军医悬壶济世(13)</a> <a href="http://www.blogjava.net/beansoft/category/18212.html/rss" title="Subscribe to 老军医悬壶济世(13)" target="_blank">(rss)</a></li>
</ul>
<h3 id="-">最新随笔</h3>
<ul>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/174610.html" target="_blank">1. 关于MyEclipse 6.0.0 GA开发SSH应用的%%%% Error Creating SessionFactory %%%% java.lang.SecurityException: class &quot;org.apache.commons.collections.SequencedHashMap&quot;&#39;异常的解决方案</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/10/174248.html" target="_blank">2. 可以在多普达微软 Pocket PC Windows Mobile 5 手机上运行的eswt程序包</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/08/173714.html" target="_blank">3. BlogJava 备份文章阅读器:增加日期范围增量备份功能</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/07/173395.html" target="_blank">4. 电子书 《MyEclipse 6 Java 开发中文教程》 第十章 开发 Spring 应用 完工</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/07/173298.html" target="_blank">5. 如何购买《MyEclipse 6 Java 开发中文教程》DVD光盘（含源代码，视频和软件）及网上答疑</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/04/172725.html" target="_blank">6. IBM 中文网站的 Spring 系列等资料</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/02/172266.html" target="_blank">7. Spring 1.2和2.0的简单AOP例子</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/27/171006.html" target="_blank">8. Word 文档加入带链接功能的目录的方法</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/27/170997.html" target="_blank">9. 电子书 《MyEclipse 6 Java 开发中文教程》 第九章 开发Struts 1.x应用 完工</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/21/169400.html" target="_blank">10. 电子书 《MyEclipse 6 Java 开发中文教程》第八章 开发 Web 应用</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/19/168742.html" target="_blank">11. 电子书 《MyEclipse 6 Java 开发中文教程》 第七章 Hibernate 开发预览</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/18/168600.html" target="_blank">12. MyEclipse 6 实战开发讲解视频入门 11 Struts 文件上传</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/14/167733.html" target="_blank">13. 电子书 《MyEclipse 6 Java 开发中文教程》 第五，六章预览</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/10/166631.html" target="_blank">14. 原创电子书 《MyEclipse 6 Java 开发中文教程》下载</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/03/164796.html" target="_blank">15. 感谢 2007 年 12 月的 &lt;&lt;程序员&gt;&gt; 杂志推荐我的 Blog</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/03/164748.html" target="_blank">16. 视频讲解: Eclipse/MyEclipse 如何导入项目源代码</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/02/164704.html" target="_blank">17. MyEclipse 6 实战开发讲解视频入门 10 JSP 文件上传下载</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/02/164696.html" target="_blank">18. Java SE 6 Update N Early Access 提供下载</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/30/164230.html" target="_blank">19. Spring 2.5 标注开发的简单例子</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/30/164166.html" target="_blank">20. MyEclipse 6 实战开发讲解视频入门 9 JSF 1.2 入门开发</a></li>
</ul>
<h3 id="-">搜索</h3>
<p>*</p>
<ul>
<li></li>
</ul>
<h3 id="-">积分与排名</h3>
<ul>
<li>积分 - 632502</li>
<li>排名 - 1</li>
</ul>
<h3 id="-http-www-blogjava-net-beansoft-commentsrss-aspx-">最新评论 <a href="http://www.blogjava.net/beansoft/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/12/173298.html#174772" target="_blank">1. re: 如何购买《MyEclipse 6 Java 开发中文教程》DVD光盘（含源代码，视频和软件）及网上答疑</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--jerryhu</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/173298.html#174727" target="_blank">2. re: 如何购买《MyEclipse 6 Java 开发中文教程》DVD光盘（含源代码，视频和软件）及网上答疑</a></li>
<li>建议增加spring+jdbc介绍另外JPA部分也增加与spring整和的介绍</li>
<li>--建议</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/173395.html#174585" target="_blank">3. re: 电子书 《MyEclipse 6 Java 开发中文教程》 第十章 开发 Spring 应用 完工</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--BeanSoft</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/104339.html#174565" target="_blank">4. re: 老军医讲牙石</a></li>
<li>正在想最近总是牙出血是什么原因呢，原来如此！</li>
<li>--爱上鸟的鱼</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/104339.html#174559" target="_blank">5. re: 老军医讲牙石</a></li>
<li>正在向最近总是牙出血是什么原因呢，原来如此！</li>
<li>--爱上鸟的鱼</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/166631.html#174553" target="_blank">6. re: 原创电子书 《MyEclipse 6 Java 开发中文教程》下载[未登录]</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--什么捷</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/173395.html#174537" target="_blank">7. re: 电子书 《MyEclipse 6 Java 开发中文教程》 第十章 开发 Spring 应用 完工</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--爱上鸟的鱼</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/11/161502.html#174516" target="_blank">8. re: MyEclipse 6 实战开发讲解视频入门 6 Web 入门开发 - JSP/HTML/JDBC 登录</a></li>
<li>美国就是变态!怎么搞的!下你个东西,也是左搞搞右搞搞!</li>
<li>--pzxy</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/10/157925.html#174437" target="_blank">9. re: 原创歌曲: Java 就是好呀</a></li>
<li>没发现,老师您这么有喜剧天份</li>
<li>--tott</li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/10/163354.html#174429" target="_blank">10. re: MyEclipse 6 实战开发讲解视频入门 7 Struts 入门开发</a></li>
<li>正好,我急用学struts1.0.thanks</li>
<li>--张晓云</li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/11/25/83486.html" target="_blank">1. XLoadTree 基于AJAX + XML动态加载的JS树组件的文档翻译- 已完成(原创)(5081)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/08/15/137067.html" target="_blank">2. MyEclipse Hibernate 快速入门中文版(4417)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/06/18/124894.html" target="_blank">3. Sysdeo Eclipse Tomcat 3.2.1 插件中文版下载(4393)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/10/07/150877.html" target="_blank">4. MyEclipse 5.5 开发 Spring + Struts + Hibernate 的详解视频(长1.5小时)(4341)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/05/10/116486.html" target="_blank">5. 《jsf入门》简体中文版.rar 电子书下载(4100)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/12/31/91144.html" target="_blank">6. JSP 中 AJAX 的表单提交中文问题的简单解决方案 - GBK 版本(原创)(3942)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/02/01/97294.html" target="_blank">7. JSP 文件下载的相对完整代码(解决中文问题和Weblogic报错)(3807)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/03/27/106733.html" target="_blank">8. 北京市IT公司黑名单(转载)(3707)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/05/08/115878.html" target="_blank">9. AJAX 入门培训 PPT 及示例代码(3651)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/03/18/104577.html" target="_blank">10. Jigloo 开发 SWT 的入门教程(3626)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/11/22/82765.html" target="_blank">11. Eclipse 插件精选介绍(原创)(3612)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/12/22/89577.html" target="_blank">12. Tomcat 5.5 的 Apache Tomcat Native library(3557)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/12/25/89835.html" target="_blank">13. JSP 中 AJAX 的表单提交中文问题的简单解决方案(3536)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/02/05/97940.html" target="_blank">14. MySQL 5 绿色版(BAT版本)(3515)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/10/24/155586.html" target="_blank">15. MyEclipse 6 学习视频集中下载(文档,视频,源代码)(3470)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/12/19/88881.html" target="_blank">16. LambdaProbe 中文包下载(99%完成)(3434)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/02/03/97760.html" target="_blank">17. 用开源软件搭建企业内部协作平台, Kill QQ MSN(3391)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/01/08/92320.html" target="_blank">18. 理解并使用 JSPWiki 中的权限控制(3299)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2006/12/13/87494.html" target="_blank">19. 使用 JDK 6 中的 JConsole 监控应用(原创)(3289)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/05/21/118869.html" target="_blank">20. Netbeans 5.5 + JPA + Hibernate 3 + Tomcat 实例有声视频(3173)</a></li>
</ul>
<h3 id="60-">60天内阅读排行</h3>
<ul>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/27/163416.html" target="_blank">1. 翻译: MyEclipse Spring 入门教程(含官方视频和AOP例子)(2239)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/22/162498.html" target="_blank">2. 翻译: MyEclipse AJAX 调试教程(含官方视频)(2203)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/10/166631.html" target="_blank">3. 原创电子书 《MyEclipse 6 Java 开发中文教程》下载(2063)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/30/164230.html" target="_blank">4. Spring 2.5 标注开发的简单例子(2030)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/13/160288.html" target="_blank">5. 翻译: MyEclipse Hibernate 入门教程(含官方视频)(1966)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/23/162700.html" target="_blank">6. 击破谎言: Spring 2.5 并非&quot;完全&quot;支持基于标注的配置(1914)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/19/161502.html" target="_blank">7. MyEclipse 6 实战开发讲解视频入门 6 Web 入门开发 - JSP/HTML/JDBC 登录(1668)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/26/163354.html" target="_blank">8. MyEclipse 6 实战开发讲解视频入门 7 Struts 入门开发(1644)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/30/164166.html" target="_blank">9. MyEclipse 6 实战开发讲解视频入门 9 JSF 1.2 入门开发(1554)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/02/164704.html" target="_blank">10. MyEclipse 6 实战开发讲解视频入门 10 JSP 文件上传下载(1424)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/29/163907.html" target="_blank">11. MyEclipse 6 实战开发讲解视频入门 8 XFire Web Service 入门开发(1369)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/11/16/160876.html" target="_blank">12. 翻译: MyEclipse Struts 1.x 教程(PDF格式)(1351)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/02/172266.html" target="_blank">13. Spring 1.2和2.0的简单AOP例子(1253)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/19/168742.html" target="_blank">14. 电子书 《MyEclipse 6 Java 开发中文教程》 第七章 Hibernate 开发预览(1174)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/14/167733.html" target="_blank">15. 电子书 《MyEclipse 6 Java 开发中文教程》 第五，六章预览(1165)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2008/01/07/173395.html" target="_blank">16. 电子书 《MyEclipse 6 Java 开发中文教程》 第十章 开发 Spring 应用 完工(1101)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/18/168600.html" target="_blank">17. MyEclipse 6 实战开发讲解视频入门 11 Struts 文件上传(1099)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/27/170997.html" target="_blank">18. 电子书 《MyEclipse 6 Java 开发中文教程》 第九章 开发Struts 1.x应用 完工(961)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/03/164748.html" target="_blank">19. 视频讲解: Eclipse/MyEclipse 如何导入项目源代码(900)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/12/03/164796.html" target="_blank">20. 感谢 2007 年 12 月的 &lt;&lt;程序员&gt;&gt; 杂志推荐我的 Blog(736)</a></li>
</ul>
<p><a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html" target="_blank">基于 Apache DBCP 的数据库连接获取类(原创)</a></p>
<p>2005年12月5日星期一</p>
<p>基于 Apache DBCP 的数据库连接获取类, 可以让你在 Tomcat 之外的 J2SE 程序或者其它应用服务器上使用 Apache 的数据库连接池.</p>
<p>TODO: 增加最大连接数和最小连接数的设置功能</p>
<p>配置文件:</p>
<p>ConnectionFactory.properties</p>
<p>/# 2004-12-30
/# 数据库连接工厂的配置文件, 类文件参见 util.ConnectionFactory
/# 调试标志, 为 true 时使用 JDBC 直接连接(使用 url, driver, user, password 四个参数)
/# 为 false 时使用内置数据库连接池(使用参数 jdbc.jndi), 配置文件位于 db.properties 中
debug=false
/# JDBC的连接地址 URL
jdbc.url=jdbc:microsoft:sqlserver://127.0.0.1:1433;DatabaseName=yuelao
/# JDBC 的驱动
jdbc.driver=com.microsoft.jdbc.sqlserver.SQLServerDriver
/# JDBC 的连接用户名
jdbc.user=sa
/# JDBC 的连接密码
jdbc.password=
/#debug 为 false 时, 将根据连接池名获取数据库连接, 适用于程序在服务器运行的时候</p>
<p>.Java 文件:</p>
<p>//<em>
/</em> @(/#)ConnectionFactory.java 1.2 2005-11-25
/<em>
/</em> Copyright 2005 BeanSoft Studio. All rights reserved.
/<em> PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
/</em>/</p>
<p>package beansoft.util;</p>
<p>import java.io.ByteArrayInputStream;
import java.io.FileOutputStream;
import java.io.FileWriter;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.Properties;</p>
<p>import javax.sql.DataSource;
import org.apache.commons.dbcp.BasicDataSource;</p>
<p>import beansoft.jsp.StringUtil;
import beansoft.sql.DatabaseUtil;</p>
<p>//<em>/</em>
/<em> ConnectionFactory provide a factory class that produces all database
/</em> connections from here, and it provides methods for shutdown and restart
/<em> data sources as well as reading and saving configuration parameters from/to file.
/</em>
/<em> 数据库连接工厂类, 所有的数据库连接都从这里产生, 提供关闭和重启数据源的方法, 以及读取和保存
/</em> 配置参数到文件的能力.
/<em>
/</em> 2005-08-19
/<em> Using Apache DBCP as database connection pool provider.
/</em> 使用 Apache DBCP 作为连接池的提供类.
/<em>
/</em> @link <a href="http://jakarta.apache.org/commons/dbcp/" target="_blank"><a href="http://jakarta.apache.org/commons/dbcp/">http://jakarta.apache.org/commons/dbcp/</a></a>
/<em>
/</em> Dependency:
/<em> commons-collections.jar
/</em> commons-pool.jar
/<em> commons-dbcp.jar
/</em> j2ee.jar (for the javax.sql classes)
/<em>
/</em> If you using this class with Tomcat&#39;s web application, then all the above jars
/<em> not need to be added because the Tomcat it self has included these class libs.
/</em> 如果你在 Tomcat 的 Web Application 中调用这个类, 以上的 JAR 都不用单独
/<em> 加入的, 因为 Tomcat 默认已经自带了这些类库.
/</em>
/<em> @author BeanSoft
/</em> @version 1.2
/<em> 2005-11-25
/</em>/
public class ConnectionFactory {</p>
<p>//<em>/</em> Database password /*/
private static String password;</p>
<p>//<em>/</em> Database username /*/
private static String user;</p>
<p>//<em>/</em> JDBC URL /*/
private static String url;</p>
<p>//<em>/</em>
/<em> JDBC driver class name
/</em>/
private static String driver;</p>
<p>//<em>/</em>
/<em> DEBUG flag, default value is true, returns a connection that directly fetched using
/</em> JDBC API; if falg is false, returns a connection returned by the connection pool,
/<em> if u want depoly the application, please make this flag be false.
/</em> 调试标记, 默认值为 true, 则返回直接使用 JDBC 获取的连接; 如果标记为 false,
/<em> 则从连接池中返回器连接, 发布程序时请将这个标志 设置为 false.
/</em>/
private static boolean DEBUG = true;</p>
<p>//<em>/</em> Connection properties value /*/
private static Properties props = new Properties();</p>
<p>//<em>/</em> The data source object, added at 2005-08-19 /*/
private static DataSource dataSource = null;</p>
<p>// Load configuration from resource /ConnectionFactory.properties
static {
loadConfiguration();
}</p>
<p>private ConnectionFactory() {
}</p>
<p>//<em>/</em>
/<em> Factory method: obtain a database connection.
/</em> 工厂方法: 获取一个数据库连接.
/<em>
/</em>
/<em> @return Connection a java.sql.Connection object
/</em>/
public static Connection getConnection() {
try {
Connection conn = null;</p>
<p>// Debug mode, obtain connection directly through JDBC API
if (DEBUG) {</p>
<p>Class.forName(driver);</p>
<p>conn = DriverManager.getConnection(url, user, password);
} else {
// TODO
// // Looking data source through JNDI tree
// DataSource dataSource = (DataSource) getInitialContext()
// .lookup(jndi);
// conn = dataSource.getConnection();
conn = setupDataSource().getConnection();
}</p>
<p>return conn;
} catch (Exception ex) {
System.err.println(&quot;Error: Unable to get a connection: &quot; + ex);
ex.printStackTrace();
}</p>
<p>return null;
}</p>
<p>//<em>/</em>
/<em> Load and parse configuration.
/</em>/
public static void loadConfiguration() {
try {
props.load(new ByteArrayInputStream(readConfigurationString().getBytes()));</p>
<p>// Load DEBUG flag, default to true
DEBUG = Boolean.valueOf(props.getProperty(&quot;debug&quot;, &quot;true&quot;))
.booleanValue();
password = props.getProperty(&quot;jdbc.password&quot;, null);
user = props.getProperty(&quot;jdbc.user&quot;, null);
url = props.getProperty(&quot;jdbc.url&quot;, null);
driver = props.getProperty(&quot;jdbc.driver&quot;);
} catch (Exception e) {
e.printStackTrace();
}
}</p>
<p>//<em>/</em>
/<em> Save the current configuration properties.
/</em>/
public static void saveConfiguration() {
saveConfiguration(getProperties());
}</p>
<p>//<em>/</em>
/<em> Read content string from configuration file. Because Class.getResourceAsStream(String)
/</em> sometimes cache the contents, so here used this method.
/<em> 读取配置文件中的字符串.
/</em> 因为 Class 类的 getResourceAsStream(String) 方法有时候会出现缓存, 因此
/<em> 不得已使用了这种办法.
/</em> @return String, null if failed
/*/
public static String readConfigurationString() {
try {
java.io.FileInputStream fin = new java.io.FileInputStream(
getConfigurationFilePath());
java.io.ByteArrayOutputStream bout = new
java.io.ByteArrayOutputStream();</p>
<p>int data;
while( (data = fin.read()) != -1) {
bout.write(data);
}
bout.close();
fin.close();</p>
<p>return bout.toString();
} catch (Exception ex) {
System.err.println(&quot;Unable to load ConnectionFactory.properties:&quot; +
ex.getMessage());
ex.printStackTrace();
}
return null;
}</p>
<p>//<em>/</em>
/<em> Get the configuration file&#39;s real physical path.
/</em>/
private static String getConfigurationFilePath() {
return StringUtil.getRealFilePath(&quot;/ConnectionFactory.properties&quot;);
}</p>
<p>//<em>/</em>
/<em> Save string content of a java.util.Properties object.
/</em> 保存配置文件中的字符串.
/<em>
/</em> @param props configuration string
/<em> @return operation result
/</em>/
protected static boolean saveConfigurationString(String props) {
if(props == null || props.length() &lt;= 0) return false;
try {
FileWriter out = new FileWriter(getConfigurationFilePath());
out.write(props);
out.close();</p>
<p>return true;
} catch (Exception ex) {
System.err.println(&quot;Unable save configuration string to ConnectionFactory.properties:&quot;</p>
<ul>
<li>ex);
ex.printStackTrace();
}</li>
</ul>
<p>return false;
}</p>
<p>//<em>/</em>
/<em> Returns the current database connection properties.
/</em> @return Properties object
/*/
public static Properties getProperties() {
return props;
}</p>
<p>//<em>/</em>
/<em> Save configuration properties.
/</em>
/<em> @param props Properties
/</em> @return operation result
/*/
public static boolean saveConfiguration(Properties props) {
if(props == null || props.size() &lt;= 0) return false;</p>
<p>try {
FileOutputStream out = new FileOutputStream(getConfigurationFilePath());
props.store(out, &quot;&quot;);
out.close();</p>
<p>return true;
} catch (Exception ex) {
System.err.println(&quot;Unable to save ConnectionFactory.properties:&quot; + ex.getMessage());
ex.printStackTrace();
}</p>
<p>return false;
}</p>
<p>//<em>/</em>
/<em> Create a DataSource instance based on the Apache DBCP.
/</em> 创建基于 Apache DBCP 的 DataSource.
/<em>
/</em> @return a poolable DataSource
/*/
public static DataSource setupDataSource() {
if(dataSource == null) {
BasicDataSource ds = new BasicDataSource();
ds.setDriverClassName(driver);
ds.setUsername(user);
ds.setPassword(password);
ds.setUrl(url);</p>
<p>dataSource = ds;
}</p>
<p>return dataSource;
}</p>
<p>//<em>/</em>
/<em> Display connection status of current data source.
/</em>
/<em> 显示当前数据源的状态.
/</em>/
public static String getDataSourceStats() {
BasicDataSource bds = (BasicDataSource) setupDataSource();
StringBuffer info = new StringBuffer();</p>
<p>info.append(&quot;Active connection numbers: &quot; + bds.getNumActive());
info.append(&quot;\n&quot;);
info.append(&quot;Idle connection numbers: &quot; + bds.getNumIdle());</p>
<p>return info.toString();
}</p>
<p>//<em>/</em>
/<em> Shut down the data source, if want use it again,
/</em> please call setupDataSource().
/*/
public static void shutdownDataSource() {
BasicDataSource bds = (BasicDataSource) setupDataSource();
try {
bds.close();
} catch (SQLException e) {
// TODO auto generated try-catch
e.printStackTrace();
}
}</p>
<p>//<em>/</em>
/<em> Restart the data source.
/</em> 重新启动数据源.
/*/
public static void restartDataSource() {
shutdownDataSource();
setupDataSource();
}</p>
<p>//<em>/</em> Test method /*/
public static void main(String[] args) {
Connection conn = ConnectionFactory.getConnection();
DatabaseUtil dbUtil = new DatabaseUtil();
dbUtil.setConnection(conn);
// try {
// java.sql.ResultSet rs = conn.createStatement().executeQuery(
// &quot;SELECT MAX(ID) FROM items&quot;);
//
// while(rs.next()) {
// System.out.println(rs.getString(1));
// }
//
// rs.close();
//
// } catch (Exception ex) {
// ex.printStackTrace();
// }
System.out.println(dbUtil.getAllCount(&quot;SELECT MAX(ID) FROM items&quot;));</p>
<p>System.out.println(conn);</p>
<p>try {
conn.close();
} catch (Exception ex) {
// ex.printStackTrace();
}</p>
<p>conn = ConnectionFactory.getConnection();</p>
<p>System.out.println(conn);</p>
<p>try {
conn.close();
} catch (Exception ex) {
// ex.printStackTrace();
}</p>
<p>System.exit(0);
}</p>
<p>}
posted on 2007-01-19 11:04 <a href="http://www.blogjava.net/beansoft/" target="_blank">BeanSoft</a> 阅读(2136) <a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html#Post" target="_blank">评论(1)</a>  <a href="http://www.blogjava.net/beansoft/admin/EditPosts.aspx?postid=94882" target="_blank">编辑</a>  <a href="http://www.blogjava.net/beansoft/AddToFavorite.aspx?id=94882" target="_blank">收藏</a> 所属分类: <a href="http://www.blogjava.net/beansoft/category/21451.html" target="_blank">Database</a><img src="" alt=""></p>
<p><a href=""></a><a href=""></a></p>
<p>[Comments</p>
<ul>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html#95631" title="permalink: re: 基于 Apache DBCP 的数据库连接获取类(原创)" target="_blank">/#</a> <a href=""></a>re: 基于 Apache DBCP 的数据库连接获取类(原创)<a href=""></a><a href="http://www.blogjava.net/liubowu/" target="_blank">小车马</a>
Posted @ 2007-01-23 23:38
恩，以前也用过，apache的很多东西都非常不错，
楼主，潜力贴论坛（<a href="http://content.uu1001.com/" target="_blank"><a href="http://content.uu1001.com/">http://content.uu1001.com/</a></a>）是我个人的一个设想，如果你对java非常的专注，并且愿意交我这个朋友，可以发邮件给我（lbw070105@gmail.com），希望我们可以一起发展它。  <a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=%e5%b0%8f%e8%bd%a6%e9%a9%ac" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href="">]()
</a>
<a href="">刷新评论列表</a>  </li>
</ul>
<p><a href=""></a> 标题  请输入标题 姓名  请输入你的姓名 主页 请输入验证码 验证码 /*  <img src="" alt=""> 内容(请不要发表任何与政治相关的内容) 请输入评论内容 Remember Me?   <a href="http://www.blogjava.net/login.aspx?ReturnURL=http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html&amp;SourceURL=/beansoft/archive/2007/01/19/94882.html">登录</a>  <a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html?login=1#Post" target="_blank">使用高级评论</a>  <a href="http://www.blogjava.net/RequireRegister.aspx" target="_blank">新用户注册</a>  <a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html#Top" target="_blank">返回页首</a>  <a href="http://www.blogjava.net/beansoft/archive/2007/01/19/94882.html#Post" target="_blank">恢复上次提交</a>       [使用Ctrl+Enter键可以直接提交] 该文被作者在 2007-09-22 12:56 编辑过      相关文章:</p>
<ul>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/10/23/155318.html" target="_blank">基于<em>JDBC_2.0</em>驱动的分页代码实现</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/10/01/150075.html" target="_blank">BeanSoft MySQL Java 开发套装(服务器,管理工具,JDBC驱动,示例代码) 无中文问题</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/09/24/147657.html" target="_blank">SQL中主键和外键的区别?(zz)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/09/22/147366.html" target="_blank">常用 JDBC 驱动名字和 URL 列表</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/09/18/146115.html" target="_blank">如何连接SQL Server数据库(Tomcat 连接池配置) (转载)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/07/11/129652.html" target="_blank">Oracle Sequence 和 java.sql.PreparedStatement 的协同使用</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/07/10/129354.html" target="_blank">学习 SQL 语法的好资料: Transact-SQL 参考</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/07/10/129329.html" target="_blank">Hibernate 如何配置显示生成的 SQL?</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/04/09/109432.html" target="_blank">Mysql 优化的资料(收集转载)</a></li>
<li><a href="http://www.blogjava.net/beansoft/archive/2007/02/05/97940.html" target="_blank">MySQL 5 绿色版(BAT版本)</a></li>
</ul>
<p>Powered by:
<a href="http://www.blogjava.net/" target="_blank">BlogJava</a>
Copyright © BeanSoft</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/连接池/">连接池</a></li></span></span> | <span class="tags">Tagged <a href="/tags/连接池/" class="label label-primary">连接池</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-连接池--基于ApacheDBCP的数据库连接获取类原创-BeanSoft-sJavaBlo/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-连接池--基于ApacheDBCP的数据库连接获取类原创-BeanSoft-sJavaBlo" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-连接池--用连接池提高Servlet访问数据库的效率-txt/">用连接池提高Servlet访问数据库的效率 (</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-连接池--用连接池提高Servlet访问数据库的效率-txt/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-servlet-txt">用连接池提高Servlet访问数据库的效率 (-).txt</h1>
<p>作者：jeru</p>
<p>日期：2000-12-7 11:45:06
Java Servlet作为首选的服务器端数据处理技术，正在迅速取代CGI脚本。Servlet超越CGI的优势之一在于，不仅多个请求</p>
<p>可以共享公用资源，而且还可以在不同用户请求之间保留持续数据。本文介绍一种充分发挥该特色的实用技术，即数据库连
接池。</p>
<p>一、实现连接池的意义</p>
<p>动态Web站点往往用数据库存储的信息生成Web页面，每一个页面请求导致一次数据库访问。连接
数据库不仅要开销一定的通讯和内存资源，还必须完成用户验证、安全上下文配置这类任务，因而往往成为最为耗时的操</p>
<p>作。当然，实际的连接时间开销千变万化，但1到2秒延迟并非不常见。如果某个基于数据库的Web应用只需建立一次初始连
接，不同页面请求能够共享同一连接，就能获得显著的性能改善。</p>
<p>Servlet是一个Java类。Servlet引擎（它可能是Web服务软件的一部分，也可能是一个独立的附加模块）在系统启动或Servlet
第一次被请求时将该类装入Java虚拟机并创建它的一个实例。不同用户请求由同一Servlet实例的多个独立线程处理。那些要</p>
<p>求在不同请求之间持续有效的数据既可以用Servlet的实例变量来保存，也可以保存在独立的辅助对象中。
用JDBC访问数据库首先要创建与数据库之间的连接，获得一个连接对象（Connection），由连接对象提供执行SQL语句的方法。</p>
<p>本文介绍的数据库连接池包括一个管理类DBConnectionManager，负责提供与多个连接池对象（DBConnectionPool类）之间
的接口。每一个连接池对象管理一组JDBC连接对象，每一个连接对象可以被任意数量的Servlet共享。</p>
<p>类DBConnectionPool提供以下功能：</p>
<p>1) 从连接池获取（或创建）可用连接。
2) 把连接返回给连接池。</p>
<p>3) 在系统关闭时释放所有资源，关闭所有连接。</p>
<p>此外， DBConnectionPool类还能够处理无效连接（原来登记为可用的连接，由于某种原因不再可用，如超时，通讯问题）
，并能够限制连接池中的连接总数不超过某个预定值。</p>
<p>管理类DBConnectionManager用于管理多个连接池对象，它提供以下功能：</p>
<p>1) 装载和注册JDBC驱动程序。
2) 根据在属性文件中定义的属性创建连接池对象。</p>
<p>3) 实现连接池名字与其实例之间的映射。
4) 跟踪客户程序对连接池的引用，保证在最后一个客户程序结束时安全地关闭所有连接池。</p>
<p>本文余下部分将详细说明这两个类，最后给出一个示例演示Servlet使用连接池的一般过程。</p>
<p>二、具体实现</p>
<p>DBConnectionManager.java程序清单如下：</p>
<p>001 import java.io./<em>;
002 import java.sql./</em>;</p>
<p>003 import java.util./*;
004 import java.util.Date;</p>
<p>005
006 //<em>/</em></p>
<p>007 /<em> 管理类DBConnectionManager支持对一个或多个由属性文件定义的数据库连接
008 /</em> 池的访问.客户程序可以调用getInstance()方法访问本类的唯一实例.</p>
<p>009 /*/
010 public class DBConnectionManager {</p>
<p>011 static private DBConnectionManager instance; // 唯一实例
012 static private int clients;</p>
<p>013
014 private Vector drivers = new Vector();</p>
<p>015 private PrintWriter log;
016 private Hashtable pools = new Hashtable();</p>
<p>017
018 //<em>/</em></p>
<p>019 /<em> 返回唯一实例.如果是第一次调用此方法,则创建实例
020 /</em></p>
<p>021 /<em> @return DBConnectionManager 唯一实例
022 /</em>/</p>
<p>023 static synchronized public DBConnectionManager getInstance() {
024 if (instance == null) {</p>
<p>025 instance = new DBConnectionManager();
026 }</p>
<p>027 clients++;
028 return instance;</p>
<p>029 }
030</p>
<p>031 //<em>/</em>
032 /* 建构函数私有以防止其它对象创建本类实例</p>
<p>033 /*/
034 private DBConnectionManager() {</p>
<p>035 init();
036 }</p>
<p>037
038 //<em>/</em></p>
<p>039 /<em> 将连接对象返回给由名字指定的连接池
040 /</em></p>
<p>041 /<em> @param name 在属性文件中定义的连接池名字
042 /</em> @param con 连接对象</p>
<p>043 /*/
044 public void freeConnection(String name, Connection con) {</p>
<p>045 DBConnectionPool pool = (DBConnectionPool) pools.get(name);
046 if (pool != null) {</p>
<p>047 pool.freeConnection(con);
048 }</p>
<p>049 }
050</p>
<p>051 //<em>/</em>
052 /* 获得一个可用的(空闲的)连接.如果没有可用连接,且已有连接数小于最大连接数</p>
<p>053 /<em> 限制,则创建并返回新连接
054 /</em></p>
<p>055 /<em> @param name 在属性文件中定义的连接池名字
056 /</em> @return Connection 可用连接或null</p>
<p>057 /*/
058 public Connection getConnection(String name) {</p>
<p>059 DBConnectionPool pool = (DBConnectionPool) pools.get(name);
060 if (pool != null) {</p>
<p>061 return pool.getConnection();
062 }</p>
<p>063 return null;
064 }</p>
<p>065
066 //<em>/</em></p>
<p>067 /<em> 获得一个可用连接.若没有可用连接,且已有连接数小于最大连接数限制,
068 /</em> 则创建并返回新连接.否则,在指定的时间内等待其它线程释放连接.</p>
<p>069 /<em>
070 /</em> @param name 连接池名字</p>
<p>071 /<em> @param time 以毫秒计的等待时间
072 /</em> @return Connection 可用连接或null</p>
<p>073 /*/
074 public Connection getConnection(String name, long time) {</p>
<p>075 DBConnectionPool pool = (DBConnectionPool) pools.get(name);
076 if (pool != null) {</p>
<p>077 return pool.getConnection(time);
078 }</p>
<p>079 return null;
080 }</p>
<p>081
082 //<em>/</em></p>
<p>083 /<em> 关闭所有连接,撤销驱动程序的注册
084 /</em>/</p>
<p>085 public synchronized void release() {
086 // 等待直到最后一个客户程序调用</p>
<p>087 if (--clients != 0) {
088 return;</p>
<p>089 }
090</p>
<p>091 Enumeration allPools = pools.elements();
092 while (allPools.hasMoreElements()) {</p>
<p>093 DBConnectionPool pool = (DBConnectionPool) allPools.nextElement();
094 pool.release();</p>
<p>095 }
096 Enumeration allDrivers = drivers.elements();</p>
<p>097 while (allDrivers.hasMoreElements()) {
098 Driver driver = (Driver) allDrivers.nextElement();</p>
<p>099 try {
100 DriverManager.deregisterDriver(driver);</p>
<p>101 log(&quot;撤销JDBC驱动程序 &quot; + driver.getClass().getName()+&quot;的注册&quot;);
102 }</p>
<p>103 catch (SQLException e) {
104 log(e, &quot;无法撤销下列JDBC驱动程序的注册: &quot; + driver.getClass().getName());</p>
<p>105 }
106 }</p>
<p>107 }
108</p>
<p>109 //<em>/</em>
110 /* 根据指定属性创建连接池实例.</p>
<p>111 /<em>
112 /</em> @param props 连接池属性</p>
<p>113 /*/
114 private void createPools(Properties props) {</p>
<p>115 Enumeration propNames = props.propertyNames();
116 while (propNames.hasMoreElements()) {</p>
<p>117 String name = (String) propNames.nextElement();
118 if (name.endsWith(&quot;.url&quot;)) {</p>
<p>119 String poolName = name.substring(0, name.lastIndexOf(&quot;.&quot;));
120 String url = props.getProperty(poolName + &quot;.url&quot;);</p>
<p>121 if (url == null) {
122 log(&quot;没有为连接池&quot; + poolName + &quot;指定URL&quot;);</p>
<p>123 continue;
124 }</p>
<p>125 String user = props.getProperty(poolName + &quot;.user&quot;);
126 String password = props.getProperty(poolName + &quot;.password&quot;);</p>
<p>127 String maxconn = props.getProperty(poolName + &quot;.maxconn&quot;, &quot;0&quot;);
128 int max;</p>
<p>129 try {
130 max = Integer.valueOf(maxconn).intValue();</p>
<p>131 }
132 catch (NumberFormatException e) {</p>
<p>133 log(&quot;错误的最大连接数限制: &quot; + maxconn + &quot; .连接池: &quot; + poolName);
134 max = 0;</p>
<p>135 }
136 DBConnectionPool pool =</p>
<p>137 new DBConnectionPool(poolName, url, user, password, max);
138 pools.put(poolName, pool);</p>
<p>139 log(&quot;成功创建连接池&quot; + poolName);
140 }</p>
<p>141 }
142 }</p>
<p>143
144 //<em>/</em></p>
<p>145 /<em> 读取属性完成初始化
146 /</em>/</p>
<p>147 private void init() {
148 InputStream is = getClass().getResourceAsStream(&quot;/db.properties&quot;);</p>
<p>149 Properties dbProps = new Properties();
150 try {</p>
<p>151 dbProps.load(is);
152 }</p>
<p>153 catch (Exception e) {
154 System.err.println(&quot;不能读取属性文件. &quot; +</p>
<p>155 &quot;请确保db.properties在CLASSPATH指定的路径中&quot;);
156 return;</p>
<p>157 }
158 String logFile = dbProps.getProperty(&quot;logfile&quot;, &quot;DBConnectionManager.log&quot;);</p>
<p>159 try {
160 log = new PrintWriter(new FileWriter(logFile, true), true);</p>
<p>161 }
162 catch (IOException e) {</p>
<p>163 System.err.println(&quot;无法打开日志文件: &quot; + logFile);
164 log = new PrintWriter(System.err);</p>
<p>165 }
166 loadDrivers(dbProps);</p>
<p>167 createPools(dbProps);
168 }</p>
<p>169
170 //<em>/</em></p>
<p>171 /<em> 装载和注册所有JDBC驱动程序
172 /</em></p>
<p>173 /<em> @param props 属性
174 /</em>/</p>
<p>175 private void loadDrivers(Properties props) {
176 String driverClasses = props.getProperty(&quot;drivers&quot;);</p>
<p>177 StringTokenizer st = new StringTokenizer(driverClasses);
178 while (st.hasMoreElements()) {</p>
<p>179 String driverClassName = st.nextToken().trim();
180 try {</p>
<p>181 Driver driver = (Driver)
182 Class.forName(driverClassName).newInstance();</p>
<p>183 DriverManager.registerDriver(driver);
184 drivers.addElement(driver);</p>
<p>185 log(&quot;成功注册JDBC驱动程序&quot; + driverClassName);
186 }</p>
<p>187 catch (Exception e) {
188 log(&quot;无法注册JDBC驱动程序: &quot; +</p>
<p>189 driverClassName + &quot;, 错误: &quot; + e);
190 }</p>
<p>191 }
192 }</p>
<p>193
194 //<em>/</em></p>
<p>195 /<em> 将文本信息写入日志文件
196 /</em>/</p>
<p>197 private void log(String msg) {
198 log.println(new Date() + &quot;: &quot; + msg);</p>
<p>199 }
200</p>
<p>201 //<em>/</em>
202 /* 将文本信息与异常写入日志文件</p>
<p>203 /*/
204 private void log(Throwable e, String msg) {</p>
<p>205 log.println(new Date() + &quot;: &quot; + msg);
206 e.printStackTrace(log);</p>
<p>207 }
208</p>
<p>209 //<em>/</em>
210 /* 此内部类定义了一个连接池.它能够根据要求创建新连接,直到预定的最</p>
<p>211 /<em> 大连接数为止.在返回连接给客户程序之前,它能够验证连接的有效性.
212 /</em>/</p>
<p>213 class DBConnectionPool {
214 private int checkedOut;</p>
<p>215 private Vector freeConnections = new Vector();
216 private int maxConn;</p>
<p>217 private String name;
218 private String password;</p>
<p>219 private String URL;
220 private String user;</p>
<p>221
222 //<em>/</em></p>
<p>223 /<em> 创建新的连接池
224 /</em></p>
<p>225 /<em> @param name 连接池名字
226 /</em> @param URL 数据库的JDBC URL</p>
<p>227 /<em> @param user 数据库帐号,或 null
228 /</em> @param password 密码,或 null</p>
<p>229 /<em> @param maxConn 此连接池允许建立的最大连接数
230 /</em>/</p>
<p>231 public DBConnectionPool(String name, String URL, String user, String password,
232 int maxConn) {</p>
<p>233 this.name = name;
234 this.URL = URL;</p>
<p>235 this.user = user;
236 this.password = password;</p>
<p>237 this.maxConn = maxConn;
238 }</p>
<p>239
240 //<em>/</em></p>
<p>241 /<em> 将不再使用的连接返回给连接池
242 /</em></p>
<p>243 /<em> @param con 客户程序释放的连接
244 /</em>/</p>
<p>245 public synchronized void freeConnection(Connection con) {
246 // 将指定连接加入到向量末尾</p>
<p>247 freeConnections.addElement(con);
248 checkedOut--;</p>
<p>249 notifyAll();
250 }</p>
<p>251
252 //<em>/</em></p>
<p>253 /<em> 从连接池获得一个可用连接.如没有空闲的连接且当前连接数小于最大连接
254 /</em> 数限制,则创建新连接.如原来登记为可用的连接不再有效,则从向量删除之,</p>
<p>255 /<em> 然后递归调用自己以尝试新的可用连接.
256 /</em>/</p>
<p>257 public synchronized Connection getConnection() {
258 Connection con = null;</p>
<p>259 if (freeConnections.size() &gt; 0) {
260 // 获取向量中第一个可用连接</p>
<p>261 con = (Connection) freeConnections.firstElement();
262 freeConnections.removeElementAt(0);</p>
<p>263 try {
264 if (con.isClosed()) {</p>
<p>265 log(&quot;从连接池&quot; + name+&quot;删除一个无效连接&quot;);
266 // 递归调用自己,尝试再次获取可用连接</p>
<p>267 con = getConnection();
268 }</p>
<p>269 }
270 catch (SQLException e) {</p>
<p>271 log(&quot;从连接池&quot; + name+&quot;删除一个无效连接&quot;);
272 // 递归调用自己,尝试再次获取可用连接</p>
<p>273 con = getConnection();
274 }</p>
<p>275 }
276 else if (maxConn == 0 || checkedOut &lt; maxConn) {</p>
<p>277 con = newConnection();
278 }</p>
<p>279 if (con != null) {
280 checkedOut++;</p>
<p>281 }
282 return con;</p>
<p>283 }
284</p>
<p>285 //<em>/</em>
286 /* 从连接池获取可用连接.可以指定客户程序能够等待的最长时间</p>
<p>287 /<em> 参见前一个getConnection()方法.
288 /</em></p>
<p>289 /<em> @param timeout 以毫秒计的等待时间限制
290 /</em>/</p>
<p>291 public synchronized Connection getConnection(long timeout) {
292 long startTime = new Date().getTime();</p>
<p>293 Connection con;
294 while ((con = getConnection()) == null) {</p>
<p>295 try {
296 wait(timeout);</p>
<p>297 }
298 catch (InterruptedException e) {}</p>
<p>299 if ((new Date().getTime() - startTime) &gt;= timeout) {
300 // wait()返回的原因是超时</p>
<p>301 return null;
302 }</p>
<p>303 }
304 return con;</p>
<p>305 }
306</p>
<p>307 //<em>/</em>
308 /* 关闭所有连接</p>
<p>309 /*/
310 public synchronized void release() {</p>
<p>311 Enumeration allConnections = freeConnections.elements();
312 while (allConnections.hasMoreElements()) {</p>
<p>313 Connection con = (Connection) allConnections.nextElement();
314 try {</p>
<p>315 con.close();
316 log(&quot;关闭连接池&quot; + name+&quot;中的一个连接&quot;);</p>
<p>317 }
318 catch (SQLException e) {</p>
<p>319 log(e, &quot;无法关闭连接池&quot; + name+&quot;中的连接&quot;);
320 }</p>
<p>321 }
322 freeConnections.removeAllElements();</p>
<p>323 }
324</p>
<p>325 //<em>/</em>
326 /* 创建新的连接</p>
<p>327 /*/
328 private Connection newConnection() {</p>
<p>329 Connection con = null;
330 try {</p>
<p>331 if (user == null) {
332 con = DriverManager.getConnection(URL);</p>
<p>333 }
334 else {</p>
<p>335 con = DriverManager.getConnection(URL, user, password);
336 }</p>
<p>337 log(&quot;连接池&quot; + name+&quot;创建一个新的连接&quot;);
338 }</p>
<p>339 catch (SQLException e) {
340 log(e, &quot;无法创建下列URL的连接: &quot; + URL);</p>
<p>341 return null;
342 }</p>
<p>343 return con;
344 }</p>
<p>345 }
346 }</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/连接池/">连接池</a></li></span></span> | <span class="tags">Tagged <a href="/tags/连接池/" class="label label-primary">连接池</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-连接池--用连接池提高Servlet访问数据库的效率-txt/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-连接池--用连接池提高Servlet访问数据库的效率-txt" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛/">BOSS业务介绍 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="boss-mscbsc-">BOSS业务介绍 - 计费与营帐系统 - MSCBSC 移动通信论坛 国内领先的通信技术论坛</h1>
<p><img src="" alt=""> 设MSCBSC为首页</p>
<p><a href="http://www.mscbsc.com/" target="_blank">移动通信网</a> | <a href="http://www.mscbsc.com/news/" target="_blank">通信要闻</a> | <a href="http://www.mscbsc.com/askpro/" target="_blank">技术问答</a> | <a href="http://www.mscbsc.com/blog/" target="_blank">博客</a> | <a href="http://www.mscbsc.com/group/" target="_blank">圈子</a> | <a href="http://www.telecomhr.com/" target="_blank">人才</a> | <a href="http://www.mscbsc.com/bbs/" target="_blank">论坛</a> | <a href="http://www.mscbsc.com/bbs/forum-74-1.html" target="_blank">资料</a> | <a href="http://www.mscbsc.com/bbs/forum-185-1.html" target="_blank">论坛指南</a> | <a href="http://www.mscbsc.com/bbs/thread-129-1-1.html" target="_blank">积分说明</a> | <a href="http://www.mscbsc.com/bbs/thread-66084-1-1.html" target="_blank">帐号的保护和激活</a><br><a href="http://www.mscbsc.com/bbs/index.php" target="_blank"><img src="" alt="MSCBSC 移动通信论坛"></a> <a href="http://www.mscbsc.com/askpro" target="_blank"><img src="" alt=""></a></p>
<p>游客:  <a href="http://www.mscbsc.com/bbs/register.php" target="_blank">注册</a> | <a href="http://www.mscbsc.com/bbs/logging.php?action=login" target="_blank">登录</a> | <a href="http://search.mscbsc.com/" target="_blank">搜索</a> | <a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank">充值威望</a> | <a href="http://www.mscbsc.com/bbs/invitecode.php" target="_blank">邀请注册</a> | <a href="http://www.mscbsc.com/askpro/index.php" target="_blank">技术问答</a> | 扩展功能<img src="" alt=""> | <a href="http://www.mscbsc.com/bbs/faq.php" target="_blank">帮助</a>
 <a href="http://www.mscbsc.com/askpro/" target="_blank">问答区</a> | <a href="http://www.mscbsc.com/bbs/search.php?srchfrom=&amp;searchsubmit=yes" target="_blank">新帖区</a> | <a href="http://www.mscbsc.com/bbs/digest.php" target="_blank">精华区</a></p>
<p>全部 帖子 资料 问答 招聘  <a href=""></a>  </p>
<p><a href="http://www.mscbsc.com/bbs/index.php" target="_blank">MSCBSC 移动通信论坛</a> » <a href="http://www.mscbsc.com/bbs/forum-216-1.html" target="_blank">计费与营帐系统</a> » BOSS业务介绍
<a href=""> 16 </a><a href=""> 1/2 </a><a href="">1</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">2</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">››</a><img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1" target="_blank">讨论帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;data=yes" target="_blank">资料帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;poll=yes" target="_blank">投票帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;reward=yes" target="_blank">悬赏帖</a></p>
<ul>
<li><em>1883</em>阅读</li>
<li><em>15</em>回复 <a href="http://www.mscbsc.com/bbs/misc.php?action=emailfriend&amp;tid=141782" target="_blank">推荐</a> | <a href="http://www.mscbsc.com/bbs/my.php?item=subscriptions&amp;subadd=141782" target="_blank">订阅</a> | <a href="http://www.mscbsc.com/bbs/my.php?item=favorites&amp;tid=141782" target="_blank">收藏</a>  <a href="http://www.mscbsc.com/bbs/forumdisplay.php?fid=216&amp;filter=type&amp;typeid=8" target="_blank">[交流]</a> BOSS业务介绍</li>
</ul>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-1000457.html">chendaji</a> <a href="http://www.mscbsc.com/bbs/thread-52231-1-1.html" title="认证专家3级" target="_blank"><img src="" alt=""></a> <img src="&quot;离线&quot;" alt="">
资深元老
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=1000457" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=1000457&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
<img src="" alt="专家·终级勋章">   <img src="" alt="纪念勋章·三周年">   <img src="" alt="纪念勋章·四周年"><br>积分 38634
帖子 961
威望 14000 个
礼品兑换分 1390 个
专家指数 3723
注册 2008-10-16
专业方向  无线网络
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000457" target="_blank">1534</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000457" target="_blank">306</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-1000457.html" target="_blank">20%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#1</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1551912" target="_blank">使用道具</a><br>发表于 2009-8-16 16:13:37  <a href="http://www.mscbsc.com/bbs/viewthread.php?tid=141782&amp;extra=page%3D1&amp;originator=yes" target="_blank">只看楼主</a>  <strong>BOSS系统介绍</strong>mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。 E&quot;U6D/<em>\6t9x
移动通信业务运营支撑系统（Business &amp; Operation Support System，简称BOSS）分为营业、计费、帐务三大分系统，各分系统间通过一定的接口相互通信，以完成对整体业务的支撑作用。
(V:\&quot;L8l&#39;V8Y4hwww.mscbsc.com<strong>营业分系统</strong>移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单%c-S)C.L5{&amp;x
营业分系统又可进一步分为营业受理子系统、营业管理子系统、客户服务子系统。营业受理子系统直接面对移动客户，主要进行移动运营商直辖的各大营业厅及代销点的营业受理，营业管理子系统主要由业务管理人员进行后台业务管理，客户服务子系统主要负责客户服务与投诉受理。
%@;M:I4`7s8Q/#W;amscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。营业子系统由营业主服务器、各子系统服务器及各类终端组成。营业主服务器负责对三个子系统进行统一管理，记录用户的基本资料，如IMSI号、MSISDN号（手机号）、品牌（如全球通、神州行、神州行2000等）、当前状态（如正常、欠费停机、报停、销户等）、入网时间、用户姓名、用户身份证号、用户联系地址、用户密码等，以及用户所拥有的各项附加功能，如主叫显示、国际长途、语音信箱、短信功能、省际漫游、国际漫游等。营业主服务器同时还要记录用户申请的各项优惠业务，如话费套餐、VPN等，对于每项优惠业务需记录申请时间、生效时间、优惠级别等等。移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单(F0o$m5Q-z&quot;S4R&quot;~&quot;S
营业受理子系统负责进行各营业厅、代销点的业务受理，由营业受理服务器及前台受理终端组成。前台终端在营业厅、各代销点使用，由营业员操作，负责日常业务受理。营业受理服务器负责运行前台受理终端使用的受理程序，接收来自终端的受理工单，并向营业主服务器发送，同时根据受理记录修改营业主服务器上的资料。;X-J&#39;F&amp;? G/#b
营业管理子系统主要负责号段管理、SIM卡管理及日常统计报表分析等工作，由后台业务管理人员使用。由于终端数量较少，一般不另设服务器，而是直接使用营业主服务器。
;G4E,c/</em>|&quot;F,K/d(G/A移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单客户服务子系统又分为普通客户服务子系统及大客户服务子系统。普通客户服务子系统负责处理日常用户的咨询、投诉等，如1860客户服务中心。普通客户服务系统通过客服服务器与营业主服务器连接，向营业主服务器发送客服受理工单。大客户服务子系统负责处理与大客户相关的各类受理及对大客户的特殊服务，通过大客户服务器与营业主服务器连接。www.mscbsc.com/<em>d.^%X&#39;^8E;W9l7U&amp;z(g;L
移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单&amp;J6m3[8a5L)t.\/#n
&#39;E7?0E&quot;c(F0j9z/</em>\mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。
/#y;t/<em>w2B.p(\ } P5mmscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。　　各类营业受理工单通过HLR派单接口向HLR发送指令，以修改HLR中的用户数据。HLR派单机连接营业主服务器与HLR，接口程序将营业主服务器上存储的受理工单转换成HLR能够识别的指令向HLR发送。HLR派单接口可以使用LAN口连接，也可以使用COM端口连接。使用LAN口可以获得较快的传输速度，有利于大批量的处理。在修改HLR数据的工单处理过程中，必须考虑到工单失败问题与工单碰撞问题。+F/a!S/M4}1K7f
由于智能网业务的不断发展，对智能用户（如&quot;神州行&quot;）的管理也逐步纳入了业务运营支撑系统管理的范畴。智能网主要由SMP（业务管理点）、SCP（业务控制点）等设备构成。SMP主要负责对智能用户资料的管理；SCP主要负责对智能用户的话单进行计费并扣帐。智能用户资料除了要在HLR中记录外，还必须在智能网中记录。业务运营支撑系统可以采用与HLR派单接口类似的做法通过与SMP的派单接口来实现对智能用户资料的管理。各类派单接口设计是营业分系统设计中的一大重点，也是一大难点。成功的派单接口设计能大大减少用户的投诉，建立良好的信誉，因此派单接口设计往往成为衡量营业分系统设计是否优良的一个重要标准。mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。2I/l8U9m/i
<strong>计费分系统</strong>MSCBSC 移动通信论坛!j3b8v8d9(y$W!H
计费分系统又可分为采集子系统、计费子系统、结算子系统。采集子系统负责从各个话单采集点采集话单，并传送至计费中心。计费子系统负责对各类话单进行计费并存入话单库，结算子系统负责处理与各省、各国之间的话费结算问题。9j$q/l$X%n7l
移动通信网络系统中的采集点主要有移动交换机、关口局、短信中心、短信网关、语音信箱、GPRS计费网关、智能网SCP等。移动交换机主要产生语音通话话单，关口局产生外网与本网间的通信话单，短讯中心产生短讯业务话单，短讯网关产生以短讯为基础的移动梦网等业务话单，语音信箱产生用户语音留言、传真留言等增值业务话单。GPRS计费网关（CG）用以收集用户使用GPRS的通信记录并合并生成话单。智能网SCP上产生智能网用户的话单。所有由网络通信设备产生的话单被称为原始话单，是相对于计费分系统计费后入库的计费话单而言的。由于智能网用户的话单直接在SCP上计费并扣帐，因此计费分系统无需对SCP上产生的话单进行再计费。其余网络通信设备上产生的话单都是未计费的，或是由合作运营商计费后仍需由计费分系统重新确认的（如梦网话单）。采集一般采用FTP、FTAM等协议，将原始话单传送至计费中心。采集子系统的采集实时性直接决定了计费子系统的实时性，因此在移动通信业务运营支撑系统中对采集的实时性要求相当高。为了保证能实时采集到话单，除了以2M以上速率的传输线路确保采集畅通外，各个采集点也应能实时生成话单。移动交换机必须能够对长时间通话的话单进行分段处理，如用户通话超过30分钟，必须能够做到每30分钟即产生一条话单。移动交换机还必须能根据话单量及时间两个要素来生成话单。在通话高峰期能够每满一定的话单量即向外推送话单文件，在通话低谷期能够每过一定时间即向外推送话单文件。移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单 A%r,I4I/</em>a;I,<code>计费子系统分为格式化、一次批价、二次批价、漫游接收上发等流程。格式化是指从网络通信设备产生的原始话单中提取出计费所需的所有内容，并转化为计费程序能够处理的格式。计费系统必需的计费信息有：呼叫类型（如主叫、被叫、呼转等）、IMSI号（记录SIM卡的国际唯一标识号）、MSISDN（手机号）、对方号码、通话起始时间、通话时长、小区位置（LAC、CELLID等）、动态漫游号（MSRN）等。数据业务，如GPRS还必须提取出上行流量、下行流量、服务质量（QoS）等。各个话单采集点在某些异常情况下可能产生重复话单，因此格式化必须有剔除重单的功能，可采用记录一段时间内所有话单的做法，只须记录有唯一性标识作用的呼叫类型、IMSI、通话起始时间、对方号码等，在格式化新话单时将新话单与已记录的话单进行比较，相同的作为重单处理。MSCBSC 移动通信论坛(U;H5F6m8{&#39;T
计费子系统一次批价根据格式化提供的标准格式话单，结合费率表、号段表、区号表等计费资料对话单进行计费。费率表中记录的信息主要有：基本计费单元、基本通话费率、长途计费单元、长途通话费率、优惠时段起始时间、优惠时段终止时间、优惠时段费率等。mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。&quot;U.C/#l9X6i9_
计费子系统二次批价在一次批价的基础上，根据用户入网所享受的各项优惠对话单进行重计费，以最终生成向用户收费的话单。用户所享受的各项优惠记录在营业分系统的用户资料中，因此二次批价必须结合营业资料进行。如果对每一条话单进行二次批价时都进行一次对营业数据库的查询操作，势必会大大增加数据库的负担，严重影响营业、计费分系统的运行速度。因此必须为二次批价专门建立一个营业资料数据库，存放二次批价需要的用户数据，并定时与营业数据库进行同步操作。同时必须采用内存数据库技术，将二次批价中需要频繁用到的营业资料载入内存，以大大提高二次批价对营业资料访问的速度，同时减小主服务器的负担。采用内存数据库技术就必须对计费主机的内存实行优化，各个计费进程必须能合理地使用主机内存。二次批价根据不同的优惠业务采用流水线式的处理流程。各个不同的优惠业务彼此间相互渗透，因此二次批价中各个优惠业务间的处理顺序显得尤为重要。
:p V2T&#39;L+{$k6A0c4TMSCBSC 移动通信论坛漫游是移动通信的特性，漫游类型分为非漫游、省内漫游、省际漫游、国际漫游等。许多原始话单中都没有用户是否漫游的标志，计费子系统就必须根据原始话单产生地结合号段表来进行判定。由于话单一般产生在到访地，如果原始话单中包含了异地手机用户的话单，则表明此用户漫游至话单产生地。如果许多不同地域的话单都集中于同一地点产生，根据原始话单产生地也无法判定用户的漫游类型，就必须通过原始话单中记录的用户通话时的位置（如LAC、CELLID等）来进行判定了。
$H$}+R&amp;z3i&amp;Twww.mscbsc.com动态漫游号主要用于判定移动通信计费中特殊的同城计费原则，即两个用户在同一城市行政区域内通话时不收取长途费。动态漫游号是用户发起主叫时由被叫用户所在的交换机分配给主叫用户的临时号码，不同的城市行政区域使用不同的号段。根据主叫方的动态漫游号结合被叫方的漫游位置即可判定主被叫用户是否同城。而对于被叫用户由于没有动态漫游号，同城原则只能根据主叫号码的归属地进行判定。若主叫方归属地不在被叫漫游位置，即使主叫方漫游与被叫同城，也无法对被叫实现同城优惠。例如：两个福州的用户同时漫游至北京时相互通话，主叫方可以享受同城优惠，而被叫方就无法享受同城优惠。/Z z&quot;R/Y6^:c!R;N)H
计费子系统需将漫游至本地的外地用户的话单转换为标准格式上发给外地的移动运营商，同时还必须接收外地运营商传来的本地用户漫游至外地的话单并计费。这些话单也是结算的依据。漫游话单的上下发一般由一个全国性中心局来负责统一处理。
&#39;n)f&#39;|:T,x+J&quot;A.}5NMSCBSC 移动通信论坛结算子系统用于处理与其它运营商之间的话费结算问题。结算的总原则是：若其它运营商的客户使用了我运营商的通信资源，则其运营商需向我运营商支付费用；若我运营商的客户使用了其它运营商的通信资源，则我运营商需向其它运营商支付费用。结算包括网内漫游结算及网间结算。网内漫游结算是指同一运营商内部各公司间因用户互相漫游而发生的结算，一般体现为各省之间的漫游结算，例如福建的用户漫游到北京，则福建需向北京支付结算费用。网间结算包括国内网间结算及国际网间结算。网间结算既可能因为漫游而使用了其它运营商的通信资源而产生，即网间漫游结算，也可能因为进行网间通信时使用了其它运营商的通信资源而产生，即网间通信结算。目前我国各移动运营商间尚未实现基站共享，因此国内网间结算均为网间通信结算。例如中国移动的用户如果直接拨打异地的中国电信固定电话（即区号+固定电话号码），则使用了中国电信的长途通信资源，中国移动须向中国电信支付长途结算费用；如果中国移动的用户使用17951拨打异地的中国电信固定电话（即17951+区号+固定电话号码），则使用中国移动的IP长途通信资源，中国移动就不必向中国电信支付长途结算费用。国际网间结算既可能有网间漫游结算，也可能有网间通信结算。例如，芬兰的移动客户漫游至中国，使用了中国的移动通信资源，则芬兰的移动运营商需向中国的移动运营商支付费用，这就是国际网间漫游结算。在移动通信网的设计中，可在不同运营商的网络间设立关口局用于处理网间通信结算问题，由关口局记录双方用户使用对方网络资源的状况，结算子系统直接从关口局读取原始话单计算结算费用。由于各运营商间的结算一般采用按月、季等时间单元进行，因而结算子系统对于实时性要求不高，在移动业务运营支撑系统的设计中显得相对简单。&quot;\0E:F-~5~6E3v
**帐务分系统**MSCBSC 移动通信论坛,K)[/*P6[-P&#39;w+U/m/B&quot;U&quot;M/*l
帐务分系统又可分为实时出帐子系统、月出帐子系统和销帐子系统。实时出帐子系统将计费子系统计费后的话单金额进行实时累加，达到一定额度后出帐。月出帐子系统负责对用户每月应固定缴纳的费用进行出帐。销帐子系统对各类帐单进行收费。4N7m!s x9Z/#v0D r
实时出帐子系统通过与计费分系统的接口获取计费后的话单，并对每一个用户的话单金额进行实时累加，生成实时帐单。由于用户可能因为SIM卡损坏等原因更换SIM卡，即可能变更IMSI号，因此实时帐单不能根据IMSI号进行累加；由于用户也可能申请变更手机号，因此实时帐单也不能根据MSISDN（手机号）进行累加。为此，在营业分系统中就必须对所有用户建立唯一标识，我们不妨称之为用户ID，无论用户更换SIM卡或是更改手机号，用户ID都保持不变，以唯一标识每一个用户，并对用户的IMSI、MSISDN的变更都留下历史记录。实时出帐子系统就可以根据用户ID来累加实时帐单。原始话单中不可能存在用户ID，计费子系统可在结合营业资料进行二次批价时在计费话单中加入用户ID，这本身也可以提高二次批价的速度。或是在实时出帐时再根据话单中的IMSI或MSISDN结合营业资料来查询用户ID。第一种方法显然是首选，可以避免实时出帐时再对营业资料进行访问。合帐时除了对用户累加总帐单金额外，还可以根据不同的帐目类别（如本地通话费、漫游通话费、长途通话费、短信费用等）分别累加帐目金额，以满足业务统计、财务报表等方面的需求。+U4b!p1D/n t&amp;\
实时出帐子系统与月出帐子系统生成的帐单通过销帐子系统送到缴费接口进行销帐，即向用户收费。销帐子系统中须为每一用户建立一个现金帐户，记录用户已缴金额。随着用户数量的不断增加，传统的营业厅现金缴费的方式已无法满足实际的需要，通过与银行配合的方式是解决这一矛盾的有效途径，如可以采用银行代缴、银行代扣等缴费方式。使用银行代缴的用户在银行的营业网点缴纳手机话费时，银行通过与移动运营商的网络通信接口将代收的话费信息传送至移动业务运营支撑系统，由销帐子系统将用户所缴纳的话费向用户的现金帐户充值，并向银行返回确认信息，银行的营业网点即通知用户缴费成功。除此以外，还可以采用充值卡等方式提供用户缴费。以上各类缴费方式中，银行代扣将用户帐户放在银行，我们称之为&quot;代扣缴费&quot;，其余的都将用户帐户放在移动业务运营支撑系统，实时出帐子系统与月出帐子系统生成的帐单根据用户的缴费方式送往不同的缴费接口。采用现金缴费的用户的帐单直接从现金帐户上扣款，采用代扣缴费方式的用户的帐单通过与各大银行的接口送往用户指定的银行帐户。销帐结果可分为：完全销帐、部分销帐、未销帐。部分销帐与未销帐即用户欠费，若用户的欠费额超过用户的停机信用度，销帐子系统即向营业分系统发出停机命令，由营业分系统通过与HLR的接口修改HLR中的用户数据。停机可分为单停、全停，单停指的是用户有呼出限制，但仍可接听电话，全停指的是用户无法呼出也无法呼入。营业分系统可以根据用户的消费状况、缴费及时率等条件给不同的用户设立不同的单停信用度、全停信用度，对于不同的欠费额采用不同的停机处理。欠费帐单专门存储，在用户缴费后立即销帐，超过一定期限才被销帐的帐单由销帐子系统计算滞纳金，与欠费帐单同时销帐。为保证滞纳金计算合理，在用户缴费后应从最早出帐的帐单开始销帐。能够完全销帐的由销帐子系统向营业分系统发出复机命令，由营业分系统通过与HLR的接口修改HLR中的用户数据。超过一定期限始终未缴费的欠费停机用户，可由营业分系统进行欠费销户处理，其欠费帐单可作坏帐处理。
7G&amp;l;K,H4c;F&#39;x移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单**未来发展方向**
1D,H3G&#39;s/#u0</code> |  国内领先的通信技术论坛目前，移动通信业务运营支撑系统已经越来越朝着集中化的方向发展，从原先的地市级集中向省级集中。集中化可以方便地进行异地业务受理，节约设备成本及软件开发维护费用。随着电信市场的逐步开放，各移动运营商间的竞争也将日趋激烈，各类以吸引客户为目的的优惠业务将不断涌现，对于业务运营支撑系统的要求也将越来越高。在强大的市场竞争压力下，在用系统新增业务的开发周期直接影响到移动通信企业的竞争力。因此，移动业务运营支撑系统必须具有良好的可扩展性、强大的业务适应能力，这都对系统设计提出了更高的要求。一个理想化的业务运营支撑系统必须能够通过修改业务配置表的方式来实现绝大多数的优惠业务，而不必再开发额外的程序，这就要求业务运营支撑系统必须实现智能化。智能化的关键是在系统中能够对所有业务按照系统实现的方式进行分类，建立各类业务模型，如计费单位（以分钟计费、以秒计费）、计费原则（单向计费、双向计费）、套餐类业务（包月费、各档优惠资费标准、各档非优惠资费标准）、VPN类业务（集团内优惠资费标准、集团外非优惠资费标准）等。各类业务万变不离其宗，根据其本质内容建立抽象的业务模型，再根据各类业务的特征通过继承的方式建立子类，以及对子类的再继承来实现对所有业务模型的建立，这是面向对象的思想在软件高层设计中的应用。智能化已经成为业务运营支撑系统未来的发展方向，也是今后在这一领域需要重点研究的课题
:A&amp;~,A/#A&amp;I2`9]:P |  国内领先的通信技术论坛对子类的再继承来实现对所有业务模型的建立，这是面向对象的思想在软件高层设计中的应用。智能化已经成为业务运营支撑系统未来的发展方向，也是今后在这一领域需要重点研究的课题
<img src="" alt=""><a href="http://www.mscbsc.com/bbs/down_pdf.php?tid=141782" target="_blank">免费免威望下载本帖内容PDF版</a></p>
<p><a href=""></a></p>
<p>-<img src="" alt="">
<img src="" alt=""><a href="http://www.91cool.net/" target="_blank"><img src="" alt=""></a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank"><img src="" alt=""></a>[<a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank">充值威望，立即自动到帐</a>] [<a href="http://www.mscbsc.com/pay/vippay.php" target="_blank">VIP贵宾权限+威望套餐</a>] 另有大量优惠赠送活动，请光临充值中心
充值拥有大量的威望和最高的下载权限，下载站内资料无忧
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3643240.html">wenpan007hot</a> <img src="&quot;离线&quot;" alt="">
中级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3643240" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3643240&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 984
帖子 196
威望 1464 个
礼品兑换分 10 个
专家指数 4
注册 2009-8-14
专业方向  GPRS
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643240" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643240" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3643240.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#2</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1554787" target="_blank">使用道具</a><br>发表于 2009-8-17 14:54:13  技术问题，回答得专家指数，快速升级</p>
<ul>
<li>· <a href="http://www.mscbsc.com/askpro/question42908" title="爱立信BSC级的切换参数有哪些？" target="_blank">爱立信BSC级的切换参数有哪些？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42907" title="为什么我的Pilot Navigator软件在分析log时，临区框里的内容不跟着log的位置而变化" target="_blank">为什么我的Pilot Navigator软件在分析log时，临区框里的内容不跟着log的位置而变化</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42906" title="频点干扰问题" target="_blank">频点干扰问题</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42905" title="扫楼是只看有没有信号不就行了。。。" target="_blank">扫楼是只看有没有信号不就行了。。。</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42904" title="寻呼丢弃如何优化？" target="_blank">寻呼丢弃如何优化？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42903" title="网规网优新手工资待遇问题" target="_blank">网规网优新手工资待遇问题</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42902" title="TD系统中影响接通率和掉话率的无线参数有哪些？" target="_blank">TD系统中影响接通率和掉话率的无线参数有哪些？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42901" title="那位大侠能讲一讲目前GSM接入信道的物理层详细流程吗？？" target="_blank">那位大侠能讲一讲目前GSM接入信道的物理层详细流程吗？？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42900" title="做通信设计（无线专业）可以转做网优吗？做网优更好还是设计更好呢？" target="_blank">做通信设计（无线专业）可以转做网优吗？做网优更好还是设计更好呢？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42899" title="一个基站同时出现严重上行干扰，该怎么解决" target="_blank">一个基站同时出现严重上行干扰，该怎么解决</a></li>
</ul>
<p>学习了。。。呵呵。。谢谢楼主的资料<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> [<a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank">现在充值，立即获得威望，安全、简单、快速！</a>] [<a href="http://www.telecomhr.com/" target="_blank">怎样免费获得高薪通信职位？简单的秘密</a>]</p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-1000430.html">nj_green</a> <img src="&quot;离线&quot;" alt="">
金牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=1000430" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=1000430&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 6216
帖子 973
威望 -32 个
礼品兑换分 0 个
专家指数 0
注册 2008-10-15
专业方向  核心网
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000430" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000430" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-1000430.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#3</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1600502" target="_blank">使用道具</a><br>发表于 2009-9-1 12:29:16  学习一下   呵呵<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 最新通信职位：<a href="http://gd.telecomhr.com/" target="_blank">广东通信人才网</a> | <a href="http://bj.telecomhr.com/" target="_blank">北京通信人才网</a> | <a href="http://sh.telecomhr.com/" target="_blank">上海通信人才网</a> | <a href="http://nj.telecomhr.com/" target="_blank">南京通信人才网</a> | <a href="http://xa.telecomhr.com/" target="_blank">西安通信人才网</a> | <a href="http://cq.telecomhr.com/" target="_blank">重庆通信人才网</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3647822.html">huanghou</a> <img src="&quot;离线&quot;" alt="">
中级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3647822" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3647822&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 617
帖子 124
威望 190 个
礼品兑换分 0 个
专家指数 -3
注册 2009-9-26
专业方向  网络优化
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">1</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3647822.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#4</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1693299" target="_blank">使用道具</a><br>发表于 2009-9-27 09:29:57  你那个系统是哪个版本的哦 好像现在升级成4个系统了<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> [<a href="http://www.mscbsc.com/pay/vippay.php" target="_blank">2分钟拥有VIP权限和充足威望，可下载站内任何资料</a>] [<a href="http://www.telecomhr.com/" target="_blank">快速找到一份高薪的通信行业职位</a>]</p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3647822.html">huanghou</a> <img src="&quot;离线&quot;" alt="">
中级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3647822" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3647822&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 617
帖子 124
威望 190 个
礼品兑换分 0 个
专家指数 -3
注册 2009-9-26
专业方向  网络优化
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">1</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3647822.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#5</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1693305" target="_blank">使用道具</a><br>发表于 2009-9-27 09:32:03  非常感谢楼主的帖子哈 我是刚进移动的 看到你的这些介绍能更快的学习了解  谢谢诶哦  顶个<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 最新通信职位：<a href="http://gd.telecomhr.com/" target="_blank">广东通信人才网</a> | <a href="http://bj.telecomhr.com/" target="_blank">北京通信人才网</a> | <a href="http://sh.telecomhr.com/" target="_blank">上海通信人才网</a> | <a href="http://nj.telecomhr.com/" target="_blank">南京通信人才网</a> | <a href="http://xa.telecomhr.com/" target="_blank">西安通信人才网</a> | <a href="http://cq.telecomhr.com/" target="_blank">重庆通信人才网</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-10685.html">youfeng</a> <img src="&quot;离线&quot;" alt="">
论坛元老
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=10685" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=10685&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 23743
帖子 2161
威望 5406 个
礼品兑换分 10 个
专家指数 328
注册 2006-9-20
专业方向  移动通信交换
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10685" target="_blank">223</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10685" target="_blank">12</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-10685.html" target="_blank">5%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#6</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1703946" target="_blank">使用道具</a><br>发表于 2009-10-6 10:35:49  呵呵，只是知道这个BOSS，今天才知道具体的称呼。<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> [<a href="http://www.mscbsc.com/pay/vippay.php" target="_blank">2分钟拥有VIP权限和充足威望，可下载站内任何资料</a>] [<a href="http://www.telecomhr.com/" target="_blank">快速找到一份高薪的通信行业职位</a>]</p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3643480.html">mssbsc</a> <a href="http://www.mscbsc.com/bbs/thread-52231-1-1.html" title="认证专家1级" target="_blank"><img src="" alt=""></a> <img src="&quot;离线&quot;" alt="">
银牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3643480" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3643480&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
<img src="" alt="专家·初级勋章"><br>积分 4810
帖子 894
威望 9949 个
礼品兑换分 0 个
专家指数 340
注册 2009-8-17
专业方向  MSS RNC
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643480" target="_blank">8</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643480" target="_blank">1</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3643480.html" target="_blank">13%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#7</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1736270" target="_blank">使用道具</a><br>发表于 2009-10-18 15:31:10  谢谢楼主的资料<img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3650861.html">funny2007888</a> <a href="http://www.mscbsc.com/bbs/thread-52231-1-1.html" title="认证专家1级" target="_blank"><img src="" alt=""></a> <img src="&quot;离线&quot;" alt="">
金牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3650861" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3650861&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
<img src="" alt="专家·初级勋章">   <img src="" alt="纪念勋章·四周年"><br>积分 5838
帖子 1076
威望 1646 个
礼品兑换分 100 个
专家指数 458
注册 2009-11-5
专业方向  Network Management
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3650861" target="_blank">141</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3650861" target="_blank">46</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3650861.html" target="_blank">33%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#8</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1798532" target="_blank">使用道具</a><br>发表于 2009-11-8 01:41:06  谢谢楼主的分享
&quot;\9c(b/#t2]1u%L2iwww.mscbsc.comThanks a Lot<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3647583.html">mashanyou</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3647583" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3647583&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 310
帖子 62
威望 7339 个
礼品兑换分 0 个
专家指数 0
注册 2009-9-24
专业方向  营业稽核
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647583" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647583" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3647583.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#9</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1839175" target="_blank">使用道具</a><br>发表于 2009-11-22 13:35:32  谢谢楼主分享<img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-10006224.html">hammer_cool</a> <img src="&quot;离线&quot;" alt="">
新手上路
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=10006224" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=10006224&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 35
帖子 7
威望 121 个
礼品兑换分 0 个
专家指数 0
注册 2010-2-5
专业方向  IT
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10006224" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10006224" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-10006224.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#10</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2141897" target="_blank">使用道具</a><br>发表于 2010-3-4 13:04:25  非常感谢！！！！！<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3637918.html">yang0709h</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3637918" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3637918&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 59
帖子 11
威望 51 个
礼品兑换分 0 个
专家指数 0
注册 2009-6-26
专业方向  计费
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3637918" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3637918" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3637918.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#11</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2149083" target="_blank">使用道具</a><br>发表于 2010-3-6 11:04:06  谢谢楼主分享，学习了~~<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3645523.html">0500220114</a> <img src="&quot;离线&quot;" alt="">
银牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3645523" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3645523&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 2568
帖子 512
威望 9794 个
礼品兑换分 0 个
专家指数 8
注册 2009-9-6
专业方向  TD
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645523" target="_blank">3</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645523" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3645523.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#12</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2345656" target="_blank">使用道具</a><br>发表于 2010-4-23 10:59:00  顶，很不错<img src="" alt=""> <img src="" alt=""> <img src="" alt=""> :victory: :victory: :victory: :victory:<img src="" alt="">
你能走多远不在于你的脚有多大，而在于你的意志力有多强！ <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-125606.html">网优先锋</a> <img src="&quot;离线&quot;" alt="">
银牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=125606" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=125606&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 4360
帖子 757
威望 1106 个
礼品兑换分 10 个
专家指数 66
注册 2008-8-2
专业方向  移动网络优化
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=125606" target="_blank">6</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=125606" target="_blank">1</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-125606.html" target="_blank">17%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#13</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2380382" target="_blank">使用道具</a><br>发表于 2010-5-1 21:34:01  学习学习，增加阅历。<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3645286.html">acool1234</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3645286" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3645286&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 145
帖子 29
威望 150 个
礼品兑换分 0 个
专家指数 0
注册 2009-9-4
专业方向  通信
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645286" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645286" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3645286.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#14</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2427723" target="_blank">使用道具</a><br>发表于 2010-5-13 16:10:39  学习一下   呵呵<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-10008625.html">xl376</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=10008625" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=10008625&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 120
帖子 24
威望 8814 个
礼品兑换分 0 个
专家指数 0
注册 2010-3-7
专业方向  软件
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10008625" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10008625" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-10008625.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#15</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=3088228" target="_blank">使用道具</a><br>发表于 2010-12-4 16:17:04  呵呵，谢谢楼主的资料！<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""> 16 </a><a href=""> 1/2 </a><a href="">1</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">2</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">››</a><img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1" target="_blank">讨论帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;data=yes" target="_blank">资料帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;poll=yes" target="_blank">投票帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;reward=yes" target="_blank">悬赏帖</a></p>
<p>本主题发布已超过3年，不能再回复，谢谢您的关注
最近访问的论坛 ... 中国移动通信</p>
<p><a href="http://www.mscbsc.com/bbs/memcp.php" target="_blank">个人中心首页</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=profile" target="_blank">编辑个人资料</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=credits" target="_blank">积分交易</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=usergroups" target="_blank">公众用户组</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist" target="_blank">好友列表</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=spacemodule" target="_blank">个人空间管理</a> <a href="http://www.mscbsc.com/?uid/0" target="_blank">升级我的博客</a>
<a href="http://www.mscbsc.com/bbs/plugins.php?p=nkflash" target="_blank">社区游戏区</a> <a href="http://www.mscbsc.com/bbs/plugin.php?identifier=bank&amp;module=bank" target="_blank">社区银行</a> <a href="http://www.mscbsc.com/bbs/plugin.php?identifier=invite&amp;module=invite" target="_blank">购买邀请码</a> <a href="http://www.mscbsc.com/bbs/flack.php" target="_blank">宣传中心</a> <a href="http://www.mscbsc.com/bbs/plugin.php?identifier=ditu&amp;module=ditu" target="_blank"><strong>全国地图</strong></a></p>
<p><a href="http://www.mscbsc.com/bbs/stats.php" target="_blank">基本概况</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=views" target="_blank">流量统计</a><a href="http://www.mscbsc.com/bbs/stats.php?type=agent" target="_blank">客户软件</a><a href="http://www.mscbsc.com/bbs/stats.php?type=posts" target="_blank">发帖量记录</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=forumsrank" target="_blank">论坛排行</a><a href="http://www.mscbsc.com/bbs/stats.php?type=threadsrank" target="_blank">主题排行</a><a href="http://www.mscbsc.com/bbs/stats.php?type=postsrank" target="_blank">发帖排行</a><a href="http://www.mscbsc.com/bbs/stats.php?type=creditsrank" target="_blank">积分排行</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=trade" target="_blank">交易排行</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=onlinetime" target="_blank">在线时间</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=team" target="_blank">管理团队</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=modworks" target="_blank">管理统计</a>
精彩通信图库<a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="超牛的电信广告  摄于家乡某小区">
超牛的电信广告 摄于家乡某.</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="老挝当地见到的游戏，老少皆宜~~">
老挝当地见到的游戏，老少皆.</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="城市人，别小看农村的学校。">
城市人，别小看农村的学校。</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="第一次见这么粗的打孔水钻">
第一次见这么粗的打孔水钻</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="拨测时还真有人认为是卖手机的。。。">
拨测时还真有人认为是卖手机.</a></p>
<p>-
当前时区 GMT+8, 现在时间是 2011-11-28 17:50:45
<a href="http://www.miibeian.gov.cn/" target="_blank">粤ICP备06047514号</a>  <a href="http://www.mscbsc.com/" target="_blank">Copyright @ 2006-2011 mscbsc.com</a>  本站统一服务邮箱：mscbsc@163.com</p>
<p><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html#top" target="_blank"><img src="" alt=""></a>
Processed in 0.097753 second(s), 40 queries , Gzip enabled <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html#top" target="_blank">TOP</a>
<a href="http://www.mscbsc.com/bbs/member.php?action=clearcookies&amp;formhash=f3161c38" target="_blank">清除 Cookies</a> - <a href="mailto:mscbsc@163.com">联系我们</a> - <a href="http://www.mscbsc.com/" target="_blank">移动通信网</a> - <a href="http://www.mscbsc.com/" target="_blank">移动通信论坛</a> - <a href="http://www.telecomhr.com/" target="_blank">通信招聘网</a> - <a href="http://www.mscbsc.com/bbs/archiver/" target="_blank">Archiver</a> - <a href="http://www.mscbsc.com/bbs/wap/" target="_blank">WAP</a> <a href=""></a></p>
<p><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=73bd8be2cbf9ded0b6047737756e5af2" target="_blank"><img src="" alt=""></a> <a href="http://www.51.la/?786775" title="我要啦免费统计 VIP 用户" target="_blank">贵宾统计</a> <img src="" alt="">
<img src="" alt=""> <img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/业务/">业务</a></li></span></span> | <span class="tags">Tagged <a href="/tags/业务/" class="label label-primary">业务</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-连接池--连接池与使用Tomcat的连接池_Jacken_zone/">连接池与使用Tomcat的连接池 _ Jacken_zone</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-连接池--连接池与使用Tomcat的连接池_Jacken_zone/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-tomcat-_-jacken_zone">连接池与使用Tomcat的连接池 _ Jacken_zone</h1>
<h2 id="-tomcat-"><a href="">连接池与使用Tomcat的连接池</a></h2>
<p>Filed under: <a href="http://www.jacken.com.cn/category/it-technology/appserv/" title="显示AppServ的所有日志" target="_blank">AppServ</a>, <a href="http://www.jacken.com.cn/category/it-technology/" title="显示IT Technology的所有日志" target="_blank">IT Technology</a>, <a href="http://www.jacken.com.cn/category/it-technology/jdbc-java/" title="显示JDBC的所有日志" target="_blank">JDBC</a> |</p>
<p>Posted on 12月 13th, 2007 由 Jacken
<strong>What is Connection Pool？看图~~</strong></p>
<p>1)存放Connection对象的容器；
2)减少连接数据库的开销；
3)程序请求连接时，在Connection Pool中取连接；
4)连接使用完后，放回Connection Pool,不释放；
5)Connection Pool对连接进行管理：计数、监控连接状态；</p>
<p><img src="" alt="ConnectionPool-JPool"></p>
<p><strong>自己写个连接池？</strong>
<strong>?</strong>一般情况下不要使用自己写的连接池，很多应用提供连接池，它们的更好更安全更专业…</p>
<p>DbConfig.java
下载: <a href="http://www.jacken.com.cn/wp-content/plugins/coolcode/coolcode.php?p=73&amp;download=DbConfig.java" target="_blank">DbConfig.java</a></p>
<p>package cn.com.jacken.JPool.javabeans;
public class DbConfig {
private String jdbcDriver;
private String url;
private String userName;
private String password;
public String getJdbcDriver() {
return jdbcDriver;
}
public void setJdbcDriver(String jdbcDriver) {
this.jdbcDriver = jdbcDriver;
}
public String getUrl() {
return url;
}
public void setUrl(String url) {
this.url = url;
}
public String getUserName() {
return userName;
}
public void setUserName(String userName) {
this.userName = userName;
}
public String getPassword() {
return password;
}
public void setPassword(String password) {
this.password = password;
}
}</p>
<p>IJConnectionPool.java
下载: <a href="http://www.jacken.com.cn/wp-content/plugins/coolcode/coolcode.php?p=73&amp;download=IJConnectionPool.java" target="_blank">IJConnectionPool.java</a></p>
<p>package cn.com.jacken.JPool;
import java.sql.Connection;
import java.util.Hashtable;
import cn.com.jacken.JPool.javabeans.DbConfig;
public abstract class IJConnectionPool{
protected Hashtable<Connection, String> connectionContainer = newHashtable<Connection, String>();
public abstract void init(int count, DbConfig config) throws Exception;
public abstract Connection getConnection() throws Exception;
public abstract void returnConnection(Connection conn);
}</p>
<p>JConnectionPoolImpl.java
下载: <a href="http://www.jacken.com.cn/wp-content/plugins/coolcode/coolcode.php?p=73&amp;download=JConnectionPoolImpl.java" target="_blank">JConnectionPoolImpl.java</a></p>
<p>package cn.com.jacken.JPool;
import java.sql.Connection;
import java.sql.DriverManager;
import cn.com.jacken.JPool.javabeans.DbConfig;
public class JConnectionPoolImplextendsIJConnectionPool {
public JConnectionPoolImpl(int count, DbConfig config) throws Exception {
this.init(count, config);
}
@Override
publicConnectiongetConnection() throws Exception {
Connection conn = null;
Object[] objList = this.connectionContainer.keySet().toArray();
for (Object obj : objList) {
String value = this.connectionContainer.get(&quot;obj&quot;);
// 判断状态是否为FREE
if (true == value.equals(&quot;FREE&quot;)) {
// 如果当前Connection状态确实为FREE
conn = (Connection) obj;
// 将实例的状态置为BUSY
this.connectionContainer.put(conn, &quot;BUSY&quot;);
break;
}
}
if (null == conn) {
Exception e = new Exception(&quot;没有空闲的Connection,请稍候再试!&quot;);
throwe;
}
// 返回实例给客户代码
return conn;
}
@Override
publicvoid init(int count, DbConfig config) throws Exception {
// 循环的添加Connection实例到Hashtable中
for (int i = 0; i &lt; count; i++) {
// 产生Connection实例
Class.forName(config.getJdbcDriver());
Connection conn = DriverManager.getConnection(config.getUrl(),
config.getUserName(), config.getPassword());
// 将Connection实例添加到Hashtable中
this.connectionContainer.put(conn, &quot;FREE&quot;);
}
}
@Override
publicvoid returnConnection(Connection conn) {
// 将实例的状态置为FREE
this.connectionContainer.put(conn, &quot;FREE&quot;);
}
}</p>
<p><strong>使用Tomcat的连接池</strong></p>
<p>1，配置连接池：在conf目录下的context.xml中，添加一项(可以配置多项)：
下载: <a href="http://www.jacken.com.cn/wp-content/plugins/coolcode/coolcode.php?p=73&amp;download=context.xml" target="_blank">context.xml</a></p>
<Context>
<WatchedResource>WEB-INF/web.xml</WatchedResource>
<!--
name为资源的JNDI查找的名字;
type:资源(一般不变);
maxActive:最大活动链接，如果使用的链接到达这个数目，其后所有的请求连接需要等待；
maxIdle：最大空闲链接，如果超过这个数目，连接池会烧毁多出来的链接；
maxWait：等待时间，请求超过这个时间会抛出异常；
driverClassName：JDBC驱动程序，必须先将其JDBC Driver复制至%TomcatHome%/common/lib下；
username：数据库帐户；
password：数据库帐户密码；
url：URL值
-->
<Resource name="jacken" type="javax.sql.DataSource" maxActive="4"
maxIdle="2" maxWait="5000"
driverClassName="com.mysql.jdbc.Driver"
username="root" password=""
url="jdbc:mysql://localhost:3306/cart" />
</Context>

<p>2，将数据库驱动添加到Tomcat的classPath中或者复制到%TomcatHome%/common/lib下.</p>
<p>3，在代码中使用连接池，获得Connection 实例.
//......
Connection conn = null;
// 获得连接池环境
Contextctx = newInitialContext();
// 获得数据源
DataSource ds = (DataSource) ctx.lookup(&quot;java:comp/env/jacken&quot;);
// 从数据源中 获得Connection实例
conn = ds.getConnection();
// 执行SQL
Statement stmt = conn.createStatement();
ResultSet rs = stmt.executeQuery(sql);
//......</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/连接池/">连接池</a></li></span></span> | <span class="tags">Tagged <a href="/tags/连接池/" class="label label-primary">连接池</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-连接池--连接池与使用Tomcat的连接池_Jacken_zone/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-连接池--连接池与使用Tomcat的连接池_Jacken_zone" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-连接池--druid教程/">druid 教程</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-连接池--druid教程/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="druid-">druid 教程</h1>
<pre><code> java程序很大一部分要操作数据库，为了提高性能操作数据库的时候，有不得不使用数据库连接池。数据库连接池有很多选择，c3p、dhcp、proxool等，druid作为一名后起之秀，凭借其出色的性能，也逐渐印入了大家的眼帘。接下来本教程就说一下druid的简单使用。
</code></pre><p> 首先从<a href="http://repo1.maven.org/maven2/com/alibaba/druid/" target="_blank"><a href="http://repo1.maven.org/maven2/com/alibaba/druid/">http://repo1.maven.org/maven2/com/alibaba/druid/</a></a> 下载最新的jar包。如果想使用最新的源码编译，可以从<a href="https://github.com/alibaba/druid" target="_blank"><a href="https://github.com/alibaba/druid">https://github.com/alibaba/druid</a></a> 下载源码，然后使用maven命令行，或者导入到eclipse中进行编译。</p>
<h2 id="-1-"><a href=""></a>1 配置</h2>
<p>和dbcp类似，druid的配置项如下</p>
<p>配置 缺省值 说明 name   配置这个属性的意义在于，如果存在多个数据源，监控的时候
可以通过名字来区分开来。如果没有配置，将会生成一个名字，
格式是：&quot;DataSource-&quot; + System.identityHashCode(this) jdbcUrl   连接数据库的url，不同数据库不一样。例如：
mysql : jdbc:mysql://10.20.153.104:3306/druid2 
oracle : jdbc:oracle:thin:@10.20.149.85:1521:ocnauto username   连接数据库的用户名 password   连接数据库的密码。如果你不希望密码直接写在配置文件中，
可以使用ConfigFilter。详细看这里：
<a href="https://github.com/alibaba/druid/wiki/%E4%BD%BF%E7%94%A8ConfigFilter" target="_blank"><a href="https://github.com/alibaba/druid/wiki/%E4%BD%BF%E7%94%A8ConfigFilter">https://github.com/alibaba/druid/wiki/%E4%BD%BF%E7%94%A8ConfigFilter</a></a> driverClassName 根据url自动识别 这一项可配可不配，如果不配置druid会根据url自动识别dbType，
然后选择相应的driverClassName initialSize 0 初始化时建立物理连接的个数。初始化发生在显示调用init方法，
或者第一次getConnection时 maxActive 8 最大连接池数量 maxIdle 8 已经不再使用，配置了也没效果 minIdle   最小连接池数量 maxWait   获取连接时最大等待时间，单位毫秒。配置了maxWait之后，
缺省启用公平锁，并发效率会有所下降，
如果需要可以通过配置useUnfairLock属性为true使用非公平锁。 poolPreparedStatements false 是否缓存preparedStatement，也就是PSCache。
PSCache对支持游标的数据库性能提升巨大，比如说oracle。
在mysql下建议关闭。 maxOpenPreparedStatements -1 要启用PSCache，必须配置大于0，当大于0时，
poolPreparedStatements自动触发修改为true。
在Druid中，不会存在Oracle下PSCache占用内存过多的问题，
可以把这个数值配置大一些，比如说100 validationQuery   用来检测连接是否有效的sql，要求是一个查询语句。
如果validationQuery为null，testOnBorrow、testOnReturn、
testWhileIdle都不会其作用。 testOnBorrow true 申请连接时执行validationQuery检测连接是否有效，
做了这个配置会降低性能。 testOnReturn false 归还连接时执行validationQuery检测连接是否有效，
做了这个配置会降低性能 testWhileIdle false 建议配置为true，不影响性能，并且保证安全性。
申请连接的时候检测，如果空闲时间大于
timeBetweenEvictionRunsMillis，
执行validationQuery检测连接是否有效。 timeBetweenEvictionRunsMillis   有两个含义：
1) Destroy线程会检测连接的间隔时间
 2) testWhileIdle的判断依据，详细看testWhileIdle属性的说明 numTestsPerEvictionRun   不再使用，一个DruidDataSource只支持一个EvictionRun minEvictableIdleTimeMillis     connectionInitSqls   物理连接初始化的时候执行的sql exceptionSorter 根据dbType自动识别 当数据库抛出一些不可恢复的异常时，抛弃连接 filters   属性类型是字符串，通过别名的方式配置扩展插件，
常用的插件有：
监控统计用的filter:stat 
日志用的filter:log4j
 防御sql注入的filter:wall proxyFilters   类型是List<com.alibaba.druid.filter.Filter>，
如果同时配置了filters和proxyFilters，
是组合关系，并非替换关系<strong>表1.1 配置属性</strong></p>
<p>根据常用的配置属性，首先给出一个如下的配置文件，放置于src目录下。</p>
<p><strong>[plain]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>url:jdbc:mysql://localhost:3306/dragoon_v25_masterdb  </li>
<li>driverClassName:com.mysql.jdbc.Driver  </li>
<li>username:root  </li>
<li>password:aaaaaaaa  </li>
<li></li>
<li>filters:stat  </li>
<li></li>
<li>maxActive:20  </li>
<li>initialSize:1  </li>
<li>maxWait:60000  </li>
<li>minIdle:10  </li>
<li>/#maxIdle:15  </li>
<li></li>
<li>timeBetweenEvictionRunsMillis:60000  </li>
<li>minEvictableIdleTimeMillis:300000  </li>
<li></li>
<li>validationQuery:SELECT &#39;x&#39;  </li>
<li>testWhileIdle:true  </li>
<li>testOnBorrow:false  </li>
<li>testOnReturn:false  </li>
<li>/#poolPreparedStatements:true  </li>
<li>maxOpenPreparedStatements:20  </li>
<li></li>
<li>/#对于长时间不使用的连接强制关闭  </li>
<li>removeAbandoned:true  </li>
<li>/#超过30分钟开始关闭空闲连接  </li>
<li>removeAbandonedTimeout:1800  </li>
<li>/#将当前关闭动作记录到日志  </li>
<li>logAbandoned:true  </li>
</ol>
<p><strong>配置文件1.1 </strong></p>
<p>配置项中指定了各个参数后，在连接池内部是这么使用这些参数的。数据库连接池在初始化的时候会创建initialSize个连接，当有数据库操作时，会从池中取出一个连接。如果当前池中正在使用的连接数等于maxActive，则会等待一段时间，等待其他操作释放掉某一个连接，如果这个等待时间超过了maxWait，则会报错；如果当前正在使用的连接数没有达到maxActive，则判断当前是否空闲连接，如果有则直接使用空闲连接，如果没有则新建立一个连接。在连接使用完毕后，不是将其物理连接关闭，而是将其放入池中等待其他操作复用。</p>
<p>同时连接池内部有机制判断，如果当前的总的连接数少于miniIdle，则会建立新的空闲连接，以保证连接数得到miniIdle。如果当前连接池中某个连接在空闲了timeBetweenEvictionRunsMillis时间后任然没有使用，则被物理性的关闭掉。有些数据库连接的时候有超时限制（mysql连接在8小时后断开），或者由于网络中断等原因，连接池的连接会出现失效的情况，这时候设置一个testWhileIdle参数为true，可以保证连接池内部定时检测连接的可用性，不可用的连接会被抛弃或者重建，最大情况的保证从连接池中得到的Connection对象是可用的。当然，为了保证绝对的可用性，你也可以使用testOnBorrow为true（即在获取Connection对象时检测其可用性），不过这样会影响性能。</p>
<h2 id="-2-"><a href=""></a>2 代码编写</h2>
<h3 id="-2-1-spring"><a href=""></a>2.1 使用spring</h3>
<p>首先给出spring配置文件</p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  </li>
<li>&lt;beans xmlns=&quot;<a href="http://www.springframework.org/schema/beans" target="_blank">http://www.springframework.org/schema/beans</a>&quot;  </li>
<li>xmlns:xsi=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance" target="_blank">http://www.w3.org/2001/XMLSchema-instance</a>&quot;  </li>
<li>xsi:schemaLocation=&quot;<a href="http://www.springframework.org/schema/mvc" target="_blank">http://www.springframework.org/schema/mvc</a> <a href="http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd" target="_blank">http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</a>  </li>
<li><a href="http://www.springframework.org/schema/beans" target="_blank">http://www.springframework.org/schema/beans</a> <a href="http://www.springframework.org/schema/beans/spring-beans-3.0.xsd" target="_blank">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</a>  </li>
<li><a href="http://www.springframework.org/schema/context" target="_blank">http://www.springframework.org/schema/context</a> <a href="http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;" target="_blank">http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;</a>  </li>
<li><!-- 给web使用的spring文件 -->  </li>
<li>&lt;bean id=&quot;propertyConfigurer&quot;  </li>
<li>class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;  </li>
<li><property name="locations">  </li>
<li><list>  </li>
<li><value>/WEB-INF/classes/dbconfig.properties</value>  </li>
<li></list>  </li>
<li></property>  </li>
<li></bean>  </li>
<li>&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot;  </li>
<li>destroy-method=&quot;close&quot;&gt;  </li>
<li><property name="url" value="${url}" />  </li>
<li><property name="username" value="${username}" />  </li>
<li><property name="password" value="${password}" />  </li>
<li><property name="driverClassName" value="${driverClassName}" />  </li>
<li><property name="filters" value="${filters}" />  </li>
<li></li>
<li><property name="maxActive" value="${maxActive}" />  </li>
<li><property name="initialSize" value="${initialSize}" />  </li>
<li><property name="maxWait" value="${maxWait}" />  </li>
<li><property name="minIdle" value="${minIdle}" />  </li>
<li></li>
<li><property name="timeBetweenEvictionRunsMillis" value="${timeBetweenEvictionRunsMillis}" />  </li>
<li><property name="minEvictableIdleTimeMillis" value="${minEvictableIdleTimeMillis}" />  </li>
<li></li>
<li><property name="validationQuery" value="${validationQuery}" />  </li>
<li><property name="testWhileIdle" value="${testWhileIdle}" />  </li>
<li><property name="testOnBorrow" value="${testOnBorrow}" />  </li>
<li><property name="testOnReturn" value="${testOnReturn}" />  </li>
<li>&lt;property name=&quot;maxOpenPreparedStatements&quot;  </li>
<li>value=&quot;${maxOpenPreparedStatements}&quot; /&gt;  </li>
<li><property name="removeAbandoned" value="${removeAbandoned}" /> <!-- 打开removeAbandoned功能 -->  </li>
<li><property name="removeAbandonedTimeout" value="${removeAbandonedTimeout}" /> <!-- 1800秒，也就是30分钟 -->  </li>
<li><property name="logAbandoned" value="${logAbandoned}" /> <!-- 关闭abanded连接时输出错误日志 -->  </li>
<li></bean>  </li>
<li></li>
<li>&lt;bean id=&quot;dataSourceDbcp&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;  </li>
<li>destroy-method=&quot;close&quot;&gt;  </li>
<li></li>
<li><property name="driverClassName" value="${driverClassName}" />  </li>
<li><property name="url" value="${url}" />  </li>
<li><property name="username" value="${username}" />  </li>
<li><property name="password" value="${password}" />  </li>
<li></li>
<li><property name="maxActive" value="${maxActive}" />  </li>
<li><property name="minIdle" value="${minIdle}" />  </li>
<li><property name="maxWait" value="${maxWait}" />  </li>
<li><property name="defaultAutoCommit" value="true" />  </li>
<li></li>
<li><property name="timeBetweenEvictionRunsMillis" value="${timeBetweenEvictionRunsMillis}" />  </li>
<li><property name="minEvictableIdleTimeMillis" value="${minEvictableIdleTimeMillis}" />  </li>
<li></li>
<li><property name="validationQuery" value="${validationQuery}" />  </li>
<li><property name="testWhileIdle" value="${testWhileIdle}" />  </li>
<li><property name="testOnBorrow" value="${testOnBorrow}" />  </li>
<li><property name="testOnReturn" value="${testOnReturn}" />  </li>
<li>&lt;property name=&quot;maxOpenPreparedStatements&quot;  </li>
<li>value=&quot;${maxOpenPreparedStatements}&quot; /&gt;  </li>
<li><property name="removeAbandoned" value="${removeAbandoned}" />   </li>
<li><property name="removeAbandonedTimeout" value="${removeAbandonedTimeout}" />  </li>
<li><property name="logAbandoned" value="${logAbandoned}" />  </li>
<li></bean>  </li>
<li></li>
<li></li>
<li><!-- jdbcTemplate -->  </li>
<li><bean id="jdbc" class="org.springframework.jdbc.core.JdbcTemplate">  </li>
<li><property name="dataSource">  </li>
<li><ref bean="dataSource" />  </li>
<li></property>  </li>
<li></bean>  </li>
<li></li>
<li>&lt;bean id=&quot;SpringTableOperatorBean&quot; class=&quot;com.whyun.druid.model.TableOperator&quot;  </li>
<li>scope=&quot;prototype&quot;&gt;  </li>
<li><property name="dataSource">  </li>
<li><ref bean="dataSource" />  </li>
<li></property>  </li>
<li></bean>  </li>
<li></li>
<li></beans>  </li>
</ol>
<p><strong>配置文件2.1</strong></p>
<p>其中第一个bean中给出的配置文件/WEB-INF/classes/dbconfig.properties就是第1节中给出的配置文件。我这里还特地给出dbcp的spring配置项，目的就是将两者进行对比，方便大家进行迁移。这里没有使用JdbcTemplate，所以jdbc那个bean没有使用到。下面给出com.whyun.druid.model.TableOperator类的代码。</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>package com.whyun.druid.model;  </li>
<li></li>
<li>import java.sql.Connection;  </li>
<li>import java.sql.PreparedStatement;  </li>
<li>import java.sql.SQLException;  </li>
<li>import java.sql.Statement;  </li>
<li></li>
<li>import javax.sql.DataSource;  </li>
<li></li>
<li>public class TableOperator {  </li>
<li>private DataSource dataSource;  </li>
<li>public void setDataSource(DataSource dataSource) {  </li>
<li>this.dataSource = dataSource;  </li>
<li>}  </li>
<li></li>
<li>private static final int COUNT = 800;      </li>
<li></li>
<li>public TableOperator() {  </li>
<li></li>
<li>}  </li>
<li></li>
<li>public void tearDown() throws Exception {  </li>
<li>try {  </li>
<li>dropTable();  </li>
<li>} catch (SQLException e) {  </li>
<li>e.printStackTrace();  </li>
<li>}         </li>
<li>}  </li>
<li></li>
<li>public void insert() throws Exception {  </li>
<li></li>
<li>StringBuffer ddl = new StringBuffer();  </li>
<li>ddl.append(&quot;INSERT INTO t_big (&quot;);  </li>
<li>for (int i = 0; i &lt; COUNT; ++i) {  </li>
<li>if (i != 0) {  </li>
<li>ddl.append(&quot;, &quot;);  </li>
<li>}  </li>
<li>ddl.append(&quot;F&quot; + i);  </li>
<li>}  </li>
<li>ddl.append(&quot;) VALUES (&quot;);  </li>
<li>for (int i = 0; i &lt; COUNT; ++i) {  </li>
<li>if (i != 0) {  </li>
<li>ddl.append(&quot;, &quot;);  </li>
<li>}  </li>
<li>ddl.append(&quot;?&quot;);  </li>
<li>}  </li>
<li>ddl.append(&quot;)&quot;);  </li>
<li></li>
<li>Connection conn = dataSource.getConnection();  </li>
<li></li>
<li>//        System.out.println(ddl.toString());  </li>
<li></li>
<li>PreparedStatement stmt = conn.prepareStatement(ddl.toString());  </li>
<li></li>
<li>for (int i = 0; i &lt; COUNT; ++i) {  </li>
<li>stmt.setInt(i + 1, i);  </li>
<li>}  </li>
<li>stmt.execute();  </li>
<li>stmt.close();  </li>
<li></li>
<li>conn.close();  </li>
<li>}  </li>
<li></li>
<li>private void dropTable() throws SQLException {  </li>
<li></li>
<li>Connection conn = dataSource.getConnection();  </li>
<li></li>
<li>Statement stmt = conn.createStatement();  </li>
<li>stmt.execute(&quot;DROP TABLE t_big&quot;);  </li>
<li>stmt.close();  </li>
<li></li>
<li>conn.close();  </li>
<li>}  </li>
<li></li>
<li>public void createTable() throws SQLException {  </li>
<li>StringBuffer ddl = new StringBuffer();  </li>
<li>ddl.append(&quot;CREATE TABLE t_big (FID INT AUTO_INCREMENT PRIMARY KEY &quot;);  </li>
<li>for (int i = 0; i &lt; COUNT; ++i) {  </li>
<li>ddl.append(&quot;, &quot;);  </li>
<li>ddl.append(&quot;F&quot; + i);  </li>
<li>ddl.append(&quot; BIGINT NULL&quot;);  </li>
<li>}  </li>
<li>ddl.append(&quot;)&quot;);  </li>
<li></li>
<li>Connection conn = dataSource.getConnection();  </li>
<li></li>
<li>Statement stmt = conn.createStatement();  </li>
<li>stmt.execute(ddl.toString());  </li>
<li>stmt.close();  </li>
<li></li>
<li>conn.close();  </li>
<li>}  </li>
<li>}  </li>
</ol>
<p><strong>代码片段2.1</strong></p>
<p><strong>注意：在使用的时候，通过获取完Connection对象，在使用完之后，要将其close掉，这样其实是将用完的连接放入到连接池中，如果你不close的话，会造成连接泄露。</strong>
然后我们写一个servlet来测试他.</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>package com.whyun.druid.servelt;  </li>
<li></li>
<li>import java.io.IOException;  </li>
<li>import java.io.PrintWriter;  </li>
<li>import java.sql.SQLException;  </li>
<li></li>
<li>import javax.servlet.ServletContext;  </li>
<li>import javax.servlet.ServletException;  </li>
<li>import javax.servlet.http.HttpServlet;  </li>
<li>import javax.servlet.http.HttpServletRequest;  </li>
<li>import javax.servlet.http.HttpServletResponse;  </li>
<li></li>
<li>import org.springframework.web.context.WebApplicationContext;  </li>
<li>import org.springframework.web.context.support.WebApplicationContextUtils;  </li>
<li></li>
<li>import com.whyun.druid.model.TableOperator;  </li>
<li></li>
<li>public class TestServlet extends HttpServlet {  </li>
<li>private TableOperator operator;  </li>
<li></li>
<li></li>
<li>@Override  </li>
<li>public void init() throws ServletException {  </li>
<li></li>
<li>super.init();  </li>
<li>ServletContext servletContext = this.getServletContext();     </li>
<li></li>
<li>WebApplicationContext ctx  </li>
<li>= WebApplicationContextUtils.getWebApplicationContext(servletContext);  </li>
<li>operator = (TableOperator)ctx.getBean(&quot;SpringTableOperatorBean&quot;);  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* The doGet method of the servlet. <br> </li>
<li>/* </li>
<li>/* This method is called when a form has its tag value method equals to get. </li>
<li>/*  </li>
<li>/* @param request the request send by the client to the server </li>
<li>/* @param response the response send by the server to the client </li>
<li>/* @throws ServletException if an error occurred </li>
<li>/* @throws IOException if an error occurred </li>
<li>/*/  </li>
<li>public void doGet(HttpServletRequest request, HttpServletResponse response)  </li>
<li>throws ServletException, IOException {  </li>
<li></li>
<li>response.setContentType(&quot;text/html&quot;);  </li>
<li>PrintWriter out = response.getWriter();  </li>
<li></li>
<li>boolean createResult = false;  </li>
<li>boolean insertResult = false;  </li>
<li>boolean dropResult = false;  </li>
<li></li>
<li>try {  </li>
<li>operator.createTable();  </li>
<li>createResult = true;  </li>
<li>} catch (SQLException e) {  </li>
<li>e.printStackTrace();  </li>
<li>}  </li>
<li>if (createResult) {  </li>
<li>try {  </li>
<li>operator.insert();  </li>
<li>insertResult = true;  </li>
<li>} catch (Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>}  </li>
<li>try {  </li>
<li>operator.tearDown();  </li>
<li>dropResult = true;  </li>
<li>} catch (Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li></li>
<li>out.println(&quot;{&#39;createResult&#39;:&quot;+createResult+&quot;,&#39;insertResult&#39;:&quot;  </li>
<li>+insertResult+&quot;,&#39;dropResult&#39;:&quot;+dropResult+&quot;}&quot;);  </li>
<li></li>
<li>out.flush();  </li>
<li>out.close();  </li>
<li>}  </li>
<li></li>
<li>}<br><strong>代码片段2.2</strong></li>
</ol>
<p>这里没有用到struts2或者springmvc，虽然大部分开发者用的是这两种框架。</p>
<h3 id="-2-2-spring"><a href=""></a>2.2 不使用spring</h3>
<p>类似于dbcp，druid也提供了原生态的支持。先看下面这段代码：</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>package com.whyun.util.db;  </li>
<li></li>
<li>import javax.sql.DataSource;  </li>
<li></li>
<li>import org.apache.commons.dbcp.BasicDataSourceFactory;  </li>
<li></li>
<li>import com.alibaba.druid.pool.DruidDataSourceFactory;  </li>
<li>import com.whyun.util.config.MySqlConfigProperty;  </li>
<li>import com.whyun.util.config.MySqlConfigProperty2;  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* The Class DataSourceUtil. </li>
<li>/*/  </li>
<li>public class DataSourceUtil {  </li>
<li></li>
<li>//<em>/</em> 使用配置文件dbconfig.properties构建Druid数据源. /*/  </li>
<li>public static final int DRUID_MYSQL_SOURCE = 0;  </li>
<li></li>
<li>//<em>/</em> 使用配置文件dbconfig2.properties构建Druid数据源. /*/  </li>
<li>public static final int DRUID_MYSQL_SOURCE2 = 1;  </li>
<li></li>
<li>//<em>/</em> 使用配置文件dbconfig.properties构建Dbcp数据源. /*/  </li>
<li>public static final int DBCP_SOURCE = 4;  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 根据类型获取数据源 </li>
<li>/* </li>
<li>/* @param sourceType 数据源类型 </li>
<li>/* @return druid或者dbcp数据源 </li>
<li>/* @throws Exception the exception </li>
<li>/*/  </li>
<li>public static final DataSource getDataSource(int sourceType)  </li>
<li>throws Exception {  </li>
<li>DataSource dataSource = null;  </li>
<li>switch(sourceType) {  </li>
<li>case DRUID_MYSQL_SOURCE:              </li>
<li>dataSource = DruidDataSourceFactory.createDataSource(  </li>
<li>MySqlConfigProperty.getInstance().getProperties());               </li>
<li>break;  </li>
<li>case DRUID_MYSQL_SOURCE2:  </li>
<li>dataSource = DruidDataSourceFactory.createDataSource(  </li>
<li>MySqlConfigProperty2.getInstance().getProperties());  </li>
<li>break;  </li>
<li>case DBCP_SOURCE:  </li>
<li>dataSource = BasicDataSourceFactory.createDataSource(  </li>
<li>MySqlConfigProperty.getInstance().getProperties());  </li>
<li>break;  </li>
<li>}  </li>
<li>return dataSource;  </li>
<li>}  </li>
<li>}  </li>
</ol>
<p><strong>代码片段2.3 手动读取配置文件初始化连接池</strong></p>
<p>第37行中调用了类com.alibaba.druid.pool.DruidDataSourceFactory中createDataSource方法来初始化一个连接池。对比dbcp的使用方法，两者很相似。</p>
<p>下面给出一个多线程的测试程序。运行后可以比较druid和dbcp的性能差别。</p>
<p><strong>[java]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>package com.whyun.druid.test;  </li>
<li></li>
<li>import java.sql.SQLException;  </li>
<li>import java.util.ArrayList;  </li>
<li>import java.util.List;  </li>
<li>import java.util.concurrent.Callable;  </li>
<li>import java.util.concurrent.ExecutorService;  </li>
<li>import java.util.concurrent.Executors;  </li>
<li>import java.util.concurrent.Future;  </li>
<li>import java.util.concurrent.TimeUnit;  </li>
<li></li>
<li>import com.whyun.druid.model.TableOperator;  </li>
<li>import com.whyun.util.db.DataSourceUtil;  </li>
<li></li>
<li>public class MutilThreadTest {  </li>
<li>public static void test(int dbType, int times)  </li>
<li>throws Exception {   </li>
<li>int numOfThreads =Runtime.getRuntime().availableProcessors()/*2;  </li>
<li>ExecutorService executor = Executors.newFixedThreadPool(numOfThreads);    </li>
<li>final TableOperator test = new TableOperator();  </li>
<li>//        int dbType = DataSourceUtil.DRUID_MYSQL_SOURCE;  </li>
<li>//        dbType = DataSourceUtil.DBCP_SOURCE;  </li>
<li>test.setDataSource(DataSourceUtil.getDataSource(dbType));  </li>
<li></li>
<li>boolean createResult = false;  </li>
<li>try {  </li>
<li>test.createTable();  </li>
<li>createResult = true;  </li>
<li>} catch (SQLException e) {  </li>
<li>e.printStackTrace();  </li>
<li>}  </li>
<li>if (createResult) {  </li>
<li>List<Future<Long>&gt; results = new ArrayList<Future<Long>&gt;();     </li>
<li>for (int i = 0; i &lt; times; i++) {    </li>
<li>results.add(executor.submit(new Callable<Long>() {    </li>
<li>@Override    </li>
<li>public Long call() throws Exception {    </li>
<li>long begin = System.currentTimeMillis();  </li>
<li>try {  </li>
<li>test.insert();  </li>
<li>//insertResult = true;  </li>
<li>} catch (Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>}                             </li>
<li>long end = System.currentTimeMillis();    </li>
<li>return end - begin;    </li>
<li>}    </li>
<li>}));    </li>
<li>}    </li>
<li>executor.shutdown();    </li>
<li>while(!executor.awaitTermination(Long.MAX_VALUE, TimeUnit.DAYS));    </li>
<li></li>
<li>long sum = 0;    </li>
<li>for (Future<Long> result : results) {    </li>
<li>sum += result.get();    </li>
<li>}    </li>
<li></li>
<li></li>
<li>System.out.println(&quot;---------------db type &quot;+dbType+&quot;------------------&quot;);    </li>
<li>System.out.println(&quot;number of threads :&quot; + numOfThreads + &quot; times:&quot; + times);    </li>
<li>System.out.println(&quot;running time: &quot; + sum + &quot;ms&quot;);    </li>
<li>System.out.println(&quot;TPS: &quot; + (double)(100000 /* 1000) / (double)(sum));    </li>
<li>System.out.println();    </li>
<li>try {  </li>
<li>test.tearDown();  </li>
<li>//dropResult = true;  </li>
<li>} catch (Exception e) {  </li>
<li>e.printStackTrace();  </li>
<li>}  </li>
<li>} else {  </li>
<li>System.out.println(&quot;初始化数据库失败&quot;);  </li>
<li>}  </li>
<li></li>
<li>}    </li>
<li></li>
<li>public static void main (String argc[])  </li>
<li>throws Exception {  </li>
<li>test(DataSourceUtil.DBCP_SOURCE,50);  </li>
<li>test(DataSourceUtil.DRUID_MYSQL_SOURCE,50);  </li>
<li></li>
<li>}  </li>
<li>}  </li>
</ol>
<p><strong>代码片段2.4 连接池多线程测试程序</strong></p>
<hr>
<h2 id="-3-"><a href=""></a><strong>3 监控</strong></h2>
<h3 id="-3-1-web-"><a href=""></a><strong>3.1 web监控</strong></h3>
<p>druid提供了sql语句查询时间等信息的监控功能。为了让数据库查询一直运行，下面特地写了一个ajax进行轮询。同时，还要保证在web.xml中配置如下信息</p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li><servlet>  </li>
<li><servlet-name>DruidStatView</servlet-name>  </li>
<li><servlet-class>com.alibaba.druid.support.http.StatViewServlet</servlet-class>  </li>
<li></servlet>  </li>
<li><servlet-mapping>  </li>
<li><servlet-name>DruidStatView</servlet-name>  </li>
<li><url-pattern>/druid//*</url-pattern>  </li>
<li></servlet-mapping><br><strong>配置文件3.1 在web.xml中添加druid监控</strong></li>
</ol>
<p><em>**</em>同时将ajax代码提供如下</p>
<p><strong>[javascript]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li>function showTime() {  </li>
<li>var myDate = new Date();  </li>
<li>var timeStr = &#39;&#39;;  </li>
<li>timeStr += myDate.getFullYear()+&#39;-&#39;; //获取完整的年份(4位,1970-????)  </li>
<li>timeStr += myDate.getMonth()+&#39;-&#39;;      //获取当前月份(0-11,0代表1月)  </li>
<li>timeStr += myDate.getDate() + &#39; &#39;;      //获取当前日(1-31)  </li>
<li>timeStr += myDate.getHours()+&#39;:&#39;;      //获取当前小时数(0-23)  </li>
<li>timeStr += myDate.getMinutes()+&#39;:&#39;;    //获取当前分钟数(0-59)  </li>
<li>timeStr += myDate.getSeconds();    //获取当前秒数(0-59)  </li>
<li>return timeStr  </li>
<li>}  </li>
<li>$(document).ready(function() {  </li>
<li>function loadDBTestMessage() {  </li>
<li>$.get(&#39;servlet/MysqlTestServlet&#39;,function(data) {  </li>
<li>if (typeof(data) != &#39;object&#39;) {  </li>
<li>data = eval(&#39;(&#39; + data + &#39;)&#39;);  </li>
<li>}  </li>
<li>var html = &#39;[&#39;+showTime()+&#39;]&#39;;  </li>
<li>html += &#39;创建：&#39; + data[&#39;createResult&#39;];  </li>
<li>html +=  &#39;插入：&#39; + data[&#39;insertResult&#39;];  </li>
<li>html += &#39;销毁:&#39; + data[&#39;dropResult&#39;];  </li>
<li>html +=   </li>
<li>$(&#39;/#message&#39;).html(html);  </li>
<li>});  </li>
<li>}  </li>
<li></li>
<li>setInterval(function() {  </li>
<li>loadDBTestMessage();  </li>
<li>}, 10000);  </li>
<li>});<br><strong>代码片段3.1 ajax轮询</strong></li>
</ol>
<p>这时打开<a href="http://localhost/druid-web/druid/" target="_blank">http://localhost/druid-web/druid/</a> 地址，会看到监控界面，点击其中的sql标签。</p>
<p><img src="" alt=""></p>
<p><strong>图3.1 监控界面查看sql查询时间</strong></p>
<p><strong>注意：在写配置文件1.1时，要保证filter配置项中含有stat属性，否则这个地方看不到sql语句的监控数据。</strong></p>
<p>表格中各项含义如下</p>
<hr>
<p>名称</p>
<p>解释</p>
<p>备注 ExecuteCount</p>
<p>当前sql已执行次数 ExecTime</p>
<p>当前sql已执行时间 ExecMax</p>
<p>当前sql最大执行时间 Txn</p>
<p>当前运行的事务数量 Error</p>
<p>当前sql执行出错的数目 Update</p>
<p>当前sql更新或者删除操作中已经影响的行数 FetchRow</p>
<p>当前sql操作中已经读取的行数 Running</p>
<p>当前sql正在运行的数目 Concurrent</p>
<p>当前sql最大并发执行数  ExecHisto </p>
<p>当前sql做execute操作的时间分布数组</p>
<p>分为0-1,1-10,10-100,100-1000，&gt;1000，5个时间分布区域，单位为ms ExecRsHisto </p>
<p>当前sql做execute操作和resultSet</p>
<p>打开至关闭的时间总和分布数组</p>
<p>同上 FetchRowHisto</p>
<p>当前sql查询时间分布数组</p>
<p>同上 UpdateHisto </p>
<p>当前sql更新、删除时间分布数组</p>
<p>同上表3.1 监控字段含义</p>
<p>老版本的druid的jar包中不支持通过web界面进行远程监控，从0.2.14开始可以通过配置jmx地址来获取远程运行druid的服务器的监控信息。具体配置方法如下：</p>
<p><strong>[html]</strong> <a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="view plain" target="_blank">view plain</a><a href="http://blog.csdn.net/yunnysunny/article/details/8657095#" title="copy" target="_blank">copy</a></p>
<ol>
<li><servlet>  </li>
<li><servlet-name>DruidStatView</servlet-name>  </li>
<li><servlet-class>com.alibaba.druid.support.http.StatViewServlet</servlet-class>  </li>
<li><init-param>  </li>
<li><param-name>jmxUrl</param-name>  </li>
<li><param-value>service:jmx:rmi:///jndi/rmi://localhost:9004/jmxrmi</param-value>  </li>
<li></init-param>  </li>
<li></servlet>  </li>
<li><servlet-mapping>  </li>
<li><servlet-name>DruidStatView</servlet-name>  </li>
<li><url-pattern>/druid//*</url-pattern>  </li>
<li></servlet-mapping><br>配置文件3.2 远程监控web</li>
</ol>
<p>这里连接的配置参数中多了一个jmxUrl，里面配置一个jmx连接地址。jmx连接中也可以指定用户名、密码，在上面的servlet中添加两个init-param，其param-name分别为jmxUsername和jmxPassword，分别对应连接jmx的用户名和密码。对于jmx在服务器端的配置，可以参考3.2节中的介绍。</p>
<h3 id="-3-2-jconsole-"><a href=""></a><strong>3.2 jconsole监控</strong></h3>
<p>同时druid提供了jconsole监控的功能，因为界面做的不是很好，所以官方中没有对其的相关介绍。如果是纯java程序的话，上面提到的web监控就无法使用了，jconsole的作用就体现出来了。不过我在下面做教程的时候，依然使用的是刚才用的web项目。</p>
<p>首先在catalina.bat（或者catalina.sh）中加入java的启动选项，放置于if &quot;%OS%&quot; == &quot;Windows_NT&quot; setlocal这句之后。</p>
<p>set JAVA_OPTS=%JAVA_OPTS% -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=&quot;9004&quot; -Dcom.sun.management.jmxremote.authenticate=&quot;false&quot; -Dcom.sun.management.jmxremote.ssl=&quot;false&quot;</p>
<p>保存完之后，启动startup.bat(或者startup.sh)来运行tomcat（上面设置java启动项的配置，按理来说在eclipse中也能适用，但是笔者在其下没有试验成功）。然后在远程的某台电脑的命令行中运行如下命令</p>
<p>jconsole -pluginpath E:\kuaipan\workspace6\druid-web\WebRoot\WEB-INF\lib\druid-0.2.11.jar</p>
<p>这里的最后一个参数就是你的druid的jar包的路径。</p>
<p><img src="" alt=""></p>
<p><strong>图3.2 jconsole连接界面</strong></p>
<p>在远程进程的输入框里面输入ip:端口号，然后点击连接（上面的配置中没有指定用户名、密码，所以这里不用填写）。打开的界面如下：</p>
<p><img src="" alt=""></p>
<p><strong>图3.3 jconsole 连接成功界面</strong></p>
<p>可以看到和web监控界面类似的数据了。
来源： <a href="[http://blog.csdn.net/yunnysunny/article/details/8657095](http://blog.csdn.net/yunnysunny/article/details/8657095)">[http://blog.csdn.net/yunnysunny/article/details/8657095](http://blog.csdn.net/yunnysunny/article/details/8657095)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/连接池/">连接池</a></li></span></span> | <span class="tags">Tagged <a href="/tags/连接池/" class="label label-primary">连接池</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-连接池--druid教程/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-连接池--druid教程" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/41/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/39/">39</a></li><li><a class="page-number" href="/page/40/">40</a></li><li><a class="page-number" href="/page/41/">41</a></li><li class="active"><li><span class="page-number current">42</span></li><li><a class="page-number" href="/page/43/">43</a></li><li><a class="page-number" href="/page/44/">44</a></li><li><a class="page-number" href="/page/45/">45</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/43/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 17:28:49</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
