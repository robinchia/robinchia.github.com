
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 117 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB--SQL--JOIN之完全用法版本2/">SQL</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB--SQL--JOIN之完全用法版本2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="sql-join-2-">SQL--JOIN之完全用法(版本2)</h1>
<h1 id="-zwws-s-blog-http-www-phpweblog-net-zwws-"><a href="http://www.phpweblog.net/zwws/" target="_blank">zwws&#39;s blog</a></h1>
<p>Blog For PHP Learning...</p>
<p>  <a href="http://www.phpweblog.net/" target="_blank">PHP博客</a> :: <a href="http://www.phpweblog.net/zwws/" target="_blank">首页</a> :: <a href="http://www.phpweblog.net/zwws/contact.aspx" target="_blank">联系</a> :: <a href="http://www.phpweblog.net/zwws/Rss.aspx" target="_blank">聚合</a> <a href="http://www.phpweblog.net/zwws/Rss.aspx" target="_blank"><img src="" alt=""></a> :: <a href="http://www.phpweblog.net/zwws/admin/EditPosts.aspx" target="_blank">管理</a>   6 Posts :: 0 Stories :: 15 Comments :: 0 Trackbacks</p>
<h3 id="-1-">留言簿(1)</h3>
<ul>
<li><a href="http://www.phpweblog.net/zwws/Contact.aspx?id=1" target="_blank">给我留言</a></li>
<li><a href="http://www.phpweblog.net/zwws/default.aspx?opt=msg" target="_blank">查看公开留言</a></li>
<li><a href="http://www.phpweblog.net/zwws/admin/MyMessages.aspx" target="_blank">查看私人留言</a></li>
</ul>
<h3 id="-">我参与的团队</h3>
<h3 id="-">随笔分类</h3>
<ul>
<li><a href="http://www.phpweblog.net/zwws/category/174.html" target="_blank">PHP技巧(2)</a> <a href="http://www.phpweblog.net/zwws/category/174.html/rss" title="Subscribe to PHP技巧(2)" target="_blank"><img src="&quot;Subscribe to PHP技巧(2" alt="rss">&quot;)</a></li>
<li><a href="http://www.phpweblog.net/zwws/category/175.html" target="_blank">PHP思路</a> <a href="http://www.phpweblog.net/zwws/category/175.html/rss" title="Subscribe to PHP思路" target="_blank"><img src="&quot;Subscribe to PHP思路&quot;" alt="rss"></a></li>
<li><a href="http://www.phpweblog.net/zwws/category/176.html" target="_blank">PHP游戏(1)</a> <a href="http://www.phpweblog.net/zwws/category/176.html/rss" title="Subscribe to PHP游戏(1)" target="_blank"><img src="&quot;Subscribe to PHP游戏(1" alt="rss">&quot;)</a></li>
<li><a href="http://www.phpweblog.net/zwws/category/177.html" target="_blank">SQL技巧(2)</a> <a href="http://www.phpweblog.net/zwws/category/177.html/rss" title="Subscribe to SQL技巧(2)" target="_blank"><img src="&quot;Subscribe to SQL技巧(2" alt="rss">&quot;)</a></li>
</ul>
<h3 id="-">随笔档案</h3>
<ul>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02.html" target="_blank">2007年2月 (6)</a></li>
</ul>
<h3 id="-">搜索</h3>
<p>*</p>
<ul>
<li></li>
</ul>
<h3 id="-http-www-phpweblog-net-zwws-commentsrss-aspx-">最新评论 <a href="http://www.phpweblog.net/zwws/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.phpweblog.net/zwws/archive/2008/06/04/944.html#4398" target="_blank">1. re: sql的left join 命令详解</a></li>
<li>的确不错啊<del>~很详细</del>谁都能理解 谢谢</li>
<li>--文祥</li>
<li><a href="http://www.phpweblog.net/zwws/archive/2008/04/27/944.html#3277" target="_blank">2. re: sql的left join 命令详解</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--joe</li>
<li><a href="http://www.phpweblog.net/zwws/archive/2008/04/02/921.html#3124" target="_blank">3. re: 顺序输出 123A, 123B,123C... 实现方式。</a></li>
<li>sdfsd</li>
<li>--21312</li>
<li><a href="http://www.phpweblog.net/zwws/archive/2008/03/28/944.html#3074" target="_blank">4. re: sql的left join 命令详解</a></li>
<li>牛人！！！！</li>
<li>--深山狩猎人</li>
<li><a href="http://www.phpweblog.net/zwws/archive/2008/03/17/944.html#2987" target="_blank">5. re: sql的left join 命令详解[未登录]</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--ruderal</li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/944.aspx" target="_blank">1. sql的left join 命令详解(23763)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.aspx" target="_blank">2. SQL--JOIN之完全用法(版本2)(7393)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/945.aspx" target="_blank">3. SQL--JOIN之完全用法(版本1)(1198)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/18/921.aspx" target="_blank">4. 顺序输出 123A, 123B,123C... 实现方式。(300)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/18/920.aspx" target="_blank">5. PHP代码收集<a href="263">标哥版</a></a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/944.aspx" target="_blank">1. sql的left join 命令详解(11)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.aspx" target="_blank">2. SQL--JOIN之完全用法(版本2)(2)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/945.aspx" target="_blank">3. SQL--JOIN之完全用法(版本1)(1)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/18/921.aspx" target="_blank">4. 顺序输出 123A, 123B,123C... 实现方式。(1)</a></li>
<li><a href="http://www.phpweblog.net/zwws/archive/2007/02/19/922.aspx" target="_blank">5. php实现首页自动选择语言转跳(0)</a></li>
</ul>
<p>*
 <a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.html" target="_blank">SQL--JOIN之完全用法(版本2)</a></p>
<p>在我叙述 JOIN 的用法前，我先引用数据库设计中最常见的范式资料。</p>
<p>第三范式（ 3NF ）：如果关系模式 R （ U ， F ）中的所有非主属性对任何候选关键字都不存在传递信赖，则称关系 R 是属于第三范式的。</p>
<p>例：如 S1 （ SNO ， SNAME ， DNO ， DNAME ， LOCATION ） 各属性分别代表学号，姓名，所在系，系名称，系地址。</p>
<p>关键字 SNO 决定各个属性。由于是单个关键字，没有部分依赖的问题，肯定是 2NF 。但这关系肯定有大量的冗余，有关学生所在的几个属性 DNO ， DNAME ， LOCATION 将重复存储，插入，删除和修改时也将产生类似以上例的情况。</p>
<p>原因：关系中存在传递依赖造成的。由于 SNAME 和 DNO 是依赖 SNO ，而 DNAME 和 LOCATION 是依赖 DNO 的，即通过一个学号可以知道该学生的姓名以及他所在系代码，但无法由学号知道系地址，学号和系地址间是通过学号所对应的学生的所在系关联的， 因此关键字 SNO 对 LOCATION 函数决定是通过传递依赖 DNO -&gt; LOCATION 实现的。也就是说， SNO 不直接决定非主属性 LOCATION 。</p>
<p>解决目地：每个关系模式中不能留有传递依赖。</p>
<p>解决方法：分为两个关系 S （ SNO ， SNAME ， DNO ）， D （ DNO ， DNAME ， LOCATION ）</p>
<p>注意：关系 S 中不能没有外关键字 DNO 。否则两个关系之间失去联系。</p>
<p>在数据库的设计过程中常常按照第三范式来设计数据库，当然在有些场合为优化数据库的性能而增加了相关冗余字段以使表的结构不符合 3NF ，在多数场合中，没有一张表能完整的发挥客户所需要的结果集。这样就需要通过联接多张在逻辑上存在依赖关系的表，选择你所需要的数据。    </p>
<p>在使用 JOIN 前，必须明白是通过联接，根据各个表之间的逻辑关系从相关表中检索数据。通过 SQL Server 自带帮助文件，可以清楚的知道：可在 FROM 或 WHERE 子句中指定联接。</p>
<h2 id="-1-1-where-"><a href="">1.1.         在 WHERE</a>子句中指定联接</h2>
<p>下例使用 WHERE 子句进行表之间的</p>
<p>SELECT A.SYMBOL,A.SNAME,B.TDATE,B.CLOSE</p>
<p>FROM SECURITYCODE A,DAYQUOTE B</p>
<p>WHERE A.SYMBOL =B.SYMBOL</p>
<pre><code>AND  B.TDATE &gt;= A.LISTDATE

AND A.SYMBOL LIKE  &#39;600%&#39;
</code></pre><p>在上例中联接的表 A 与表 B 通过 A.SYMBOL =B.SYMBOL 这个条件联接，筛选条件为 B.TDATE 不小于 A. LISTDATE 。</p>
<p>在 WHERE 子句中指定联接，对于较简单的联接，使用这种方式可能较方便，但综合来说，不推荐使用该语法联接表。</p>
<h2 id="-1-2-from-"><a href="">1.2.         在 FROM</a>子句中指定联接</h2>
<p>拿上面的例子来详细说，表 SECURITYCODE 中主要存放证券代码的基本信息，表中的 SYMBOL 代表股票代码， SNAME 代表股票名称， LISTDATE 代表上市日期；表 DAYQUOTE 中主要存放股票的每日行情。 SYMBOL 代表股票代码， TDATE 代表交易日期， CLOSE 代表收盘价。</p>
<p>我现在的取值逻辑是：取出股票代码以 600 打头的股票自上市日期以来的所有交易日的收盘价。将 SECURITYCODE 与 DAYQUOTE 通过 SYMBOL 联接。</p>
<p>SELECT A.SYMBOL,A.SNAME,B.TDATE,B. CLOSE</p>
<p>FROM SECURITYCODE A</p>
<p>JOIN DAYQUOTE B</p>
<pre><code>ON A.SYMBOL =B.SYMBOL
</code></pre><p>WHERE  B.TDATE &gt;= A.LISTDATE</p>
<pre><code>AND A.SYMBOL LIKE &#39;600%&#39;
</code></pre><p>ORDER BY A.SYMBOL,B.TDATE</p>
<p>对于使用 FROM 子句方式联接表，可以很清楚的看出表之间的联接条件。就可读性以及后续的可修改性与 WHERE 子句相比有较大的优势。</p>
<p>下面就联接的方式引用帮助文件中的具体介绍，联接可以分为以下几种：</p>
<h2 id="-1-3-"><a href="">1.3.         内联接</a></h2>
<p>内联接（典型的联接运算，使用像 = 或 &lt;&gt; 之类的比较运算符）。包括相等联接和自然联接。</p>
<p>内联接使用比较运算符根据每个表共有的列的值匹配两个表中的行。</p>
<p>在 SQL-92 标准中，内联接可在 FROM 或 WHERE 子句中指定。这是 WHERE 子句中唯一一种 SQL-92 支持的联接类型。 WHERE 子句中指定的内联接称为旧式内联接。</p>
<p>内联接一般常见写法：</p>
<p>SELECT A.COLUMN1,[A.COLUMN2],B.COLUMN1,[B.COLUMN2]</p>
<p>FROM  TABLE1 A</p>
<p>[INNER] JOIN TABLE2 B</p>
<pre><code>ON A.COLUMN0 = B.COLUMN0
</code></pre><p>在查询分析器中使用 INNER JOIN 时常常省略 INNER 。</p>
<h2 id="-1-4-"><a href="">1.4.         外联接</a></h2>
<p>外联接可以是左向外联接、右向外联接或完整外部联接。</p>
<p>在 FROM 子句中指定外联接时，可以由下列几组关键字中的一组指定：</p>
<p><strong>LEFT JOIN**</strong>或 LEFT OUTER JOIN**</p>
<p>左向外联接的结果集包括 LEFT OUTER 子句中指定的左表的所有行，而不仅仅是联接列所匹配的行。如果左表的某行在右表中没有匹配行，则在相关联的结果集行中右表的所有选择列表列均为空值。</p>
<p><strong>RIGHT JOIN**</strong>或 RIGHT OUTER JOIN**</p>
<p>右向外联接是左向外联接的反向联接。将返回右表的所有行。如果右表的某行在左表中没有匹配行，则将为左表返回空值。</p>
<p><strong>FULL JOIN**</strong>或 FULL OUTER JOIN**</p>
<p>完整外部联接返回左表和右表中的所有行。当某行在另一个表中没有匹配行时，则另一个表的选择列表列包含空值。如果表之间有匹配行，则整个结果集行包含基表的数据值。</p>
<p>仅当至少有一个同属于两表的行符合联接条件时，内联接才返回行。内联接消除与另一个表中的任何行不匹配的行。而外联接会返回 FROM 子句中提到的至少一个表或视图的所有行，只要这些行符合任何 WHERE 或 HAVING 搜索条件。将检索通过左向外联接引用的左表的所有行，以及通过右向外联接引用的右表的所有行。完整外部联接中两个表的所有行都将返回。</p>
<p>外联接的中常见的是 LEFT JOIN ，将 LEFT JOIN 用熟已经可以解决大半问题了。</p>
<p>外联接的一般写法：</p>
<p>SELECT A.COLUMN1,[A.COLUMN2],B.COLUMN1,[B.COLUMN2]</p>
<p>FROM  TABLE1 A</p>
<p>LEFT|RIGHT|FULL [OUTER] JOIN TABLE2 B</p>
<pre><code>ON A.COLUMN0 = B.COLUMN0
</code></pre><p>在查询分析器中使用 OUTER JOIN 时常常省略 OUTER 。 LEFT 和 RIGHT 只是方向问题，在特定场合下， FULL OUTER JOIN 相当于 LEFT OUTER JOIN 和 RIGHT OUTER JOIN 的消除重复行的合集。</p>
<h2 id="-1-5-"><a href="">1.5.         交叉联接</a></h2>
<p>交叉联接返回左表中的所有行，左表中的每一行与右表中的所有行组合。交叉联接也称作笛卡尔积。</p>
<p>没有 WHERE 子句的交叉联接将产生联接所涉及的表的笛卡尔积。第一个表的行数乘以第二个表的行数等于笛卡尔积结果集的大小。也就是说在没有 WHERE 子句的情况下，若表 A 有 3 行记录，表 B 有 6 行记录 : ：</p>
<p>SELECT  A./<em>,B./</em>  FROM 表A  CROSS  JOIN 表B</p>
<p>那以上语句会返回 18 行记录。</p>
<p>posted on 2007-02-23 20:58 <a href="http://www.phpweblog.net/zwws/" target="_blank">zwws</a> 阅读(7393) <a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.html#Post" target="_blank">评论(2)</a>  <a href="http://www.phpweblog.net/zwws/admin/EditPosts.aspx?postid=946" target="_blank">编辑</a> <a href="http://www.phpweblog.net/zwws/AddToFavorite.aspx?id=946" target="_blank">收藏</a> <a href="http://www.phpweblog.net/zwws/services/trackbacks/946.aspx" target="_blank">引用</a> <a href="">网摘</a><img src="" alt=""></p>
<p><a href=""></a><a href=""></a></p>
<h3 id="feedback">Feedback</h3>
<p><a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.html#1617" title="permalink: re: SQL--JOIN之完全用法(版本2)" target="_blank">/#</a> <a href=""></a>re: SQL--JOIN之完全用法(版本2) 2007-07-29 15:02 <a href="http://www.hoopower.com/">翡翠</a></p>
<p>全联怎么写
[<a href="http://www.hoopower.com/" target="_blank"><a href="http://www.hoopower.com/">http://www.hoopower.com/</a></a>]  <a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.html#post" target="_blank">回复</a>  <a href="http://www.phpweblog.net/comment?author=%e7%bf%a1%e7%bf%a0" title="查看该作者发表过的评论" target="_blank">更多评论</a>
<a href=""></a>  <a href=""></a>
<a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.html#2801" title="permalink: re: SQL--JOIN之完全用法(版本2)" target="_blank">/#</a> <a href=""></a>re: SQL--JOIN之完全用法(版本2)<a href=""></a> 2008-02-20 16:08 <a href="">hasiy</a></p>
<p>内容不错  <a href="http://www.phpweblog.net/zwws/archive/2007/02/23/946.html#post" target="_blank">回复</a>  <a href="http://www.phpweblog.net/comment?author=hasiy" title="查看该作者发表过的评论" target="_blank">更多评论</a>
<a href=""></a>  <a href=""></a>
<a href="">刷新评论列表</a></p>
<p><a href=""></a> 只有注册用户<a href="http://www.phpweblog.net/login.aspx?ReturnUrl=/zwws/archive/2007/02/23/946.html">登录</a>后才能发表评论, 未注册用户请先<a href="http://www.phpweblog.net/RequireRegister.aspx" target="_blank">注册</a>。  相关链接:  网站导航:</p>
<p><a href="http://www.cnblogs.com/" target="_blank">博客园</a>      <a href="http://www.blogjava.net/" target="_blank">BlogJava</a>   <a href="http://www.cnweblog.com/" target="_blank">博客生活</a>   <a href="http://www.cnitblog.com/" target="_blank">IT博客网</a>   <a href="http://www.cppblog.com/" target="_blank">C++博客</a>   <a href="http://www.phpweblog.net/" target="_blank">PHP博客</a>   <a href="http://space.cnblogs.com/" target="_blank">博客园社区</a>
<a href="http://www.manageblog.net/" target="_blank">管理博客</a>   <a href="http://www.teachblog.net/" target="_blank">教师博客</a>     <a href="http://www.astroblog.cn/" target="_blank">天文博客</a>   <a href="http://www.cnautoblog.com/" target="_blank">汽车博客</a>   <a href="http://www.zuqiublog.com/" target="_blank">足球博客</a>   <a href="http://www.gupiaoblog.com/" target="_blank">股票博客</a>   <a href="http://www.etronblog.com/" target="_blank">电子博客</a></p>
<p>Copyright @ zwws
Powered by: <a href="http://scottwater.com/blog" target="_blank">.Text</a> and <a href="http://asp.net/" target="_blank">ASP.NET</a>
Theme by: <a href="http://www.dotnetmonster.com/" target="_blank">.NET Monster</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB--SQL--JOIN之完全用法版本2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB--SQL--JOIN之完全用法版本2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB--SQL排序问题/">SQL排序问题</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB--SQL排序问题/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="sql-">SQL排序问题</h1>
<p><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#" target="_blank"><img src="" alt=""></a></p>
<ul>
<li><a href="http://www.csdn.net/" target="_blank">首页</a>|</li>
<li><a href="http://hi.csdn.net/" target="_blank">空间</a>|</li>
<li><a href="http://news.csdn.net/" target="_blank">新闻</a>|</li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a>|</li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a>|</li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a>|</li>
<li><a href="http://book.csdn.net/" target="_blank">读书</a>|</li>
<li><a href="http://wz.csdn.net/" target="_blank">网摘</a>|</li>
<li><a href="http://www.dearbook.com.cn/" target="_blank">书店</a>|</li>
<li><a href="http://www.programmer.com.cn/" target="_blank">程序员</a>|</li>
<li><a href="http://prj.csdn.net/" target="_blank">项目交易</a>|</li>
<li><a href="http://training.csdn.net/" target="_blank">培训</a>|</li>
<li><p><a href="http://daohang.csdn.net/" target="_blank">网址</a></p>
</li>
<li><p>欢迎您：<a href="http://hi.csdn.net/my.html" target="_blank">游客</a>|<a href="http://forum.csdn.net/User/LoginOut.aspx" target="_blank">退出</a>|<a href="http://passport.csdn.net/UserLogin.aspx?from=http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html" target="_blank">登录</a><a href="http://passport.csdn.net/CSDNUserRegister.aspx" target="_blank">注册</a>|<a href="http://community.csdn.net/Help/HelpCenter.htm" target="_blank">帮助</a>  <a href=""></a> <a href=""></a></p>
</li>
</ul>
<p><a href="http://www.csdn.net/" target="_blank">CSDN</a>-<a href="http://community.csdn.net/" target="_blank">CSDN社区</a>-<a href="http://forum.csdn.net/BList/Java/" target="_blank">Java</a>-<a href="http://forum.csdn.net/SList/Java_WebDevelop//" target="_blank">Web 开发</a></p>
<ul>
<li><p><a href="">管理菜单</a></p>
</li>
<li><p><a href="http://forum.csdn.net/PointForum/BuildTopic.aspx?topicId=9836ae68-0ec7-4e37-816a-fbff027bff88&amp;postDate=2009-05-18+12%3a16%3a50&amp;return=" target="_blank">生成帖子</a></p>
</li>
<li><a href="">置顶</a></li>
<li><a href="">推荐</a></li>
<li><a href="">取消推荐</a></li>
<li><a href="">锁定</a></li>
<li><a href="">解锁</a></li>
<li><a href="">移动</a></li>
<li><a href="">编辑</a></li>
<li><a href="">删除</a></li>
<li><a href="">帖子加分</a></li>
<li><a href="">帖子高亮</a></li>
<li><a href="">取消高亮</a></li>
<li><a href="http://forum.csdn.net/PointForum/Manage/TopicManageView.aspx?forumID=8b327318-2c42-4a49-8aed-ef8c33697e7f&amp;topicID=9836ae68-0ec7-4e37-816a-fbff027bff88&amp;date=2009-05-18+12%3a16%3a50&amp;v=13" target="_blank">结  帖</a></li>
<li><a href="http://forum.csdn.net/PointForum/Forum/PostTopic.aspx?forumID=8b327318-2c42-4a49-8aed-ef8c33697e7f" target="_blank">发  帖</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#r_achor" target="_blank">回  复</a></li>
</ul>
<h1 id="-sql-union-all-order-by-30-kakukyowu-"><a href="">收藏</a> 不显示删除回复显示所有回复显示星级回复显示得分回复 <a href=""></a>SQL排序问题【关于UNION ALL &amp;&amp; ORDER BY 】<em>[问题点数:30分，结帖人:KAKUKYOWU]</em></h1>
<ul>
<li><a href="http://hi.csdn.net/KAKUKYOWU" target="_blank"><img src="" alt=""></a></li>
<li><a href="http://hi.csdn.net/KAKUKYOWU" target="_blank">KAKUKYOWU</a></li>
<li>(恐龙杀手)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>结帖率：100.00%</li>
<li><em>楼主</em>发表于：2009-05-18 12:16:50 Java codeSELECT A1,A2... FROM TABLE_1 WHERE... UNION ALL SELECT A1,A2... FROM TABLE_2 WHERE... UNION ALL SELECT A1,A2... FROM TABLE_3 WHERE... ORDER BY A1 DESC
不考虑其它因素，我就想知道最后的那个排序是对3个查询汇总排序，还是只对最后一个进行排序？望高手赐教，谢谢！ * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>
回复次数：8  * <a href="http://hi.csdn.net/zhong19860904" target="_blank"><img src="&quot;zhong19860904用户自定义头像&quot;" alt="zhong19860904用户头像"></a></li>
<li><a href="http://hi.csdn.net/zhong19860904" target="_blank">zhong19860904</a></li>
<li>(追求梦想，永不放弃)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#1楼 得分：0回复于：2009-05-18 12:31:19<a href=""></a> 这个sql语句对吗？
不会报A1是属于哪个表中列的异常吗？ * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/zhong19860904" target="_blank"><img src="&quot;zhong19860904用户自定义头像&quot;" alt="zhong19860904用户头像"></a></li>
<li><a href="http://hi.csdn.net/zhong19860904" target="_blank">zhong19860904</a></li>
<li>(追求梦想，永不放弃)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#2楼 得分：15回复于：2009-05-18 12:32:04<a href=""></a> 应该是对3个查询汇总排序。 * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/Johnson_Hong" target="_blank"><img src="&quot;Johnson_Hong用户自定义头像&quot;" alt="Johnson_Hong用户头像"></a></li>
<li><a href="http://hi.csdn.net/Johnson_Hong" target="_blank">Johnson_Hong</a></li>
<li>(疯狂的小猪)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#3楼 得分：15回复于：2009-05-18 12:39:46<a href=""></a> 这种问题，自己试一下不就知道了，是对结果合并之后的排序 * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/kokobox" target="_blank"><img src="&quot;kokobox用户自定义头像&quot;" alt="kokobox用户头像"></a></li>
<li><a href="http://hi.csdn.net/kokobox" target="_blank">kokobox</a></li>
<li>(苏坡·爱得米音)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#4楼 得分：0回复于：2009-05-18 12:53:42<a href=""></a> 对整个排序：
SQL codeselect /<em> from ( SELECT A1,A2... FROM TABLE_1 WHERE... UNION ALL SELECT A1,A2... FROM TABLE_2 WHERE... UNION ALL SELECT A1,A2... FROM TABLE_3 WHERE... ) ORDER BY A1 DESC
这个：
SELECT A1,A2... FROM TABLE_1 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_2 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_3 WHERE...
ORDER BY A1 DESC
是对最后一个select排序 </em> <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/Johnson_Hong" target="_blank"><img src="&quot;Johnson_Hong用户自定义头像&quot;" alt="Johnson_Hong用户头像"></a></li>
<li><a href="http://hi.csdn.net/Johnson_Hong" target="_blank">Johnson_Hong</a></li>
<li>(疯狂的小猪)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#5楼 得分：0回复于：2009-05-18 13:20:17<a href=""></a> 引用 4 楼 kokobox 的回复:
对整个排序：
SQL code
select /<em> from (
SELECT A1,A2... FROM TABLE_1 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_2 WHERE...
UNION ALL SELECT A1,A2... FROM TABLE_3
WHERE...
) ORDER BY A1 DESC
这个：
SELECT A1,A2... FROM TABLE_1 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_2 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_3 WHERE...
ORDER BY A1 DESC
是对…
可不是这样的哦。你可以在oracle里面试验一下 </em> <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/KAKUKYOWU" target="_blank"><img src="&quot;KAKUKYOWU用户自定义头像&quot;" alt="KAKUKYOWU用户头像"></a></li>
<li><a href="http://hi.csdn.net/KAKUKYOWU" target="_blank">KAKUKYOWU</a></li>
<li>(恐龙杀手)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#6楼 得分：0回复于：2009-05-18 13:55:00<a href=""></a> 引用 1 楼 zhong19860904 的回复:
这个sql语句对吗？
不会报A1是属于哪个表中列的异常吗？
应该不会的 * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/KAKUKYOWU" target="_blank"><img src="&quot;KAKUKYOWU用户自定义头像&quot;" alt="KAKUKYOWU用户头像"></a></li>
<li><a href="http://hi.csdn.net/KAKUKYOWU" target="_blank">KAKUKYOWU</a></li>
<li>(恐龙杀手)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#7楼 得分：0回复于：2009-05-18 13:56:59<a href=""></a> 自己试了下，明白了，谢谢大家。结贴给分~ * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a>  * <a href="http://hi.csdn.net/APOLLO_TS" target="_blank"><img src="&quot;APOLLO_TS用户自定义头像&quot;" alt="APOLLO_TS用户头像"></a></li>
<li><a href="http://hi.csdn.net/APOLLO_TS" target="_blank">APOLLO_TS</a></li>
<li>(才饮酒中水，又闻稻花香)
*</li>
<li>等　级：<img src="" alt=""></li>
<li>/#8楼 得分：0回复于：2009-05-18 14:04:03<a href=""></a> SELECT A1,A2... FROM TABLE_1 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_2 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_3 WHERE...
检索之后形成数据区 例如地址是Ox0000002
sql的执行顺序决定 select 优先权高，之后对数据区的数据（地址Ox0000002）进行排序。
SELECT A1,A2... FROM TABLE_1 WHERE...
UNION ALL
SELECT A1,A2... FROM TABLE_2 WHERE...
UNION ALL
（SELECT A1,A2... FROM TABLE_3 WHERE...
ORDER BY A1 DESC）
这样的话，括号中的形成一个独立的运行区，具有自己的优先权。
就跟编译原理中用括号提高运算优先权一样。 * <a href="">对我有用</a>[0]</li>
<li><a href="">丢个板砖</a>[0]</li>
<li><a href="">引用</a></li>
<li><a href="">举报</a></li>
<li><a href="">管理</a></li>
<li><p><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#top" target="_blank">TOP</a></p>
</li>
<li><p><a href="">管理菜单</a></p>
</li>
<li><p><a href="http://forum.csdn.net/PointForum/BuildTopic.aspx?topicId=9836ae68-0ec7-4e37-816a-fbff027bff88&amp;postDate=2009-05-18+12%3a16%3a50&amp;return=" target="_blank">生成帖子</a></p>
</li>
<li><a href="">置顶</a></li>
<li><a href="">推荐</a></li>
<li><a href="">取消推荐</a></li>
<li><a href="">锁定</a></li>
<li><a href="">解锁</a></li>
<li><a href="">移动</a></li>
<li><a href="">编辑</a></li>
<li><a href="">删除</a></li>
<li><a href="">帖子加分</a></li>
<li><a href="">帖子高亮</a></li>
<li><a href="">取消高亮</a></li>
<li><a href="http://forum.csdn.net/PointForum/Manage/TopicManageView.aspx?forumID=8b327318-2c42-4a49-8aed-ef8c33697e7f&amp;topicID=9836ae68-0ec7-4e37-816a-fbff027bff88&amp;date=2009-05-18+12%3a16%3a50&amp;v=13" target="_blank">结  帖</a></li>
<li><a href="http://forum.csdn.net/PointForum/Forum/PostTopic.aspx?forumID=8b327318-2c42-4a49-8aed-ef8c33697e7f" target="_blank">发  帖</a></li>
<li><a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html#r_achor" target="_blank">回  复</a>
相关问题 <a href="http://topic.csdn.net/u/20090518/12/9836ae68-0ec7-4e37-816a-fbff027bff88.html" target="_blank">SQL排序问题【关于UNION ALL &amp;&amp; ORDER BY 】</a> <a href="http://topic.csdn.net/u/20090316/15/056c2ee1-099c-4fef-9489-86250213a0be.html" target="_blank">SQL 一个UNION ALL 的排序问题</a> <a href="http://topic.csdn.net/u/20090530/13/9a645306-d97d-4ce2-959a-6cf6262387ee.html" target="_blank">＊＊＊＊＊＊SQL 语句排序问题</a> <a href="http://topic.csdn.net/t/20040508/11/3040878.html" target="_blank">一个复杂的SQL排序问题？高手请进！！！！！！！！！ MS-SQL Server ...</a> <a href="http://topic.csdn.net/t/20050128/18/3761512.html" target="_blank">SQL排序的问题MS-SQL Server / 基础类- CSDN社区community.csdn.net</a> <a href="http://topic.csdn.net/t/20060629/16/4850953.html" target="_blank">SQL 排序问题急!! 大虾快进MS-SQL Server / 疑难问题- CSDN社区 ...</a>     <img src="" alt=""></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB--SQL排序问题/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB--SQL排序问题" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB--PostgreSQL8_4在中文windows下安装错误2/">PostgreSQL 8_4 在中文 windows 下安装错误 (2)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB--PostgreSQL8_4在中文windows下安装错误2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="postgresql-8_4-windows-2-">PostgreSQL 8_4 在中文 windows 下安装错误 (2)</h1>
<h1 id="-goldenhawking-http-blog-csdn-net-goldenhawking-"><a href="http://blog.csdn.net/goldenhawking" target="_blank">goldenhawking的专栏</a></h1>
<h1 id="-">#</h1>
<ul>
<li><a href="http://passport.csdn.net/UserLogin.aspx" target="_blank">登录</a></li>
<li><a href="http://passport.csdn.net/CSDNUserRegister.aspx" target="_blank">注册</a></li>
<li><a href="http://hi.csdn.net/" target="_blank">欢迎</a></li>
<li><a href="http://writeblog.csdn.net/Signout.aspx" target="_blank">退出</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">我的博客</a></li>
<li><a href="http://writeblog.csdn.net/configure.aspx" target="_blank">配置</a></li>
<li><a href="http://writeblog.csdn.net/PostEditPlain.aspx" target="_blank">写文章</a></li>
<li><a href="http://writeblog.csdn.net/PostList.aspx" target="_blank">文章管理</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客首页</a></li>
</ul>
<p>*</p>
<ul>
<li><p>全站 当前博客
*</p>
</li>
<li><p><a href="http://hi.csdn.net/goldenhawking" target="_blank">空间</a></p>
</li>
<li><a href="http://blog.csdn.net/goldenhawking" target="_blank">博客</a></li>
<li><a href="http://hi.csdn.net/!s/friend/list/goldenhawking" target="_blank">好友</a></li>
<li><a href="http://hi.csdn.net/!s/album/list/goldenhawking" target="_blank">相册</a></li>
<li><a href="http://hi.csdn.net/!s/wall/to/goldenhawking" target="_blank">留言</a></li>
</ul>
<p>用户操作<a href="http://hi.csdn.net/!s/wall/to/goldenhawking" target="_blank">[留言]</a>  <a href="http://hi.csdn.net/!s/msg/to/goldenhawking" target="_blank">[发消息]</a>  <a href="http://hi.csdn.net/!s/friend/add/goldenhawking" target="_blank">[加为好友]</a> 订阅我的博客<a href="http://feeds.feedsky.com/csdn.net/goldenhawking" target="_blank"><img src="" alt="XML聚合"></a>   <a href="http://feeds.feedsky.com/csdn.net/goldenhawking" target="_blank"><img src="" alt="FeedSky"></a><a href="http://www.xianguo.com/subscribe.php?url=http://feeds.feedsky.com/csdn.net/goldenhawking" target="_blank"><img src="" alt="订阅到鲜果"></a><a href="http://fusion.google.com/add?feedurl=http://feeds.feedsky.com/csdn.net/goldenhawking" target="_blank"><img src="" alt="订阅到Google"></a><a href="http://www.zhuaxia.com/add_channel.php?url=http://feeds.feedsky.com/csdn.net/goldenhawking" target="_blank"><img src="" alt="订阅到抓虾"></a>goldenhawking的公告文章分类存档* <a href="http://blog.csdn.net/goldenhawking/archive/2009/08.aspx" target="_blank">2009年08月(3)</a></p>
<ul>
<li><a href="http://blog.csdn.net/goldenhawking/archive/2008/04.aspx" target="_blank">2008年04月(1)</a></li>
<li><a href="http://blog.csdn.net/goldenhawking/archive/2008/02.aspx" target="_blank">2008年02月(1)</a><h1 id="-postgresql-8-4-windows-"><img src="" alt="原创">  PostgreSQL 8.4 在中文 windows 下安装错误 <a href="&quot;收藏到我的网摘中，并分享给我的朋友&quot;">收藏</a></h1>
</li>
</ul>
<p>这个错误是在安装新版的PostgreSQL 8.4时遇到的，安装程序在 windows xp sp3下启动（简体中文），一路Next, 没注意“locale”选项，当时选择了default,next, 导致无法安装完成，提示：</p>
<p>Installation fails with complaint about accessing data\postgresql.conf
发现这个老兄也遇到了：</p>
<p><a href="http://www.nabble.com/BUG--4785%3A-Installation-fails-to23323059.html#a23323059" target="_blank"><a href="http://www.nabble.com/BUG--4785%3A-Installation-fails-to23323059.html/#a23323059">http://www.nabble.com/BUG--4785%3A-Installation-fails-to23323059.html/#a23323059</a></a></p>
<p>搞半天，最后发现了问题，是PSQL的全文搜索中没有简体中文支持。其实，安装的时候选择&quot;C&quot;就可以了。</p>
<p>哎，看来我和开源数据库最近老扯不清关系。</p>
<p>这是在nabble上的帖子。
En, I have that damm problem sloved.
Are you using a Non-English Version of Windows? for example, JPN, CHS?
If you install your PSQL in an Asian-language windows, be sure that &quot;locale&quot; settings should be setted manualy to a supported language, I choosed &quot;C&quot; for it is the first item in the combo.
this is the errmsg when you&#39;re using default local settings:
Running the post-installation/upgrade actions:
Delete the temporary scripts directory...
Write the base directory to the ini file...
Write the version number to the ini file...
Initialising the database cluster (this may take a few minutes)...
Executing cscript
Script exit code: 0
Script output:
Ensuring we can write to the data directory (using cacls):
数据无效。(Means data is unavaliable)
The files belonging to this database system will be owned by user &quot;XXXXXXXX&quot;.
This user must also own the server process.
The database cluster will be initialized with locale Chinese_XXXXXXX.936.
initdb: could not find suitable text search configuration for locale Chinese_XXXXXXX.936
The default text search configuration will be set to &quot;simple&quot;.
fixing permissions on existing directory D:/XXXXXX... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 32MB
creating configuration files ... ok
creating template1 database in D:/XXXXXXX/base/1 ... ok
initializing pg_authid ... FATAL:  database locale is incompatible with operating system
DETAIL:  The database was initialized with LC_COLLATE &quot;Chinese_XXXXXXXX.936&quot;,  which is not recognized by setlocale().
HINT:  Recreate the database with another locale or install the missing locale.
child process exited with exit code 1
initdb: removing contents of data directory &quot;D:/XXXXXX&quot;
Granting service account access to the data directory (using cacls):
处理的目录: D:\XXXXXXXXX(Processed folder:D:\XXXXXXXXX)
initcluster.vbs ran to completion
Script stderr:
Configuring database server startup...
Executing cscript
Script exit code: 0
Script output:
startupcfg.vbs ran to completion
Script stderr:</p>
<p>发表于 @ 2009年08月05日　12:44:00 | <a href="http://blog.csdn.net/goldenhawking/archive/2009/08/05/4411446.aspx#FeedBack" title="评论" target="_blank">评论( loading...  )</a>| <a href="http://writeblog.csdn.net/PostEdit.aspx?entryId=4411446" title="编辑" target="_blank">编辑</a>| <a href="mailto:yuexn@csdn.net?subject=Article%20Report!!!&amp;body=Author:goldenhawking%0D%0AURL:http://blog.csdn.net/ArticleContent.aspx?UserName=goldenhawking&amp;Entryid=4411446">举报</a>| <a href="&quot;收藏到我的网摘中，并分享给我的朋友&quot;">收藏</a></p>
<h3 id="-my-sql-http-blog-csdn-net-goldenhawking-archive-2009-08-05-4411395-aspx-"><a href="http://blog.csdn.net/goldenhawking/archive/2009/08/05/4411395.aspx" target="_blank">旧一篇:初试My-SQL</a><a href=""></a></h3>
<p>Copyright © goldenhawkingPowered by CSDN Blog<img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB--PostgreSQL8_4在中文windows下安装错误2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB--PostgreSQL8_4在中文windows下安装错误2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分页--Jsp分页实例/">Jsp分页实例</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分页--Jsp分页实例/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="jsp-">Jsp分页实例</h1>
<p><img src="" alt="">   ┆ <a href="http://www.java3z.com/cwbwebhome/index.html" target="_blank">回首页</a>  </p>
<p><a href="http://www.java3z.com/cwbwebhome/index1.jsp" target="_blank">Java中文网址大全</a><a href="http://www.java3z.com/cwbwebhome/learn.jsp" target="_blank"></a>┆<a href="http://www.java3z.com/cwbwebhome/learn.jsp">学习笔记</a>┆  <a href="http://www.java3z.com/cwbwebhome/article.jsp" target="_blank">java文摘</a>┆ <a href="http://www.java3z.com/cwbwebhome/download.jsp" target="_blank">源码下载</a> ┆<a href="http://www.java3z.com/cwbwebhome/javacode.jsp" target="_blank">Java实例</a> ┆ <a href="http://www.java3z.com/cwbwebhome/tool.jsp" target="_blank">Java教学</a> ┆ <a href="http://www.java3z.com/cwbwebhome/j2me.jsp" target="_blank">J2me学习</a>┆  <a href="http://www.java3z.com/cwbwebhome/reply.jsp" target="_blank">留言板</a>  <strong>站内资源搜索:</strong> <img src="" alt=""> ┆ 将本文寄给朋友    <img src="" alt=""> Jsp分页实例 </p>
<p><a href="http://www.zzsz.hnzz.net/kj/cwb/dir5/TestPage.zip" target="_blank">下载源代码</a></p>
<p><strong>〖 作者：wangxiaoyi2 〗〖 大小：1M 〗〖 发布日期：2010-03-15 〗〖 浏览：0 〗
</strong> 效果图：
<img src="" alt=""></p>
<p>1）数据库操作类,做简单封装 DB.java</p>
<p>package Test;</p>
<p>import java.sql./*;</p>
<p>public class DB {</p>
<p> // 加载驱动
    static {
        try {
            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);
        } catch (ClassNotFoundException e) {
            System.out.println(&quot;驱动加载出错&quot;);
        }
    }</p>
<p> // 获取数据库连接</p>
<p> public static Connection getConn() {
  Connection conn = null;
  try {
   conn = DriverManager.getConnection(&quot;jdbc:mysql://localhost/userinfo?user=root&amp;password=abcd&quot;);
  } catch (SQLException e) {
   e.printStackTrace();
  }
  return conn;
 }
 // 关闭数据库连接
 public static void closeConn(Connection conn) {
  try {
   if(conn != null) {
    conn.close();
    conn = null;
   }
  } catch (SQLException e) {
   e.printStackTrace();
  }
 }
 // 关闭Statement
 public static void closeStmt(Statement stmt) {
  try {
   if(stmt != null) {
    stmt.close();
    stmt = null;
   }
  } catch (SQLException e) {
   e.printStackTrace();
  }
 }
 // 关闭ResultSet 
 public static void closeRs(ResultSet rs) {
  try {
   if(rs != null) {
    rs.close();
    rs = null;
   }
  } catch (SQLException e) {
   e.printStackTrace();
  }
 }
}
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/*</p>
<p>2）初始化数据类 initData.java</p>
<p>package Test;</p>
<p>import java.sql./*;</p>
<p>public class initData {</p>
<p> private static Connection conn = null;</p>
<p> private static PreparedStatement pstmt = null;</p>
<p> private static Statement stmt = null;</p>
<p> private static String sql = &quot;insert into userinfo(id,username,age) values(?,?,?)&quot;;
 // 总条数
 private static int allCount = 10000;
 // 分批条数
 private static int preCount = 1000;
 // 计数器
 private static int count = 0;</p>
<p> public static void main(String[] args) {
    CleanData();// 清除数据
    InsertData();// 插入数据
   }</p>
<p> //<em>/</em>
  /<em> DDL语句 建表语句
  /</em> create table userinfo ( id int(20) not null, username
  /<em> varchar(255), age varchar(255), primary key (id) )
  /</em>/</p>
<p>  //<em>/</em>
  /<em> 插入数据 用addBatch()方法
  /</em> 当数据量达到1000时 提交一次
  /<em>/
 private static void InsertData()  {
  try {
   conn = DB.getConn();
   pstmt = conn.prepareStatement(sql);
   conn.setAutoCommit(false);
   long start = System.currentTimeMillis();
   for (int i = 1; i &lt;= allCount; i++) {
    pstmt.setInt(1, i);
    pstmt.setString(2, &quot;java&quot; + i);
    pstmt.setString(3, &quot;20&quot;);
    pstmt.addBatch();
    if ((i % preCount) == 0) {
     pstmt.executeBatch();
     System.out.println(&quot;当前进行完毕===&gt;&quot; + (++count) /</em> preCount</p>
<pre><code>   + &quot;条&quot;);
}
</code></pre><p>   }
   long end = System.currentTimeMillis();
   System.out.println(&quot;数据插入成功！所用时间为: &quot; + (end - start) + &quot; ms&quot;);
  } catch (Exception e) {
   e.printStackTrace();
   try {
    conn.rollback();
   } catch (SQLException e1) {
    e1.printStackTrace();
   }
   System.out.println(&quot;数据出错,已进行回滚&quot;);
  } finally {
   try {
    conn.commit();//提交数据
   } catch (SQLException e) {
    e.printStackTrace();
   }
   DB.closeStmt(pstmt);
   DB.closeConn(conn);
  }
 }
  //<em>/</em>
  /<em> 清除数据
  /</em>/
 private static void CleanData() {
  try {
   conn = DB.getConn();
   String sql = &quot;delete from  userinfo&quot;;
   stmt = conn.createStatement();
   stmt.executeUpdate(sql);
   System.out.println(sql);
   System.out.println(&quot;清除数据成功！&quot;);
  } catch (SQLException e) {
   e.printStackTrace();
  } finally {
   DB.closeStmt(stmt);
   DB.closeConn(conn);
  }
 }
}
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/*</p>
<p>3)分页核心类 Pager.java</p>
<p>package Test;</p>
<p>import javax.servlet.http./*;</p>
<p>public class Pager {
 private int totalRows; // 总行数
 private int pageSize = 20; // 每页显示的行数
 private int currentPage = 1; // 当前页号
 private int totalPages; // 总页数
 private int startRow; // 当前页在数据库中的起始行</p>
<p> // 构造方法1
 private Pager()
 {
 }</p>
<p> // 构造方法2 带参数_totalRows
 private Pager(int _totalRows) {
  totalRows = _totalRows;
  totalPages = totalRows / pageSize;
  int mod = totalRows % pageSize;
  if (mod &gt; 0) {
   totalPages++;
  }
  currentPage = 1;
  startRow = 0;
 }</p>
<p> // 设置当前页在数据库中的起始行
 public void setStartRow(int startRow) {
  this.startRow = startRow;
 }
 // 获取当前页在数据库中的起始行
 public int getStartRow() {
  return startRow;
 }
 // 设置总页数
 public void setTotalPages() {
  totalPages = totalRows / pageSize;
  int mod = totalRows % pageSize;
  if (mod &gt; 0) {
   totalPages++;
  }
 }
 // 获取总页数
 public int getTotalPages() {
  return totalPages;
 }
 // 设置当前页码
 public void setCurrentPage(int currentPage) {
  this.currentPage = currentPage;
 }
 // 获取当前页码
 public int getCurrentPage() {
  return currentPage;
 }
 // 设置总行数
 public void setTotalRows(int totalRows) {
  this.totalRows = totalRows;
 }
 // 获取总行数
 public int getTotalRows() {
  return totalRows;
 }
 // 设置每页显示行数
 public void setPageSize(int pageSize) {
  this.pageSize = pageSize;
 }
 // 获取每页显示的行数
 public int getPageSize() {
  return pageSize;
 }
 // 首页
 public void first() {
  currentPage = 1;
  startRow = 0;
 }
 // 前一页
 public void previous() {
  if (currentPage == 1) {
   return;
  }
  currentPage--;
  startRow = (currentPage - 1) /<em> pageSize;
 }
 // 下一页
 public void next() {
  if (currentPage &lt; totalPages) {
   currentPage++;
  }
  startRow = (currentPage - 1) /</em> pageSize;
 }
 // 最后一页
 public void last() {
  currentPage = totalPages;
  startRow = (currentPage - 1) /* pageSize;
 }
 // 刷新页码
 public void refresh(int _currentPage) {
  currentPage = _currentPage;
  if (currentPage &gt; totalPages) {
   last();
  }
 }</p>
<p> //<em>/</em>
  /<em> 获得下一页的页码 如果当前页码+1大于等于最大页数，
  /</em> 则下一页的页码为最大页数 否则下一页的页码为当前页码+1
  /*/
 public int getNext() {
  if (currentPage +1 &gt;= totalPages) {
   return totalPages;
  } else {
   return currentPage+1 ;
  }
 }</p>
<p> // 获取前一页的页码
 public int getPrevious() {
  if (currentPage - 1 &lt;= 1) {
   return 1;
  } else {
   return currentPage - 1;
  }
 }</p>
<p> // 判断是否存在下一页
 public boolean hasNext() {
  return currentPage &lt; getTotalPages();
 }</p>
<p> // 判断是否存在上一页
 public boolean hasPrevious() {
  return currentPage &gt; 1;
 }</p>
<p> // 判断是否是第一页
 public boolean isFirst() {
  return currentPage == 1;
 }</p>
<p> // 判断是否是最后一页
 public boolean isLast() {
  return currentPage == getTotalPages();
 }</p>
<p> //<em>/</em>
  /<em> 产生js代码
  /</em>
  /<em> @param url
  /</em> @return
  /*/
 public static String getJavascript(String url) {
  StringBuffer sb = new StringBuffer();
  sb.append(&quot;function goPage(pageNumber)\r\n&quot;);
  sb.append(&quot;{\r\n&quot;);
  sb.append(&quot;      window.self.location=&#39;&quot; + url</p>
<pre><code>+ &quot;?pageNumber=&#39;+pageNumber+&#39;&amp;pageSize=&#39;+pageSize.value+&#39;&#39;;\r\n&quot;);
</code></pre><p>  sb.append(&quot;}\r\n&quot;);
  return sb.toString();</p>
<p> }</p>
<p> //<em>/</em>
  /<em> 产生html代码
  /</em> @param total
  /<em> @return
  /</em>/
 public String getNavigate(){</p>
<p>  setTotalPages();</p>
<p>  StringBuffer buf = new StringBuffer();</p>
<p>  buf.append(&quot;<font color='/#365f91'>共&quot;+ totalRows+ &quot;条记录&nbsp;&quot;+ pageSize+ &quot;条/页&nbsp;&nbsp;&quot;);
  buf.append(&quot;第&quot;+ currentPage+ &quot;页/共&quot;+ totalPages+ &quot;页&nbsp;&nbsp;&quot;);</p>
<p>  // 判断 &quot;首页&quot; 链接是否显示
  if(isFirst()){
   buf.append(&quot;[首页]&nbsp;&quot;); 
   }
  else{
   buf.append(&quot;[<a href='javascript:goPage(1)' target='_self'>首页</a>]&nbsp;&quot;);
  }</p>
<p>  // 判断 &quot;上一页&quot; 链接是否显示
  if (hasPrevious()) {
   buf.append(&quot;[&lt;a href=&#39;javascript:goPage(&quot; + getPrevious()</p>
<pre><code> + &quot;)&#39; target=&#39;_self&#39;&gt;上一页&lt;/a&gt;]&amp;nbsp;&quot;);
</code></pre><p>  } else {
   buf.append(&quot; [上一页]&nbsp;&quot;);
  }</p>
<p>  // 判断 &quot;下一页&quot; 链接是否显示
  if (hasNext()) {
   buf.append(&quot;[&lt;a href=&#39;javascript:goPage(&quot; + getNext()</p>
<pre><code> + &quot;)&#39; target=&#39;_self&#39;&gt;下一页&lt;/a&gt;]&amp;nbsp;&quot;);
</code></pre><p>  } else {
   buf.append(&quot;[下一页]&nbsp;&quot;);
  }</p>
<p>  // 判断 &quot;尾页&quot; 链接是否显示
  if(isLast()){
   buf.append(&quot;[尾页]&nbsp;转到&quot;); 
  }
  else{
   buf.append(&quot;[&lt;a href=&#39;javascript:goPage(&quot; + totalPages</p>
<pre><code>+ &quot;)&#39; target=&#39;_self&#39;&gt;尾页&lt;/a&gt;]&amp;nbsp;转到&quot;);
</code></pre><p>  }</p>
<p>  // 转到第几页选择框
  // 用onchange方法轻松搞定转向
  buf.append(&quot;&lt;select name=select&#39; onchange=&#39;javascript:goPage(this.options[this.selectedIndex].value)&#39;&gt;&quot;);</p>
<p>  for (int x = 1; x &lt;= getTotalPages(); x++) {
   buf.append(&quot;<option value=" + x +"");
   if (currentPage == x) {
    buf.append(" selected ");
   }
    buf.append(">第&quot; + x + &quot;页</option>&quot;);
  }
  buf.append(&quot;</select>&quot;);
  buf.append(&quot;每页&quot;);
  buf.append(&quot;<input type=text size=4 style='text-align:center;height:17px' class=text name=pageSize " +
        "value='"+pageSize+"'  >&nbsp;&nbsp;</font>&quot;);</p>
<p>  return buf.toString();
 }</p>
<p> public static Pager getInstance(HttpServletRequest request,int total){
  Pager cPager = new Pager();
  String pNum = request.getParameter(&quot;pageNumber&quot;);
  if (pNum == null||pNum == &quot;&quot;) pNum = &quot;1&quot;;
  int intpNum = Integer.parseInt(pNum);</p>
<p>  String pSize = request.getParameter(&quot;pageSize&quot;);<br>  if (pSize == null||pSize == &quot;&quot;) pSize = &quot;25&quot;;
  int intpSize = 0;
  try{
   intpSize = Integer.parseInt(pSize);
  }catch (NumberFormatException nfe){
   intpSize = 20;
   //nfe.printStackTrace();
  }
  cPager.currentPage = intpNum;
  cPager.pageSize = intpSize;
  cPager.totalRows = total;</p>
<p>  return cPager;
 }
}</p>
<p>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/*</p>
<p>4)UserDAO.java</p>
<p>package Test;</p>
<p>import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;</p>
<p>public class UserDAO {</p>
<p> //<em>/</em>
  /<em> 根据指定的页码范围查找数据
  /</em> @param pageSize
  /<em> @param pageNumber
  /</em> @return
  /*/
 public static ArrayList<UserInfo> getUsers(int pageSize, int pageNumber) {</p>
<p>// SQL Server写法
//  String sql = &quot;select top &quot; + pageSize + &quot; /<em> from userinfo&quot;
//    + &quot; where id not in &quot; + &quot;(select top &quot;
//    + ((pageNumber - 1) /</em> pageSize)
//    + &quot; id from userinfo order by id)&quot; + &quot; order by id&quot;;</p>
<p>//  oracle写法<br>//  String sql1 =&quot;select /<em> from &quot; +
//    &quot;(select rownum r,userinfo./</em> from userinfo  &quot; +
//    &quot;where rownum &lt; &quot;+((pageNumber - 1) /<em> pageSize + pageSize)+&quot;t2 where t2.r &gt;= &quot;+((pageNumber - 1) /</em> pageSize)+&quot;&quot;;</p>
<p>  if(((pageNumber - 1) /* pageSize)&lt;0)
   return null;</p>
<p>  String sql = &quot;select /* from userinfo order by id asc limit &quot;</p>
<pre><code>+ (pageNumber - 1) /* pageSize + &quot;,&quot; + pageSize;
</code></pre><p>  ArrayList<UserInfo> UserInfoList = new ArrayList<UserInfo>();</p>
<p>  Connection conn = null;
  Statement st = null;
  ResultSet rs = null;</p>
<p>  try {
   conn = DB.getConn();
   System.out.println(sql);
   st = conn.createStatement();
   rs = st.executeQuery(sql);</p>
<p>   while (rs.next()) {
    UserInfo user = new UserInfo();
    user.setId(rs.getInt(&quot;id&quot;));
    user.setUsername(rs.getString(&quot;username&quot;));
    user.setAge(rs.getString(&quot;age&quot;));
    UserInfoList.add(user);
   }
  } catch (SQLException e) {
   e.printStackTrace();
  } finally {
   DB.closeRs(rs);
   DB.closeStmt(st);
  }
  return UserInfoList;
 }</p>
<p> //<em>/</em>
  /<em> 返回总记录数
  /</em> @return
  /<em>/
 public static int getCount() {
  String sql = &quot;select count(/</em>) from userinfo&quot;;
  int count = 0;</p>
<p>  Connection conn = null;
  Statement st = null;
  ResultSet rs = null;</p>
<p>  try {
   conn = DB.getConn();
   st = conn.createStatement();
   rs = st.executeQuery(sql);</p>
<p>   while (rs.next()) {
    count = rs.getInt(1);
   }
  } catch (SQLException e) {
   e.printStackTrace();
  } finally {
   DB.closeRs(rs);
   DB.closeStmt(st);
  }
  System.out.println(&quot;sql记录数：&quot;+count);
  return count;
 }</p>
<p>}
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/*
5)jsp页面 pageTest.jsp</p>
<p>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=GB18030&quot;
 pageEncoding=&quot;GB18030&quot;%&gt;
&lt;%@ taglib uri=&quot;<a href="http://jsptags.com/tags/navigation/pager" target="_blank"><a href="http://jsptags.com/tags/navigation/pager">http://jsptags.com/tags/navigation/pager</a></a>&quot; prefix=&quot;pg&quot;%&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;<a href="http://java.sun.com/jsp/jstl/core&quot;" target="_blank"><a href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>&quot;</a>&gt;
&lt;%@ page import=&quot;Test./<em>&quot;%&gt;
&lt;%@ page import=&quot;java.util./</em>&quot;%&gt;
&lt;%
 int total = UserDAO.getCount();
 Pager pager = Pager.getInstance(request,total); 
 String htmlcode = pager.getNavigate();
 String pageNum = request.getParameter(&quot;pageNumber&quot;);
 int pageNumber = 1;
 if (pageNum == null || pageNum==&quot;&quot; ) {
  pageNumber = 1;
 } else {
  pageNumber = Integer.parseInt(pageNum);
 }</p>
<p> ArrayList<UserInfo> al = UserDAO.getUsers(pager.getPageSize(),pageNumber);
 request.setAttribute(&quot;users&quot;, al);
%&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;<a href="http://www.w3.org/TR/html4/loose.dtd" target="_blank"><a href="http://www.w3.org/TR/html4/loose.dtd">http://www.w3.org/TR/html4/loose.dtd</a></a>&quot;&gt;</p>
<p><html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=GB18030">
  <script type="text/javascript">
&lt;%=Pager.getJavascript(request.getRequestURI())%&gt;
</script>
 <style>
        <!--
            body{
                .p{
                    PADDING-LEFT: 18px; FONT-SIZE: 14px; WORD-SPACING: 4px
                }
            }
        -->
        </style></p>
<p><title>Page Test5</title>
 </head>
 <body>
  <!-- 在列表数据为空的时候，要显示的提示信息 -->
  <c:if test="$ {empty users}">
   <tr>
    <td colspan="7">
     <font color="red">没有找到相应的记录</font>
    </td>
   </tr>
  </c:if>
  <!-- 列表数据不为空的时候，要显示的数据 -->
  <c:if test="$ {!empty users}">
   <table border="1">
   <tr>
   <td>
   id
   </td>
   <td>
   name
   </td>
   <td>
   age
   </td>
   </tr>
    <c:forEach items="$ {users}" var="user">
     <tr>
      <td>
       <c:out value="$ {user.id }"></c:out>
      </td>
      <td>
       <c:out value="$ {user.username }"></c:out>
      </td>
      <td>
       <c:out value="$ {user.age }"></c:out>
      </td>
     </tr>
    </c:forEach>
   </table>
   <br>
   &lt;%=htmlcode%&gt;
  </c:if>
 </body>
</html> 来源： <a href="http://blog.csdn.net/wangxiaoyi2" target="_blank">http://blog.csdn.net/wangxiaoyi2</a>
 严禁发表涉及封建迷信、国家政治等敏感问题的内容   ■ 对本文的评价（带 /<em> 为必填内容，400字以内）    严禁发表涉及封建迷信、国家政治等敏感问题的内容。 /</em> 您的姓名   您的电子邮件  您的个人主页  /* 您的评价         ■ 以往的评价
以上文章版权由原作者所有。未经同意，不得将其任何一部分复制、转载、发布等未授权操作。</p>
<p>Java学习室 — 陈伟波个人主页
E-mail: <a href="mailto:zz3zcwb@sina.com">zz3zcwb@sina.com</a>
COPY RIGHT 2005</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分页/">分页</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分页/" class="label label-success">分页</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分页--Jsp分页实例/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分页--Jsp分页实例" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分区--Oracle分区功能提高应用程序性能/">Oracle分区功能提高应用程序性能</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分区--Oracle分区功能提高应用程序性能/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-">Oracle分区功能提高应用程序性能</h1>
<p>您的位置：<a href="http://9host.cn/" target="_blank">九网互联</a>-&gt;<a href="http://9host.cn/oracle/" target="_blank">oracle数据库</a></p>
<h1 id="oracle-">Oracle分区功能提高应用程序性能</h1>
<p>添加时间:2007-4-22　
Oracle 分区功能可以提高许多应用程序的可管理性、性能与可用性。通过分区功能，可以将表、索引和索引组织表进一步细分为段，从而能够更精确地管理和访问这些<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>对象。Oracle 提供了种类繁多的分区方案以满足每种业务要求。而且，因为在 SQL 语句中分区是完全透明的，所以该功能几乎可应用于任何应用程序。
<strong>分区功能的优势</strong>
分区功能通过改善可管理性、性能和可用性，从而为各式应用程序带来了极大的好处。通常，分区可以使某些查询以及维护操作的性能大大提高。此外,分区还可以极大简化常见的管理任务。通过分区,<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>设计人员和管理员能够解决前沿应用程序带来的一些难题。分区是构建千兆字节数据系统或超高可用性系统的关键工具。
<strong>分区功能的基本知识</strong>
分区功能能够将表、索引或索引组织表进一步细分为段。这些<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>对象的段叫做分区。每个分区有自己的名称，还可以选择自己的存储特性。从<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员的角度来看，一个分区后的对象具有多个段，这些段既可进行集体管理，也可单独管理。这就使<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员在管理分区后的对象时有相当大的灵活性。但是，从应用程序的角度来看，分区后的表与非分区表完全相同，使用 SQL DML 命令访问分区后的表时，无需任何修改。
表的分区是通过“分区键”来实现的，分区键指的是一些列，这些列决定了某一行所在的分区。Oracle <a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a> 10g 提供了六项技术用于对表进行分区：
<strong>范围分区</strong>
每个分区都由一个分区键值范围指定（对于一个以日期列作为分区键的表，“2005 年 1 月”分区包含分区键值为从“2005 年 1 月 1 日”到“2005 年 1 月 31 日”的行）。
<strong>列表分区</strong>
每个分区都由一个分区键值列表指定（对于一个地区列作为分区键的表，“北美”分区可能包含值“加拿大”“美国”和“墨西哥”）。
<strong>散列分区</strong>
将散列算法用于分区键来确定指定行所在的分区。
<strong>组合范围散列分区</strong>
范围和散列分区技术的组合，通过该组合，首先对表进行范围分区，然后针对每个单独的范围分区再使用散列分区技术进一步细分。索引组织表只能进行范围分区。
<strong>组合范围列表分区</strong>
范围和列表分区技术的组合，通过该组合，首先对表进行范围分区，然后针对每个单独的范围分区再使用列表分区技术进一步细分。索引组织表可以按范围、列表或散列进行分区。
Oracle <a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a> 10g 还提供了三种类型的分区索引：
<strong>本地索引</strong>
本地索引是其分区方式与其所在基础表的分区方式一模一样的索引。本地索引的每个分区仅对应于其所在基础表的一个分区。
<strong>全局分区索引</strong>
全局分区索引是使用不同于其所在表的分区键进行分区的索引，其所在表可以是分区表或非分区表。全局分区的索引可以使用范围或散列分区进行分区。例如，某个表可以按月份进行范围分区，因此具有十二个分区，而该表上的索引则可以使用不同的分区键进行范围分区，从而具有不同的分区数量。
<strong>全局非分区索引</strong>
全局非分区索引基本上和非分区表的索引一样。索引结构是不分区的。
Oracle 提供了一系列丰富的技术，可用于对表、索引和索引组织表进行分区，因此可以针对任何业务环境中的任何应用程序进行最佳的分区 Oracle 还提供一套完整的 SQL 命令，用于管理分区表。其中包括添加新分区、删除分区、分拆分区以及合并分区的命令。
<strong>用分区功能提高可管理性</strong>
通过 Oracle 分区功能，可将表和索引分成更多、更小的可管理单元，从而使<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员能以“化整为零，个个击破”的方式管理数据。
使用分区功能，维护操作可集中于表的特定部分。例如，<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员可以只对表的一部分做备份，而不必对整个表做备份。对整个<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>对象的维护操作，可以在每个分区的基础上进行，从而将维护工作分解成更容易管理的小块。
利用分区功能提高可管理性的一个典型用法是支持数据仓库中的‘滚动视窗’加载进程。假设<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员每周向表中加载新数据。可以对该表进行范围分区，使每个分区包含一周的数据。这样加载进程只是简单地添加新的分区。添加一个分区的操作比修改整个表效率高很多，因为 DBA 不需要修改任何其他分区。
<strong>用分区功能提高性能</strong>
由于限制了所检查或操作的数据数量，同时支持并行任务执行，Oracle 分区功能实现了性能上增益。这些特性包括：
<strong>分区修整</strong>
分区修整是用分区功能提高性能的最简单最有价值的手段。分区修整常常能够将查询性能提高几个数量级。例如，假设某个应用程序包含一个存储订单历史记录的 Orders 表，并且此表已按周分区。查询一周的订单只需访问该订单表的一个分区。如果该订单表包含两年的历史记录，这个查询只需要访问一个分区而不是一百零四个。该查询的执行速度因为分区修整而有可能快一百倍。分区修整能与所有其他 Oracle 性能特性协作。Oracle 能将分区修整功能与任何索引技术、联接技术或并行访问方法结合使用。
<strong>分区智能联接</strong>
分区功能可以通过称为分区智能联接的技术提高多表联接的性能。当两个表要联接在一起，而且每个表都用联接键来分区时，就可以使用分区智能联接。分区智能联接将大型联接分解成较小的发生在各个分区间的联接，从而用较少的时间完成全部联接。这就给串行和并行的执行都能带来显著的性能改善。
<strong>用分区功能提高可用性</strong>
分区的<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>对象具有分区独立性。该分区独立性特点可能是高可用性战略的一个重要部分，例如，如果分区表的一个分区不能用，但该表的所有其他分区仍然保持在线并可用。那么这个应用可以继续针对该分区表执行查询和事务处理，只要不是访问不可用的分区，<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>操作仍然能够成功运行。
<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员可以指定各分区存放在不同的表空间里，从而让管理员隔离其它表分区针对单个分区进行备份与恢复操作。还有，分区功能可以减少计划停机时间。由于分区功能改善了性能，使<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>管理员能用相对较少的时间完成大型<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>对象的维护工作。
<strong>未来发展方向</strong>
自从引入分区技术以来，Oracle 公司在每次推出重要版本时都会增加新的分区方法。Oracle8 引入了范围分区功能，Oracle8i 引入了散列和组合范围散列分区功能，Oracle9i 引入了列表分区功能。在最新版本 Oracle <a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a> 10g 中，则增强了用于索引组织表和全局分区索引的分区策略，并且扩展了其用于所有分区维护操作的并发索引维护功能。Oracle 公司致力于不断完善分区技术，确保满足所有的业务需求。
<strong>结论</strong>
具有 Oracle 分区功能的 Oracle <a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a> 10g 可以显著增强几乎任何<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>应用程序的可管理性、性能和可用性。分区功能可用于前沿应用程序，分区功能确实能够成为保障这些应用程序成功的关键技术成分。同时，分区功能也可用于较为普通的<a href="http://www.ninedns.com/webhosting/MSSQL.ASP" target="_blank">数据库</a>应用，来简化这些应用的管理工作，降低管理成本。</p>
<p>相关文章</p>
<ul>
<li><a href="http://9host.cn/oracle/200742218400613145.html" target="_blank">Oracle数据库应用系统调优方法介绍</a></li>
<li><a href="http://9host.cn/oracle/200742218400613144.html" target="_blank">Oracle中通过命令行实现定时操作详解</a></li>
<li><p><a href="http://9host.cn/oracle/200742218400613143.html" target="_blank">Oracle中用LogMiner分析重做及归档日志</a></p>
</li>
<li><p><a href="http://9host.cn/oracle/200742218400613147.html" target="_blank">Oracle中用脚本跟踪存储过程实例讲解</a></p>
</li>
<li><a href="http://9host.cn/oracle/200742218400713148.html" target="_blank">Oracle中自动存储管理技术原理及应用</a></li>
<li><a href="http://9host.cn/oracle/200742218400713149.html" target="_blank">提高Oracle的查询统计速度方法简介</a></li>
</ul>
<p>请您留言
<img src="" alt=""> 收藏：<a href=""><strong>Oracle分区功能提高应用程序性能</strong></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分区/">分区</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分区/" class="label label-success">分区</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分区--Oracle分区功能提高应用程序性能/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分区--Oracle分区功能提高应用程序性能" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/116/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/114/">114</a></li><li><a class="page-number" href="/page/115/">115</a></li><li><a class="page-number" href="/page/116/">116</a></li><li class="active"><li><span class="page-number current">117</span></li><li><a class="page-number" href="/page/118/">118</a></li><li><a class="page-number" href="/page/119/">119</a></li><li><a class="page-number" href="/page/120/">120</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="page-number" href="/page/163/">163</a></li><li><a class="extend next" href="/page/118/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-03-30 14:30:16</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
