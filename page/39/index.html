
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 39 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/">我的重构哪里不规范？ </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">我的重构哪里不规范？ - 软件测试</h1>
<p><a href="http://www.javaeye.com/login" title="登录" target="_blank">您还未登录 !</a><a href="http://www.javaeye.com/all" target="_blank">我的应用</a><a href="http://www.javaeye.com/login" target="_blank">登录</a><a href="http://www.javaeye.com/signup" target="_blank">注册</a></p>
<p><a href="http://www.javaeye.com/" target="_blank"><img src="&quot;JavaEye-最棒的软件开发交流社区&quot;" alt="JavaEye-最棒的软件开发交流社区"></a></p>
<p><a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> →<a href="http://www.javaeye.com/forums/board/develop" target="_blank">软件开发和项目管理版</a> →<a href="http://www.javaeye.com/forums/tag/test" target="_blank">软件测试</a> →</p>
<h1 id="-">我的重构哪里不规范？</h1>
<p><a href="http://www.javaeye.com/forums/board/develop" target="_blank">全部</a><a href="http://www.javaeye.com/forums/tag/project-manage" target="_blank">项目管理</a><a href="http://www.javaeye.com/forums/tag/agile" target="_blank">敏捷开发</a><a href="http://www.javaeye.com/forums/tag/test" target="_blank">软件测试</a><a href="http://www.javaeye.com/forums/tag/configuration" target="_blank">配置管理</a><a href="http://www.javaeye.com/forums/tag/UseCase" target="_blank">UseCase</a><a href="http://www.javaeye.com/forums/tag/UML" target="_blank">UML</a><a href="http://www.javaeye.com/forums/tag/unitest" target="_blank">单元测试</a><a href="http://www.javaeye.com/forums/tag/XP" target="_blank">XP</a><a href="http://www.javaeye.com/forums/tag/TDD" target="_blank">TDD</a><a href="http://www.javaeye.com/forums/tag/UP" target="_blank">UP</a><a href="http://www.javaeye.com/forums/tag/CMM" target="_blank">CMM</a>
« 上一页 1 <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">2</a> <a href="http://www.javaeye.com/topic/90347?page=3" target="_blank">3</a> <a href="http://www.javaeye.com/topic/90347?page=4" target="_blank">4</a> <a href="http://www.javaeye.com/topic/90347?page=5" target="_blank">5</a> <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">下一页 »</a></p>
<p>浏览 17393 次 锁定老贴子 <a href="">主题：我的重构哪里不规范？</a></p>
<p>精华帖 (3) :: 良好帖 (0) :: 新手帖 (0) :: 隐藏帖 (1) 作者 正文 * ojava</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://ojava.javaeye.com/" target="_blank"><img src="&quot;ojava的博客: ojava&quot;" alt="ojava的博客"></a></li>
<li>文章: 7</li>
<li>积分: 33</li>
<li>来自: 烟台</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p><a href="http://www.javaeye.com/topic/90347#" target="_blank">&lt;</a><a href="http://www.javaeye.com/topic/90347#" target="_blank">&gt;</a>猎头职位:   <a href="http://www.javaeye.com/jobs/712" target="_blank">北京:  Java搜索工程师</a></p>
<p>相关文章: <a href="http://www.javaeye.com/topic/90347#" title="关闭" target="_blank"> </a></p>
<ul>
<li><a href="http://www.javaeye.com/topic/416297" title="你们的项目经常重构代码吗？" target="_blank">你们的项目经常重构代码吗？</a></li>
<li><a href="http://www.javaeye.com/topic/460125" title="重构的几大重要特点" target="_blank">重构的几大重要特点</a></li>
<li><a href="http://www.javaeye.com/topic/6426" title="讨论：重构的前提是不是 TDD" target="_blank">讨论：重构的前提是不是 TDD</a>
推荐圈子: <a href="http://mars.group.javaeye.com/" target="_blank">火星常驻JE办事处</a>
<a href="http://www.javaeye.com/wiki/topic/90347" target="_blank">更多相关推荐</a>
在项目中，由于没有经过大脑思考，结果产生了流水账形式的代码。
流水账代码：就是根据是详细设计书把整个业务的流程顺序完成到一个类的一个方法中，
而没有根据功能划分成若干个小的方法。
这种流水账式的代码非常不容易测试，因为详细设计中已经将设计细化到对字符串如何操作了，
所以从这样的设计书的高度看业务，简直就是乱七八糟！
所幸，还有重构这个工具，就重构，发现很多的局部变量，因为在多处改变值，而且后续还要使用，
所以只能把这种变量，提到类变量的高度，好多啊。
这样一来，
1。如果要用junit测试，还需要再给相应的提出来的变量加上set,get方法。
2。因为重构出来的方法都是private的，所以测试的时候还要用反射的方法。
上面这两种情况可以避免吗？这是一个问题。
还有一个对自己的警告：小心费力不讨好！
声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。</li>
</ul>
<p>推荐链接</p>
<ul>
<li><a href="http://www.javaeye.com/clicks/373" target="_blank"><img src="&quot;adobe&quot;" alt="adobe"></a> <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://ojava.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ojava" title="发送站内短信" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=ojava" title="关注作者" target="_blank"> </a> * Xiaohanne</li>
<li>等级: <img src="&quot;四星会员&quot;" alt="四星会员"></li>
<li><a href="http://xiaohanne.javaeye.com/" target="_blank"><img src="&quot;Xiaohanne的博客: Xiaohanne&quot;" alt="Xiaohanne的博客"></a></li>
<li>文章: 183</li>
<li>积分: 389</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>面向接口不要面向实现，谢谢 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://xiaohanne.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://xiaohanne.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=Xiaohanne" title="发送站内短信" target="_blank"> </a><a href="http://xiaohanne.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=Xiaohanne" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312955" title="Xiaohanne回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * 抛出异常的爱</p>
<ul>
<li>等级: <img src="&quot;五钻会员&quot;" alt="五钻会员"></li>
<li><a href="http://loveexception.javaeye.com/" target="_blank"><img src="&quot;抛出异常的爱的博客: 设计可以拯救国家&quot;" alt="抛出异常的爱的博客"></a></li>
<li>文章: 12050</li>
<li>积分: 2782</li>
<li>来自: 北京</li>
<li><a href="http://www.javaeye.com/topic/743366" title="我正在看《纪念coding之路.祝福所有的coder都可以实现自己的梦想》" target="_blank"><img src="" alt=""></a>
  发表时间：2007-06-15  </li>
</ul>
<p><strong>ojava 写道：</strong>
在项目中，由于没有经过大脑思考，结果产生了流水账形式的代码。
流水账代码：就是根据是详细设计书把整个业务的流程顺序完成到一个类的一个方法中，
而没有根据功能划分成若干个小的方法。
这种新式的代码非常不容易测试，因为详细设计中已经将设计细化到对字符串如何操作了，
所以从这样的设计书的高度看业务，简直就是乱七八糟！
所幸，还有重构这个工具，就重构，发现很多的局部变量，因为在多处改变值，而且后续还要使用，
所以只能把这种变量，提到类变量的高度，好多啊。
这样一来，
1。如果要用junit测试，还需要再给相应的提出来的变量加上set,get方法。
2。因为重构出来的方法都是private的，所以测试的时候还要用反射的方法。
上面这两种情况可以避免吗？这是一个问题。
还有一个对自己的警告：小心费力不讨好！
无设计，无定义（对每个类与方法），无规则，的重构。。。叶公好龙 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://loveexception.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="发送站内短信" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312962" title="抛出异常的爱回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * ojava</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://ojava.javaeye.com/" target="_blank"><img src="&quot;ojava的博客: ojava&quot;" alt="ojava的博客"></a></li>
<li>文章: 7</li>
<li>积分: 33</li>
<li>来自: 烟台</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>无设计，无定义（对每个类与方法），无规则，的重构。。。叶公好龙
这句话，一针见血！！！
刚学习测试，准备在项目中实践，结果发现自己的代码根本没有办法测试，因为这个巨大的方法太大，看不清要实现的业务是什么！
头脑中就是因为缺少测试的思想，才导致出现这样的问题，果然没有思想是不行的，亡羊补牢，现在晚了吗？ <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://ojava.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ojava" title="发送站内短信" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=ojava" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312971" title="ojava回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * gigix</p>
<ul>
<li>等级: <img src="&quot;资深会员&quot;" alt="资深会员">资深会员</li>
<li><a href="http://gigix.javaeye.com/" target="_blank"><img src="&quot;gigix的博客: 透明之眼&quot;" alt="gigix的博客"></a></li>
<li>文章: 4810</li>
<li>积分: 2991</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>First of all you should have tests for you original method.
During your refactoring those test should always pass.
So you don&#39;t have to test new (and quite possible private) methods/fields you extract out. <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://gigix.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=gigix" title="发送站内短信" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=gigix" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312973" title="gigix回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">1</a> 请登录后投票 * 抛出异常的爱</p>
<ul>
<li>等级: <img src="&quot;五钻会员&quot;" alt="五钻会员"></li>
<li><a href="http://loveexception.javaeye.com/" target="_blank"><img src="&quot;抛出异常的爱的博客: 设计可以拯救国家&quot;" alt="抛出异常的爱的博客"></a></li>
<li>文章: 12050</li>
<li>积分: 2782</li>
<li>来自: 北京</li>
<li><a href="http://www.javaeye.com/topic/743366" title="我正在看《纪念coding之路.祝福所有的coder都可以实现自己的梦想》" target="_blank"><img src="" alt=""></a>
  发表时间：2007-06-15  </li>
</ul>
<p>gigix 写道</p>
<p>First of all you should have tests for you original method.
During your refactoring those test should always pass.
So you don&#39;t have to test new (and quite possible private) methods/fields you extract out.
是的，不用再加测试了，先写着，
不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
PS:如果要测试中间的private方法，可以写在主函数中一个
public XXX (){ return 你要测试的方法 ；}
PS：天啊。。。变的够快。。。认不出来了 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://loveexception.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="发送站内短信" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312979" title="抛出异常的爱回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * gigix</p>
<ul>
<li>等级: <img src="&quot;资深会员&quot;" alt="资深会员">资深会员</li>
<li><a href="http://gigix.javaeye.com/" target="_blank"><img src="&quot;gigix的博客: 透明之眼&quot;" alt="gigix的博客"></a></li>
<li>文章: 4810</li>
<li>积分: 2991</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>抛出异常的爱 写道</p>
<p>不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
nope...
if you make any mistake during refactoring and break any test,
and if you can&#39;t fix it immediately,
you should revert to previous successful step immediately.
(that&#39;s why you should check in as frequently as you can.) <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://gigix.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=gigix" title="发送站内短信" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=gigix" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313053" title="gigix回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * 抛出异常的爱</p>
<ul>
<li>等级: <img src="&quot;五钻会员&quot;" alt="五钻会员"></li>
<li><a href="http://loveexception.javaeye.com/" target="_blank"><img src="&quot;抛出异常的爱的博客: 设计可以拯救国家&quot;" alt="抛出异常的爱的博客"></a></li>
<li>文章: 12050</li>
<li>积分: 2782</li>
<li>来自: 北京</li>
<li><a href="http://www.javaeye.com/topic/743366" title="我正在看《纪念coding之路.祝福所有的coder都可以实现自己的梦想》" target="_blank"><img src="" alt=""></a>
  发表时间：2007-06-15  </li>
</ul>
<p>gigix 写道</p>
<p>抛出异常的爱 写道</p>
<p>不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
nope...
if you make any mistake during refactoring and break any test,
and if you can&#39;t fix it immediately,
you should revert to previous successful step immediately.
(that&#39;s why you should check in as frequently as you can.)
那么不动老的代码。。。
写新方法，新的测试，
所有需要的方法都写完了（小步前进？）
再一次把老的代码删去
用新的代码顶上？ <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://loveexception.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="发送站内短信" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313088" title="抛出异常的爱回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * gigix</p>
<ul>
<li>等级: <img src="&quot;资深会员&quot;" alt="资深会员">资深会员</li>
<li><a href="http://gigix.javaeye.com/" target="_blank"><img src="&quot;gigix的博客: 透明之眼&quot;" alt="gigix的博客"></a></li>
<li>文章: 4810</li>
<li>积分: 2991</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>抛出异常的爱 写道</p>
<p>gigix 写道</p>
<p>抛出异常的爱 写道</p>
<p>不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
nope...
if you make any mistake during refactoring and break any test,
and if you can&#39;t fix it immediately,
you should revert to previous successful step immediately.
(that&#39;s why you should check in as frequently as you can.)
那么不动老的代码。。。
写新方法，新的测试，
所有需要的方法都写完了
再一次把老的代码删去
用新的代码顶上？
please man...
what is &quot;refactoring&quot;?
answer: to improve the internal structure of code, WITHOUT CHANGING ITS EXTERNAL BEHAVIOR
when you refactoring, you move forward by SMALL STEPS. you remove the bad smells little by little, and always keep all tests passing. <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://gigix.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=gigix" title="发送站内短信" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=gigix" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313092" title="gigix回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * ojava</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://ojava.javaeye.com/" target="_blank"><img src="&quot;ojava的博客: ojava&quot;" alt="ojava的博客"></a></li>
<li>文章: 7</li>
<li>积分: 33</li>
<li>来自: 烟台</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>公司新加代码规范条目：所定义的方法尽量不要超过100行。
某一方面来说，可以避免这种流水账式的代码吧！
并且强制我们进行Xiaohanne所说的面向接口不要面向实现的编程。 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://ojava.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ojava" title="发送站内短信" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=ojava" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313239" title="ojava回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票</p>
<p>« 上一页 1 <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">2</a> <a href="http://www.javaeye.com/topic/90347?page=3" target="_blank">3</a> <a href="http://www.javaeye.com/topic/90347?page=4" target="_blank">4</a> <a href="http://www.javaeye.com/topic/90347?page=5" target="_blank">5</a> <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">下一页 »</a>
<a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> →<a href="http://www.javaeye.com/forums/board/develop" target="_blank">软件开发和项目管理版</a>→ <a href="http://www.javaeye.com/forums/tag/test" target="_blank">软件测试</a>
跳转论坛:Java编程和Java企业应用Web前端技术 移动编程和手机应用开发C/C++编程Ruby编程Python编程 PHP编程Flash编程和RIA Microsoft .Net综合技术软件开发和项目管理行业应用 入门讨论招聘求职海阔天空</p>
<ul>
<li><a href="http://www.javaeye.com/" target="_blank">首页</a></li>
<li><a href="http://www.javaeye.com/news" target="_blank">新闻</a></li>
<li><a href="http://www.javaeye.com/forums" target="_blank">论坛</a></li>
<li><a href="http://www.javaeye.com/ask" target="_blank">问答</a></li>
<li><a href="http://www.javaeye.com/wiki" target="_blank">专栏</a></li>
<li><a href="http://www.javaeye.com/blogs" target="_blank">博客</a></li>
<li><a href="http://www.javaeye.com/groups" target="_blank">圈子</a></li>
<li><a href="http://www.javaeye.com/job" target="_blank">招聘</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">服务</a></li>
<li><a href="http://www.javaeye.com/search" target="_blank">搜索</a></li>
<li><a href="http://java.javaeye.com/" target="_blank">Java</a></li>
<li><a href="http://webapp.javaeye.com/" target="_blank">Web</a></li>
<li><a href="http://ruby.javaeye.com/" target="_blank">Ruby</a></li>
<li><a href="http://python.javaeye.com/" target="_blank">Python</a></li>
<li><a href="http://agile.javaeye.com/" target="_blank">敏捷</a></li>
<li><a href="http://mysql.javaeye.com/" target="_blank">MySQL</a></li>
<li><a href="http://runqian.javaeye.com/" target="_blank">润亁报表</a></li>
<li><a href="http://book.javaeye.com/" target="_blank">图书</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">广告服务</a></li>
<li><a href="http://webmaster.javaeye.com/" target="_blank">JavaEye黑板报</a></li>
<li><a href="http://www.javaeye.com/index/aboutus" target="_blank">关于我们</a></li>
<li><a href="http://www.javaeye.com/index/contactus" target="_blank">联系我们</a></li>
<li><a href="http://www.javaeye.com/index/friend_links" target="_blank">友情链接</a></li>
</ul>
<p>© 2003-2010 JavaEye.com. 上海炯耐计算机软件有限公司版权所有 [ <a href="http://www.miibeian.gov.cn/" target="_blank">沪ICP备05023328号</a> ]  <img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_总结类/">Java_总结类</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_总结类/" class="label label-success">Java_总结类</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--探究Singleton设计模式/">探究 Singleton 设计模式</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--探究Singleton设计模式/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-singleton-">探究 Singleton 设计模式</h1>
<p><strong>探究 Singleton 设计模式（构建分布式应用程序）</strong></p>
<p>来源：<a href="http://www.microsoft.com" target="_blank">www.microsoft.com</a>
来源：<a href="http://uml.org.cn/sjms/200506211.htm" target="_blank">UML软件工程组织</a></p>
<p><strong>摘要：</strong></p>
<p>讨论 Singleton 设计模式（指示如何以及何时创建对象的创造性模式）及其在 Microsoft .NET 框架中的有效使用。</p>
<p><strong>内容</strong></p>
<p><a href="http://sheneyan.com/tech/article/patterns/singleton.html#i1#i1" target="_blank">简介</a></p>
<p><a href="http://sheneyan.com/tech/article/patterns/singleton.html#i2#i2" target="_blank">Singleton 模式</a></p>
<p><a href="http://sheneyan.com/tech/article/patterns/singleton.html#i3#i3" target="_blank">结论</a></p>
<p><strong>简介</strong></p>
<p>在开发软件应用程序过程中，随着应用程序的开发，会出现重复性的模式。 随着整个软件系统的开发，很多相同的模式会逐渐显现出来。</p>
<p>这种重复性模式概念在其他应用中是非常明显的。 汽车制造就是一种此类应用。 很多不同的汽车型号使用相同的子构件，包括大多数基本部件（例如，灯泡和紧固零件）以及较大的构件（例如，底盘和发动机）。</p>
<p>在住宅建筑中，重复性模式概念适用于螺丝和螺钉以及整体总体建筑物配电系统。 无论组建的小组是为了开发新的汽车设计还是新的建筑物设计，它其通常不必没有考虑到以前已解决的问题。 如果设计和建筑住宅的小组必须重新构思和设计房子的每一个组成部分，则整个过程所花的时间比现在要长得多。 门高或灯开关功能等许多设计决策（例如，门高或灯开关功能）很容易理解。 房为满足给房子不同部分提供洗手功能的要求，房屋设计师不必重新设计和重新建造不同类型的输供水和蓄水设施：，以便达到为房子不同部分提供洗手功能的要求： 标准水槽以及标准的热水和冷水输入接头和排水输出接头是很容易理解非常常见的房屋建筑构件。 可以将重复性模式概念反复应用于我们周围的几乎每样东西上，包括软件。</p>
<p>汽车和住宅建筑示例有助于在软件设计和构造中体现某些一般性的抽象概念。 易于理解且明确定义的通用功能部件的概念是设计模式的源动力，它也是其他两篇设计模式文章探究工厂设计模式和探究观察者设计模式的重点。 这些模式几乎涵盖了面向对象的软件设计的各个方面，包括对象创建、对象交互和对象生存期。 在本文中，我们将讨论 Singleton 模式，它包含在创造性模式系列中。</p>
<p>创造性模式指示如何以及何时创建对象。 很多实例需要只能通过创造性方法解决的特殊行为，而不是在创建实例后强制实施所需的行为。 此类行为要求最好的例子之一包含在 Singleton 模式中。 Singleton 模式在 Design Patterns: Elements of Reusable Software 这一经典参考书目中有正式的定义，该书的作者包括 Erich Gamma、Richard Helm、Ralph Johnson 和 John Vlissides（也称为四人组或 GoF）。 在 Design Patterns 中，此模式是最简单也是使用最广泛的模式之一。 但是，正如我们将会看到的一样，在实现此模式时可能会出现一些问题。 本文试图通过 Singleton 模式的多个早期实现来从头开始分析 Singleton 模式，以及如何在 Microsoft_ .NET 应用程序开发中发挥其最佳用途。</p>
<p><strong>Singleton**</strong>模式**</p>
<p>按照 Design Patterns 中的定义，Singleton 模式的用途是 &quot;ensure a class has only one instance, and provide a global point of access to it&quot;（确保每个类只有一个实例，并提供它的全局访问点）。</p>
<p>它可以解决什么问题，或者换句话说，我们使用它的动机是什么？ 几乎在每个应用程序中，都需要有一个从中进行全局访问和维护某种类型数据的区域。 在面向对象的 (OO) 系统中也有这种情况，在此类系统中，在任何给定时间只应运行一个类或某个类的一组预定义数量的实例。 例如，当使用某个类来维护增量计数器时，此简单的计数器类需要跟踪在多个应用程序领域中使用的整数值。 此类需要能够增加该计数器并返回当前的值。 对于这种情况，所需的类行为应该仅使用一个类实例来维护该整数，而不是使用其它类实例来维护该整数。</p>
<p>最初，人们可能会试图将计数器类实例只作为静态全局变量来创建。 这是一种通用的方法，但实际上只解决一部分问题；它解决了全局可访问性问题，但没有采取任何措施来确保在任何给定的时间只运行一个类实例。 应该由类本身来负责只使用一个类实例，而不是由类用户来负责。 应该始终不要让类用户来监视和控制运行的类实例的数量。</p>
<p>所需要的是使用某种方法来控制如何创建类实例，然后确保在任何给定的时间只创建一个类实例。 这会确切地给我们提供所需的行为，并使客户端不必了解任何类细节。</p>
<p><strong>逻辑模型</strong></p>
<p>Singleton 模型非常简单直观。 （通常）只有一个 Singleton 实例。 客户端通过一个已知的访问点来访问 Singleton 实例。 在这种情况下，客户端是一个需要访问唯一 Singleton 实例的对象。 图 1 以图形方式显示此关系。</p>
<p><img src="" alt="图 1. Singleton 模式逻辑模型">
图1. Singleton模式逻辑模型</p>
<p><strong>物理模型</strong></p>
<p>Singleton 模式的物理模型也是非常简单的。 但是，随着时间的推移，实现 Singleton 的方式也略有不同。 让我们看一下原始的 GoF Singleton 实现。 图 2 显示按 Design Patterns 所定义的原始 Singleton 模式的 UML 模型。</p>
<p><img src="" alt="图 2. Design Patterns 中的 Singleton 模式物理模型">
图2. Design Patterns中的Singleton模式物理模型</p>
<p>我们看到的是一个简单的类图表，显示有一个 Singleton 对象的私有静态属性以及返回此相同属性的公共方法 Instance()。 这实际上是 Singleton 的核心。 还有其他一些属性和方法，用于说明在该类上允许执行的其他操作。 为了便于此次讨论，让我们将重点放在实例属性和方法上。</p>
<p>客户端仅通过实例方法来访问任何 Singleton 实例。 此处没有定义创建实例的方式。 我们还希望能够控制如何以及何时创建实例。 在 OO 开发中，通常可以在类的构造函数中最好地处理特殊对象的创建行为。 这种情况也不例外。 我们可以做的是，定义我们何时以及如何构造类实例，然后禁止任何客户端直接调用该构造函数。 这是在 Singleton 构造中始终使用的方法。 让我们看一下 Design Patterns 中的原始示例。 通常，将下面所示的 C++ Singleton 示例实现代码示例视为 Singleton 的默认实现。 本示例已移植到很多其他编程语言中，通常它在任何地方的形式与此几乎相同。</p>
<p><strong>C++ Singleton**</strong>示例实现代码**</p>
<p><strong>Language**</strong>：<strong><strong>cpp</strong></strong>, parsed in: 0.004 seconds, using GeSHi 1.0.7.12**</p>
<ol>
<li><p>// Declaration</p>
</li>
<li><p><strong>class</strong> Singleton {</p>
</li>
<li><p><strong>public</strong>:</p>
</li>
<li><p>static Singleton/* Instance();</p>
</li>
<li><p><strong>protected</strong>:</p>
</li>
<li><p>Singleton();</p>
</li>
<li><p><strong>private</strong>:</p>
</li>
<li><p>static Singleton/* _instance;</p>
</li>
<li><p>}</p>
</li>
<li></li>
<li><p>// Implementation</p>
</li>
<li><p>Singleton/* Singleton::_instance = 0;</p>
</li>
<li></li>
<li><p>Singleton/* Singleton::Instance() {</p>
</li>
<li><p>if (_instance == 0) {</p>
</li>
<li><p>_instance = new Singleton;</p>
</li>
<li><p>}</p>
</li>
<li><p>return _instance;</p>
</li>
<li><p>}</p>
</li>
<li></li>
</ol>
<p>让我们先花点时间分析一下此代码。 该简单类有一个成员变量，此变量是指向该类自身的指针。 注意，构造函数是受保护的，并且只有公共方法才是实例方法。 在实例方法实现中，有一个控制块 (if)，它检查成员变量是否已初始化，如果没有的话，则创建一个新实例。 控制块中这种惰性初始化意味着仅在第一次调用 Instance() 方法时初始化或创建 Singleton 实例。 对于很多应用程序，这种方法效果很好。 但对于多线程应用程序，这种方法证明具有潜在危险的副作用。 如果两个线程同时进入控制块，则可能会创建该成员变量的两个实例。 要解决这一问题，您可能想只将重要部分放在控制块周围以确保线程安全。 如果您这样做，则将对实例方法的所有调用进行序列化处理，并且可能会对性能产生不利影响（取决于应用程序）。 正是由于这个原因，创建了此模式的另一个版本，它使用某种称为双重检验机制的功能。 下一个代码示例显示使用 Java 语法的双重检验锁定。</p>
<p><strong>使用 Java 语法的双重检验锁定 Singleton 代码</strong></p>
<p><strong>Language**</strong>：<strong>**java, parsed in: 0.011 seconds, using GeSHi 1.0.7.12</strong></p>
<ol>
<li><p>// C++ port to Java</p>
</li>
<li><p><strong>class</strong> Singleton</p>
</li>
<li><p>{</p>
</li>
<li><p><strong>public</strong> <strong>static</strong> Singleton Instance() {</p>
</li>
<li><p>if (_instance == <strong>null</strong>) {</p>
</li>
<li><p><strong>synchronized</strong> (<strong>Class</strong>.forName(&quot;Singleton&quot;)) {</p>
</li>
<li><p>if (_instance == <strong>null</strong>) {</p>
</li>
<li><p>_instance = <strong>new</strong> Singleton();</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li><p><strong>return</strong> _instance;     </p>
</li>
<li><p>}</p>
</li>
<li><p><strong>protected</strong> Singleton() {}</p>
</li>
<li><p><strong>private</strong> <strong>static</strong> Singleton _instance = <strong>null</strong>;</p>
</li>
<li><p>}</p>
</li>
<li></li>
</ol>
<p>在使用 Java 语法的双重检验锁定 Singleton 代码示例中，我们直接将 C++ 代码移植到 Java 代码，以便利用 Java 关键部分块（已同步）。 主要差别是不再有单独的声明和实现部分，没有指针数据类型，并且采用了新的双重检验机制。 双重检验发生在第一个 IF 块上。 如果成员变量为空，则执行进入关键部分块，该块再次双重检验该成员变量。 仅在通过此最终测试后，才会实例化该成员变量。 一般来说，两个线程无法使用这种方法创建两个类实例。 另外，因为在第一次检查时没有出现线程阻塞，所以对此方法的大多数调用不会由于必须进入锁定而导致性能下降。 目前，在实现 Singleton 模式时，很多 Java 应用程序中都广泛使用这种方法。 这种方法很巧妙，但也有瑕疵。 某些优化编译器可以将惰性初始化代码优化掉或对其重新进行排序，并且会重新产生线程安全问题。 有关更深入的解释，请参阅 &quot;The Double-Check Locking is Broken&quot; Declaration。</p>
<p>另一种试图解决此问题的方法可能是，在成员变量声明中使用 volatile 关键字。 这应该告诉编译器不要对代码重新排序，并且放弃优化。 目前，这是唯一建议的 JVM 内存模型，并且不会立即解决该问题。</p>
<p>实现 Singleton 的最好方法是什么？ 最终（而不是碰巧），Microsoft .NET 框架解决了所有这些问题，从而更易于实现 Singleton，却不会产生我们目前讨论的不利副作用。 .NET 框架以及 C/# 语言允许我们在必要时通过替换语言关键字，将上述的 Java 语法移植到 C/# 语法。 因此，Singleton 代码变为以下内容：</p>
<p><strong>以 C/# 编码的双重检验锁定</strong></p>
<p><strong>Language**</strong>：<strong><strong>csharp</strong></strong>, parsed in: 0.005 seconds, using GeSHi 1.0.7.12**</p>
<ol>
<li><p>// Port to C/#</p>
</li>
<li><p>class Singleton</p>
</li>
<li><p>{</p>
</li>
<li><p>public static Singleton Instance() {</p>
</li>
<li><p>if (_instance == null) {</p>
</li>
<li><p>lock (<a href="http://www.google.com/search?q=typeof+msdn.microsoft.com" target="_blank">typeof</a>(Singleton)) {</p>
</li>
<li><p>if (_instance == null) {</p>
</li>
<li><p>_instance = <a href="http://www.google.com/search?q=new+msdn.microsoft.com" target="_blank">new</a> Singleton();</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li><p>return _instance;     </p>
</li>
<li><p>}</p>
</li>
<li><p>protected Singleton() {}</p>
</li>
<li><p>private static volatile Singleton _instance = null;</p>
</li>
<li><p>}</p>
</li>
<li></li>
</ol>
<p>此处，我们替换了锁定关键字来执行关键部分块，使用 typeof 操作并添加 volatile 关键字，以确保没有对代码进行优化程序重新排序。 虽然此代码或多或少是 GoF Singleton 模式的直接移植，但它可达到我们的目的，并且我们可获得所需的行为。 此代码还说明了将 C++ 移植到 Java 和将 Java 移植到 C/# 代码的一些相似之处和主要差别。 但是，正如任何代码移植一样，通常目标语言或平台的一些优点可能在移植过程中失去。 需要做的就是对代码重构，以便利用新目标语言或平台的功能。</p>
<p>在前面的每个代码示例中，Singleton 的原始实现随时间的推移而发生变化，以解决在每个新模式实现中发现的问题。 一些问题（例如，线程安全）要求对大多数实现进行更改，以满足在目前应用程序中日益增长的需要并解决演变发展问题。 .NET 在应用程序开发中提供了一个演变步骤。 可以在“框架”级别解决前面示例中出现的很多亟待解决的问题，而不是在实现级别解决。 虽然上一个示例显示了一个使用 .NET 框架和 C/# 的有效 Singleton 类，但只需更好地利用 .NET 框架本身就可以大大简化此代码。 以下示例使用 .NET，它是一个松散地基于原始 GoF 模式的最小限度的 Singleton 类，并且仍然可获得类似的行为。</p>
<p><strong>.NET Singleton**</strong>示例**</p>
<p><strong>Language**</strong>：<strong><strong>csharp</strong></strong>, parsed in: 0.002 seconds, using GeSHi 1.0.7.12**</p>
<ol>
<li><p>// .NET Singleton</p>
</li>
<li><p>sealed class Singleton</p>
</li>
<li><p>{</p>
</li>
<li><p>private Singleton() {}</p>
</li>
<li><p>public static readonly Singleton Instance = <a href="http://www.google.com/search?q=new+msdn.microsoft.com" target="_blank">new</a> Singleton();</p>
</li>
<li><p>}</p>
</li>
<li></li>
</ol>
<p>此版本已大大简化并且更加直观。 它仍然是 Singleton 吗？ 让我们看一下更改了哪些内容，然后再做决定。 我们修改了要密封的类本身（该类密封后是不可继承的），删除了惰性初始化代码，删除了 Instance() 方法，并且对 _instance 变量做了大量的修改。 对 _instance 变量所做的更改包括修改对公共方法的访问级别，将变量标记为只读，以及在声明时初始化该变量。 此处，我们可以直接定义所需的行为，而不关心实现的潜在有害的副作用。 那么，使用惰性初始化有什么优点以及使用多个线程有什么危险呢？ 在 .NET 框架中内置了所有正确的行为。 让我们先看第一种情况：惰性初始化。</p>
<p>最初使用惰性初始化的主要原因是要获取仅在第一次调用 Instance() 方法中创建实例的行为，还因为 C++ 规范中具有某种开放性，并不定义静态变量的确切初始化顺序。 要在 C++ 中获得所需的 Singleton 行为，必须采用涉及使用惰性初始化的运算方法。 我们真正关心的是在第一次（在该情况下）调用实例属性中创建该实例，还是在此调用之前创建该实例的，并且类中的静态变量是否有已定义的初始化顺序。 对于 .NET 框架，这就是我们获取的行为。 在 JIT 过程中，当（且仅当）任何方法使用静态属性时，“框架”将初始化此静态属性。 如果没有使用该属性，则不会创建实例。 更准确地说，在 JIT 过程中发生的事情就是，在任何调用方使用该类的任何静态成员时构造和加载该类。 在这种情况下，结果是相同的。</p>
<p>那么，线程安全初始化呢？ “框架”也解决了这一问题。 “框架”内部保证静态类型初始化的线程安全。 换句话说，在上面的示例中，只创建一个 Singleton 类实例。 还要注意，用于保存类实例的属性字段称为实例。 此选项更好地说明了，在本文中的讨论过程中，此值是类的实例。 在“框架”本身中，虽然使用的属性名称称为值，但有多个类使用此类型的 Singleton。 概念完全相同。</p>
<p>对类所做的其他更改意味着禁止划分子类。 添加密封类修饰符可确保不会将该类划分为子类。 GoF Singleton 模式详细介绍了试图对 Singleton 划分子类所产生的问题，该划分通常并不是小事。 在大多数情况下，可以很容易地开发没有父类的 Singleton，并且添加划分子类功能会增加通常根本不需要的新的复杂性级别。 随着复杂性的提高，测试、培训和文档编制等所需的时间也会增加。 通常，除非绝对必要，否则您不希望提高任何代码的复杂性。</p>
<p>让我们看一下如何使用 Singleton。 使用我们最初的计数器的有关动机的概念，我们可以创建一个简单的 Singleton 计数器类并说明我们将如何使用它。 图 3 显示了 UML 类说明将包含什么内容。</p>
<p><img src="" alt="图 3. UML 类图表">
图 3. UML 类图表</p>
<p>相应的类实现代码以及示例客户端使用如下所示。</p>
<p><strong>示例 Singleton 使用</strong></p>
<p><strong>Language**</strong>：<strong><strong>csharp</strong></strong>, parsed in: 0.007 seconds, using GeSHi 1.0.7.12**</p>
<ol>
<li><p>sealed class SingletonCounter {</p>
</li>
<li><p>public static readonly SingletonCounter Instance =</p>
</li>
<li><p><a href="http://www.google.com/search?q=new+msdn.microsoft.com" target="_blank">new</a> SingletonCounter();</p>
</li>
<li><p>private long Count = 0;</p>
</li>
<li><p>private SingletonCounter() {}</p>
</li>
<li><p>public long NextValue() {</p>
</li>
<li><p>return ++Count;</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li></li>
<li><p>class SingletonClient {</p>
</li>
<li><p>[STAThread]</p>
</li>
<li><p>static void Main() {</p>
</li>
<li><p>for (int i=0; i&lt;20; i++) {</p>
</li>
<li><p>Console.WriteLine(&quot;Next singleton value: {0}&quot;,</p>
</li>
<li><p>SingletonCounter.Instance.NextValue());</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li><p>}</p>
</li>
<li></li>
</ol>
<p>此处，我们还创建了一个 Singleton 类来维护具有 long 类型的增量计数。 客户端是一个简单的控制台应用程序，它显示计数器类的 20 个值。 虽然此示例极其简单，但它却说明了如何使用 .NET 来实现 Singleton，然后将其用在应用程序中。</p>
<p><strong>小结</strong></p>
<p>Singleton 设计模式是一个非常有用的机制，可用于在面向对象的应用程序中提供单个对象访问点。 无论使用的是什么实现，该模式提供一个大家所熟知的概念，以便其在设计和开发小组之间方便地进行共享。 但是，正如我们所发现的一样，注意到这些实现有多大差异及其潜在的副作用也是非常重要的。 .NET 框架为模式实现者在设计所需的功能类型方面提供了很大的帮助，实现者无需处理本文中所讨论的很多副作用。 在正确实现后，可以证实模式的最初目的的有效性。</p>
<p>设计模式是非常有用的软件设计概念，可使小组将重点放在提供最佳类型的应用程序上，而不考虑它们是什么应用程序。 关键在于正确而有效地使用设计模式，目前有很多关于将设计模式用于 Microsoft .NET 方面的 MSDN 系列文档，其中介绍了如何正确而有效地使用设计模式。</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_总结类/">Java_总结类</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_总结类/" class="label label-success">Java_总结类</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--探究Singleton设计模式/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--探究Singleton设计模式" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java知识点总结1/">Java知识点总结1</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java知识点总结1/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-1">Java知识点总结1</h1>
<p><strong>Java**</strong>知识点总结<strong>**1</strong></p>
<p>前言：现就java学习中的部分知识点做一下总结，以供同学们参考
1 String,StringBuffer和StringBuilder的用法
String 字符串常量
StringBuffer 字符串变量（线程安全）
StringBuilder 字符串变量（非线程安全）
 简要的说， String 类型和 StringBuffer 类型的主要性能区别其实在于 String 是不可变的对象, 因此在每次对 String 类型进行改变的时候其实都等同于生成了一个新的 String 对象，然后将指针指向新的 String 对象，所以经常改变内容的字符串最好不要用 String ，因为每次生成对象都会对系统性能产生影响，特别当内存中无引用对象多了以后， JVM 的 GC 就会开始工作，那速度是一定会相当慢的。
 而如果是使用 StringBuffer 类则结果就不一样了，每次结果都会对 StringBuffer 对象本身进行操作，而不是生成新的对象，再改变对象引用。所以在一般情况下我们推荐使用 StringBuffer ，特别是字符串对象经常改变的情况下。而在某些特别情况下， String 对象的字符串拼接其实是被 JVM 解释成了 StringBuffer 对象的拼接，所以这些时候 String 对象的速度并不会比 StringBuffer 对象慢，而特别是以下的字符串对象生成中， String 效率是远要比 StringBuffer 快的：
 String S1 = “This is only a” + “ simple” + “ test”;
 StringBuffer Sb = new StringBuilder(“This is only a”).append(“ simple”).append(“ test”);
 我们会很惊讶的发现，生成 String S1 对象的速度简直太快了，而这个时候 StringBuffer 居然速度上根本一点都不占优势。其实这是 JVM 的一个把戏，在 JVM 眼里，这个
 String S1 = “This is only a” + “ simple” + “test”; 其实就是：
 String S1 = “This is only a simple test”; 所以当然不需要太多的时间了。但大家这里要注意的是，如果你的字符串是来自另外的 String 对象的话，速度就没那么快了，譬如：
String S2 = “This is only a”;
String S3 = “ simple”;
String S4 = “ test”;
String S1 = S2 +S3 + S4;
这时候 JVM 会规规矩矩的按照原来的方式去做</p>
<p>在大部分情况下 StringBuffer &gt; String
StringBuffer
Java.lang.StringBuffer线程安全的可变字符序列。一个类似于 String 的字符串缓冲区，但不能修改。虽然在任意时间点上它都包含某种特定的字符序列，但通过某些方法调用可以改变该序列的长度和内容。
可将字符串缓冲区安全地用于多个线程。可以在必要时对这些方法进行同步，因此任意特定实例上的所有操作就好像是以串行顺序发生的，该顺序与所涉及的每个线程进行的方法调用顺序一致。
StringBuffer 上的主要操作是 append 和 insert 方法，可重载这些方法，以接受任意类型的数据。每个方法都能有效地将给定的数据转换成字符串，然后将该字符串的字符追加或插入到字符串缓冲区中。append 方法始终将这些字符添加到缓冲区的末端；而 insert 方法则在指定的点添加字符。
例如，如果 z 引用一个当前内容是“start”的字符串缓冲区对象，则此方法调用 z.append(le) 会使字符串缓冲区包含“startle”，而 z.insert(4, le) 将更改字符串缓冲区，使之包含“starlet”。
在大部分情况下 StringBuilder &gt; StringBuffer
java.lang.StringBuilde
java.lang.StringBuilder一个可变的字符序列是5.0新增的。此类提供一个与 StringBuffer 兼容的 API，但不保证同步。该类被设计用作 StringBuffer 的一个简易替换，用在字符串缓冲区被单个线程使用的时候（这种情况很普遍）。如果可能，建议优先采用该类，因为在大多数实现中，它比 StringBuffer 要快。两者的方法基本相同。
2 Vector 还是ArrayList――哪一个更好，为什么？
要回答这个问题不能一概而论，有时候使用Vector比较好；有时是ArrayList，有时候这两个都不是最好的选择。你别指望能够获得一个简单肯定答案，因为这要看你用它们干什么。下面有4个要考虑的因素：
l API
l 同步处理
l 数据增长性
l 使用模式
下面针对这4个方面进行一一探讨
API
在由Ken&amp;nbspArnold等编著的《Java&amp;nbspProgramming&amp;nbspLanguage》 (Addison-Wesley,&amp;nbspJune&amp;nbsp2000)一书中有这样的描述，Vector类似于 ArrayList.。所有从API的角度来看这两个类非常相[b]似。但他们之间也还是有一些主要的区别的。</p>
<p>同步性
Vector是同步的。这个类中的一些方法保证了Vector中的对象是线程安全的。而ArrayList则是异步的，因此ArrayList中的对象并不是线程安全的。因为同步的要求会影响执行的效率，所以如果你不需要线程安全的集合那么使用ArrayList是一个很好的选择，这样可以避免由于同步带来的不必要的性能开销。
数据增长
从内部实现机制来讲ArrayList和Vector都是使用数组(Array)来控制集合中的对象。当你向这两种类型中增加元素的时候，如果元素的数目超出了内部数组目前的长度它们都需要扩展内部数组的长度，Vector缺省情况下自动增长原来一倍的数组长度，ArrayList是原来的50%,所以最后你获得的这个集合所占的空间总是比你实际需要的要大。所以如果你要在集合中保存大量的数据那么使用Vector有一些优势，因为你可以通过设置集合的初始化大小来避免不必要的资源开销。
使用模式
在ArrayList和Vector中，从一个指定的位置（通过索引）查找数据或是在集合的末尾增加、移除一个元素所花费的时间是一样的，这个时间我们用 O(1)表示。但是，如果在集合的其他位置增加或移除元素那么花费的时间会呈线形增长：O(n-i)，其中n代表集合中元素的个数，i代表元素增加或移除元素的索引位置。为什么会这样呢？以为在进行上述操作的时候集合中第i和第i个元素之后的所有元素都要执行位移的操作。这一切意味着什么呢？
这意味着，你只是查找特定位置的元素或只在集合的末端增加、移除元素，那么使用Vector或ArrayList都可以。如果是其他操作，你最好选择其他的集合操作类。比如，LinkList集合类在增加或移除集合中任何位置的元素所花费的时间都是一样的?O(1)，但它在索引一个元素的使用缺比较慢－O (i),其中i是索引的位置.使用ArrayList也很容易，因为你可以简单的使用索引来代替创建iterator对象的操作。LinkList也会为每个插入的元素创建对象，所有你要明白它也会带来额外的开销。
最后，在《Practical&amp;nbspJava》一书中Peter&amp;nbspHaggar建议使用一个简单的数组（Array）来代替 Vector或ArrayList。尤其是对于执行效率要求高的程序更应如此。因为使用数组(Array)避免了同步、额外的方法调用和不必要的重新分配空间的操作。</p>
<p>3 throw 和throws的区别
这两者虽然看起来只有一个s的区别，但是作用完全不一样
/////java处理异常方式///////////////////////////////
在java代码中如果发生异常的话，jvm会抛出异常对象，导致程序代码中断，这个时候jvm在做的操作就是：创建异常对象，然后抛出，比如：</p>
<p>int i= 1；
int j = 0；
int res = 0；
res = i/j；//除0错误
System.out.println(res);</p>
<p>这5句代码运行到第四句会中断，因为jvm抛出了异常</p>
<p>////throw的作用/////////////////////////////////////////
手动抛出异常</p>
<p>但是有时候有些错误在jvm看来不是错误，比如说
int age = 0;
age = -100;
System.out.println(age);
很正常的整形变量赋值，但是在我们眼中看来就不正常，谁的年龄会是负的呢。
所以我们需要自己手动引发异常，这就是throw的作用
int age = 0;
age = -100;
if(age&lt;0)
{
Exception e = new Exception();//创建异常对象
throw e;//抛出异常
}
System.out.println(age);</p>
<p>////throws的作用///////////////////////////////////
声明方法可能回避的异常</p>
<p>有异常被抛出了，就要做处理，所以java中有try-catch
可是有时候一个方法中产生了异常，但是不知道该怎么处理它，那么就放着不管，当有异常抛出时会中断该方法，而异常被抛到这个方法的调用者那里。这个有点像下属处理不了的问题就交到上司手里一样，这种情况称为回避异常
但是这使得调用这个方法就有了危险，因为谁也不知道这个方法什么时候会丢一个什么样的异常给调用者，所以在定义方法时，就需要在方法头部分使用throws来声明这个方法可能回避的异常
void fun()throws IOException,SQLException
{
...
}
这表示 fun方法可能会丢两个异常出来，那么在调用fun的时候就会做好准备，比如可以这样
try
{
fun();
}catch(IOException e)
{
}catch(SQLException e)
{
}
////////完毕////////////////////</p>
<p><strong>Java**</strong>知识点总结<strong>**2</strong></p>
<p>前言：现就java学习中的部分知识点做一下总结，以供同学们参考
1    Java中Class类工作原理详解</p>
<p>Class对象
Class对象包含了与类相关的信息。事实上，Class对象就是用来创建类的所有的“普通”对象的。
    类是程序的一部分，每个类都有一个Class对象。换言之，每当编写并且编译了一个新类，就会产生一个Class对象（恰当地说，是被保存在一个同名的.class文件中）。在运行时，当我们想生成这个类的对象时，运行这个程序的 Java虚拟机（JVM）首先检查这个类的Class对象是否已经加载。如果尚未加载，JVM就会根据类名查找.class文件，并将其载入。
一旦某个类的Class对象被载入内存，它就被用来创建这个类的所有对象。看下面示例。</p>
<p>SweetShop.java
package com.zj.sample;
class Candy {
      static {
         System.out.println(Loading Candy);
      }
}
class Gum {
      static {
         System.out.println(Loading Gum);
      }
}
class Cookie {
      static {
         System.out.println(Loading Cookie);
      }
}
public class SweetShop {
      public static void main(String[] args) {
         System.out.println(inside main);
         new Candy();
         System.out.println(After creating Candy);
         try {
             Class.forName(com.zj.sample.Gum);
         } catch (ClassNotFoundException e) {
             System.out.println(Couldn&#39;t find Gum);
         }
         System.out.println(After Class.forName(Gum));
         new Cookie();
         System.out.println(After creating Cookie);
      }
}
结果：
inside main
Loading Candy
After creating Candy
Loading Gum
After Class.forName(Gum)
Loading Cookie
After creating Cookie
2．获取Class实例的三种方式
1）利用对象调用getClass()方法获取该对象的Class实例。
2）使用Class类的静态方法forName()，用类的名字获取一个Class实例。
3）运用.class的方式来获取Class实例，对于基本数据类型的封装类，还可以采用.TYPE来获取相对应的基本数据类型的Class实例。
3．Class.forName
上面的示例中：
Class.forName(com.zj.sample.Gum);
这个方法是Class类（所有Class对象都属于这个类）的一个static成员。Class对象就和其它对象一样，我们可以获取并操作它的引用。forName()是取得Class对象的引用的一种方法。它是用一个包含目标类的文本名的String作输入参数，返回的是一个Class对象的引用。
4．类字面常量
Java还提供了另一种方法来生成对Class对象的引用，即使用“类字面常量”。对上述程序来说，可以是：
com.zj.sample.Gum.class;
5．关键字instanceof
关键字instanceof返回一个布尔值，判断是不是某个特定类型的实例。
if(x instanceof Dog) ((Dog)x).bark();
6．获取Class实例
package com.zj.sample;
class Point {
      int x, y;
}
class ClassTest {
      public static void main(String[] args) {
         Point pt = new Point();
         Class c1 = pt.getClass();
         System.out.println(c1.getName());
         try {
             Class c2 = Class.forName(com.zj.sample.Point);
             System.out.println(c2.getName());
         } catch (Exception e) {
             e.printStackTrace();
         }
         Class c3 = Point.class;
         System.out.println(c3.getName());
         Class c4 = int.class;
         System.out.println(c4.getName());</p>
<pre><code>     Class c5 = Integer.TYPE;
     System.out.println(c5.getName());
     Class c6 = Integer.class;
     System.out.println(c6.getName());
  }
</code></pre><p>}
结果：
com.zj.sample.Point
com.zj.sample.Point
com.zj.sample.Point
int
int
java.lang.Integer</p>
<p>7．Class的其他方法
1）Class.newInstance()使用所选的Class对象生成该类的新实例。它调用了缺省（无参数）的类构造器生成新的对象。所以使用newInstance()创建的类必须有一个缺省构造器。对于newInstance ()来说，可以在原先没有任何对象存在的情况下，使用它创建一个新的对象。
利用newInstance()实例化一个对象：
package com.zj.sample;
class Point {
      static {
         System.out.println(Loading Point);
      }</p>
<pre><code>  int x, y;
</code></pre><p>}
class ClassTest {
      public static void main(String[] args) {
         try {
             Class c = Class.forName(com.zj.sample.Point);
             Point pt = (Point) c.newInstance();
         } catch (Exception e) {
             e.printStackTrace();
         }
      }
}
结果：
Loading Point
2）Class.isInstance()方法提供了一种动态地调用instanceof运算符的途径。
3）Class.getInterfaces()方法返回Class对象的数组，这些对象代表的是某个Class对象所包含的接口。
4）如果有一个Class对象，那么就可以通过getSuperclass()获取它的直接基类。这个方法自然也是返回一个Class引用，所以可以进一步查询其基类。这意味着在运行时，可以找到一个对象完整的类层次结构。
5）Class类支持反射的概念，Java附带的库 java.lang.reflect包含了Field、Method以及Constructor类（每个类都实现了Member接口）。这些类型的对象是由JVM在运行时创建的，用以表示未知类里对应的成员。这样可以使用Constructor创建新的对象，用get()和set()方法读取和修改与 Field对象关联的字段，用invoke()方法调用与Method对象关联的方法。另外，还可以调用getFields()、getMethods、 getConstrucotrs()方法，返回表示字段、方法以及构造器的对象的数组。
8．利用反射API察看未知类的构造方法与方法
package com.zj.sample;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;
class Point {
      static {
         System.out.println(Loading Point);
      }
      int x, y;
      void output() {
         System.out.println(x= + x + , + y= + y);
      }
      Point(int x, int y) {
         this.x = x;
         this.y = y;
      }
}
class ClassTest {
      public static void main(String[] args) {<br>         try {
             Class c = Class.forName(com.zj.sample.Point);
             Constructor[] cons = c.getDeclaredConstructors();
             for (int i = 0; i &lt; cons.length; i++)// 返回所有声明的构造方法
             {
                System.out.println(cons[i]);
             }
             Method[] ms = c.getDeclaredMethods();
             for (int i = 0; i &lt; ms.length; i++)// 返回所有声明的方法
             {
                System.out.println(ms[i]);
             }
         } catch (Exception e) {
             e.printStackTrace();
         }
      }
}</p>
<p>结果：
Loading Point
com.zj.sample.Point(int,int)
void com.zj.sample.Point.output()
9．动态调用一个类的实例（完全没有出现point这个名字）
package com.zj.sample;
import java.lang.reflect.Constructor;
import java.lang.reflect.Method;
class Point {
      static {
         System.out.println(Loading Point);
      }
      int x, y;
      void output() {
         System.out.println(x= + x + , + y= + y);
      }
      Point(int x, int y) {
         this.x = x;
         this.y = y;
      }
}
class ClassTest {
      public static void main(String[] args) {</p>
<pre><code>     try {
         Class c = Class.forName(com.zj.sample.Point);
         Constructor[] cons = c.getDeclaredConstructors();
         Class[] params = cons[0].getParameterTypes();// 察看构造器的参数信息
         Object[] paramValues = new Object[params.length];// 构建数组传递参数
         for (int i = 0; i &lt; params.length; i++) {
            if (params[i].isPrimitive())// 判断class对象表示是否是基本数据类型
            {
                paramValues[i] = new Integer(i);
            }
         }
         Object o = cons[0].newInstance(paramValues);// 创建一个对象的实例
         Method[] ms = c.getDeclaredMethods();// 调用方法
         ms[0].invoke(o, null);// 用指定的参数调用（output方法没有参数，null）
     } catch (Exception e) {
         e.printStackTrace();
     }
}
</code></pre><p>}
结果：
Loading Point
x=0,y=1</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_总结类/">Java_总结类</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_总结类/" class="label label-success">Java_总结类</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java知识点总结1/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--Java知识点总结1" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java调用windows下某些程序/">Java调用windows下某些程序</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java调用windows下某些程序/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-windows-">Java调用windows下某些程序</h1>
<p><a href="http://www.javaeye.com/" target="_blank">首页</a> <a href="http://www.javaeye.com/news" target="_blank">新闻</a> <a href="http://www.javaeye.com/forums" target="_blank">论坛</a> <a href="http://www.javaeye.com/ask" target="_blank">问答</a> <a href="http://www.javaeye.com/blogs" target="_blank">博客</a> <a href="http://www.javaeye.com/job" target="_blank">招聘</a> <a href="http://nee.javaeye.com/blog/146233#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.javaeye.com/wiki" target="_blank">专栏</a> <a href="http://www.javaeye.com/articles" target="_blank">文摘</a> <a href="http://www.javaeye.com/groups" target="_blank">圈子</a> <a href="http://www.javaeye.com/google_search" target="_blank">搜索</a></p>
<p><a href="http://nee.javaeye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.javaeye.com/all" target="_blank">我的应用</a> <a href="http://nee.javaeye.com/login" target="_blank">登录</a> <a href="http://nee.javaeye.com/signup" target="_blank">注册</a></p>
<h1 id="-lyon-carol-http-nee-javaeye-com-"><a href="http://nee.javaeye.com/" target="_blank">Lyon &amp; Carol</a></h1>
<p>永久域名 <a href="http://nee.javaeye.com/" target="_blank"><a href="http://nee.javaeye.com/">http://nee.javaeye.com/</a></a></p>
<p><a href="http://nee.javaeye.com/blog/147213" title="JavaScript FSO属性大全" target="_blank">JavaScript FSO属性大全</a> | <a href="http://nee.javaeye.com/blog/82247" title="在Eclipse状态栏上增加JVM内存用量指示器" target="_blank">在Eclipse状态栏上增加JVM内存用量指示器</a></p>
<p>2007-12-05</p>
<h3 id="-java-windows-http-nee-javaeye-com-blog-146233-"><a href="http://nee.javaeye.com/blog/146233" target="_blank">Java调用windows下某些程序</a></h3>
<p>Java是种跨平台的语言，我们经常碰到需要通过Java调用windows下某些程序。有些第三方厂商如（ANT），也提供了调用windows下可执行程序的方法，但我们往往需要调用一些批处理命令。而Java却不提供。这里，我采用一种变相的调用方法，使得Java能调用批处理命令。
前期准备
Quick Batch File (De)Compiler
将任何BAT、CMD批处理脚本编译为EXE文件。
1、运行exe 文件
Java JDK里已经提供了调用的方法，不在累赘，代码如下。
try { 　　String command = &quot;notepad&quot;; 　　Process child = 　　Runtime.getRuntime().exec(command); 　　} catch (IOException e) 　　{ 　　}
2、运行 bat（批处理） 文件
Java对批处理文件还不支持。刚开始一直在研究Java如何调用批处理文件，始终找不到解决方法。后来只好绕过批处理，考虑如何将批处理转换为exe可执行文件。然后再通过Java调用可执行文件。
在Google上搜索一下，找到Quick Batch File (De)Compiler，可以将任何BAT、CMD批处理脚本编译为EXE文件。使用了一下，果然可以。
Quick Batch File (De)Compiler使用非常简单：
Quickbfc 文件名.bat 文件名.exe（将批处理命令编译为可执行文件）
quickbfd 文件名.exe 文件名.bat（将可执行文件反编译为批处理命令）
然后，我们再按第一种方法通过Java 调用，即可。
本文来自：<a href="http://www.linuxpk.com/46886.html" target="_blank">http://www.linuxpk.com/46886.html</a></p>
<p><a href="http://nee.javaeye.com/blog/147213" title="JavaScript FSO属性大全" target="_blank">JavaScript FSO属性大全</a> | <a href="http://nee.javaeye.com/blog/82247" title="在Eclipse状态栏上增加JVM内存用量指示器" target="_blank">在Eclipse状态栏上增加JVM内存用量指示器</a></p>
<ul>
<li>16:46</li>
<li>浏览 (579)</li>
<li><a href="http://nee.javaeye.com/blog/146233#comments" target="_blank">评论</a> (0)</li>
<li>分类: <a href="http://nee.javaeye.com/category/9074" target="_blank">Java技术</a></li>
<li><a href="http://www.javaeye.com/wiki/topic/146233" target="_blank">相关推荐</a></li>
</ul>
<h3 id="-">评论</h3>
<p><a href=""></a></p>
<h3 id="-">发表评论</h3>
<p>您还没有登录，请<a href="http://nee.javaeye.com/login" target="_blank">登录</a>后发表评论(快捷键 Alt+S / Ctrl+Enter)</p>
<p><a href="http://nee.javaeye.com/" target="_blank"><img src="&quot;kyonee的博客: Lyon &amp; Carol&quot;" alt="kyonee的博客"></a></p>
<p>kyonee</p>
<ul>
<li>浏览: 15981 次</li>
<li>来自: ...</li>
<li><img src="" alt=""></li>
<li><a href="http://nee.javaeye.com/blog/profile" target="_blank">详细资料</a> <a href="http://nee.javaeye.com/blog/guest_book" target="_blank">留言簿</a></li>
</ul>
<h3 id="-">搜索本博客</h3>
<h3 id="-http-nee-javaeye-com-blog-user_visits-">最近访客 <a href="http://nee.javaeye.com/blog/user_visits" target="_blank">&gt;&gt;更多访客</a></h3>
<p><a href="http://txws-zx.javaeye.com/" target="_blank"><img src="&quot;txws.zx的博客: &quot;" alt="txws.zx的博客"></a></p>
<p><a href="http://txws-zx.javaeye.com/" target="_blank">txws.zx</a></p>
<p><a href="http://a3x60.javaeye.com/" target="_blank"><img src="&quot;a3x60的博客: &quot;" alt="a3x60的博客"></a></p>
<p><a href="http://a3x60.javaeye.com/" target="_blank">a3x60</a>
<a href="http://zhang-yingjie-qq-com.javaeye.com/" target="_blank"><img src="&quot;zhang_yingjie的博客: 凤舞九天&quot;" alt="zhang_yingjie的博客"></a></p>
<p><a href="http://zhang-yingjie-qq-com.javaeye.com/" target="_blank">zhang_yingjie</a></p>
<p><a href="http://shgavin.javaeye.com/" target="_blank"><img src="&quot;shgavin的博客: &quot;" alt="shgavin的博客"></a></p>
<p><a href="http://shgavin.javaeye.com/" target="_blank">shgavin</a></p>
<h3 id="-">博客分类</h3>
<ul>
<li><a href="http://nee.javaeye.com/" target="_blank">全部博客 (21)</a></li>
<li><a href="http://nee.javaeye.com/category/9074" target="_blank">Java技术 (10)</a></li>
<li><a href="http://nee.javaeye.com/category/9075" target="_blank">DBMS (3)</a></li>
<li><a href="http://nee.javaeye.com/category/9076" target="_blank">Delphi (0)</a></li>
<li><a href="http://nee.javaeye.com/category/9077" target="_blank">Movie &amp; DVD (0)</a></li>
<li><a href="http://nee.javaeye.com/category/9078" target="_blank">摄影 (0)</a></li>
<li><a href="http://nee.javaeye.com/category/9079" target="_blank">下载 (0)</a></li>
<li><a href="http://nee.javaeye.com/category/9080" target="_blank">其他 (8)</a><h3 id="-">我的相册</h3>
</li>
</ul>
<p><a href="http://nee.javaeye.com/album" target="_blank"><img src="" alt=""></a>1
<a href="http://nee.javaeye.com/album" target="_blank">共 5 张</a></p>
<h3 id="-">其他分类</h3>
<ul>
<li><a href="http://nee.javaeye.com/blog/favorite" target="_blank">我的收藏</a> (8)</li>
<li><a href="http://nee.javaeye.com/blog/topic" target="_blank">我的论坛主题贴</a> (0)</li>
<li><a href="http://nee.javaeye.com/blog/post" target="_blank">我的所有论坛贴</a> (1)</li>
<li><a href="http://nee.javaeye.com/blog/article" target="_blank">我的精华良好贴</a> (0)<h3 id="-">最近加入圈子</h3>
</li>
</ul>
<h3 id="-">存档</h3>
<ul>
<li><a href="http://nee.javaeye.com/blog/monthblog/2009-03" target="_blank">2009-03</a> (2)</li>
<li><a href="http://nee.javaeye.com/blog/monthblog/2008-12" target="_blank">2008-12</a> (2)</li>
<li><a href="http://nee.javaeye.com/blog/monthblog/2008-08" target="_blank">2008-08</a> (1)</li>
<li><p><a href="http://nee.javaeye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">最新评论</h3>
</li>
<li><p><a href="http://nee.javaeye.com/blog/350299#comments" title="Chrome启动参数及地址栏功能" target="_blank">Chrome启动参数及地址栏功 ...</a>
怎么里面连--app参数都没有说呢？
-- by <a href="http://iswind.javaeye.com/" target="_blank">徐风子</a></p>
</li>
<li><a href="http://nee.javaeye.com/blog/48574#comments" title="Hibernate读写Blob/Clob类型数据" target="_blank">Hibernate读写Blob/Clob ...</a>
补充:读写BLOB                                 ...
-- by <a href="http://nee.javaeye.com/" target="_blank">kyonee</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://nee.javaeye.com/rss" target="_blank"><img src="" alt="Rss"></a></li>
<li><a href="http://fusion.google.com/add?feedurl=http://nee.javaeye.com/rss" target="_blank"><img src="" alt="Rss_google"></a></li>
<li><a href="http://www.xianguo.com/subscribe.php?url=http://nee.javaeye.com/rss" target="_blank"><img src="" alt="Rss_xianguo"></a></li>
<li><a href="http://www.google.com/search?hl=zh-CN&amp;q=RSS" target="_blank">[什么是RSS?]</a>
声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2010 JavaEye.com. All rights reserved. 上海炯耐计算机软件有限公司 [ 沪ICP备05023328号 ]</li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_总结类/">Java_总结类</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_总结类/" class="label label-success">Java_总结类</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java调用windows下某些程序/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--Java调用windows下某些程序" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java调用windows程序/">Java调用windows程序</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java调用windows程序/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-windows-">Java调用windows程序</h1>
<p><a href="http://www.blogjava.net/envoydada/" target="_blank"><strong>Derek.Guo BLOG</strong></a></p>
<p><a href="http://www.blogjava.net/" target="_blank">BlogJava</a>   <a href="http://www.blogjava.net/envoydada/" target="_blank">首页</a>   <a href="http://www.blogjava.net/envoydada/admin/EditPosts.aspx?opt=1" target="_blank">新随笔</a> <a href="http://www.blogjava.net/envoydada/contact.aspx?id=1" target="_blank">联系</a>   <a href="http://www.blogjava.net/envoydada/rss" target="_blank">聚合</a><a href="http://www.blogjava.net/envoydada/rss" target="_blank"><img src="" alt=""></a>   <a href="http://www.blogjava.net/envoydada/admin/EditPosts.aspx" target="_blank">管理</a></p>
<p>随笔-75  评论-29  文章-0  trackbacks-0
<a href="http://www.blogjava.net/envoydada/archive/2006/05/11/45645.html" target="_blank">Java调用windows程序</a>     Runtime ru = Runtime.getRuntime();
        try {
            //调用播放器文件播放指定MP3
            Process p1 = ru.exec(&quot;C:\Program Files\Windows Media Player\wmplayer d:\DADA\mp3\0197.mp3&quot;);
           //调用批处理文件 
            Process p2 = ru.exec(&quot;d:\a.bat&quot;);
            //显示执行结果
            BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));
            String line;
            while((line=br.readLine())!=null){
                System.out.println(line);
            }
        } catch (IOException ex) {ex.printStackTrace();}</p>
<p>posted on 2006-05-11 13:27 <a href="http://www.blogjava.net/envoydada/" target="_blank">Derek.Guo</a> 阅读(602) <a href="http://www.blogjava.net/envoydada/archive/2006/05/11/45645.html#Post" target="_blank">评论(0)</a>  <a href="http://www.blogjava.net/envoydada/admin/EditPosts.aspx?postid=45645" target="_blank">编辑</a>  <a href="http://www.blogjava.net/envoydada/AddToFavorite.aspx?id=45645" target="_blank">收藏</a> 所属分类: <a href="http://www.blogjava.net/envoydada/category/32099.html" target="_blank">JAVA</a>
<img src="" alt=""></p>
<p><a href="http://www.blogjava.net/RequireRegister.aspx" target="_blank">新用户注册</a>  <a href="">刷新评论列表</a>  </p>
<p><a href=""></a> IT新闻：
· <a href="http://news.cnblogs.com/n/61666/" target="_blank">下一代iPhone将于6月22日公布</a>
· <a href="http://news.cnblogs.com/n/61665/" target="_blank">英特尔发力Smart TV 未与索尼谷歌推Google TV</a>
· <a href="http://news.cnblogs.com/n/61664/" target="_blank">传魔兽计划回购废弃老帐号 玩家反应激烈</a>
· <a href="http://news.cnblogs.com/n/61663/" target="_blank">PCWorld：谷歌最有望推出“iPad杀手”</a>
· <a href="http://news.cnblogs.com/n/61662/" target="_blank">访问 T.J：16 岁的 iPad 软件开发者</a>
专题：<a href="http://kb.cnblogs.com/zt/android/" target="_blank">Android</a>  <a href="http://kb.cnblogs.com/zt/iPad/" target="_blank">iPad</a>  <a href="http://kb.cnblogs.com/zt/jquery/" target="_blank">jQuery</a>  <a href="http://kb.cnblogs.com/zt/chrome/" target="_blank">Chrome OS</a>    <a href="http://www.cnblogs.com/" target="_blank">博客园首页</a>  <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>  <a href="http://kb.cnblogs.com/" target="_blank">知识库</a>  <a href="http://a4.yeshj.com/rd/34143/" target="_blank">学英语</a>  <a href="http://job.cnblogs.com/cate-java_programmer/" target="_blank">Java程序员招聘</a> 标题  请输入标题 姓名  请输入你的姓名 主页 请输入验证码 验证码 /*  <img src="" alt=""> 内容(请不要发表任何与政治相关的内容) 请输入评论内容 Remember Me?   <a href="http://www.blogjava.net/login.aspx?ReturnURL=http://www.blogjava.net/envoydada/archive/2006/05/11/45645.html&amp;SourceURL=/envoydada/archive/2006/05/11/45645.html" target="_blank">登录</a>       [使用Ctrl+Enter键可以直接提交]   <a href="http://a4.yeshj.com/rd/34138/" target="_blank">每天10分钟，轻松学英语</a>  推荐职位：
· <a href="http://job.cnblogs.com/offer/6695/" target="_blank">ASP.NET高级程序员(北京世纪英博)</a>
· <a href="http://job.cnblogs.com/offer/6318/" target="_blank">飞信服务器端高级.NET开发工程师(新媒传信)</a>
· <a href="http://job.cnblogs.com/offer/6319/" target="_blank">.NET飞信官网开发工程师(新媒传信)</a>
· <a href="http://job.cnblogs.com/offer/6492/" target="_blank">Web前端研发工程师(百度)</a>
· <a href="http://job.cnblogs.com/zt/yeshj/#offer3" target="_blank">C++开发工程师(沪江网)</a>
· <a href="http://job.cnblogs.com/zt/yeshj/#offer2" target="_blank">前端开发工程师(沪江网)</a>
· <a href="http://job.cnblogs.com/zt/yeshj/#offer6" target="_blank">产品经理(沪江网)</a>
· <a href="http://job.cnblogs.com/zt/yeshj/#offer9" target="_blank">运维工程师(沪江网)</a></p>
<p>博客园首页随笔：
· <a href="http://www.cnblogs.com/xuanhun/archive/2010/04/14/1712132.html" target="_blank">GridView自定义分页样式（上一页，下一页，到第几页）（新手教程）</a>
· <a href="http://www.cnblogs.com/liubiqu/archive/2010/04/14/1712126.html" target="_blank">升级到NVelocity1.1版本</a>
· <a href="http://www.cnblogs.com/greenerycn/archive/2010/04/14/win7_system_health_report.html" target="_blank">Windows 7生成系统健康报告</a>
· <a href="http://www.cnblogs.com/tandly/archive/2010/04/14/1712111.html" target="_blank">继&quot;一题比较刁的面试题&quot; - 其实也不过如此。 sliverlight 实现</a>
· <a href="http://www.cnblogs.com/dozer/archive/2010/04/14/change-order-of-MVC-Areas.html" target="_blank">更改MVC注册Areas的顺序，掌控Areas的运作</a>
知识库：
· <a href="http://kb.cnblogs.com/page/61564/" target="_blank">20%顶尖人才的成功密码</a>
· <a href="http://kb.cnblogs.com/page/61529/" target="_blank">IT经理世界：被低估的用友</a>
· <a href="http://kb.cnblogs.com/page/61479/" target="_blank">大型机Linux 风雨十周年</a>
· <a href="http://kb.cnblogs.com/page/61450/" target="_blank">和谐共进的项目组——产品经理提高技术理解力123</a>
· <a href="http://kb.cnblogs.com/page/61439/" target="_blank">IIS配置PHP环境（快速最新版）</a>  网站导航:</p>
<p><a href="http://www.cnblogs.com/" target="_blank">博客园</a>   <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>   <a href="http://home.cnblogs.com/" target="_blank">个人主页</a>   <a href="http://www.cnweblog.com/" target="_blank">博客生活</a>   <a href="http://www.cnitblog.com/" target="_blank">IT博客网</a>   <a href="http://www.cppblog.com/" target="_blank">C++博客</a>   <a href="http://space.cnblogs.com/" target="_blank">博客园社区</a> <a href="http://www.blogjava.net/envoydada/archive/2006/05/11/45645.html?opt=admin" target="_blank">管理</a> 相关文章:</p>
<ul>
<li><a href="http://www.blogjava.net/envoydada/archive/2010/04/08/317713.html" target="_blank">J2SE6 分析工具</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/09/28/231708.html" target="_blank">Memcached 剖析(转)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/09/20/146797.html" target="_blank">Hibernate属性延迟加载</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/08/22/138549.html" target="_blank">JAVA缩放图片（转贴）</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/30/133329.html" target="_blank">工具分析GC日志</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/23/131803.html" target="_blank">java虚拟机参数详解</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/20/131433.html" target="_blank">GC调优</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/20/131410.html" target="_blank">Spring配置总结</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/04/128069.html" target="_blank">JmakiDemo</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/06/08/122881.html" target="_blank">Hibernate3支持DetachedCriteria(转贴)</a>  </li>
</ul>
<p><a href="&quot;Go to the previous month&quot;">&lt;</a> 2006年5月 <a href="&quot;Go to the next month&quot;">&gt;</a> 日 一 二 三 四 五 六 30 1 2 3 4 5 6 7 8 9 <a href="http://www.blogjava.net/envoydada/archive/2006/05/10.html" target="_blank">10</a> <a href="http://www.blogjava.net/envoydada/archive/2006/05/11.html" target="_blank">11</a> 12 13 14 15 <a href="http://www.blogjava.net/envoydada/archive/2006/05/16.html" target="_blank">16</a> <a href="http://www.blogjava.net/envoydada/archive/2006/05/17.html" target="_blank">17</a> 18 <a href="http://www.blogjava.net/envoydada/archive/2006/05/19.html" target="_blank">19</a> 20 21 22 23 24 25 26 27 28 29 30 31 1 2 3 4 5 6 7 8 9 10</p>
<h3 id="-6-">留言簿(6)</h3>
<ul>
<li><a href="http://www.blogjava.net/envoydada/Contact.aspx?id=1" target="_blank">给我留言</a></li>
<li><a href="http://www.blogjava.net/envoydada/default.aspx?opt=msg" target="_blank">查看公开留言</a></li>
<li><a href="http://www.blogjava.net/envoydada/admin/MyMessages.aspx" target="_blank">查看私人留言</a></li>
</ul>
<h1 id="-73-">随笔分类(73)</h1>
<ul>
<li><a href="http://www.blogjava.net/envoydada/category/32101.html" target="_blank">DATABASE(9)</a><a href="http://www.blogjava.net/envoydada/category/32101.html/rss" title="Subscribe to DATABASE(9)" target="_blank"><img src="&quot;Subscribe to DATABASE(9" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/envoydada/category/32099.html" target="_blank">JAVA(52)</a><a href="http://www.blogjava.net/envoydada/category/32099.html/rss" title="Subscribe to JAVA(52)" target="_blank"><img src="&quot;Subscribe to JAVA(52" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/envoydada/category/32100.html" target="_blank">LINUX/UNIX(12)</a><a href="http://www.blogjava.net/envoydada/category/32100.html/rss" title="Subscribe to LINUX/UNIX(12)" target="_blank"><img src="&quot;Subscribe to LINUX/UNIX(12" alt="">&quot;)</a></li>
</ul>
<h3 id="-">积分与排名</h3>
<ul>
<li>积分 - 75149</li>
<li>排名 - 196</li>
</ul>
<h3 id="-">最新随笔</h3>
<ul>
<li><a href="http://www.blogjava.net/envoydada/archive/2010/04/08/317718.html" target="_blank">1. mysql常用的hint</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2010/04/08/317716.html" target="_blank">2. Mysql innodb引擎优化</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2010/04/08/317713.html" target="_blank">3. J2SE6 分析工具</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2010/04/08/317711.html" target="_blank">4. liunx下安装Subversion</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2009/02/07/253698.html" target="_blank">5. ORACLE 中dbms_stats的使用</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/09/28/231708.html" target="_blank">6. Memcached 剖析(转)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/07/29/218323.html" target="_blank">7. Window下配置SVN服务器与客户端(转)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/06/18/208808.html" target="_blank">8. Oracle 10g Recycle Bin</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/06/16/208221.html" target="_blank">9. Oracle中分区表的使用</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/06/12/207472.html" target="_blank">10. ORACLE CTXCAT-CATSEARCH</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/06/12/207288.html" target="_blank">11. ORACLE JOBS</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/06/11/207090.html" target="_blank">12. Oracle 分区表(Partition)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2008/06/11/207028.html" target="_blank">13. Solaris系统进程的查看和管理</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/12/27/170920.html" target="_blank">14. 数据库性能 常用SQL</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/09/29/149640.html" target="_blank">15. Solaris 操作系统的动态跟踪工具Dtrace</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/09/20/146797.html" target="_blank">16. Hibernate属性延迟加载</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/08/22/138549.html" target="_blank">17. JAVA缩放图片（转贴）</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/08/01/133838.html" target="_blank">18. Linux自启Tomcat,Solaris自启glassfish</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/30/133329.html" target="_blank">19. 工具分析GC日志</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/30/133285.html" target="_blank">20. JProfiler远程监控Tomcat</a></li>
</ul>
<h3 id="-http-www-blogjava-net-envoydada-commentsrss-aspx-">最新评论 <a href="http://www.blogjava.net/envoydada/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.blogjava.net/envoydada/archive/2010/04/07/138549.html#317660" target="_blank">1. re: JAVA缩放图片（转贴）</a></li>
<li>希望能用</li>
<li>--moguji</li>
<li><a href="http://www.blogjava.net/envoydada/archive/2009/10/20/106322.html#299083" target="_blank">2. re: Hibernate 本地SQL查询SQLQuery[未登录]</a></li>
<li>很好，谢谢啦</li>
<li>--xx</li>
<li><a href="http://www.blogjava.net/envoydada/archive/2009/09/30/106322.html#296990" target="_blank">3. re: Hibernate 本地SQL查询SQLQuery</a></li>
<li>很不错啊， 谢谢。。</li>
<li>--carvin</li>
<li><a href="http://www.blogjava.net/envoydada/archive/2009/09/30/133285.html#296976" target="_blank">4. re: JProfiler远程监控Tomcat[未登录]</a></li>
<li>有没有发生tomcat端口打不开的情况。</li>
<li>--sun</li>
<li><a href="http://www.blogjava.net/envoydada/archive/2009/09/03/45438.html#293687" target="_blank">5. re: Spring+Hibernate+Struts</a></li>
<li>能把整个例子打包也发给我吗，我试了很久都不行啊。 zhaos@sunward.com.cn</li>
<li>--zhaos</li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/envoydada/archive/2005/09/13/12894.html" target="_blank">1. Hibernate批量更新和批量删除(6416)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/03/26/106322.html" target="_blank">2. Hibernate 本地SQL查询SQLQuery(6106)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/05/10/45438.html" target="_blank">3. Spring+Hibernate+Struts(4241)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/30/133285.html" target="_blank">4. JProfiler远程监控Tomcat(3292)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/03/06/102152.html" target="_blank">5. Spring+hibernate分页查询(2853)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/11/07/79516.html" target="_blank">6. Spring DataSource注入(2794)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/08/28/66182.html" target="_blank">7. Spring Hibernate 模板实现分页(2697)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/09/07/68308.html" target="_blank">8. Hibernate one-to-many学习笔记(2340)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/11/15/81196.html" target="_blank">9. Apache + Tomcat/*2集群 负载平衡(Linux环境)(2209)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/04/26/43355.html" target="_blank">10. WEB定时器-Timer(1766)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2005/09/11/12654.html" target="_blank">11. Struts中logic:iterate标记的使用(1759)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/11/10/80309.html" target="_blank">12. Tomcat内存配置(1592)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2005/09/11/12655.html" target="_blank">13. Tomcat5.0连接池(1583)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/05/08/115877.html" target="_blank">14. Java调用Linux命令(1542)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/30/133329.html" target="_blank">15. 工具分析GC日志(1374)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/23/131803.html" target="_blank">16. java虚拟机参数详解(1310)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2005/09/11/12679.html" target="_blank">17. Hibernate-Extension和Middlegen-Hibernate(1292)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/04/20/42153.html" target="_blank">18. Hibernate主键生成方式(1226)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/05/09/116195.html" target="_blank">19. JAVA访问LDAP(1202)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/20/131410.html" target="_blank">20. Spring配置总结(1170)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/03/28/37791.html" target="_blank">21. Struts常用标签(1043)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2009/02/07/253698.html" target="_blank">22. ORACLE 中dbms_stats的使用(1037)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/08/30/66559.html" target="_blank">23. EL表达式(1029)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/03/15/35434.html" target="_blank">24. Hibernate3.0批量更新和批量删除(938)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/20/131433.html" target="_blank">25. GC调优(928)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/12/15/87862.html" target="_blank">26. hibernate二级缓存攻略 Ehcache(转贴)(911)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/09/20/146797.html" target="_blank">27. Hibernate属性延迟加载(908)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/11/07/79585.html" target="_blank">28. Tomcat 通过数据库验证的配置方法(BASIC,FORM).(881)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/10/12/74758.html" target="_blank">29. RedHat终端中文乱码解决(869)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/08/15/63743.html" target="_blank">30. JAVA的RSS阅读器(793)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/01/18/28446.html" target="_blank">31. Log4j配置(784)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/08/22/138549.html" target="_blank">32. JAVA缩放图片（转贴）(774)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/05/19/46964.html" target="_blank">33. DES加密(722)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/12/27/170920.html" target="_blank">34. 数据库性能 常用SQL(711)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/06/05/50423.html" target="_blank">35. Spring 定时器(655)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/07/24/132080.html" target="_blank">36. Glassfish的安装(636)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/08/04/61650.html" target="_blank">37. SQL SERVER事务处理(613)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/05/11/45645.html" target="_blank">38. Java调用windows程序(601)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2007/06/08/122881.html" target="_blank">39. Hibernate3支持DetachedCriteria(转贴)(596)</a></li>
<li><a href="http://www.blogjava.net/envoydada/archive/2006/03/23/37042.html" target="_blank">40. JavaMail核心类(581)</a>
Powered by: <a href="http://www.cnblogs.com/" target="_blank">博客园</a> 模板提供：<a href="http://blog.hjenglish.com/" target="_blank">沪江博客</a> Copyright ©2010 Derek.Guo</li>
</ul>
<p>MSN:envoydada@hotmail.com QQ:34935442</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_总结类/">Java_总结类</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_总结类/" class="label label-success">Java_总结类</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--Java调用windows程序/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--Java调用windows程序" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/38/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/36/">36</a></li><li><a class="page-number" href="/page/37/">37</a></li><li><a class="page-number" href="/page/38/">38</a></li><li class="active"><li><span class="page-number current">39</span></li><li><a class="page-number" href="/page/40/">40</a></li><li><a class="page-number" href="/page/41/">41</a></li><li><a class="page-number" href="/page/42/">42</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/40/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 16:47:45</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
