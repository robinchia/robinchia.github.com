
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 134 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--使用java实现自动备份mysql数据库-苳眠的牧场-ITeye技术网站/">使用java实现自动备份mysql数据库 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:33.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--使用java实现自动备份mysql数据库-苳眠的牧场-ITeye技术网站/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-java-mysql-iteye-">使用java实现自动备份mysql数据库 - 苳眠的牧场 - ITeye技术网站</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/blogs/subjects" target="_blank">专栏</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://wangjie2013.iteye.com/blog/1858541#" target="_blank">更多 ▼</a></p>
<p><a href="http://job.iteye.com/iteye" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://wangjie2013.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://wangjie2013.iteye.com/login" target="_blank">登录</a> <a href="http://wangjie2013.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-http-wangjie2013-iteye-com-"><a href="http://wangjie2013.iteye.com/" target="_blank">苳眠的牧场</a></h1>
<ul>
<li><a href="http://wangjie2013.iteye.com/" target="_blank"><strong>博客</strong></a></li>
<li><a href="http://wangjie2013.iteye.com/weibo" target="_blank">微博</a></li>
<li><a href="http://wangjie2013.iteye.com/album" target="_blank">相册</a></li>
<li><a href="http://wangjie2013.iteye.com/link" target="_blank">收藏</a></li>
<li><a href="http://wangjie2013.iteye.com/blog/guest_book" target="_blank">留言</a></li>
<li><a href="http://wangjie2013.iteye.com/blog/profile" target="_blank">关于我</a></li>
</ul>
<h3 id="-java-mysql-"><a href="">使用java实现自动备份mysql数据库</a> **</h3>
<p><strong>博客分类：</strong></p>
<ul>
<li><p><a href="http://wangjie2013.iteye.com/category/276804" target="_blank">mysql</a>
<a href="http://www.iteye.com/blogs/tag/mysql" target="_blank">mysql</a><a href="http://www.iteye.com/blogs/tag/%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank">数据库</a><a href="http://www.iteye.com/blogs/tag/%E5%A4%87%E4%BB%BD" target="_blank">备份</a><a href="http://www.iteye.com/blogs/tag/java" target="_blank">java</a> </p>
<pre><code> Last modified：2013-05-02 16:55:01

/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*/*

 在实际应用中，定时备份数据库是一件非常重要的工作，下面是关于利用java程序实现数据库自动调用的方法，其实也不一定非要用java语言了，只要原理会了，大家大可使用其他语言来实现。话不多说，下面就来演示一下如何**自动备份mysql下的abc数据库**：
</code></pre></li>
</ul>
<p>1，在java API中为我们提供了一个Runtime类，它可以用来调用一些程序，比如notepad.exe,cmd.exe...</p>
<p>具体怎么回事，想了解的同学去看API吧，下面是实现代码：Backup.java</p>
<p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>import java.util.Calendar;  </li>
<li>import java.util.Date;  </li>
<li>import java.text.SimpleDateFormat;  </li>
<li>import java.io.IOException;  </li>
<li>import java.io.PrintStream;  </li>
<li></li>
<li>public class Backup   </li>
<li>{  </li>
<li>public static void main(String[] args)   </li>
<li>{  </li>
<li>Runtime runtime = Runtime.getRuntime();  </li>
<li>Calendar calendar = Calendar.getInstance();  </li>
<li>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;);  </li>
<li>String currentTime = dateFormat.format(calendar.getTime());  </li>
<li>Process p = null;  </li>
<li>PrintStream print = null;  </li>
<li>StringBuilder buf = new StringBuilder();  </li>
<li>for(String a : args){  </li>
<li>buf.append(a);  </li>
<li>buf.append(&quot; &quot;);  </li>
<li>}  </li>
<li>String databases = buf.toString();  </li>
<li>System.out.println(databases);  </li>
<li>try{  </li>
<li>p = runtime.exec(&quot;cmd /c mysqldump -uroot -p1234 -B &quot;+databases+&quot;&gt;&quot;+currentTime+&quot;.sql.bak&quot;);  </li>
<li>}catch (IOException e){  </li>
<li>if( p != null ){  </li>
<li>p.destroy();  </li>
<li>}  </li>
<li>try{  </li>
<li>print = new PrintStream(currentTime+&quot;_backup_err.log&quot;);  </li>
<li>dateFormat.applyPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);  </li>
<li>currentTime = dateFormat.format(calendar.getTime());  </li>
<li>print.println(currentTime+&quot;  backup failed.&quot;);  </li>
<li>e.printStackTrace(print);  </li>
<li>print.flush();  </li>
<li>}catch (IOException e2){  </li>
<li></li>
<li>}finally{  </li>
<li>if(print!=null){  </li>
<li>print.close();  </li>
<li>}  </li>
<li>}  </li>
<li>}  </li>
<li>}  </li>
<li>}<br>import java.util.Calendar; import java.util.Date; import java.text.SimpleDateFormat; import java.io.IOException; import java.io.PrintStream; public class Backup { public static void main(String[] args) { Runtime runtime = Runtime.getRuntime(); Calendar calendar = Calendar.getInstance(); SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;); String currentTime = dateFormat.format(calendar.getTime()); Process p = null; PrintStream print = null; StringBuilder buf = new StringBuilder(); for(String a : args){ buf.append(a); buf.append(&quot; &quot;); } String databases = buf.toString(); System.out.println(databases); try{ p = runtime.exec(&quot;cmd /c mysqldump -uroot -p1234 -B &quot;+databases+&quot;&gt;&quot;+currentTime+&quot;.sql.bak&quot;); }catch (IOException e){ if( p != null ){ p.destroy(); } try{ print = new PrintStream(currentTime+&quot;_backup_err.log&quot;); dateFormat.applyPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;); currentTime = dateFormat.format(calendar.getTime()); print.println(currentTime+&quot; backup failed.&quot;); e.printStackTrace(print); print.flush(); }catch (IOException e2){ }finally{ if(print!=null){ print.close(); } } } } }</li>
</ol>
<p>2，将以上java程序编译后得到Backup.class文件；</p>
<p> 3，创建批处理文件mytask.bat: 
Bat代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>@echo off  </li>
<li>cd c:\backup_wj  </li>
<li>rem 这里提倡使用绝度路径，并且如果绝度路径中有空格，记得用  </li>
<li>rem 引号将路径括起来！  </li>
<li>rem 可以将abc替换为其他数据库，多多个数据库，并用空格隔开  </li>
<li>&quot;D:\Program Files\Java\jdk1.6.0_31\bin\java.exe&quot; Backup abc<br>@echo off cd c:\backup_wj rem 这里提倡使用绝度路径，并且如果绝度路径中有空格，记得用 rem 引号将路径括起来！ rem 可以将abc替换为其他数据库，多多个数据库，并用空格隔开 &quot;D:\Program Files\Java\jdk1.6.0_31\bin\java.exe&quot; Backup abc</li>
</ol>
<p> 3.1：根据评论我又发现了一个新的方法，不需要使用java，直接写一个批处理文件就可以实现自动备份功能，读者可以直接使用下面的批处理文件代替原来的批处理文件，不需要在使用java了，然后按照下面的步骤制订计划任务就可以了，代码如下：
Bat代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>mysqldump -uroot -p1234 -B abc &gt; %date:~0,4%%date:~5,2%%date:~8,2%<em>%time:~0,2%%time:~3,2%%time:~6,2%.sql.bak<br>mysqldump -uroot -p1234 -B abc &gt; %date:~0,4%%date:~5,2%%date:~8,2%</em>%time:~0,2%%time:~3,2%%time:~6,2%.sql.bak</li>
</ol>
<p>4，将Backup.class、mytask.bat放到同一个目录下，比如我就放在了c:\backup_wj目录下</p>
<p>5，在win7下配置任务计划，下面照着步骤一步一步走就行了：</p>
<p>5.1：在控制面板下找到“管理工具”——》“任务计划程序”</p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p><img src="" alt=""></p>
<p>5.2：选择“任务计划程序库”——》“创建基本任务”</p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p>5.3：填写任务名称和描述</p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p>5.4：下面根据向导的描述操作就可以了；</p>
<p><img src="" alt=""></p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p><img src="" alt=""></p>
<p>5.5：点击“浏览”选择批处理文件“mytask.bat”；</p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p><img src="" alt=""></p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<p>5.6：点击“完成”后，选中autoBackup，点击“运行”测试一下：</p>
<p><img src="" alt=""></p>
<p>是不是有一个黑窗口一闪而过，好的那么打开你存放backup.bat的目录看一看，是不是生成了一个备份文件呢？</p>
<p>下面是我的，不过我们的备份文件已经生成了4次，从文件名就可以看出生成的时间。</p>
<p><img src="" alt=""></p>
<p>那么其中的原理大家都会了吧，其实就是让我们的操作系统定时去执行一个批处理文件“Backup.bat”,而这个批处理文件会去执行一个.class文件，这是一个java可执行文件，它会调用runtime.exec()方法，在命令行下执行一段命令，这段命令就是备份数据库的命令。</p>
<p>注意：对于备份的时间，我们可以设置得更加精细，通过“编辑触发器”中的“重复任务间隔”我们可以精确到每5分钟重复执行一次。具体怎么设置大家可以根据实际情况来设置。</p>
<p><img src="&quot;点击查看原始大小图片&quot;" alt=""></p>
<ul>
<li><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></li>
<li><p>大小: 65.5 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 53.9 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 79.5 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 39 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 34.2 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 30.9 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 31.8 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 34.1 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 52.6 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 36.3 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 48.2 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 64.3 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 44.2 KB</p>
</li>
<li><p><a href=""><img src="&quot;点击查看原始大小图片&quot;" alt=""></a></p>
</li>
<li><p>大小: 83.7 KB</p>
</li>
<li><p><a href="http://wangjie2013.iteye.com/blog/1858541#" target="_blank">查看图片附件</a></p>
</li>
</ul>
<p><strong>7</strong>
顶</p>
<p><strong>5</strong>
踩</p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a>
<a href="http://wangjie2013.iteye.com/blog/1856897" title="关于工资的三个秘密" target="_blank">关于工资的三个秘密</a></p>
<ul>
<li>23 小时前</li>
<li>浏览 1571</li>
<li><a href="http://wangjie2013.iteye.com/blog/1858541#comments" target="_blank">评论(7)</a></li>
<li>分类:<a href="http://www.iteye.com/blogs/category/database" target="_blank">数据库</a></li>
<li><a href="http://www.iteye.com/wiki/blog/1858541" target="_blank">相关推荐</a><h3 id="-">评论</h3>
</li>
</ul>
<p><a href=""></a></p>
<p>7 楼 <a href="http://docs.iteye.com/" title="kjj" target="_blank">kjj</a> 4 小时前  </p>
<p>如果是java，我以为你要一条条读取，原来回头来调用mysqldump ，直接at搞定算了！
6 楼 <a href="http://wangjie2013.iteye.com/" title="wangjie2013" target="_blank">wangjie2013</a> 16 小时前  </p>
<p>freezingsky 写道</p>
<p>mysql自身就可以实现了，实在没必要用其他的任何语言来附加，有种多余的感觉 。
mysql提供指令自动备份了吗？怎么做呀？？</p>
<p>5 楼 <a href="http://freezingsky.iteye.com/" title="freezingsky" target="_blank">freezingsky</a> 16 小时前  </p>
<p>mysql自身就可以实现了，实在没必要用其他的任何语言来附加，有种多余的感觉 。
4 楼 <a href="http://wangjie2013.iteye.com/" title="wangjie2013" target="_blank">wangjie2013</a> 19 小时前  </p>
<p>RamosLi 写道</p>
<p>一行命令就能搞定： at xx:xx /every:date mysqldump xxx
命令格式自己查吧 at/?
那么如果要实现每天多次备份是不是执行多次at命令，更改为不同的时间就可以了呀？
还有，，，，怎么停止呢？</p>
<p>3 楼 <a href="http://ramosli.iteye.com/" title="RamosLi" target="_blank">RamosLi</a> 19 小时前  </p>
<p>一行命令就能搞定： at xx:xx /every:date mysqldump xxx
命令格式自己查吧 at/?
2 楼 <a href="http://wangjie2013.iteye.com/" title="wangjie2013" target="_blank">wangjie2013</a> 20 小时前  </p>
<p>cgs1999 写道</p>
<p>使用java有点多余，其实可以新建一个批处理文件backup.bat，内容如下：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>mysqldump -uroot -p1234 -B abc&gt;%date:~0,4%%date:~5,2%%date:~8,2%<em>%time:~0,2%%time:~3,2%%time:~6,2%.sql.bak<br>mysqldump -uroot -p1234 -B abc&gt;%date:~0,4%%date:~5,2%%date:~8,2%</em>%time:~0,2%%time:~3,2%%time:~6,2%.sql.bak
同样使用系统的“计划任务”实现定时备份
哈哈 你还真想的出来！哈哈 我本来也想过看看有系统有没有提供获取完整时间的方法，就查到date和time，不过没想到你拼出来了，哈哈。</li>
</ol>
<p>1 楼 <a href="http://cgs1999.iteye.com/" title="cgs1999" target="_blank">cgs1999</a> 22 小时前  </p>
<p>使用java有点多余，其实可以新建一个批处理文件backup.bat，内容如下：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>mysqldump -uroot -p1234 -B abc&gt;%date:~0,4%%date:~5,2%%date:~8,2%<em>%time:~0,2%%time:~3,2%%time:~6,2%.sql.bak<br>mysqldump -uroot -p1234 -B abc&gt;%date:~0,4%%date:~5,2%%date:~8,2%</em>%time:~0,2%%time:~3,2%%time:~6,2%.sql.bak
同样使用系统的“计划任务”实现定时备份</li>
</ol>
<h3 id="-">发表评论</h3>
<p><a href="http://wangjie2013.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://wangjie2013.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://wangjie2013.iteye.com/" target="_blank"><img src="&quot;wangjie2013的博客: 苳眠的牧场&quot;" alt="wangjie2013的博客"></a></p>
<p>wangjie2013</p>
<ul>
<li>浏览: 5001 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li><img src="" alt=""><h3 id="-http-wangjie2013-iteye-com-blog-user_visits-">最近访客 <a href="http://wangjie2013.iteye.com/blog/user_visits" target="_blank">更多访客&gt;&gt;</a></h3>
</li>
</ul>
<p><a href="http://smallnetvisitor.iteye.com/" target="_blank"><img src="&quot;小网客的博客: 小网客&quot;" alt="小网客的博客"></a></p>
<p><a href="http://smallnetvisitor.iteye.com/" title="小网客" target="_blank">小网客</a></p>
<p><a href="http://goodwell.iteye.com/" target="_blank"><img src="&quot;GoodWell的博客: GoodWell&quot;" alt="GoodWell的博客"></a></p>
<p><a href="http://goodwell.iteye.com/" title="GoodWell" target="_blank">GoodWell</a>
<a href="http://haiwuyanlzh.iteye.com/" target="_blank"><img src="&quot;haiwuyanlzh的博客: haiwuyanlzh&quot;" alt="haiwuyanlzh的博客"></a></p>
<p><a href="http://haiwuyanlzh.iteye.com/" title="haiwuyanlzh" target="_blank">haiwuyanlzh</a></p>
<p><a href="http://hubert-bubert.iteye.com/" target="_blank"><img src="&quot;hubert_bubert的博客: &quot;" alt="hubert_bubert的博客"></a></p>
<p><a href="http://hubert-bubert.iteye.com/" title="hubert_bubert" target="_blank">hubert_bubert</a></p>
<h3 id="-">文章分类</h3>
<ul>
<li><a href="http://wangjie2013.iteye.com/" target="_blank">全部博客 (21)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/252443" target="_blank">JAVA (14)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/273482" target="_blank">C (1)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/273484" target="_blank">数据结构和算法 (0)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/275854" target="_blank">jQuery (0)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/271730" target="_blank">系统 (1)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/255333" target="_blank">读书 (3)</a></li>
<li><a href="http://wangjie2013.iteye.com/category/276592" target="_blank">转载 (1)</a></li>
<li><p><a href="http://wangjie2013.iteye.com/category/276804" target="_blank">mysql (1)</a></p>
<h3 id="-">社区版块</h3>
</li>
<li><p><a href="http://wangjie2013.iteye.com/blog/news" target="_blank">我的资讯</a> (0)</p>
</li>
<li><a href="http://wangjie2013.iteye.com/blog/post" target="_blank">我的论坛</a> (6)</li>
<li><a href="http://wangjie2013.iteye.com/blog/answered_problems" target="_blank">我的问答</a> (0)</li>
</ul>
<h3 id="-">存档分类</h3>
<ul>
<li><a href="http://wangjie2013.iteye.com/blog/monthblog/2013-05" target="_blank">2013-05</a> (1)</li>
<li><a href="http://wangjie2013.iteye.com/blog/monthblog/2013-04" target="_blank">2013-04</a> (18)</li>
<li><a href="http://wangjie2013.iteye.com/blog/monthblog/2013-03" target="_blank">2013-03</a> (1)</li>
<li><p><a href="http://wangjie2013.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">评论排行榜</h3>
</li>
<li><p><a href="http://wangjie2013.iteye.com/blog/1842689" title="试读《征服C指针》" target="_blank">试读《征服C指针》</a></p>
</li>
<li><a href="http://wangjie2013.iteye.com/blog/1844815" title="单例设计模式" target="_blank">单例设计模式</a></li>
</ul>
<h3 id="-">最新评论</h3>
<ul>
<li><a href="http://wangjie2013.iteye.com/" title="wangjie2013" target="_blank">wangjie2013</a>： s1318601 写道讲下优点和适用范围及实际情况呗建议不错， ...
<a href="http://wangjie2013.iteye.com/blog/1844815#bc2307168" target="_blank">单例设计模式</a></li>
<li><a href="http://s1318601.iteye.com/" title="s1318601" target="_blank">s1318601</a>： 讲下优点和适用范围及实际情况呗
<a href="http://wangjie2013.iteye.com/blog/1844815#bc2307049" target="_blank">单例设计模式</a></li>
<li><a href="http://wangjie2013.iteye.com/" title="wangjie2013" target="_blank">wangjie2013</a>： yekui 写道买就不用了 ，直接去CSDN上去下就好了。地址 ...
<a href="http://wangjie2013.iteye.com/blog/1842689#bc2307034" target="_blank">试读《征服C指针》</a></li>
<li><a href="http://wangjie2013.iteye.com/" title="wangjie2013" target="_blank">wangjie2013</a>： yekui 写道只是只有存在你脑子里才是有价值的，并不是说买来 ...
<a href="http://wangjie2013.iteye.com/blog/1842689#bc2307033" target="_blank">试读《征服C指针》</a></li>
<li><a href="http://yekui.iteye.com/" title="yekui" target="_blank">yekui</a>： 只是只有存在你脑子里才是有价值的，并不是说买来的书，知识就能自 ...
<a href="http://wangjie2013.iteye.com/blog/1842689#bc2306899" target="_blank">试读《征服C指针》</a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2012 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]
<img src="" alt=""></li>
</ul>
<p>This ad is supporting your extension Allow Right-Click: <a href="">More info</a> | <a href="">Privacy Policy</a> | <a href="http://wangjie2013.iteye.com/blog/1858541#" target="_blank">Hide on this page</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:33"datetime="2014-03-07 09:54:33"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--使用java实现自动备份mysql数据库-苳眠的牧场-ITeye技术网站/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--使用java实现自动备份mysql数据库-苳眠的牧场-ITeye技术网站" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--一个备份MySQL数据库的简单Shell脚本/">一个备份MySQL数据库的简单Shell脚本</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:33.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--一个备份MySQL数据库的简单Shell脚本/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-mysql-shell-">一个备份MySQL数据库的简单Shell脚本</h1>
<p>本文翻译自 <a href="http://isystemadmin.com/" target="_blank">iSystemAdmin</a> 的 《<a href="http://isystemadmin.com/a-simple-shell-script-to-backup-mysql-database" target="_blank">A Simple Shell Script to Backup MySQL Database</a>》</p>
<p>Shell脚本是我们写不同类型命令的一种脚本，这些命令在这一个文件中就可以执行。我们也可以逐一敲入命令手动执行。如果我们要使用shell脚本就必须在一开始把这些命令写到一个文本文件中，以后就可以随意反复运行这些命令了。</p>
<p>我首先要在本文带给你的是完整脚本。后面会对该脚本做说明。我假定你已经知道<strong>shell scripting、</strong> <strong>mysqldump和**</strong>crontab。**</p>
<p>适用操作系统：任何Linux或UNIX。</p>
<p><a href="http://cdn2.jobbole.com/2012/04/a-simple-shell-script-to-backup-mysql-database.jpg" title="a-simple-shell-script-to-backup-mysql-database" target="_blank"><img src="&quot;a-simple-shell-script-to-backup-mysql-database&quot;" alt="a-simple-shell-script-to-backup-mysql-database"></a></p>
<p><strong>主脚本（用于备份mysql数据库）：</strong></p>
<p>该Shell脚本可以自动备份数据库。只要复制粘贴本脚本到文本编辑器中，输入数据库用户名、密码以及数据库名即可。我备份数据库使用的是<strong>mysqlump</strong> 命令。后面会对每行脚本命令进行说明。</p>
<p><strong>1. 分别建立目录“backup”和“oldbackup”</strong>
1</p>
<p>2
 /#mkdir /backup</p>
<p>/#mkdir /oldbackup</p>
<p><strong>2. 现在使用你喜欢的编辑软件创建并编辑“backup.sh”</strong></p>
<p>这里我用的是 vi
1 /# vi /backup/backup.sh</p>
<p>现在把以下几行命令输入到 backup.sh 文件中：</p>
<p>1</p>
<p>2
3</p>
<p>4
5</p>
<p>6
7</p>
<p>8
9 /#!bin/bash</p>
<p>cd</p>
<p>/backup
echo</p>
<p>“You are In Backup Directory”</p>
<p>mv</p>
<p>backup/*</p>
<p>/oldbackup
echo</p>
<p>“Old Databases are Moved to oldbackup folder”</p>
<p>Now=$(</p>
<p>date</p>
<p>+”%d-%m-%Y--%H:%M:%S”)
File=backup-$Now.sql</p>
<p>mysqldump –u user-name  –p ‘password’ database-name &gt; $File
echo</p>
<p>“Your Database Backup Successfully Completed”</p>
<p><strong>脚本说明：</strong></p>
<p>切记，在第8行命令中，在mysqldump命令后要输入自己的数据库用户名、密码及数据库名。</p>
<p>执行该脚本，首先会进入 <em>/backup</em> 目录，然后该脚本会把原有的旧数据库备份移动到 <em>/oldbackup</em> 文件夹中，接着根据系统的日期及时间生成一个文件名，在最后 <strong>mysqldump</strong> 命令会生成一个“.sql”格式的数据库备份文件。</p>
<p><strong>3. 设置 backup.sh 脚本文件的可执行许可</strong>
1 /# chmod +x /backup/backup.sh</p>
<p><strong>4. 执行脚本</strong></p>
<p>1 /#./backup.sh</p>
<p>脚本运行结束后会得到以下输入。</p>
<p>1</p>
<p>2
3</p>
<p>4
5 root@Server1:</p>
<p>/download</p>
<p>/#./backup.sh</p>
<p>You areinDownload Directory
Old Backup DatabaseisMoved to oldbackup folder</p>
<p>database backup successful completed
root@Server1:</p>
<p>/download</p>
<p>/#</p>
<p>注：首次执行该脚本会有一个“no such file”的提示信息，这是由于旧备份文件还不存在。只要再次执行该脚本就没有问题了，这个问题已经不存在了。</p>
<p><strong>5. 使用cron制订备份计划</strong></p>
<p>使用Cron可以定时执行该脚本，备份会自动完成。使用 <strong>crontab</strong> 命令编辑cron 执行的计划任务。
1 /#crontab –e</p>
<p>只要在编辑器上加入下面这一行代码保存即可。</p>
<p>1 013/<em> /</em> /<em> /</em></p>
<p>/backup/backup</p>
<p>.sh</p>
<p>本任务表示的是在每天下午1点钟把数据库备份到指定的文件夹。有关cron任务设置的详细内容可以查阅crontab手册。</p>
<p>对初学者而言，这是非常基础的脚本。希望你能举一反三写出更复杂的备份脚本。我们会努力提供更自动化的新脚本。请大家不吝赐教，我们会尽力解决你们的问题。感谢与我们相伴。
来源： <a href="[http://blog.jobbole.com/18005/](http://blog.jobbole.com/18005/)">[http://blog.jobbole.com/18005/](http://blog.jobbole.com/18005/)</a> </p>
<p>A Simple Shell Script to Backup MySQL DataBase</p>
<p>The Shell script is a script where we are writing different types of commands and executing those commands from a single file.  We can execute that command manually, by entering command one by one. But if we use shell script we have to write those commands into a text file for the first time and then we can run those commands as many times as required.</p>
<p>In this article first I will show you, Complete Script. Later on, you will get a description of that script.  I assumed that you know about <strong>shell scripting</strong>, <strong>mysqldump</strong> and <strong>crontab</strong>.</p>
<p>Operating System: Any Linux or UNIX.</p>
<p><strong>Main Script (for backup your <a href="http://resources.isystemadmin.com/mysql/" title="MySQL Introduction" target="_blank">MySQL</a> database):</strong></p>
<p>This shell script will make the backup process of a database automatic. Just copy and paste this script in a text editor, put database user name, password, and database name. I will use <strong>mysqlump</strong> command to backup the database. Later on you will get description of each line.
<strong>1. Make a directory name “backup” and “oldbackup”</strong></p>
<p>1</p>
<p>2
 /#mkdir /backup</p>
<p>/#mkdir /oldbackup
<strong>2. Now make file name “backup.sh” and edit with any editor you like</strong></p>
<p>I’m using vi here-</p>
<p>1 /# vi /backup/backup.sh</p>
<p>Now write these lines into backup.sh file:</p>
<p>/#!bin/bash</p>
<p>cd /backup
echo “You are In Backup Directory”</p>
<p>mv backup/* /oldbackup
echo “Old Databases are Moved to oldbackup folder”</p>
<p>Now=$(date +”%d-%m-%Y--%H:%M:%S”)
File=backup-$Now.sql</p>
<p>mysqldump –u user-name  –p ‘password’ database-name &gt; $File
echo “Your Database Backup Successfully Completed”</p>
<p><strong>Script Description:</strong></p>
<p>Remember, in line number 8: Put your Database username, Password, database name after mysqldump command.</p>
<p>When we run this script, first it goes to a <em>/backup</em> directory. Then it will move old database backup files to <em>/oldbackup</em> folder. Next it generates a file name from system date and time. And finally <strong>mysqldump</strong> command will generate a database backup file with “.sql” format
<strong>3. Set permission to backup.sh file executable</strong></p>
<p>1 /# chmod +x /backup/backup.sh
<strong>4. Running the Script</strong></p>
<p>1 /#./backup.sh</p>
<p>You will get following output after executing the script.
root@Server1:/download/#./backup.sh</p>
<p>You are in Download Directory
Old Backup Database is Moved to oldbackup folder</p>
<p>database backup successful completed
root@Server1:/download/#</p>
<p>NB: first time when you run this script you will get a message “no such file”, because you don’t have old backup file. No problem just runs again this script, problem will be solved.</p>
<p><strong>5. Schedule the Backup using cron</strong></p>
<p>Using Cron job you can execute this script in a certain time, and all works will be done automatically. Use <strong>crontab</strong> command to edit editing cron schedules.</p>
<p>/#crontab –e</p>
<p>Just add below line in the editor and save it.
0 13 /<em> /</em> /<em> /</em> /backup/backup.sh</p>
<p>In this way every day 1PM your database will back up in your desired folder. Please visit crontab manuals for more details about setting the cron jobs.</p>
<p>This is a very basic script for the beginners. Hope you can use the same idea for more complex backup. We will try to come up with new scripts to automate further. Please ask any question you have. We will try our best to address your questions. Thanks for staying with us.</p>
<p><strong>No Related Posts</strong></p>
<h2 id="-">#</h2>
<p>Sifat is a veteran System Administrator who still loves to make his hand dirty with text consoles. Sifat has 14 years of Operations and Management experience in IT and telecommunication industries.He has proven record of IT planning, Policy Development, IT Process Management, Cost Control and successful leadership for effective and efficient IT organization. He is effective in reducing Capital and Operation Expense by H/W &amp; Software consolidation and virtualization. Sifat is a certified ITIL and VMWare Professional.</p>
<p><a href="http://isystemadmin.com/author/sifat" target="_blank">View all posts by Sifat →</a></p>
<p>来源： <a href="[http://isystemadmin.com/a-simple-shell-script-to-backup-mysql-database](http://isystemadmin.com/a-simple-shell-script-to-backup-mysql-database)">[http://isystemadmin.com/a-simple-shell-script-to-backup-mysql-database](http://isystemadmin.com/a-simple-shell-script-to-backup-mysql-database)</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:33"datetime="2014-03-07 09:54:33"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--一个备份MySQL数据库的简单Shell脚本/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--一个备份MySQL数据库的简单Shell脚本" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--mysql性能的检查和调优方法-sudonecom服务器系统架构分析日志/">mysql性能的检查和调优方法 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:33.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--mysql性能的检查和调优方法-sudonecom服务器系统架构分析日志/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="mysql-sudone-com-">mysql性能的检查和调优方法 - sudone.com服务器系统架构分析日志</h1>
<h1 id="-sudone-com-http-www-sudone-com-"><a href="http://www.sudone.com/" target="_blank">sudone.com</a> 服务器系统架构分析日志</h1>
<h1 id="mysql-">mysql性能的检查和调优方法</h1>
<p>[2012-08-02 15:22:04]</p>
<p>我一直是使用mysql这个数据库软件，它工作比较稳定，效率也很高。在遇到严重性能问题时，一般都有这么几种可能：
1、索引没有建好；
2、sql写法过于复杂；
3、配置错误；
4、机器实在负荷不了；
1、索引没有建好
如果看到mysql消耗的cpu很大，可以用mysql的client工具来检查。
在linux下执行
/usr/local/mysql/bin/mysql -hlocalhost -uroot -p
输入密码，如果没有密码，则不用-p参数就可以进到客户端界面中。
看看当前的运行情况
show full processlist
可以多运行几次
这个命令可以看到当前正在执行的sql语句，它会告知执行的sql、数据库名、执行的状态、来自的客户端ip、所使用的帐号、运行时间等信息
在我的cache后端，这里面大部分时间是看不到显示任何sql语句的，我认为这样才算比较正常。如果看到有很多sql语句，那么这台mysql就一定会有性能问题
如果出现了性能问题，则可以进行分析：
1、是不是有sql语句卡住了？
这是出现比较多的情况，如果数据库是采用myisam，那么有可能有一个写入的线程会把数据表给锁定了，如果这条语句不结束，则其它语句也无法运行。
查看processlist里的time这一项，看看有没有执行时间很长的语句，要留意这些语句。
2、大量相同的sql语句正在执行
如果出现这种情况，则有可能是该sql语句执行的效率低下，同样要留意这些语句。
然后把你所怀疑的语句统统集合一下，用desc（explain）来检查这些语句。
首先看看一个正常的desc输出：
mysql&gt; desc select /<em> from imgs where imgid=1651768337;
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------+
| id | select_type | table | type  | possible_keys | key     | key_len | ref   | rows | Extra |
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------+
|  1 | SIMPLE      | imgs  | const | PRIMARY       | PRIMARY | 8       | const |    1 |       |
+----+-------------+-------+-------+---------------+---------+---------+-------+------+-------+
1 row in set (0.00 sec)
注意key、rows和Extra这三项，这条语句返回的结果说明了该sql会使用PRIMARY主键索引来查询，结果集数量为1条，Extra没有显示，证明没有用到排序或其他操作。由此结果可以推断，mysql会从索引中查询imgid=1651768337这条记录，然后再到真实表中取出所有字段，是很简单的操作。
key是指明当前sql会使用的索引，mysql执行一条简单语句时只能使用到一条索引，注意这个限制；rows是返回的结果集大小，结果集就是使用该索引进行一次搜索的所有匹配结果；Extra一般会显示查询和排序的方式，。
如果没有使用到key，或者rows很大而用到了filesort排序，一般都会影响到效率，例如：
mysql&gt; desc select /</em> from imgs where userid=&quot;7mini&quot; order by clicks desc limit 10;
+----+-------------+-------+------+---------------+------+---------+------+-------+-----------------------------+
| id | select_type | table | type | possible_keys | key  | key_len | ref  | rows  | Extra                       |
+----+-------------+-------+------+---------------+------+---------+------+-------+-----------------------------+
|  1 | SIMPLE      | imgs  | ALL  | NULL          | NULL | NULL    | NULL | 12506 | Using where; Using filesort |
+----+-------------+-------+------+---------------+------+---------+------+-------+-----------------------------+
1 row in set (0.00 sec)
这条sql结果集会有12506条，用到了filesort，所以执行起来会非常消耗效率的。这时mysql执行时会把整个表扫描一遍，一条一条去找到匹配userid=&quot;7mini&quot;的记录，然后还要对这些记录的clicks进行一次排序，效率可想而知。真实执行时如果发现还比较快的话，那是因为服务器内存还足够将12506条比较短小的记录全部读入内存，所以还比较快，但是并发多起来或者表大起来的话，效率问题就严重了。
这时我把userid加入索引：
create index userid on imgs (userid);
然后再检查：
mysql&gt; desc select /<em> from imgs where userid=&quot;7mini&quot; order by clicks desc limit 10;
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
| id | select_type | table | type | possible_keys | key    | key_len | ref   | rows | Extra                       |
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
|  1 | SIMPLE      | imgs  | ref  | userid        | userid | 51      | const |    8 | Using where; Using filesort |
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
1 row in set (0.00 sec)
嗯，这时可以看到mysql使用了userid这个索引搜索了，用userid索引一次搜索后，结果集有8条。然后虽然使用了filesort一条一条排序，但是因为结果集只有区区8条，效率问题得以缓解。
但是，如果我用别的userid查询，结果又会有所不同：
mysql&gt; desc select /</em> from imgs where userid=&quot;admin&quot; order by clicks desc limit 10;
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
| id | select_type | table | type | possible_keys | key    | key_len | ref   | rows | Extra                       |
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
|  1 | SIMPLE      | imgs  | ref  | userid        | userid | 51      | const | 2944 | Using where; Using filesort |
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
1 row in set (0.00 sec)
这个结果和userid=&quot;7mini&quot;的结果基本相同，但是mysql用userid索引一次搜索后结果集的大小达到2944条，这2944条记录都会加入内存进行filesort，效率比起7mini那次来说就差很多了。这时可以有两种办法可以解决，第一种办法是再加一个索引和判断条件，因为我只需要根据点击量取最大的10条数据，所以有很多数据我根本不需要加进来排序，比如点击量小于10的，这些数据可能占了很大部分。
我对clicks加一个索引，然后加入一个where条件再查询：
create index clicks on imgs(clicks);
mysql&gt; desc select /<em> from imgs where userid=&quot;admin&quot; order by clicks desc limit 10;
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
| id | select_type | table | type | possible_keys | key    | key_len | ref   | rows | Extra                       |
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
|  1 | SIMPLE      | imgs  | ref  | userid,clicks | userid | 51      | const | 2944 | Using where; Using filesort |
+----+-------------+-------+------+---------------+--------+---------+-------+------+-----------------------------+
1 row in set (0.00 sec)
这时可以看到possible_keys变成了userid,clicks，possible_keys是可以匹配的所有索引，mysql会从possible_keys中自己判断并取用其中一个索引来执行语句，值得注意的是，mysql取用的这个索引未必是最优化的。这次查询mysql还是使用userid这个索引来查询的，并没有按照我的意愿，所以结果还是没有什么变化。改一下sql加上use index强制mysql使用clicks索引：
mysql&gt; desc select /</em> from imgs use index (clicks) where userid=&#39;admin&#39; and clicks&gt;10 order by clicks desc limit 10
+----+-------------+-------+-------+---------------+--------+---------+------+------+-------------+
| id | select_type | table | type  | possible_keys | key    | key_len | ref  | rows | Extra       |
+----+-------------+-------+-------+---------------+--------+---------+------+------+-------------+
|  1 | SIMPLE      | imgs  | range | clicks        | clicks | 4       | NULL | 5455 | Using where |
+----+-------------+-------+-------+---------------+--------+---------+------+------+-------------+
1 row in set (0.00 sec)
这时mysql用到了clicks索引进行查询，但是结果集比userid还要大！看来还要再进行限制：
mysql&gt; desc select /<em> from imgs use index (clicks) where userid=&#39;admin&#39; and clicks&gt;1000 order by clicks desc limit 10
+----+-------------+-------+-------+---------------+--------+---------+------+------+-------------+
| id | select_type | table | type  | possible_keys | key    | key_len | ref  | rows | Extra       |
+----+-------------+-------+-------+---------------+--------+---------+------+------+-------------+
|  1 | SIMPLE      | imgs  | range | clicks        | clicks | 4       | NULL |  312 | Using where |
+----+-------------+-------+-------+---------------+--------+---------+------+------+-------------+
1 row in set (0.00 sec)
加到1000的时候结果集变成了312条，排序效率应该是可以接受。
不过，采用换索引这种优化方式需要取一个采样点，比如这个例子中的1000这个数字，这样，对userid的每个数值，都要去找一个采样点，这样对程序来说是很难办的。如果按1000取样的话，那么userid=&#39;7mini&#39;这个例子中，取到的结果将不会是8条，而是2条，给用户造成了困惑。
当然还有另一种办法，加入双索引：
create index userid_clicks on imgs (userid, clicks)
mysql&gt; desc select /</em> from imgs where userid=&quot;admin&quot; order by clicks desc limit 10;
+----+-------------+-------+------+----------------------+---------------+---------+-------+------+-------------+
| id | select_type | table | type | possible_keys        | key           | key_len | ref   | rows | Extra       |
+----+-------------+-------+------+----------------------+---------------+---------+-------+------+-------------+
|  1 | SIMPLE      | imgs  | ref  | userid,userid_clicks | userid_clicks | 51      | const | 2944 | Using where |
+----+-------------+-------+------+----------------------+---------------+---------+-------+------+-------------+
1 row in set (0.00 sec)
这时可以看到，结果集还是2944条，但是Extra中的filesort不见了。这时mysql使用userid_clicks这个索引去查询，这不但能快速查询到userid=&quot;admin&quot;的所有记录，并且结果是根据clicks排好序的！所以不用再把这个结果集读入内存一条一条排序了，效率上会高很多。
但是用多字段索引这种方式有个问题，如果查询的sql种类很多的话，就得好好规划一下了，否则索引会建得非常多，不但会影响到数据insert和update的效率，而且数据表也容易损坏。
以上是对索引优化的办法，因为原因可能会比较复杂，所以写得比较的长，一般好好优化了索引之后，mysql的效率会提升n个档次，从而也不需要考虑增加机器来解决问题了。
但是，mysql甚至所有数据库，可能都不好解决limit的问题。在mysql中，limit 0,10只要索引合适，是没有问题的，但是limit 100000,10就会很慢了，因为mysql会扫描排好序的结果，然后找到100000这个点，取出10条返回。要找到100000这个点，就要扫描100000条记录，这个循环是比较耗时的。不知道会不会有什么好的算法可以优化这个扫描引擎，我冥思苦想也想不出有什么好办法。对于limit，目前直至比较久远的将来，我想只能通过业务、程序和数据表的规划来优化，我想到的这些优化办法也都还没有一个是万全之策，往后再讨论。
2、sql写法过于复杂
sql写法假如用到一些特殊的功能，比如groupby、或者多表联合查询的话，mysql用到什么方式来查询也可以用desc来分析，我这边用复杂sql的情况还不算多，所以不常分析，暂时就没有好的建议。
3、配置错误
配置里主要参数是key_buffer、sort_buffer_size/myisam_sort_buffer_size，这两个参数意思是：
key_buffer=128M：全部表的索引都会尽可能放在这块内存区域内，索引比较大的话就开稍大点都可以，我一般设为128M，有个好的建议是把很少用到并且比较大的表想办法移到别的地方去，这样可以显著减少mysql的内存占用。
sort_buffer_size=1M：单个线程使用的用于排序的内存，查询结果集都会放进这内存里，如果比较小，mysql会多放几次，所以稍微开大一点就可以了，重要是优化好索引和查询语句，让他们不要生成太大的结果集。
另外一些配置：
thread_concurrency=8：这个配置标配=cpu数量x2
interactive_timeout=30
wait_timeout=30：这两个配置使用10-30秒就可以了，这样会尽快地释放内存资源，注意：一直在使用的连接是不会断掉的，这个配置只是断掉了长时间不动的连接。
query_cache：这个功能不要使用，现在很多人看到cache这几个字母就像看到了宝贝，这是不唯物主义的。mysql的query_cache在每次表数据有变化的时候都会重新清理连至该表的所有缓存，如果更新比较频繁，query_cache不但帮不上忙，而且还会对效率影响很大。这个参数只适合只读型的数据库，如果非要用，也只能用query_cache_type=2自行用SQL_CACHE指定一些sql进行缓存。
max_connections：默认为100，一般情况下是足够用的，但是一般要开大一点，开到400-600就可以了，能超过600的话一般就有效率问题，得另找对策，光靠增加这个数字不是办法。
其它配置可以按默认就可以了，个人觉得问题还不是那么的大，提醒一下：1、配置虽然很重要，但是在绝大部分情况下都不是效率问题的罪魁祸首。2、mysql是一个数据库，对于数据库最重要考究的不应是效率，而是稳定性和数据准确性。
4、机器实在负荷不了
如果做了以上调整，服务器还是不能承受，那就只能通过架构级调整来优化了。
1、mysql同步。
通过mysql同步功能将数据同步到数台从数据库，由主数据库写入，从数据库提供读取。
我个人不是那么乐意使用mysql同步，因为这个办法会增加程序的复杂性，并常常会引起数据方面的错误。在高负荷的服务中，死机了还可以快速重启，但数据错误的话要恢复就比较麻烦。
2、加入缓存
加入缓存之后，就可以解决并发的问题，效果很明显。如果是实时系统，可以考虑用刷新缓存方式使缓存保持最新。
在前端加入squid的架构比较提倡使用，在命中率比较高的应用中，基本上可以解决问题。
如果是在程序逻辑层里面进行缓存，会增加很多复杂性，问题会比较多而且难解决，不建议在这一层面进行调整。
3、程序架构调整，支持同时连接多个数据库
如果web加入缓存后问题还是比较严重，只能通过程序架构调整，把应用拆散，用多台的机器同时提供服务。
如果拆散的话，对业务是有少许影响，如果业务当中有部分功能必须使用所有的数据，可以用一个完整库+n个分散库这样的架构，每次修改都在完整库和分散库各操作一次，或定期整理完整库。
当然，还有一种最笨的，把数据库整个完完整整的做拷贝，然后程序每次都把完整的sql在这些库执行一遍，访问时轮询访问，我认为这样要比mysql同步的方式安全。
4、使用 mysql proxy 代理
mysql proxy 可以通过代理把数据库中的各个表分散到数台服务器，但是它的问题是没有能解决热门表的问题，如果热门内容散在多个表中，用这个办法是比较轻松就能解决问题。
我没有用过这个软件也没有认真查过，不过我对它的功能有一点点怀疑，就是它怎么实现多个表之间的联合查询？如果能实现，那么效率如何呢？
5、使用memcachedb
数据库换用支持mysql的memcachedb，是可以一试的想法，从memcachedb的实现方式和层面来看对数据没有什么影响，不会对用户有什么困扰。
为我现在因为数据库方面问题不多，没有试验过这个玩意。不过，只要它支持mysql的大部分主要的语法，而且本身稳定，可用性是无需置疑的。
  站名：<a href="http://www.sudone.com/" target="_blank">sudone.com</a>; 站长：<a href="http://www.sudone.com/ayou.html" target="_blank">Ayou</a>; 服务器：ubuntu+nginx+squid+php</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:33"datetime="2014-03-07 09:54:33"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--mysql性能的检查和调优方法-sudonecom服务器系统架构分析日志/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--mysql性能的检查和调优方法-sudonecom服务器系统架构分析日志" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--MySQL运维笔记（一）——终止高负载SQL/">MySQL 运维笔记（一）—— 终止高负载SQL</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:33.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--MySQL运维笔记（一）——终止高负载SQL/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="mysql-sql">MySQL 运维笔记（一）—— 终止高负载SQL</h1>
<p>数据库表体积大了，负载高了，难免一个sql出去耗时延长。半个月前，一个凌晨定时任务跑了8小时，突然手足无措。最后找DBA协助，直接干掉了这个sql进程。
其实，这并不复杂。
首先，找出占用CPU时间过长的SQL
Sql代码 <a href="&quot;复制代码&quot;"><img src="" alt="复制代码"></a> <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>show processlist;  </li>
</ol>
<p>show processlist;</p>
<p><img src="" alt="">
 假定最后一条sql处于Query状态，且Time时间过长，就锁定它的ID，直接干掉即可。</p>
<p>然后，杀死进程：</p>
<p>Sql代码 <a href="&quot;复制代码&quot;"><img src="" alt="复制代码"></a> <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>kill QUERY  4487855;  </li>
</ol>
<p>kill QUERY  4487855;</p>
<p> 这就大功告成了！</p>
<p> 参考</p>
<p>KILL [CONNECTION | QUERY] thread_id</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:33"datetime="2014-03-07 09:54:33"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--MySQL运维笔记（一）——终止高负载SQL/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--MySQL运维笔记（一）——终止高负载SQL" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mariadb--超越MySQL：三个流行MySQL分支的对比摘录-Speeddsy的专栏-博客频道-/">超越MySQL：三个流行MySQL分支的对比(摘录) </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:33.000Z"> <a href="/2014/02/02/2014-02-02-DB-mariadb--超越MySQL：三个流行MySQL分支的对比摘录-Speeddsy的专栏-博客频道-/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-mysql-mysql-speeddsy-csdn-net">超越MySQL：三个流行MySQL分支的对比(摘录) - Speeddsy的专栏 - 博客频道 - CSDN.NET</h1>
<p>您还未登录！|<a href="https://passport.csdn.net/account/login" target="_blank">登录</a>|<a href="https://passport.csdn.net/account/register" target="_blank">注册</a>|<a href="https://passport.csdn.net/help/faq" target="_blank">帮助</a></p>
<ul>
<li><a href="http://www.csdn.net/" target="_blank">首页</a></li>
<li><a href="http://news.csdn.net/" target="_blank">业界</a></li>
<li><a href="http://mobile.csdn.net/" target="_blank">移动</a></li>
<li><a href="http://cloud.csdn.net/" target="_blank">云计算</a></li>
<li><a href="http://sd.csdn.net/" target="_blank">研发</a></li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a></li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a></li>
<li><h2 id="-"><a href="">更多</a></h2>
</li>
</ul>
<h1 id="-speeddsy-http-blog-csdn-net-speeddsy-"><a href="http://blog.csdn.net/Speeddsy" target="_blank">Speeddsy的专栏</a></h1>
<h2 id="-">我的博客我说行！</h2>
<ul>
<li><a href="http://blog.csdn.net/Speeddsy?viewmode=contents" target="_blank"><img src="" alt="">目录视图</a></li>
<li><a href="http://blog.csdn.net/Speeddsy?viewmode=list" target="_blank"><img src="" alt="">摘要视图</a></li>
<li><a href="http://blog.csdn.net/Speeddsy/rss/list" target="_blank"><img src="" alt="">订阅</a>
<a href="http://surveies.csdn.net/survey/comein/532" target="_blank">博客专家信息更新登记表</a>        <a href="http://blog.csdn.net/blogdevteam/article/details/8572108" target="_blank">社区专家谈 12306</a>      <a href="http://bbs.csdn.net/topics/390373496" target="_blank">CSDN社区程序员回乡见闻活动火爆开始！</a>
<a href="http://www.csdn.net/article/2013-02-26/2814263" target="_blank">专访周家安：我的十年编程自学之路</a>        <a href="http://blog.csdn.net/csdnstudent/article/details/8077932" target="_blank">2013年全国百所高校巡讲讲师招募</a></li>
</ul>
<h3 id="-mysql-mysql-"><a href="">超越MySQL：三个流行MySQL分支的对比(摘录)</a></h3>
<p>分类： <a href="http://blog.csdn.net/Speeddsy/article/category/1166947" target="_blank">数据库</a>  2012-06-16 16:32 178人阅读 <a href="http://blog.csdn.net/speeddsy/article/details/7669150#comments" target="_blank">评论</a>(0) <a href="&quot;收藏&quot;">收藏</a> <a href="http://blog.csdn.net/speeddsy/article/details/7669150#report" title="举报" target="_blank">举报</a>
<a href="http://blog.csdn.net/tag/details.html?tag=mysql" target="_blank">mysql</a><a href="http://blog.csdn.net/tag/details.html?tag=%e5%bc%95%e6%93%8e" target="_blank">引擎</a><a href="http://blog.csdn.net/tag/details.html?tag=%e4%ba%a7%e5%93%81" target="_blank">产品</a><a href="http://blog.csdn.net/tag/details.html?tag=server" target="_blank">server</a><a href="http://blog.csdn.net/tag/details.html?tag=%e5%ad%98%e5%82%a8" target="_blank">存储</a><a href="http://blog.csdn.net/tag/details.html?tag=%e6%89%a9%e5%b1%95" target="_blank">扩展</a></p>
<p><strong>三个流行MySQL分支：Drizzle、MariaDB和Percona Server（包括XtraDB引擎）</strong></p>
<p><strong>XtraDB</strong></p>
<p>XtraDB是一款独立的产品，但它仍被认为是MySQL的一个分支。XtraDB实际上是基于MySQL的数据库的一个存储引擎。XtraDB被认为是已成为MySQL一部分的标准MyISAM和InnoDB的一个额外存储引擎。</p>
<p>XtraDB分支有另一个目标，即成为InnoDB存储引擎的简单替代，这样用户就可以轻松地切换其存储引擎，无需更改任何现有的应用程序代码。XtraDB必须能够向后兼容InnoDB，以提供它们想要添加的所有新功能和改进。它们实现了此目标。</p>
<p>XtraDB的速度有多快？我找到的一个性能测试表明：与内置的MySQL 5.1 InnoDB 引擎相比，它每分钟可处理2.7倍的事务。（请参见参考资料）。速度显然是一个不可以忽略的因素，在考虑替代产品时更是如此。</p>
<p><strong>Percona</strong></p>
<p>与内置的MySQL存储引擎相比，XtraDB提供了一些极大的改进，但它不是一款独立产品，也无法轻松放入现有MySQL安装。因此，如果您想使用这款新引擎，则必须使用提供它的产品。采用Percona Server的一个很好的理由是，利用XtraDB引擎来尽可能地减少代码更改。</p>
<p>下面是Percona Server的声明，该声明来自它们自己的网站：</p>
<ul>
<li>可扩展性：处理更多事务；在强大的服务器上进行扩展</li>
<li>性能：使用了XtraDB的Percona Server速度非常快</li>
<li>可靠性：避免损坏，提供崩溃安全(crash-safe)复制</li>
<li>管理：在线备份，在线表格导入/导出</li>
<li>诊断：高级分析和检测</li>
<li>灵活性：可变的页面大小，改进的缓冲池管理</li>
</ul>
<p>Percona Server的一个缺点是他们自己管理代码，不接受外部开发人员的贡献，以这种方式确保他们对产品中所包含功能的控制。</p>
<p><strong>MariaDB</strong></p>
<p>另一款提供了XtraDB存储引擎的产品是MariaDB产品。它与Percona产品非常类似，但是提供了更多底层代码更改，试图提供比标准MySQL更多的性能改进</p>
<p>MariaDB提供了MySQL提供的标准存储引擎，即MyISAM和InnoDB。因此，实际上，可以将它视为MySQL的扩展集，它不仅提供MySQL提供的所有功能，还提供其他功能。MariaDB还声称自己是MySQL的替代，因此从MySQL切换到MariaDB时，无需更改任何基本代码即可安装它。</p>
<p><strong>Drizzle</strong></p>
<p>本文介绍的最后一款产品是Drizzle。与之前介绍的两款产品不同，Drizzle与MySQL有很大差别，甚至声称它们不是MySQL的替代产品。他们期望对MySQL进行一些重大更改，想要提供一种出色的解决方案来解决高可用性问题，即使这意味着要更改我们已经习惯了的MySQL的各个方面。</p>
<p>是不是所有人都应该使用Drizzle呢？等等，正如Drizzle反复指出的那样，它与MySQL不兼容。因此，如果您现在使用的是MySQL平台，那么需要重写大量代码，才能使Drizzle在您的环境中正常工作</p>
<p>尽管需要额外的工作才能让它运行，但它并不像Percona或MariaDB那样快速且易于使用。我之所以介绍Drizzle，是因为尽管目前它可能不是您的选择，但几年之后，它很可能会成为一些人的选择。因为本文的目标是提高您对未来使用的工具的认识，所以这是向您介绍此产品的好机会。许多领先的DB专家相信Drizzle将成为未来5年内高可用性数据库安装的选择。
分享到： <a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a></p>
<ul>
<li>上一篇：<a href="http://blog.csdn.net/speeddsy/article/details/7667621" target="_blank">Windows7下MySQL5.5.20免安装版的配置</a></li>
<li><p>下一篇：<a href="http://blog.csdn.net/speeddsy/article/details/7669425" target="_blank">eclipse 配置知识</a>
查看评论<a href=""></a></p>
<p>暂无评论
您还没有登录,请<a href="">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fspeeddsy%2Farticle%2Fdetails%2F7669150" target="_blank">[注册]</a></p>
</li>
</ul>
<p>/* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a href=""></a><a href=""></a>
<a href="http://blog.csdn.net/speeddsy/article/details/7669150#" title="回到顶部" target="_blank"><img src="" alt="TOP"></a></p>
<p>个人资料</p>
<p><a href="http://my.csdn.net/Speeddsy" target="_blank"><img src="&quot;访问我的空间&quot;" alt=""></a>
<a href="http://my.csdn.net/Speeddsy" target="_blank">Speeddsy</a></p>
<p><a href="&quot;[加关注]&quot;"></a> <a href="&quot;[发私信]&quot;"></a></p>
<ul>
<li>访问：2619次</li>
<li>积分：58分</li>
<li><p>排名：千里之外</p>
</li>
<li><p>原创：1篇</p>
</li>
<li>转载：13篇</li>
<li>译文：0篇</li>
<li>评论：2条</li>
</ul>
<p>文章分类</p>
<ul>
<li><a href="http://blog.csdn.net/speeddsy/article/category/1277200" target="_blank">互联网</a>(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/category/1166947" target="_blank">数据库</a>(6)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/category/1167373" target="_blank">java</a>(5)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/category/1167164" target="_blank">c/c++</a>(3)</li>
<li><p><a href="http://blog.csdn.net/speeddsy/article/category/1187660" target="_blank">其它</a>(1)
文章存档</p>
</li>
<li><p><a href="http://blog.csdn.net/speeddsy/article/month/2012/11" target="_blank">2012年11月</a>(1)</p>
</li>
<li><a href="http://blog.csdn.net/speeddsy/article/month/2012/07" target="_blank">2012年07月</a>(1)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/month/2012/06" target="_blank">2012年06月</a>(12)</li>
</ul>
<p>文章搜索</p>
<p><a href=""></a>
阅读排行</p>
<ul>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7751270" title="福昕pdf套件注册码激活" target="_blank">福昕pdf套件注册码激活</a>(640)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7661602" title="codeblocks 使用汇总" target="_blank">codeblocks 使用汇总</a>(418)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7667611" title="MySQL5.5 配置文件 my.ini" target="_blank">MySQL5.5 配置文件 my.ini</a>(327)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7677726" title="30 Best Eclipse Plugins" target="_blank">30 Best Eclipse Plugins</a>(248)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7662626" title="eclipse保存个人设置preference" target="_blank">eclipse保存个人设置preference</a>(200)</li>
<li><a href="&quot;超越MySQL：三个流行MySQL分支的对比(摘录">超越MySQL：三个流行MySQL分支的对比(摘录)</a>&quot;)(177)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7667621" title="Windows7下MySQL5.5.20免安装版的配置" target="_blank">Windows7下MySQL5.5.20免安装版的配置</a>(110)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7660647" title="MySQL Workbench的使用教程" target="_blank">MySQL Workbench的使用教程</a>(105)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7694735" title="You can&#39;t specify target table &#39;sc1&#39; for update in FROM clause" target="_blank">You can&#39;t specify target table &#39;sc1&#39; for update in FROM clause</a>(93)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7669425" title="eclipse 配置知识" target="_blank">eclipse 配置知识</a>(79)</li>
</ul>
<p>评论排行</p>
<ul>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7660647" title="MySQL Workbench的使用教程" target="_blank">MySQL Workbench的使用教程</a>(1)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7662626" title="eclipse保存个人设置preference" target="_blank">eclipse保存个人设置preference</a>(1)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7751270" title="福昕pdf套件注册码激活" target="_blank">福昕pdf套件注册码激活</a>(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7694735" title="You can&#39;t specify target table &#39;sc1&#39; for update in FROM clause" target="_blank">You can&#39;t specify target table &#39;sc1&#39; for update in FROM clause</a>(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7677726" title="30 Best Eclipse Plugins" target="_blank">30 Best Eclipse Plugins</a>(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7677667" title="10款常用Java测试工具" target="_blank">10款常用Java测试工具</a>(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7669609" title="jdk与jre的区别" target="_blank">jdk与jre的区别</a>(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7669425" title="eclipse 配置知识" target="_blank">eclipse 配置知识</a>(0)</li>
<li><a href="&quot;超越MySQL：三个流行MySQL分支的对比(摘录">超越MySQL：三个流行MySQL分支的对比(摘录)</a>&quot;)(0)</li>
<li><a href="http://blog.csdn.net/speeddsy/article/details/7667621" title="Windows7下MySQL5.5.20免安装版的配置" target="_blank">Windows7下MySQL5.5.20免安装版的配置</a>(0)
推荐文章</li>
</ul>
<p>最新评论</p>
<ul>
<li><a href="http://blog.csdn.net/Speeddsy/article/details/7660647#comments" target="_blank">MySQL Workbench的使用教程</a></li>
</ul>
<p><a href="http://blog.csdn.net/lnas01" target="_blank">随便啦</a>: 请问这篇文章怎么转载啊。。。</p>
<ul>
<li><a href="http://blog.csdn.net/Speeddsy/article/details/7662626#comments" target="_blank">eclipse保存个人设置preference</a></li>
</ul>
<p><a href="http://blog.csdn.net/greateryang" target="_blank">greateryang</a>: 好用，此文章推荐寻找此方法的同志都看看</p>
<p><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a>京 ICP 证 070598 号北京创新乐知信息技术有限公司 版权所有世纪乐知(北京)网络技术有限公司 提供技术支持江苏乐知网络技术有限公司 提供商务支持<img src="" alt=""> 联系邮箱：webmaster(at)csdn.netCopyright © 1999-2012, CSDN.NET, All Rights Reserved <a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="" alt="GongshangLogo"></a>
<img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mariadb/">mariadb</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mariadb/" class="label label-success">mariadb</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:33"datetime="2014-03-07 09:54:33"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mariadb--超越MySQL：三个流行MySQL分支的对比摘录-Speeddsy的专栏-博客频道-/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mariadb--超越MySQL：三个流行MySQL分支的对比摘录-Speeddsy的专栏-博客频道-" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/133/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/131/">131</a></li><li><a class="page-number" href="/page/132/">132</a></li><li><a class="page-number" href="/page/133/">133</a></li><li class="active"><li><span class="page-number current">134</span></li><li><a class="page-number" href="/page/135/">135</a></li><li><a class="page-number" href="/page/136/">136</a></li><li><a class="page-number" href="/page/137/">137</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/135/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 13:06:28</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
