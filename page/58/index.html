
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 58 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--【Java基础专题】编码与乱码02---String的getBytesencoding/">【Java 基础专题】编码与乱码(02)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:41.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--【Java基础专题】编码与乱码02---String的getBytesencoding/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-java-02-string-getbytes-encoding-">【Java 基础专题】编码与乱码(02)---String的getBytes([encoding])方法测试</h1>
<p><a href="http://www.pin5i.com/login.aspx" target="_blank">[登录]</a> <a href="http://www.pin5i.com/register.aspx" target="_blank">[注册]</a>|</p>
<h2 id="-"><a href="&quot;程序人生&quot;"><img src="" alt="程序人生"></a></h2>
<ul>
<li><a href="http://www.pin5i.com/visual-studio-net/" target="_blank">Visual Studio.NET</a></li>
<li><a href="http://www.pin5i.com/ajax/" target="_blank">Ajax</a></li>
<li><a href="http://www.pin5i.com/extjs/" target="_blank">ExtJS</a></li>
<li><a href="http://www.pin5i.com/js/" target="_blank">JavaScript</a></li>
<li><a href="http://www.pin5i.com/jquery/" target="_blank">jQuery</a></li>
<li><a href="http://www.pin5i.com/java/" target="_blank">Java</a></li>
<li><a href="http://www.pin5i.com/c/" target="_blank">C&amp;C++</a></li>
<li><a href="http://www.pin5i.com/frame-design/" target="_blank">框架设计</a></li>
<li><a href="http://www.pin5i.com/#" target="_blank">编程工具</a></li>
<li><a href="http://www.pin5i.com/tags.aspx" target="_blank">标签</a>
<a href="">拼吾爱程序人生</a> » <a href="http://www.pin5i.com/other-programme/" target="_blank">其他编程</a> » <a href="http://www.pin5i.com/java/" target="_blank">Java</a> » <strong>【Java 基础专题】编码与乱码(02)---String的getBytes([encoding])方法测试</strong></li>
</ul>
<h1 id="-java-02-string-getbytes-encoding-http-www-pin5i-com-showtopic-26792-html-"><a href="http://www.pin5i.com/showtopic-26792.html" target="_blank">【Java 基础专题】编码与乱码(02)---String的getBytes([encoding])方法测试</a></h1>
<p>[ <em>251</em> 浏览 ][<a href="http://www.pin5i.com/mobile/showtopic-26792.html" target="_blank">手机版</a>]</p>
<p><a href="http://www.pin5i.com/java/" target="_blank">返回列表</a>
<em>发布日期: 2010-02-22 23:50 发布者: cobra</em> <a href="http://www.pin5i.com/showtopic-26792.html###" title="复制帖子链接到剪贴板" target="_blank">1/#</a></p>
<p>字体大小: <strong>t</strong> <strong>T</strong></p>
<p>上一篇：<a href="http://www.pin5i.com/showtopic-26791.html" target="_blank">【Java 基础专题】编码与乱码(01)---编码基础</a></p>
<ol>
<li>package example.encoding;
1.</li>
<li>import java.io.UnsupportedEncodingException;
1.</li>
<li>//<em>/</em> /<em>///</em>/*</li>
<li>/* The Class GetBytesTest.</li>
<li>/*/</li>
<li>public class GetBytesTest {
1.</li>
<li>//<em>/</em> /<em>///</em>/*</li>
<li>/* The main method.</li>
<li>/*</li>
<li>/* @param args the arguments</li>
<li>/*/</li>
<li>public static void main(String args[]) {</li>
<li></li>
<li>String content = &quot;中文&quot;;</li>
<li>String defaultEncoding = System.getProperty(&quot;file.encoding&quot;);</li>
<li>String defaultLnaguage = System.getProperty(&quot;user.language&quot;);</li>
<li>System.out.println(&quot;System default encoding --- &quot; + defaultEncoding);</li>
<li>System.out.println(&quot;System default language --- &quot; + defaultLnaguage);
1.</li>
<li>GetBytesTest tester = new GetBytesTest();
1.</li>
<li>byte[] defaultBytes = tester.getBytesWithDefaultEncoding(content);</li>
<li>tester.printBytes(defaultBytes);
1.</li>
<li>byte[] iso8859Bytes = tester.getBytesWithGivenEncoding(content,</li>
<li>&quot;ISO-8859-1&quot;);</li>
<li>tester.printBytes(iso8859Bytes);
1.</li>
<li>byte[] gbkBytes = tester.getBytesWithGivenEncoding(content, &quot;GBK&quot;);</li>
<li>tester.printBytes(gbkBytes);
1.</li>
<li>byte[] utfBytes = tester.getBytesWithGivenEncoding(content, &quot;UTF-8&quot;);</li>
<li>tester.printBytes(utfBytes);
1.</li>
<li>}
1.</li>
<li>//<em>/</em> /<em>///</em>/*</li>
<li>/* Gets the bytes with default encoding.</li>
<li>/*</li>
<li>/* @param content the content</li>
<li>/*</li>
<li>/* @return the bytes with default encoding</li>
<li>/*/</li>
<li>public byte[] getBytesWithDefaultEncoding(String content) {</li>
<li>System.out.println(&quot;\nEncode with default encoding\n&quot;);</li>
<li>byte[] bytes = content.getBytes();</li>
<li>return bytes;</li>
<li>}
1.</li>
<li>//<em>/</em> /<em>///</em>/*</li>
<li>/* Gets the bytes with given encoding.</li>
<li>/*</li>
<li>/* @param content the content</li>
<li>/* @param encoding the encoding</li>
<li>/*</li>
<li>/* @return the bytes with given encoding</li>
<li>/*/</li>
<li>public byte[] getBytesWithGivenEncoding(String content, String encoding) {</li>
<li>System.out.println(&quot;\nEncode with given encoding : &quot; + encoding + &quot;\n&quot;);</li>
<li>try {</li>
<li>byte[] bytes = content.getBytes(encoding);</li>
<li>return bytes;</li>
<li>} catch (UnsupportedEncodingException e) {</li>
<li>e.printStackTrace();</li>
<li>return null;</li>
<li>}</li>
<li>}
1.</li>
<li>//<em>/</em> /<em>///</em>/*</li>
<li>/* Prints the bytes.</li>
<li>/*</li>
<li>/* @param bytes the bytes</li>
<li>/*/</li>
<li>public void printBytes(byte[] bytes) {</li>
<li>for (int i = 0; i &lt; bytes.length; i++) {</li>
<li>System.out.print(&quot; byte[&quot; + i + &quot;] = &quot; + bytes);</li>
<li>System.out</li>
<li>.println(&quot; hex string = &quot; + Integer.toHexString(bytes));</li>
<li>}</li>
<li>}
1.</li>
<li>}
<em>复制代码</em>
【1】在中文平台下，测试结果如下：
System default encoding --- GBK
System default language --- zh
Encode with default encoding
byte[0] = -42 hex string = ffffffd6
byte[1] = -48 hex string = ffffffd0
byte[2] = -50 hex string = ffffffce
byte[3] = -60 hex string = ffffffc4
Encode with given encoding : ISO-8859-1
byte[0] = 63 hex string = 3f
byte[1] = 63 hex string = 3f
Encode with given encoding : GBK
byte[0] = -42 hex string = ffffffd6
byte[1] = -48 hex string = ffffffd0
byte[2] = -50 hex string = ffffffce
byte[3] = -60 hex string = ffffffc4
Encode with given encoding : UTF-8
byte[0] = -28 hex string = ffffffe4
byte[1] = -72 hex string = ffffffb8
byte[2] = -83 hex string = ffffffad
byte[3] = -26 hex string = ffffffe6
byte[4] = -106 hex string = ffffff96
byte[5] = -121 hex string = ffffff87
【2】在英文平台下，测试结果如下：
System default encoding --- Cp1252
System default language --- en
Encode with default encoding
byte[0] = 63 hex string = 3f
byte[1] = 63 hex string = 3f
Encode with given encoding : ISO-8859-1
byte[0] = 63 hex string = 3f
byte[1] = 63 hex string = 3f
Encode with given encoding : GBK
byte[0] = -42 hex string = ffffffd6
byte[1] = -48 hex string = ffffffd0
byte[2] = -50 hex string = ffffffce
byte[3] = -60 hex string = ffffffc4
Encode with given encoding : UTF-8
byte[0] = -28 hex string = ffffffe4
byte[1] = -72 hex string = ffffffb8
byte[2] = -83 hex string = ffffffad
byte[3] = -26 hex string = ffffffe6
byte[4] = -106 hex string = ffffff96
byte[5] = -121 hex string = ffffff87
【结论】
getBytes()、getBytes(encoding)函数的作用是使用系统默认或者指定的字符集编码方式，将字符串编码成字节数组。
在中文平台下，默认的字符集编码是GBK，此时如果使用getBytes()或者getBytes(&quot;GBK&quot;)，则按照GBK的编码规则将每个中文字符用2个byte表示。所以我们看到&quot;中文&quot;最终GBK编码结果就是： -42 -48 -50 -60 。-42和-48代表了&quot;中&quot;字，而&quot;-50&quot;和&quot;-60&quot;则代表了&quot;文&quot;字。
在中文平台下，如果指定的字符集编码是UTF-8，那么按照UTF-8对中文的编码规则：每个中文用3个字节表示，那么&quot;中文&quot;这两个字符最终被编码成：-28 -72 -83、-26 -106 -121两组。每3个字节代表一个中文字符。
在中文平台下，如果指定的字符集编码是ISO-8859-1，由于此字符集是单字节编码，所以使用getBytes(&quot;ISO-8859-1&quot;) 时，每个字符只取一个字节，每个汉字只取到了一半的字符。另外一半的字节丢失了。由于这一半的字符在字符集中找不到对应的字符，所以默认使用编码63代替，也就是?。
在英文平台下，默认的字符集编码是Cp1252(类似于ISO-8859-1)，如果使用GBK、UTF-8进行编码，得到的字节数组依然是正确的 (GBK4个字节，UTF-8是6个字节)。因为在JVM内部是以Unicode存储字符串的，使用getBytes(encoding)会让JVM进行一次Unicode到指定编码之间的转换。对于GBK，JVM依然会转换成4个字节，对于UTF-8，JVM依然会转换成6个字节。但是对于ISO- 8859-1，则由于无法转换(2个字节---&gt;1个字节，截取了一半的字节)，所以转换后的结果是错误的。
相同的平台下，同一个中文字符，在不同的编码方式下，得到的是完全不同的字节数组。这些字节数组有可能是正确的(只要该字符集支持中文)，也可能是完全错误的(该字符集不支持中文)。
<strong>记住：</strong>
<strong>不要轻易地使用或滥用String类的getBytes(encoding)方法，更要尽量避免使用getBytes()方法。因为这个方法是平台依赖的，在平台不可预知的情况下完全可能得到不同的结果。如果一定要进行字节编码，则用户要确保encoding的方法就是当初字符串输入时的 encoding。</strong>（文/<a href="http://www.blogjava.net/pengpenglin/" target="_blank">Paul Lin</a>）
下一篇：<a href="http://www.pin5i.com/showtopic-26793.html" target="_blank">【Java 基础专题】编码与乱码(03)----String的toCharArray()方法测试</a></li>
</ol>
<p>赞助商广告：
下面是更多相关的免费资源</p>
<p>• <a href="http://www.pin5i.com/showtopic-25922.html" target="_blank">《Google Android开发入门与实战》源码下载</a> • <a href="http://www.pin5i.com/showtopic-18940.html" target="_blank">修订后的电子书Java Persistence with Hibernate（英文版）下载</a> • <a href="http://www.pin5i.com/showtopic-25833.html" target="_blank">《OSGi原理与最佳实践》精选版下载</a> • <a href="http://www.pin5i.com/showtopic-27055.html" target="_blank">Google Android应用框架原理与程式设计36技</a> • <a href="http://www.pin5i.com/showtopic-27202.html" target="_blank">Java NIO 入门学习(读写文件)</a> • <a href="http://www.pin5i.com/showtopic-27201.html" target="_blank">Java NIO 入门学习(通道和缓冲区)</a> • <a href="http://www.pin5i.com/showtopic-27200.html" target="_blank">Java NIO 入门学习(过门)</a> • <a href="http://www.pin5i.com/showtopic-27199.html" target="_blank">精简的JAVA计算器代码</a> • <a href="http://www.pin5i.com/showtopic-27198.html" target="_blank">Groovy 深入探索——Metaclass的存放</a> • <a href="http://www.pin5i.com/showtopic-27197.html" target="_blank">Java NIO 应用 -- 使用内存映射文件实现进程间通信</a> • <a href="http://www.pin5i.com/showtopic-27196.html" target="_blank">共享内存在Java中实现和应用</a> • <a href="http://www.pin5i.com/showtopic-19773.html" target="_blank">Spring 2.5 中文简明教程下载</a> • <a href="http://www.pin5i.com/showtopic-26989.html" target="_blank">Java制作的快速打开文件夹、程序的小工具</a> • <a href="http://www.pin5i.com/showtopic-26891.html" target="_blank">《Programming in Lua》中文版PDF</a> • <a href="http://www.pin5i.com/showtopic-27156.html" target="_blank">Killer Game Programming in Java</a> • <a href="http://www.pin5i.com/showtopic-23533.html" target="_blank">J2ME XHTML浏览器、J2ME WML浏览器、J2ME WAP浏览器（0.50b版）</a> • <a href="http://www.pin5i.com/showtopic-23329.html" target="_blank">使用Ant实现zip压缩解压功能</a> • <a href="http://www.pin5i.com/showtopic-27027.html" target="_blank">免费论坛程序JForum的安装说明</a> • <a href="http://www.pin5i.com/showtopic-27026.html" target="_blank">JavaBean一键生成插件:JavaBeanAssistant</a> • <a href="http://www.pin5i.com/showtopic-27018.html" target="_blank">The Definitive Guide to Jython: Python for the Java Platform</a> **<a href="http://www.pin5i.com/showtopic-26792.html#" target="_blank">TOP</a></p>
<p><a href="http://www.pin5i.com/java/" target="_blank">返回列表</a>
赞助商广告：</p>
<p><a href="">拼吾爱程序人生</a> - <a href="http://www.pin5i.com/stats.aspx" target="_blank">统计</a> -  <a href="http://www.pin5i.com/tools/sitemap.aspx" target="_blank">Sitemap</a> 鄂ICP备07500843号</p>
<ul>
<li><a href="http://www.linezing.com/" target="_blank"><img src="" alt=""></a> - <a href="mailto:cobrayang@gmail.com">联系我们</a> - <a href="http://www.pin5i.com/mobile/index.aspx" target="_blank">手机版本</a> - TOP<a href="&quot;PIN5I-PROGRAMMING-LIFE&quot;"><img src="" alt="PIN5I-PROGRAMMING-LIFE"></a></li>
</ul>
<p>CopyRight © 2007-2010 <a href="">Pin5i-Programming-Life</a>  本站法律顾问：<a href="http://www.itlaw.com.cn/" target="_blank">ITLAW-庄毅雄律师</a></p>
<p>Powered by <a href="http://nt.discuz.net/" title="Discuz!NT 3.0.0 (.NET Framework 2.0/3.x)" target="_blank">Discuz!NT</a> 3.0.0  Processed in 0.09375 second(s) , 6 queries.</p>
<ul>
<li>帖子标题</li>
<li><p>作者</p>
</li>
<li><p><img src="" alt=""></p>
</li>
<li><p><a href="http://www.pin5i.com/userinfo--1.html" target="_blank">我的资料</a></p>
</li>
<li><p><a href="http://www.pin5i.com/tools/jspacker.html" target="_blank">JS压缩</a></p>
</li>
<li><p><a href="http://www.pin5i.com/aspnet/" target="_blank">Asp.Net</a></p>
</li>
<li><a href="http://www.pin5i.com/csharp/" target="_blank">C/#</a></li>
<li><a href="http://www.pin5i.com/silverlight/" target="_blank">Silverlight</a></li>
<li><a href="http://www.pin5i.com/wcf/" target="_blank">WCF</a></li>
<li><a href="http://www.pin5i.com/wpf/" target="_blank">WPF</a></li>
<li><a href="http://www.pin5i.com/wf/" target="_blank">WF</a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_字符集/">Java_字符集</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_字符集/" class="label label-success">Java_字符集</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:41"datetime="2014-03-07 09:54:41"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--【Java基础专题】编码与乱码02---String的getBytesencoding/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_字符集--【Java基础专题】编码与乱码02---String的getBytesencoding" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--java字符串的各种编码转换/">java字符串的各种编码转换</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:41.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--java字符串的各种编码转换/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-">java字符串的各种编码转换</h1>
<h1 id="-java-http-www-blogjava-net-rabbit-"><a href="http://www.blogjava.net/rabbit/" target="_blank">Java世界</a></h1>
<p>学习笔记</p>
<h3 id="-">导航</h3>
<ul>
<li><a href="http://www.blogjava.net/" target="_blank">BlogJava</a></li>
<li><a href="http://www.blogjava.net/rabbit/" target="_blank">首页</a></li>
<li><a href="http://www.blogjava.net/rabbit/admin/EditPosts.aspx?opt=1" target="_blank">新随笔</a></li>
<li><a href="http://www.blogjava.net/rabbit/contact.aspx?id=1" target="_blank">联系</a></li>
<li><a href="http://www.blogjava.net/rabbit/rss" target="_blank">聚合</a><a href="http://www.blogjava.net/rabbit/rss" target="_blank"><img src="" alt=""></a></li>
<li><a href="http://www.blogjava.net/rabbit/admin/EditPosts.aspx" target="_blank">管理</a>
<a href="&quot;Go to the previous month&quot;">&lt;</a> 2008年3月 <a href="&quot;Go to the next month&quot;">&gt;</a> 日 一 二 三 四 五 六 24 25 26 27 28 29 1 2 3 4 5 6 <a href="http://www.blogjava.net/rabbit/archive/2008/03/07.html" target="_blank">7</a> <a href="http://www.blogjava.net/rabbit/archive/2008/03/08.html" target="_blank">8</a> 9 10 <a href="http://www.blogjava.net/rabbit/archive/2008/03/11.html" target="_blank">11</a> <a href="http://www.blogjava.net/rabbit/archive/2008/03/12.html" target="_blank">12</a> 13 <a href="http://www.blogjava.net/rabbit/archive/2008/03/14.html" target="_blank">14</a> 15 16 17 18 19 <a href="http://www.blogjava.net/rabbit/archive/2008/03/20.html" target="_blank">20</a> 21 22 23 <a href="http://www.blogjava.net/rabbit/archive/2008/03/24.html" target="_blank">24</a> 25 26 <a href="http://www.blogjava.net/rabbit/archive/2008/03/27.html" target="_blank">27</a> <a href="http://www.blogjava.net/rabbit/archive/2008/03/28.html" target="_blank">28</a> 29 30 31 1 2 3 4 5</li>
</ul>
<h3 id="-6-">留言簿(6)</h3>
<ul>
<li><a href="http://www.blogjava.net/rabbit/Contact.aspx?id=1" target="_blank">给我留言</a></li>
<li><a href="http://www.blogjava.net/rabbit/default.aspx?opt=msg" target="_blank">查看公开留言</a></li>
<li><a href="http://www.blogjava.net/rabbit/admin/MyMessages.aspx" target="_blank">查看私人留言</a></li>
</ul>
<h3 id="-">随笔档案</h3>
<ul>
<li><a href="http://www.blogjava.net/rabbit/archive/2010/01.html" target="_blank">2010年1月 (3)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/07.html" target="_blank">2009年7月 (2)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/05.html" target="_blank">2009年5月 (2)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/01.html" target="_blank">2009年1月 (1)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/12.html" target="_blank">2008年12月 (2)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/10.html" target="_blank">2008年10月 (1)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/08.html" target="_blank">2008年8月 (1)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/07.html" target="_blank">2008年7月 (2)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/06.html" target="_blank">2008年6月 (9)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/05.html" target="_blank">2008年5月 (1)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/03.html" target="_blank">2008年3月 (9)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/02.html" target="_blank">2008年2月 (9)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/01.html" target="_blank">2008年1月 (1)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2007/12.html" target="_blank">2007年12月 (4)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2007/11.html" target="_blank">2007年11月 (8)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2007/10.html" target="_blank">2007年10月 (16)</a></li>
</ul>
<h3 id="-">文章档案</h3>
<ul>
<li><a href="http://www.blogjava.net/rabbit/archives/2007/11.html" target="_blank">2007年11月 (8)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archives/2007/10.html" target="_blank">2007年10月 (1)</a></li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/03/12/185559.html" target="_blank">1. 怎么查看端口占用情况?(22478)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html" target="_blank">2. java字符串的各种编码转换 (14630)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/03/08/184760.html" target="_blank">3. 如何导入.sql文件到mysql中？(7494)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/02/25/181961.html" target="_blank">4. 怎样用Eclipse生成jar文件(2261)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/06/17/208623.html" target="_blank">5. Linux下解压rar文件(1151)</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html" target="_blank">1. java字符串的各种编码转换 (13)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/03/12/185559.html" target="_blank">2. 怎么查看端口占用情况?(12)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2008/02/25/181961.html" target="_blank">3. 怎样用Eclipse生成jar文件(2)</a></li>
<li><a href="http://www.blogjava.net/rabbit/archive/2007/10/15/152922.html" target="_blank">4. 如何解决呢？请教。(2)</a></li>
<li><p><a href="http://www.blogjava.net/rabbit/archive/2007/10/22/154968.html" target="_blank">5. 单子（Singleton）设计模式(2)</a></p>
<h3 id="-">常用链接</h3>
</li>
<li><p><a href="http://www.blogjava.net/rabbit/MyPosts.html" target="_blank">我的随笔</a></p>
</li>
<li><a href="http://www.blogjava.net/rabbit/MyComments.html" target="_blank">我的评论</a></li>
<li><a href="http://www.blogjava.net/rabbit/OtherPosts.html" target="_blank">我的参与</a></li>
<li><a href="http://www.blogjava.net/rabbit/RecentComments.html" target="_blank">最新评论</a></li>
</ul>
<h3 id="-">统计</h3>
<ul>
<li>随笔 - 71</li>
<li>文章 - 9</li>
<li>评论 - 48</li>
<li>引用 - 0</li>
</ul>
<h3 id="-">积分与排名</h3>
<ul>
<li>积分 - 64465</li>
<li>排名 - 229</li>
</ul>
<h3 id="-">天籁村</h3>
<h3 id="-">新华网</h3>
<h3 id="-">雅虎</h3>
<h3 id="-http-www-blogjava-net-rabbit-commentsrss-aspx-">最新评论 <a href="http://www.blogjava.net/rabbit/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.blogjava.net/rabbit/archive/2010/02/11/189009.html#312565" target="_blank">1. re: java字符串的各种编码转换 [未登录]</a></li>
<li>谢了</li>
<li>--lbom</li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/12/31/185559.html#307931" target="_blank">2. re: 怎么查看端口占用情况?</a></li>
<li>万分感谢！</li>
<li>--yjm</li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/12/07/189009.html#305021" target="_blank">3. re: java字符串的各种编码转换 [未登录]</a></li>
<li>谢谢</li>
<li>--dong</li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/12/06/189009.html#304945" target="_blank">4. re: java字符串的各种编码转换 [未登录]</a></li>
<li>评论内容较长,点击标题查看</li>
<li>--wolf</li>
<li><a href="http://www.blogjava.net/rabbit/archive/2009/11/15/185559.html#302431" target="_blank">5. re: 怎么查看端口占用情况?</a></li>
<li>太谢谢你了，， 呵呵帮我解决了 很大的问题</li>
<li>--常霖</li>
</ul>
<h2 id="-java-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html" target="_blank">java字符串的各种编码转换</a></h2>
<p>import java.io.UnsupportedEncodingException;</p>
<p>//<em>/</em>
 /<em> 转换字符串的编码
 /</em>/
public class ChangeCharset {
 //<em>/</em> 7位ASCII字符，也叫作ISO646-US、Unicode字符集的基本拉丁块 /<em>/
 public static final String US_ASCII = &quot;US-ASCII&quot;;
 //</em>/<em> ISO 拉丁字母表 No.1，也叫作 ISO-LATIN-1 /</em>/
 public static final String ISO_8859_1 = &quot;ISO-8859-1&quot;;
 //<em>/</em> 8 位 UCS 转换格式 /<em>/
 public static final String UTF_8 = &quot;UTF-8&quot;;
 //</em>/<em> 16 位 UCS 转换格式，Big Endian（最低地址存放高位字节）字节顺序 /</em>/
 public static final String UTF_16BE = &quot;UTF-16BE&quot;;
 //<em>/</em> 16 位 UCS 转换格式，Little-endian（最高地址存放低位字节）字节顺序 /<em>/
 public static final String UTF_16LE = &quot;UTF-16LE&quot;;
 //</em>/<em> 16 位 UCS 转换格式，字节顺序由可选的字节顺序标记来标识 /</em>/
 public static final String UTF_16 = &quot;UTF-16&quot;;
 //<em>/</em> 中文超大字符集 /*/
 public static final String GBK = &quot;GBK&quot;;</p>
<p> //<em>/</em>
  /<em> 将字符编码转换成US-ASCII码
  /</em>/
 public String toASCII(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, US_ASCII);
 }
 //<em>/</em>
  /<em> 将字符编码转换成ISO-8859-1码
  /</em>/
 public String toISO_8859_1(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, ISO_8859_1);
 }
 //<em>/</em>
  /<em> 将字符编码转换成UTF-8码
  /</em>/
 public String toUTF_8(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, UTF_8);
 }
 //<em>/</em>
  /<em> 将字符编码转换成UTF-16BE码
  /</em>/
 public String toUTF_16BE(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, UTF_16BE);
 }
 //<em>/</em>
  /<em> 将字符编码转换成UTF-16LE码
  /</em>/
 public String toUTF_16LE(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, UTF_16LE);
 }
 //<em>/</em>
  /<em> 将字符编码转换成UTF-16码
  /</em>/
 public String toUTF_16(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, UTF_16);
 }
 //<em>/</em>
  /<em> 将字符编码转换成GBK码
  /</em>/
 public String toGBK(String str) throws UnsupportedEncodingException{
  return this.changeCharset(str, GBK);
 }</p>
<p> //<em>/</em>
  /<em> 字符串编码转换的实现方法
  /</em> @param str  待转换编码的字符串
  /<em> @param newCharset 目标编码
  /</em> @return
  /<em> @throws UnsupportedEncodingException
  /</em>/
 public String changeCharset(String str, String newCharset)
   throws UnsupportedEncodingException {
  if (str != null) {
   //用默认字符编码解码字符串。
   byte[] bs = str.getBytes();
   //用新的字符编码生成字符串
   return new String(bs, newCharset);
  }
  return null;
 }
 //<em>/</em>
  /<em> 字符串编码转换的实现方法
  /</em> @param str  待转换编码的字符串
  /<em> @param oldCharset 原编码
  /</em> @param newCharset 目标编码
  /<em> @return
  /</em> @throws UnsupportedEncodingException
  /*/
 public String changeCharset(String str, String oldCharset, String newCharset)
   throws UnsupportedEncodingException {
  if (str != null) {
   //用旧的字符编码解码字符串。解码可能会出现异常。
   byte[] bs = str.getBytes(oldCharset);
   //用新的字符编码生成字符串
   return new String(bs, newCharset);
  }
  return null;
 }</p>
<p> public static void main(String[] args) throws UnsupportedEncodingException {
  ChangeCharset test = new ChangeCharset();
  String str = &quot;This is a 中文的 String!&quot;;
  System.out.println(&quot;str: &quot; + str);
  String gbk = test.toGBK(str);
  System.out.println(&quot;转换成GBK码: &quot; + gbk);
  System.out.println();
  String ascii = test.toASCII(str);
  System.out.println(&quot;转换成US-ASCII码: &quot; + ascii);
  gbk = test.changeCharset(ascii,ChangeCharset.US_ASCII, ChangeCharset.GBK);
  System.out.println(&quot;再把ASCII码的字符串转换成GBK码: &quot; + gbk);
  System.out.println();
  String iso88591 = test.toISO_8859_1(str);
  System.out.println(&quot;转换成ISO-8859-1码: &quot; + iso88591);
  gbk = test.changeCharset(iso88591,ChangeCharset.ISO_8859_1, ChangeCharset.GBK);
  System.out.println(&quot;再把ISO-8859-1码的字符串转换成GBK码: &quot; + gbk);
  System.out.println();
  String utf8 = test.toUTF_8(str);
  System.out.println(&quot;转换成UTF-8码: &quot; + utf8);
  gbk = test.changeCharset(utf8,ChangeCharset.UTF_8, ChangeCharset.GBK);
  System.out.println(&quot;再把UTF-8码的字符串转换成GBK码: &quot; + gbk);
  System.out.println();
  String utf16be = test.toUTF_16BE(str);
  System.out.println(&quot;转换成UTF-16BE码:&quot; + utf16be);
  gbk = test.changeCharset(utf16be,ChangeCharset.UTF_16BE, ChangeCharset.GBK);
  System.out.println(&quot;再把UTF-16BE码的字符串转换成GBK码: &quot; + gbk);
  System.out.println();
  String utf16le = test.toUTF_16LE(str);
  System.out.println(&quot;转换成UTF-16LE码:&quot; + utf16le);
  gbk = test.changeCharset(utf16le,ChangeCharset.UTF_16LE, ChangeCharset.GBK);
  System.out.println(&quot;再把UTF-16LE码的字符串转换成GBK码: &quot; + gbk);
  System.out.println();
  String utf16 = test.toUTF_16(str);
  System.out.println(&quot;转换成UTF-16码:&quot; + utf16);
  gbk = test.changeCharset(utf16,ChangeCharset.UTF_16LE, ChangeCharset.GBK);
  System.out.println(&quot;再把UTF-16码的字符串转换成GBK码: &quot; + gbk);
  String s = new String(&quot;中文&quot;.getBytes(&quot;UTF-8&quot;),&quot;UTF-8&quot;);
  System.out.println(s);
 }</p>
<h2 id="-">}</h2>
<pre><code>    java中的String类是按照unicode进行编码的，当使用String(byte[] bytes, String encoding)构造字符串时，encoding所指的是bytes中的数据是按照那种方式编码的，而不是最后产生的String是什么编码方式，换句话说，是让系统把bytes中的数据由encoding编码方式转换成unicode编码。如果不指明，bytes的编码方式将由jdk根据操作系统决定。

    当我们从文件中读数据时，最好使用InputStream方式，然后采用String(byte[] bytes, String encoding)指明文件的编码方式。不要使用Reader方式，因为Reader方式会自动根据jdk指明的编码方式把文件内容转换成unicode编码。

    当我们从数据库中读文本数据时，采用ResultSet.getBytes()方法取得字节数组，同样采用带编码方式的字符串构造方法即可。
</code></pre><p>ResultSet rs;
bytep[] bytes = rs.getBytes();
String str = new String(bytes, &quot;gb2312&quot;);</p>
<p>不要采取下面的步骤。</p>
<p>ResultSet rs;
String str = rs.getString();
str = new String(str.getBytes(&quot;iso8859-1&quot;), &quot;gb2312&quot;);</p>
<pre><code>    这种编码转换方式效率底。之所以这么做的原因是，ResultSet在getString()方法执行时，默认数据库里的数据编码方式为iso8859-1。系统会把数据依照iso8859-1的编码方式转换成unicode。使用str.getBytes(&quot;iso8859-1&quot;)把数据还原，然后利用new String(bytes, &quot;gb2312&quot;)把数据从gb2312转换成unicode，中间多了好多步骤。

    从HttpRequest中读参数时，利用reqeust.setCharacterEncoding()方法设置编码方式，读出的内容就是正确的了。
</code></pre><p>posted on 2008-03-27 15:03 <a href="http://www.blogjava.net/rabbit/" target="_blank">Rabbit</a> 阅读(14630) <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#Post" target="_blank">评论(13)</a>  <a href="http://www.blogjava.net/rabbit/admin/EditPosts.aspx?postid=189009" target="_blank">编辑</a>  <a href="http://www.blogjava.net/rabbit/AddToFavorite.aspx?id=189009" target="_blank">收藏</a>
<img src="" alt=""></p>
<p><a href=""></a><a href=""></a></p>
<p>[</p>
<h3 id="-">评论</h3>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-241299-permalink-re-java-re-java-2008-11-19-10-47-http-www-blogjava-net-downmoon-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#241299" title="permalink: re: java字符串的各种编码转换 " target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 2008-11-19 10:47 <a href="http://www.blogjava.net/downmoon/">邀月</a></h3>
<p>]()</p>
<p>感谢分享  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=%e9%82%80%e6%9c%88" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-241392-permalink-re-java-re-java-2008-11-19-15-21-rabbit-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#241392" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录] 2008-11-19 15:21 <a href="">rabbit</a></h3>
<p>谢谢支持！  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=rabbit" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-243964-permalink-re-java-re-java-2008-12-02-16-44-3-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#243964" title="permalink: re: java字符串的各种编码转换 " target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 2008-12-02 16:44 <a href="">3分毒</a></h3>
<p>顶~  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=3%e5%88%86%e6%af%92" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-261045-permalink-re-java-re-java-2009-03-20-15-27-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#261045" title="permalink: re: java字符串的各种编码转换 " target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 2009-03-20 15:27 <a href="">清闲散人</a></h3>
<p>inputstreamReader 可以直接指定编码的……  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=%e6%b8%85%e9%97%b2%e6%95%a3%e4%ba%ba" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-261558-permalink-re-java-re-java-2009-03-23-18-13-yxw-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#261558" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录] 2009-03-23 18:13 <a href="">yxw</a></h3>
<p>相当的有用啊，感谢分享  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=yxw" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-288167-permalink-re-java-re-java-2009-07-24-11-24-1111-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#288167" title="permalink: re: java字符串的各种编码转换 " target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 2009-07-24 11:24 <a href="">1111</a></h3>
<p>有些编码不能直接转换的吧!
  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=1111" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-288194-permalink-re-java-re-java-2009-07-24-13-55-rabbit-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#288194" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录] 2009-07-24 13:55 <a href="">Rabbit</a></h3>
<p>具体情况具体分析，不一定全部适用。  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=Rabbit" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-293606-permalink-re-java-re-java-2009-09-02-15-46-greale-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#293606" title="permalink: re: java字符串的各种编码转换 " target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 2009-09-02 15:46 <a href="">Greale</a></h3>
<p>&quot;当使用String(byte[] bytes, String encoding)构造字符串时，encoding所指的是bytes中的数据是按照那种方式编码的，而不是最后产生的String是什么编码方&quot;
完全错误,不要误导读者.  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=Greale" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-293686-permalink-re-java-re-java-2009-09-03-08-34-rabbit-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#293686" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录] 2009-09-03 08:34 <a href="">Rabbit</a></h3>
<p>@Greale
请加以测试给出结论，请查看String str = new String(bytes, &quot;gb2312&quot;);这个字符类的原代码即可得出答案。  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=Rabbit" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-301420-permalink-re-java-re-java-2009-11-06-13-24-tayoto-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#301420" title="permalink: re: java字符串的各种编码转换 " target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 2009-11-06 13:24 <a href="">tayoto</a></h3>
<p>简直是不负责任呀......全是错的.......敢不敢看文档再发  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=tayoto" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-304945-permalink-re-java-re-java-2009-12-06-22-28-wolf-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#304945" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录] 2009-12-06 22:28 <a href="">wolf</a></h3>
<p>@Greale
我来说句，下面这个来自jdk的文档，
String(byte[] bytes, String charsetName)
构造一个新的 String，方法是使用指定的字符集解码指定的字节数组
rabbit是对的。  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=wolf" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-305021-permalink-re-java-re-java-2009-12-07-16-47-dong-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#305021" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录] 2009-12-07 16:47 <a href="">dong</a></h3>
<p>谢谢  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=dong" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a></p>
<h3 id="-http-www-blogjava-net-rabbit-archive-2008-03-27-189009-html-312565-permalink-re-java-re-java-2010-02-11-10-24-lbom-"><a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#312565" title="permalink: re: java字符串的各种编码转换 [未登录]" target="_blank">/#</a> <a href=""></a>re: java字符串的各种编码转换 [未登录]<a href=""></a> 2010-02-11 10:24 <a href="">lbom</a></h3>
<p>谢了  <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=lbom" title="查看该作者发表过的评论" target="_blank">更多评论</a> <a href=""></a>  <a href=""></a>
<a href="http://www.blogjava.net/RequireRegister.aspx" target="_blank">新用户注册</a>  <a href="">刷新评论列表</a>  </p>
<p><a href=""></a> <a href="http://job.cnblogs.com/offer/6509/">淘宝网诚聘资深J2ME开发工程师</a>
IT新闻：
· <a href="http://news.cnblogs.com/n/59823/" target="_blank">Novell推新虚拟设备 简化向Windows 7迁移</a>
· <a href="http://news.cnblogs.com/n/59822/" target="_blank">原淘宝商城负责人黄若加盟当当网任COO</a>
· <a href="http://news.cnblogs.com/n/59820/" target="_blank">微软的“三屏一云”计划导致SQL CE数据库消失？</a>
· <a href="http://news.cnblogs.com/n/59818/" target="_blank">苹果招聘LTE技术经理 或推4G版iPhone</a>
· <a href="http://news.cnblogs.com/n/59815/" target="_blank">金山将砸2亿开发网游 今年推新款作品</a>
专题：<a href="http://kb.cnblogs.com/zt/android/" target="_blank">Android</a>  <a href="http://kb.cnblogs.com/zt/iPad/" target="_blank">iPad</a>  <a href="http://kb.cnblogs.com/zt/jquery/" target="_blank">jQuery</a>  <a href="http://kb.cnblogs.com/zt/chrome/" target="_blank">Chrome OS</a>    <a href="http://www.cnblogs.com/" target="_blank">博客园首页</a>  <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>  <a href="http://kb.cnblogs.com/" target="_blank">知识库</a>  <a href="http://a4.yeshj.com/rd/34143/" target="_blank">学英语</a>  <a href="http://job.cnblogs.com/cate-java_programmer/" target="_blank">Java程序员招聘</a> 标题  请输入标题 姓名  请输入你的姓名 主页 请输入验证码 验证码 /*  <img src="" alt=""> 内容(请不要发表任何与政治相关的内容) 请输入评论内容 Remember Me?   <a href="http://www.blogjava.net/login.aspx?ReturnURL=http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html&amp;SourceURL=/rabbit/archive/2008/03/27/189009.html" target="_blank">登录</a>       [使用Ctrl+Enter键可以直接提交]   <a href="http://a4.yeshj.com/rd/34138/" target="_blank">每天10分钟，轻松学英语</a>  推荐职位：
· <a href="http://job.cnblogs.com/offer/6318/" target="_blank">飞信服务器端高级.NET开发工程师(新媒传信)</a>
· <a href="http://job.cnblogs.com/offer/6319/" target="_blank">.NET飞信官网开发工程师(新媒传信)</a>
· <a href="http://job.cnblogs.com/offer/6189/" target="_blank">.NET技术开发总监(广州衣酷)</a>
· <a href="http://job.cnblogs.com/offer/6492/" target="_blank">Web前端研发工程师(百度)</a>
· <a href="http://job.cnblogs.com/offer/6123/" target="_blank">.NET初级程序员 (北京安人)</a>
· <a href="http://job.cnblogs.com/offer/6124/" target="_blank">.NET中级程序员 (北京安人)</a>
· <a href="http://job.cnblogs.com/zt/yeshj/#offer3" target="_blank">C++开发工程师(沪江网)</a>
· <a href="http://job.cnblogs.com/zt/yeshj/#offer2" target="_blank">前端开发工程师(沪江网)</a></p>
<p>博客园首页随笔：
· <a href="http://www.cnblogs.com/zhjp11/archive/2010/03/26/1697195.html" target="_blank">界面开发(五)--- 界面优化</a>
· <a href="http://www.cnblogs.com/guilin_gavin/archive/2010/03/26/1697193.html" target="_blank">项目“结项期”中如何改善开发VS测试效率的一点想法</a>
· <a href="http://www.cnblogs.com/sun/archive/2010/03/26/1697182.html" target="_blank">团队基础生成自动化流程之最佳实践总论(III) – 重写生成号产生机制</a>
· <a href="http://www.cnblogs.com/superymk/archive/2010/03/26/1697171.html" target="_blank">Phase Change Memory初步</a>
· <a href="http://www.cnblogs.com/foamliu/archive/2010/03/26/1697167.html" target="_blank">发布一款基于C/#的机器视觉库</a>
知识库：
· <a href="http://kb.cnblogs.com/page/59817/" target="_blank">如何明智选择数据库平台</a>
· <a href="http://kb.cnblogs.com/page/59812/" target="_blank">我们的原型设计方法</a>
· <a href="http://kb.cnblogs.com/page/59807/" target="_blank">写商业计划书——团队里该有谁？by Angels Den</a>
· <a href="http://kb.cnblogs.com/page/59802/" target="_blank">google vs.yahoo:谁的社会化媒体策略更胜一筹?</a>
· <a href="http://kb.cnblogs.com/page/59798/" target="_blank">淘心得——浅谈淘宝网的社会化之路</a>  网站导航:</p>
<p><a href="http://www.cnblogs.com/" target="_blank">博客园</a>   <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>   <a href="http://home.cnblogs.com/" target="_blank">个人主页</a>   <a href="http://www.cnweblog.com/" target="_blank">博客生活</a>   <a href="http://www.cnitblog.com/" target="_blank">IT博客网</a>   <a href="http://www.cppblog.com/" target="_blank">C++博客</a>   <a href="http://space.cnblogs.com/" target="_blank">博客园社区</a> <a href="http://www.blogjava.net/rabbit/archive/2008/03/27/189009.html?opt=admin" target="_blank">管理</a>   </p>
<p>Powered by:
<a href="http://www.blogjava.net/" target="_blank">BlogJava</a>
Copyright © Rabbit</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_字符集/">Java_字符集</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_字符集/" class="label label-success">Java_字符集</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:41"datetime="2014-03-07 09:54:41"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--java字符串的各种编码转换/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_字符集--java字符串的各种编码转换" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-java-com-jacob--jacob合并几个word文件到一个word文件/">jacob合并几个word文件到一个word文件</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:41.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-java-com-jacob--jacob合并几个word文件到一个word文件/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="jacob-word-word-">jacob合并几个word文件到一个word文件</h1>
<pre><code> 因项目需要将几个word文件合并到一个word文件，后面附项目运用的jar包jacob-1.9
</code></pre><p>jacob运用中，需要将附件内的jacob.dll放到windows/system32下</p>
<pre><code> 直接上代码：
</code></pre><p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>public static void main(String[] args) {  </li>
<li>List list  = new ArrayList();  </li>
<li>String file1= &quot;D:\file1.doc&quot;;  </li>
<li>String file2= &quot;D:\file2.doc&quot;;  </li>
<li>String file3= &quot;D:\file3.doc&quot;;  </li>
<li>list.add(file1);  </li>
<li>list.add(file2);  </li>
<li>list.add(file3);  </li>
<li>uniteDoc(list,&quot;d:\file.doc&quot;);  </li>
<li>}  </li>
<li>public static void uniteDoc(List fileList, String savepaths) {  </li>
<li>if (fileList.size() == 0 || fileList == null) {  </li>
<li>return;  </li>
<li>}  </li>
<li>//打开word  </li>
<li>ActiveXComponent app = new ActiveXComponent(&quot;Word.Application&quot;);//启动word  </li>
<li>try {  </li>
<li>// 设置word不可见  </li>
<li>app.setProperty(&quot;Visible&quot;, new Variant(false));  </li>
<li>//获得documents对象  </li>
<li>Object docs = app.getProperty(&quot;Documents&quot;).toDispatch();  </li>
<li>//打开第一个文件  </li>
<li>Object doc = Dispatch  </li>
<li>.invoke(  </li>
<li>(Dispatch) docs,  </li>
<li>&quot;Open&quot;,  </li>
<li>Dispatch.Method,  </li>
<li>new Object[] { (String) fileList.get(0),  </li>
<li>new Variant(false), new Variant(true) },  </li>
<li>new int[3]).toDispatch();  </li>
<li>//追加文件  </li>
<li>for (int i = 1; i &lt; fileList.size(); i++) {  </li>
<li>Dispatch.invoke(app.getProperty(&quot;Selection&quot;).toDispatch(),  </li>
<li>&quot;insertFile&quot;, Dispatch.Method, new Object[] {  </li>
<li>(String) fileList.get(i), &quot;&quot;,  </li>
<li>new Variant(false), new Variant(false),  </li>
<li>new Variant(false) }, new int[3]);  </li>
<li>}  </li>
<li>//保存新的word文件  </li>
<li>Dispatch.invoke((Dispatch) doc, &quot;SaveAs&quot;, Dispatch.Method,  </li>
<li>new Object[] { savepaths, new Variant(1) }, new int[3]);  </li>
<li>Variant f = new Variant(false);  </li>
<li>Dispatch.call((Dispatch) doc, &quot;Close&quot;, f);  </li>
<li>} catch (Exception e) {  </li>
<li>throw new RuntimeException(&quot;合并word文件出错.原因:&quot; + e);  </li>
<li>} finally {  </li>
<li>app.invoke(&quot;Quit&quot;, new Variant[] {});  </li>
<li>}  </li>
<li>}  </li>
</ol>
<p>public static void main(String[] args) {</p>
<pre><code>        List list  = new ArrayList();
        String file1= &quot;D:\\file1.doc&quot;;

        String file2= &quot;D:\\file2.doc&quot;;
        String file3= &quot;D:\\file3.doc&quot;;

        list.add(file1);
        list.add(file2);

        list.add(file3);
        uniteDoc(list,&quot;d:\\file.doc&quot;);

}
public static void uniteDoc(List fileList, String savepaths) {

    if (fileList.size() == 0 || fileList == null) {
        return;

    }
    //打开word

    ActiveXComponent app = new ActiveXComponent(&quot;Word.Application&quot;);//启动word
    try {

        // 设置word不可见
        app.setProperty(&quot;Visible&quot;, new Variant(false));

        //获得documents对象
        Object docs = app.getProperty(&quot;Documents&quot;).toDispatch();

        //打开第一个文件
        Object doc = Dispatch

            .invoke(
                    (Dispatch) docs,

                    &quot;Open&quot;,
                    Dispatch.Method,

                    new Object[] { (String) fileList.get(0),
                            new Variant(false), new Variant(true) },

                    new int[3]).toDispatch();
        //追加文件

        for (int i = 1; i &lt; fileList.size(); i++) {
            Dispatch.invoke(app.getProperty(&quot;Selection&quot;).toDispatch(),

                &quot;insertFile&quot;, Dispatch.Method, new Object[] {
                        (String) fileList.get(i), &quot;&quot;,

                        new Variant(false), new Variant(false),
                        new Variant(false) }, new int[3]);

        }
        //保存新的word文件

        Dispatch.invoke((Dispatch) doc, &quot;SaveAs&quot;, Dispatch.Method,
            new Object[] { savepaths, new Variant(1) }, new int[3]);

        Variant f = new Variant(false);
        Dispatch.call((Dispatch) doc, &quot;Close&quot;, f);

    } catch (Exception e) {
        throw new RuntimeException(&quot;合并word文件出错.原因:&quot; + e);

    } finally {
        app.invoke(&quot;Quit&quot;, new Variant[] {});

    }
}
</code></pre>
      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/java-com/">java-com</a></li><li><a href="/categories/Java&J2EE/java-com/jacob/">jacob</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/jacob/" class="label label-success">jacob</a><a href="/tags/java-com/" class="label label-info">java-com</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:41"datetime="2014-03-07 09:54:41"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-java-com-jacob--jacob合并几个word文件到一个word文件/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-java-com-jacob--jacob合并几个word文件到一个word文件" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-内存分析--Java内存泄露监控工具-JVM监控工具介绍jstack-jconsole-jinfo-/">Java 内存泄露监控工具</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:41.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-内存分析--Java内存泄露监控工具-JVM监控工具介绍jstack-jconsole-jinfo-/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-jvm-jstack-jconsole-jinfo-jmap-jdb-jstat">Java 内存泄露监控工具-- JVM监控工具介绍jstack, jconsole, jinfo, jmap, jdb, jstat</h1>
<hr>
<p><strong>jstack </strong>-- 如果java程序崩溃生成core文件，jstack工具可以用来获得core文件的java stack和native stack的信息，从而可以轻松地知道java程序是如何崩溃和在程序何处发生问题。另外，jstack工具还可以附属到正在运行的java程序中，看到 当时运行的java程序的java stack和native stack的信息, 如果现在运行的java程序呈现hung的状态，jstack是非常有用的。目前只有在Solaris和Linux的JDK版本里面才有。</p>
<p><strong>jconsole </strong>– jconsole是基于<a href="http://java.chinaitlab.com/" target="_blank">Java </a>Management Extensions (JMX)的实时图形化监测工具，这个工具利用了内建到JVM里面的JMX指令来提供实时的性能和资源的监控，包括了<a href="http://java.chinaitlab.com/" target="_blank">Java </a>程序的内存使用，Heap size, 线程的状态，类的分配状态和空间使用等等。</p>
<p><strong>jinfo </strong>– jinfo可以从core文件里面知道崩溃的Java应用程序的配置信息，目前只有在Solaris和Linux的JDK版本里面才有。</p>
<p><strong>jmap </strong>– jmap 可以从core文件或进程中获得内存的具体匹配情况，包括Heap size, Perm size等等，目前只有在Solaris和Linux的JDK版本里面才有。</p>
<p><strong>jdb </strong>– jdb 用来对core文件和正在运行的Java进程进行实时地调试，里面包含了丰富的命令帮助您进行调试，它的功能和Sun studio里面所带的dbx非常相似，但 jdb是专门用来针对Java应用程序的。</p>
<p><strong>jstat </strong>– jstat利用了JVM内建的指令对Java应用程序的资源和性能进行实时的命令行的监控，包括了对Heap size和垃圾回收状况的监控等等。</p>
<p><strong>jps </strong>– jps是用来查看JVM里面所有进程的具体状态, 包括进程ID，进程启动的路径等等。 </p>
<p><a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstatd.html" target="_blank"><strong>jstatd</strong> </a>
启动jvm监控服务。它是一个基于rmi的应用，向远程机器提供本机jvm应用程序的信息。默认端口1099。
实例：jstatd -J-Djava.security.policy=my.policy
my.policy文件需要自己建立，内如如下：
grant codebase &quot;file:$JAVA_HOME/lib/tools.jar&quot; {
permission java.security.AllPermission;
};
这是安全策略文件，因为jdk对jvm做了jaas的安全检测，所以我们必须设置一些策略，使得jstatd被允许作网络操作</p>
<p>上面的操作没有通过，出现：</p>
<p>Could not create remote object
access denied (java.util.PropertyPermission java.rmi.server.ignoreSubClasses write)
java.security.AccessControlException: access denied (java.util.PropertyPermission java.rmi.server.ignoreSubClasses write)
at java.security.AccessControlContext.checkPermission(AccessControlContext.java:323)
at java.security.AccessController.checkPermission(AccessController.java:546)
at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)
at java.lang.System.setProperty(System.java:727)
at sun.tools.jstatd.Jstatd.main(Jstatd.java:122)</p>
<p>create in your usr/java/bin the jstatd.all.policy file, with the content must be</p>
<ol>
<li>grant codebase &quot;file:${java.home}/../lib/tools.jar&quot; {  </li>
<li>permission java.security.AllPermission;  </li>
<li>}; </li>
</ol>
<p><strong><a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jps.html" target="_blank">jps </a></strong>
列出所有的jvm实例
实例：
jps
列出本机所有的jvm实例
jps 192.168.0.77
列出远程服务器192.168.0.77机器所有的jvm实例，采用rmi协议，默认连接端口为1099
（前提是远程服务器提供jstatd服务）
输出内容如下：
jones@jones:~/data/ebook/java/j2se/jdk_gc$ jps
6286 Jps
6174  Jstat
<strong>jconsole </strong>
一个图形化界面，可以观察到java进程的gc，class，内存等信息。虽然比较直观，但是个人还是比较倾向于使用jstat命令（在最后一部分会对jstat作详细的介绍）。
<strong><a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jinfo.html" target="_blank">jinfo </a></strong>（linux下特有）
观察运行中的java程序的运行环境参数：参数包括Java System属性和JVM命令行参数
实例：jinfo 2083
其中2083就是java进程id号，可以用jps得到这个id号。
输出内容太多了，不在这里一一列举，大家可以自己尝试这个命令。
<strong><a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstack.html" target="_blank">jstack </a></strong>（linux下特有）
可以观察到jvm中当前所有线程的运行情况和线程当前状态
jstack 2083
输出内容如下：
<img src="" alt=""> 
<strong><a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jmap.html" target="_blank">jmap </a></strong>（linux下特有，也是很常用的一个命令）
观察运行中的jvm物理内存的占用情况。
参数如下：<strong>-heap</strong> ：打印jvm heap的情况
<strong>-histo：</strong> 打印jvm heap的直方图。其输出信息包括类名，对象数量，对象占用大小。
<strong>-histo：live ：</strong> 同上，但是只答应存活对象的情况
<strong>-permstat：</strong> 打印permanent generation heap情况
命令使用：
jmap -heap 2083
可以观察到New Generation（Eden Space，From Space，To Space）,tenured generation,Perm Generation的内存使用情况
输出内容：
<img src="" alt=""> 
jmap -histo 2083 ｜ jmap -histo:live 2083
可以观察heap中所有对象的情况（heap中所有生存的对象的情况）。包括对象数量和所占空间大小。
输出内容：
<img src="" alt=""> 
写个脚本，可以很快把占用heap最大的对象找出来，对付内存泄漏特别有效。
<strong><a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jstat.html" target="_blank">jstat </a>
</strong>最后要重点介绍下这个命令。
这是jdk命令中比较重要，也是相当实用的一个命令，可以观察到classloader，compiler，gc相关信息
具体参数如下：
-class：统计class loader行为信息
-compile：统计编译行为信息
-gc：统计jdk gc时heap信息
-gccapacity：统计不同的generations（不知道怎么翻译好，包括新生区，老年区，permanent区）相应的heap容量情况
-gccause：统计gc的情况，（同-gcutil）和引起gc的事件
-gcnew：统计gc时，新生代的情况
-gcnewcapacity：统计gc时，新生代heap容量
-gcold：统计gc时，老年区的情况
-gcoldcapacity：统计gc时，老年区heap容量
-gcpermcapacity：统计gc时，permanent区heap容量
-gcutil：统计gc时，heap情况
-printcompilation：不知道干什么的，一直没用过。
一般比较常用的几个参数是：
jstat -class 2083 1000 10 （每隔1秒监控一次，一共做10次）
输出内容含义如下：</p>
<p>Loaded Number of classes loaded. Bytes Number of Kbytes loaded. Unloaded Number of classes unloaded. Bytes Number of Kbytes unloaded. Time Time spent performing class load and unload operations.
jstat -gc 2083 2000 20（每隔2秒监控一次，共做10）
输出内容含义如下：
S0C Current survivor space 0 capacity (KB). EC Current eden space capacity (KB). EU Eden space utilization (KB). OC Current old space capacity (KB). OU Old space utilization (KB). PC Current permanent space capacity (KB). PU Permanent space utilization (KB). YGC Number of young generation GC Events. YGCT Young generation garbage collection time. FGC Number of full GC events. FGCT Full garbage collection time. GCT Total garbage collection time.
输出内容：
<img src="" alt="">
如果能熟练运用这些命令，尤其是在linux下，那么完全可以代替jprofile等监控工具了，谁让它收费呢。呵呵。
用命令的好处就是速度快，并且辅助于其他命令，比如grep gawk sed等，可以组装多种符合自己需求的工具。</p>
<h1 id="-u-jps-"><a href=""></a>u               jps 的用法</h1>
<p>用来查看 JVM 里面所有进程的具体状态 , 包括进程 ID ，进程启动的路径等等。 与 unix 上的 ps 类似，用来显示本地的java 进程，可以查看本地运行着几个 java 程序，并显示他们的进程号。</p>
<p><strong>[root@localhost ~]/# jps</strong></p>
<p>25517 Jps</p>
<p>25444 Bootstrap</p>
<h1 id="-u-jstack-"><a href=""></a>u               jstack 的用法</h1>
<p>如果 java 程序崩溃生成 core 文件， jstack 工具可以用来获得 core 文件的 java stack 和 native stack 的信息，从而可以轻松地知道 java 程序是如何崩溃和在程序何处发生问题。另外， jstack 工具还可以附属到正在运行的 java 程序中，看到当时运行的 java 程序的 java stack 和 native stack 的信息 , 如果现在运行的 java 程序呈现 hung 的状态， jstack 是非常有用的。目前只有在 Solaris 和 Linux 的 JDK 版本里面才有。</p>
<p><strong>[root@localhost bin]/# jstack **</strong>25444**</p>
<p>Attaching to process ID 25917, please wait...</p>
<p>Debugger attached successfully.</p>
<p>Client compiler detected.</p>
<p>JVM version is 1.5.0_08-b03</p>
<p>Thread 25964: (state = BLOCKED)</p>
<p>Error occurred during stack walking:</p>
<p>sun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: get_thread_regs failed for a lwp</p>
<pre><code>    at sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal$LinuxDebuggerLocalWorkerThread.execute(LinuxDebuggerLocal.java:134)

    at sun.jvm.hotspot.debugger.linux.LinuxDebuggerLocal.getThreadIntegerRegisterSet(LinuxDebuggerLocal.java:437)

    at sun.jvm.hotspot.debugger.linux.LinuxThread.getContext(LinuxThread.java:48)

    at
</code></pre><h1 id="-u-jstat-"><a href=""></a>u               jstat 的用法</h1>
<p>用以判断JVM 是否存在内存问题呢？如何判断JVM 垃圾回收是否正常？一般的top 指令基本上满足不了这样的需求，因为它主要监控的是总体的系统资源，很难定位到java 应用程序。</p>
<p>Jstat 是JDK 自带的一个轻量级小工具。全称“Java Virtual Machine statistics monitoring tool” ，它位于java 的bin 目录下，主要利用JVM 内建的指令对Java 应用程序的资源和性能进行实时的命令行的监控，包括了对Heap size 和垃圾回收状况的监控。可见，Jstat 是轻量级的、专门针对JVM 的工具，非常适用。由于JVM 内存设置较大，图中百分比变化不太明显</p>
<p>一个极强的监视 VM 内存工具。可以用来监视 VM 内存内的各种堆和非堆的大小及其内存使用量。</p>
<p>jstat 工具特别强大，有众多的可选项，详细查看堆内各个部分的使用量，以及加载类的数量。使用时，需加上查看进程的进程 id ，和所选参数。</p>
<p>语法结构：</p>
<p>Usage: jstat -help|-options</p>
<pre><code>   jstat -&lt;option&gt; [-t] [-h&lt;lines&gt;] &lt;vmid&gt; [&lt;interval&gt; [&lt;count&gt;]]
</code></pre><p>参数解释：</p>
<p>Options — 选项，我们一般使用 -gcutil 查看gc 情况</p>
<p>vmid    — VM 的进程号，即当前运行的java 进程号</p>
<p>interval– 间隔时间，单位为秒或者毫秒</p>
<p>count   — 打印次数，如果缺省则打印无数次</p>
<p>S0  — Heap 上的 Survivor space 0 区已使用空间的百分比 
S1  — Heap 上的 Survivor space 1 区已使用空间的百分比 
E   — Heap 上的 Eden space 区已使用空间的百分比 
O   — Heap 上的 Old space 区已使用空间的百分比 
P   — Perm space 区已使用空间的百分比 
YGC — 从应用程序启动到采样时发生 Young GC 的次数 
YGCT– 从应用程序启动到采样时 Young GC 所用的时间( 单位秒 )
FGC — 从应用程序启动到采样时发生 Full GC 的次数 
FGCT– 从应用程序启动到采样时 Full GC 所用的时间( 单位秒 )
GCT — 从应用程序启动到采样时用于垃圾回收的总时间( 单位秒)</p>
<p>实例使用1 ：</p>
<p><strong>[root@localhost bin]/# jstat -gcutil 25444</strong></p>
<p>  S0      S1     E      O      P     YGC     YGCT    FGC    FGCT     GCT</p>
<p>  11.63   0.00    56.46  66.92  98.49 162    0.248    6       0.331    0.579</p>
<p>实例使用 2 ：</p>
<p><strong>[root@localhost bin]/# jstat -gcutil 25444 1000 5</strong></p>
<p>  S0     S1     E      O      P     YGC     YGCT    FGC    FGCT     GCT</p>
<p>  73.54   0.00  99.04  67.52  98.49    166    0.252     6    0.331    0.583</p>
<p>  73.54   0.00  99.04  67.52  98.49    166    0.252     6    0.331    0.583</p>
<p>  73.54   0.00  99.04  67.52  98.49    166    0.252     6    0.331    0.583</p>
<p>  73.54   0.00  99.04  67.52  98.49    166    0.252     6    0.331    0.583</p>
<p>  73.54   0.00  99.04  67.52  98.49    166    0.252     6    0.331    0.583</p>
<p>我们可以看到，5 次young gc 之后，垃圾内存被从Eden space 区(E) 放入了Old space 区(O) ，并引起了百分比的变化，导致Survivor space 使用的百分比从73.54%(S0) 降到0%(S1) 。有效释放了内存空间。绿框中，我们可以看到，一次full gc 之后，Old space 区(O) 的内存被回收，从99.05% 降到67.52% 。</p>
<p>图中同时打印了young gc 和full gc 的总次数、总耗时。而，每次young gc 消耗的时间，可以用相间隔的两行YGCT 相减得到。每次full gc 消耗的时间，可以用相隔的两行FGCT 相减得到。例如红框中表示的第一行、第二行之间发生了1次young gc ，消耗的时间为0.252-0.252 ＝0.0 秒。</p>
<p>常驻内存区(P) 的使用率，始终停留在98.49% 左右，说明常驻内存没有突变，比较正常。</p>
<p>如果young gc 和full gc 能够正常发生，而且都能有效回收内存，常驻内存区变化不明显，则说明java 内存释放情况正常，垃圾回收及时，java 内存泄露的几率就会大大降低。但也不能说明一定没有内存泄露。</p>
<p>GCT 是YGCT 和FGCT 的时间总和。</p>
<p>以上，介绍了Jstat 按百分比查看gc 情况的功能。其实，它还有功能，例如加载类信息统计功能、内存池信息统计功能等，那些是以绝对值的形式打印出来的，比较少用，在此就不做介绍。</p>
<p><strong>[root@localhost bin]/# ps -ef | grep java</strong></p>
<p>root     25917     1  2 23:23 pts /2    00:00:05 /usr/local/jdk1.5/bin/java -Djava.endorsed.dirs=/usr/local/jakarta-tomcat-5.0.30/common/endorsed -classpath /usr/local/jdk1.5/lib/tools.jar:/usr/local/jakarta-tomcat-5.0.30/bin/bootstrap.jar:/usr/local/jakarta-tomcat-5.0.30/bin/commons-logging-api.jar -Dcatalina.base=/usr/local/jakarta-tomcat-5.0.30 -Dcatalina.home=/usr/local/jakarta-tomcat-5.0.30 -Djava.io.tmpdir=/usr/local/jakarta-tomcat-5.0.30/temp org.apache.catalina.startup.Bootstrap start</p>
<p>jstat -class pid: 显示加载 class 的数量，及所占空间等信息。</p>
<p>实例使用3 ：</p>
<p><strong>[root@localhost bin]/# jstat -class 25917</strong></p>
<p>Loaded  Bytes  Unloaded  Bytes     Time</p>
<p>2629     2916.8       29   24.6     0.90</p>
<p>jstat -compiler pid: 显示 VM 实时编译的数量等信息。</p>
<p>实例使用 4 ：</p>
<p><strong>[root@localhost bin]/# jstat -compiler 25917</strong></p>
<p>Compiled Failed Invalid   Time   FailedType FailedMethod</p>
<pre><code> 768      0       0   0.70             0
</code></pre><p>jstat –gccapacity : 可以显示， VM 内存中三代（ young,old,perm ）对象的使用和占用大小，如： PGCMN 显示的是最小 perm 的内存使用量， PGCMX 显示的是 perm 的内存最大使用量， PGC 是当前新生成的 perm 内存占用量， PC 是但前 perm 内存占用量。其他的可以根据这个类推， OC 是 old 内纯的占用量。</p>
<p><strong>[root@localhost bin]/# jstat -gccapacity 25917</strong></p>
<p>NGCMN       640.0</p>
<p>NGCMX       4992.0</p>
<p>NGC         832.0</p>
<p>S0C         64.0</p>
<p>S1C         64.0</p>
<p>EC          704.0</p>
<p>OGCMN       1408.0</p>
<p>OGCMX       60544.0</p>
<p>OGC         9504.0</p>
<p>OC          9504.0                  OC 是 old 内纯的占用量</p>
<p>PGCMN       8192.0                  PGCMN 显示的是最小 perm 的内存使用量</p>
<p>PGCMX       65536.0                 PGCMX 显示的是 perm 的内存最大使用量</p>
<p>PGC         12800.0                 PGC 是当前新生成的 perm 内存占用量</p>
<p>PC          12800.0                 PC 是但前 perm 内存占用量</p>
<p>YGC         164</p>
<p>FGC         6</p>
<p>jstat -gcnew pid: new 对象的信息</p>
<p><strong>[root@localhost bin]/# jstat -gcnew 25917</strong></p>
<p>  S0C    S1C    S0U    S1U   TT MTT  DSS      EC       EU     YGC     YGCT</p>
<p>  64.0   64.0   47.4   0.0    2  15   32.0    704.0    145.7    168    0.254</p>
<p>jstat -gcnewcapacity pid: new 对象的信息及其占用量</p>
<p><strong>[root@localhost bin]/# jstat -gcnewcapacity 25917</strong></p>
<p>  NGCMN   NGCMX    NGC    S0CMX  S0C    S1CMX   S1C   ECMX    EC      YGC   FGC</p>
<p>640.0   4992.0   832.0 64.0     448.0 448.0   64.0   4096.0   704.0  168     6</p>
<p>jstat -gcold pid: old 对象的信息。</p>
<p><strong>[root@localhost bin]/# jstat -gcold 25917</strong></p>
<p>   PC       PU        OC          OU       YGC    FGC    FGCT     GCT</p>
<p>  12800.0  12617.6     9504.0      6561.3   169     6    0.335    0.591</p>
<p>jstat -gcoldcapacity pid:old 对象的信息及其占用量。</p>
<p><strong>[root@localhost bin]/# jstat -gcoldcapacity 25917</strong></p>
<p>OGCMN      OGCMX        OGC         OC       YGC   FGC    FGCT     GCT</p>
<p>1408.0     60544.0      9504.0      9504.0   169     6    0.335    0.591</p>
<p>jstat -gcpermcapacity pid: perm 对象的信息及其占用量。</p>
<p>[root@localhost bin]/# jstat -gcpermcapacity 25917</p>
<p>PGCMN      PGCMX       PGC         PC      YGC   FGC    FGCT     GCT</p>
<p>8192.0    65536.0    12800.0    12800.0   169     6    0.335    0.591</p>
<p>jstat -printcompilation pid: 当前 VM 执行的信息。</p>
<p><strong>[root@localhost bin]/# jstat -printcompilation -h3  25917 1000 5</strong></p>
<p>每 1000 毫秒打印一次，一共打印 5 次，还可以加上 -h3 每三行显示一下标题。</p>
<p>Compiled  Size  Type Method</p>
<pre><code> 788     73    1 java/io/File &lt;init&gt;

 788     73    1 java/io/File &lt;init&gt;

 788     73    1 java/io/File &lt;init&gt;
</code></pre><p>Compiled  Size  Type Method</p>
<pre><code> 788     73    1 java/io/File &lt;init&gt;

 788     73    1 java/io/File &lt;init&gt;
</code></pre><h1 id="-u-jmap-"><a href=""></a>u               jmap 的用法</h1>
<p>打印出某个 java 进程（使用 pid ）内存内的，所有 ‘ 对象 ’ 的情况（如：产生那些对象，及其数量）。</p>
<p>可以输出所有内存中对象的工具，甚至可以将 VM 中的 heap ，以二进制输出成文本。使用方法 jmap -histo pid 。如果连用 SHELL jmap -histo pid&gt;a.log 可以将其保存到文本中去，在一段时间后，使用文本对比工具，可以对比出 GC 回收了哪些对象。 jmap -dump:format=b,file=String 3024 可以将 3024 进程的内存 heap 输出出来到 String 文件里。</p>
<p><strong>[root@localhost bin]/# jmap -histo  25917</strong></p>
<p>Attaching to process ID 26221, please wait...</p>
<p>Debugger attached successfully.</p>
<p>Client compiler detected.</p>
<p>JVM version is 1.5.0_08-b03</p>
<p>Iterating over heap. This may take a while...</p>
<p>Unknown oop at 0xaa6e42d0</p>
<p>Oop&#39;s klass is null</p>
<p>Object Histogram:</p>
<p>Size    Count   Class description</p>
<hr>
<p>3722768 30467    /* ConstMethodKlass</p>
<p>1976480 25334   char[]</p>
<p>1907880 46994   /* SymbolKlass</p>
<p>1762088 2947    byte[]</p>
<p>1709536 30467   /* MethodKlass</p>
<p>1487816 2600    /* ConstantPoolKlass</p>
<p>1009576 2600    /* InstanceKlassKlass</p>
<p>904880  2199    /* ConstantPoolCacheKlass</p>
<p>741432  30893   java.lang.String</p>
<p>653576  4785    int[]</p>
<p>351760  4397    java.lang.reflect.Method</p>
<p>277824  2894    java.lang.Class</p>
<p>248704  3401    short[]</p>
<p>200888  4411    java.lang.Object[]</p>
<p>193656  4045    java.lang.Object[]</p>
<p>179744  5617    java.util.TreeMap$Entry</p>
<p>175688  1800    java.util.HashMap$Entry[]</p>
<p>165288  6887    java.util.HashMap$Entry</p>
<p>104736  3273    java.lang.ref.SoftReference</p>
<p>104136  4339    java.lang.ref.WeakReference</p>
<p>96096   3521    java.lang.String[]</p>
<p>86160   3590    java.util.Hashtable$Entry</p>
<p>85584   3566    java.util.ArrayList</p>
<p>83472   1206    java.util.Hashtable$Entry[]</p>
<p>82944   1728    java.beans.MethodDescriptor</p>
<p>80560   265     /* ObjArrayKlassKlass</p>
<p>69120   1728    java.util.HashMap</p>
<p>52464   3055    java.lang.Class[]</p>
<p>43040   1076    java.util.Hashtable</p>
<p>42496   664     org.apache.commons.modeler.AttributeInfo</p>
<p>37880   947     java.util.TreeMap</p>
<p>33896   557     javax.management.modelmbean.ModelMBeanAttributeInfo[]</p>
<p>33152   518     java.beans.PropertyDescriptor</p>
<p>616     11      org.springframework.aop.framework.ProxyFactory</p>
<p>608     19      java.util.PropertyPermission</p>
<p>608     38      org.springframework.beans.MutablePropertyValues</p>
<p>608     38      org.springframework.beans.factory.support.MethodOverrides</p>
<p>608     2       /* ArrayKlassKlass</p>
<p>608     38      org.springframework.beans.factory.config.ConstructorArgumentValues</p>
<p>608     4       org.apache.xerces.impl.XMLDTDScannerImpl</p>
<p>576     24      java.util.Stack</p>
<p>576     36      java.util.regex.Pattern$Category</p>
<p>576     24      org.apache.naming.NamingEntry</p>
<p>560     7       java.net.URL[]</p>
<p>552     23      sun.management.MappedMXBeanType$BasicMXBeanType</p>
<p>552     1       java.util.Locale[]</p>
<p>552     22      java.io.ObjectStreamField[]</p>
<p>544     17      java.util.Collections$SynchronizedMap</p>
<p>176     11      java.util.regex.Pattern$Ctype</p>
<p>8        1       sun.reflect.GeneratedMethodAccessor49</p>
<p>8       1       sun.reflect.GeneratedMethodAccessor6</p>
<p>8       1       sun.reflect.GeneratedConstructorAccessor10</p>
<p>Heap traversal took 12.003 seconds.</p>
<h1 id="-u-jinfo-"><a href=""></a>u               jinfo 的用法</h1>
<p>可以输出并修改运行时的 java 进程的 opts 。用处比较简单，就是能输出并修改运行时的 java 进程的运行参数。用法是jinfo -opt  pid 如：查看 2788 的 MaxPerm 大小可以用   jinfo -flag MaxPermSize 2788 。</p>
<h1 id="-u-jconsole-"><a href=""></a>u               jconsole 的用法</h1>
<p>jconsole: 一个 java GUI 监视工具，可以以图表化的形式显示各种数据。并可通过远程连接监视远程的服务器 VM 。</p>
<p>用 java 写的 GUI 程序，用来监控 VM ，并可监控远程的 VM ，非常易用，而且功能非常强。命令行里打 jconsole ，选则进程就可以了</p>
<p>不过我没有运行起来，老是报下面的错。会的朋友，帮忙看看。</p>
<p><strong>  [root@localhost bin]/# jconsole</strong></p>
<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.awt.HeadlessException:</p>
<p>No X11 DISPLAY variable was set, but this program performed an operation which requires it.        at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)</p>
<pre><code>    at java.awt.Window.&lt;init&gt;(Window.java:317)

    at java.awt.Frame.&lt;init&gt;(Frame.java:419)

    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:194)

    at sun.tools.jconsole.JConsole.&lt;init&gt;(JConsole.java:65)

    at sun.tools.jconsole.JConsole$4.run(JConsole.java:666)

    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)

    at java.awt.EventQueue.dispatchEvent(EventQueue.java:461)

    at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)

    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)

    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:157)

    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:149)

    at java.awt.EventDispatchThread.run(EventDispatchThread.java:110)
</code></pre><h1 id="-u-jdb-"><a href=""></a>u               jdb 的用法</h1>
<p>用来对 core 文件和正在运行的 Java 进程进行实时地调试，里面包含了丰富的命令帮助您进行调试，它的功能和 Sun studio 里面所带的 dbx 非常相似，但 jdb 是专门用来针对 Java 应用程序的。</p>
<h1 id="-u-jmap-"><a href=""></a>u               jmap 的用法</h1>
<p>打印出某个 java 进程（使用 pid ）内存内的，所有 ‘ 对象 ’ 的情况（如：产生那些对象，及其数量）。</p>
<p>可以输出所有内存中对象的工具，甚至可以将 VM 中的 heap ，以二进制输出成文本。使用方法 jmap -histo pid 。如果连用 SHELL jmap -histo pid&gt;a.log 可以将其保存到文本中去，在一段时间后，使用文本对比工具，可以对比出 GC 回收了哪些对象。 jmap -dump:format=b,file=String 3024 可以将 3024 进程的内存 heap 输出出来到 String 文件里。</p>
<p><strong>[root@localhost bin]/# jmap -histo  25917</strong></p>
<p>Attaching to process ID 26221, please wait...</p>
<p>Debugger attached successfully.</p>
<p>Client compiler detected.</p>
<p>JVM version is 1.5.0_08-b03</p>
<p>Iterating over heap. This may take a while...</p>
<p>Unknown oop at 0xaa6e42d0</p>
<p>Oop&#39;s klass is null</p>
<p>Object Histogram:</p>
<p>Size    Count   Class description</p>
<hr>
<p>3722768 30467    /* ConstMethodKlass</p>
<p>1976480 25334   char[]</p>
<p>1907880 46994   /* SymbolKlass</p>
<p>1762088 2947    byte[]</p>
<p>1709536 30467   /* MethodKlass</p>
<p>1487816 2600    /* ConstantPoolKlass</p>
<p>1009576 2600    /* InstanceKlassKlass</p>
<p>904880  2199    /* ConstantPoolCacheKlass</p>
<p>741432  30893   java.lang.String</p>
<p>653576  4785    int[]</p>
<p>351760  4397    java.lang.reflect.Method</p>
<p>277824  2894    java.lang.Class</p>
<p>248704  3401    short[]</p>
<p>200888  4411    java.lang.Object[]</p>
<p>193656  4045    java.lang.Object[]</p>
<p>179744  5617    java.util.TreeMap$Entry</p>
<p>175688  1800    java.util.HashMap$Entry[]</p>
<p>165288  6887    java.util.HashMap$Entry</p>
<p>104736  3273    java.lang.ref.SoftReference</p>
<p>104136  4339    java.lang.ref.WeakReference</p>
<p>96096   3521    java.lang.String[]</p>
<p>86160   3590    java.util.Hashtable$Entry</p>
<p>85584   3566    java.util.ArrayList</p>
<p>83472   1206    java.util.Hashtable$Entry[]</p>
<p>82944   1728    java.beans.MethodDescriptor</p>
<p>80560   265     /* ObjArrayKlassKlass</p>
<p>69120   1728    java.util.HashMap</p>
<p>52464   3055    java.lang.Class[]</p>
<p>43040   1076    java.util.Hashtable</p>
<p>42496   664     org.apache.commons.modeler.AttributeInfo</p>
<p>37880   947     java.util.TreeMap</p>
<p>33896   557     javax.management.modelmbean.ModelMBeanAttributeInfo[]</p>
<p>33152   518     java.beans.PropertyDescriptor</p>
<p>616     11      org.springframework.aop.framework.ProxyFactory</p>
<p>608     19      java.util.PropertyPermission</p>
<p>608     38      org.springframework.beans.MutablePropertyValues</p>
<p>608     38      org.springframework.beans.factory.support.MethodOverrides</p>
<p>608     2       /* ArrayKlassKlass</p>
<p>608     38      org.springframework.beans.factory.config.ConstructorArgumentValues</p>
<p>608     4       org.apache.xerces.impl.XMLDTDScannerImpl</p>
<p>576     24      java.util.Stack</p>
<p>576     36      java.util.regex.Pattern$Category</p>
<p>576     24      org.apache.naming.NamingEntry</p>
<p>560     7       java.net.URL[]</p>
<p>552     23      sun.management.MappedMXBeanType$BasicMXBeanType</p>
<p>552     1       java.util.Locale[]</p>
<p>552     22      java.io.ObjectStreamField[]</p>
<p>544     17      java.util.Collections$SynchronizedMap</p>
<p>176     11      java.util.regex.Pattern$Ctype</p>
<p>8        1       sun.reflect.GeneratedMethodAccessor49</p>
<p>8       1       sun.reflect.GeneratedMethodAccessor6</p>
<p>8       1       sun.reflect.GeneratedConstructorAccessor10</p>
<p>Heap traversal took 12.003 seconds.</p>
<h1 id="-u-jinfo-"><a href=""></a>u               jinfo 的用法</h1>
<p>可以输出并修改运行时的 java 进程的 opts 。用处比较简单，就是能输出并修改运行时的 java 进程的运行参数。用法是jinfo -opt  pid 如：查看 2788 的 MaxPerm 大小可以用   jinfo -flag MaxPermSize 2788 。</p>
<h1 id="-u-jconsole-"><a href=""></a>u               jconsole 的用法</h1>
<p>jconsole: 一个 java GUI 监视工具，可以以图表化的形式显示各种数据。并可通过远程连接监视远程的服务器 VM 。</p>
<p>用 java 写的 GUI 程序，用来监控 VM ，并可监控远程的 VM ，非常易用，而且功能非常强。命令行里打 jconsole ，选则进程就可以了</p>
<p>不过我没有运行起来，老是报下面的错。会的朋友，帮忙看看。</p>
<p><strong>  [root@localhost bin]/# jconsole</strong></p>
<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.awt.HeadlessException:</p>
<p>No X11 DISPLAY variable was set, but this program performed an operation which requires it.        at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:159)</p>
<pre><code>    at java.awt.Window.&lt;init&gt;(Window.java:317)

    at java.awt.Frame.&lt;init&gt;(Frame.java:419)

    at javax.swing.JFrame.&lt;init&gt;(JFrame.java:194)

    at sun.tools.jconsole.JConsole.&lt;init&gt;(JConsole.java:65)

    at sun.tools.jconsole.JConsole$4.run(JConsole.java:666)

    at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:209)

    at java.awt.EventQueue.dispatchEvent(EventQueue.java:461)

    at java.awt.EventDispatchThread.pumpOneEventForHierarchy(EventDispatchThread.java:242)

    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:163)

    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:157)

    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:149)

    at java.awt.EventDispatchThread.run(EventDispatchThread.java:110)
</code></pre><h1 id="-u-jdb-"><a href=""></a>u               jdb 的用法</h1>
<p>用来对 core 文件和正在运行的 Java 进程进行实时地调试，里面包含了丰富的命令帮助您进行调试，它的功能和 Sun studio 里面所带的 dbx 非常相似，但 jdb 是专门用来针对 Java 应用程序的。</p>
<p>来源： <a href="[http://blog.csdn.net/jacky0922/article/details/6201878](http://blog.csdn.net/jacky0922/article/details/6201878)">[http://blog.csdn.net/jacky0922/article/details/6201878](http://blog.csdn.net/jacky0922/article/details/6201878)</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/内存分析/">内存分析</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/内存分析/" class="label label-success">内存分析</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:41"datetime="2014-03-07 09:54:41"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-内存分析--Java内存泄露监控工具-JVM监控工具介绍jstack-jconsole-jinfo-/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-内存分析--Java内存泄露监控工具-JVM监控工具介绍jstack-jconsole-jinfo-" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--URL特殊字符详解-没有所谓的失败！除非你不再尝试！-PHPChina开源社区门户-P/">URL特殊字符详解 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:41.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--URL特殊字符详解-没有所谓的失败！除非你不再尝试！-PHPChina开源社区门户-P/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="url-phpchina-powered-by-x-space">URL特殊字符详解 - 没有所谓的失败！除非你不再尝试！ - PHPChina 开源社区门户 - Powered by X-Space</h1>
<p><strong>没有所谓的失败！除非你不再尝试！</strong></p>
<p><a href="&quot;复制地址&quot;">copy</a> <a href="http://smarty.blog.phpchina.com/" title="加入收藏" target="_blank">Bookmark</a> <a href="http://smarty.blog.phpchina.com" target="_blank">http://smarty.blog.phpchina.com</a></p>
<ul>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-type-friend" target="_blank">好友</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-type-bbs" target="_blank">论坛</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-viewpro" target="_blank">留言</a></li>
</ul>
<p><a href="http://www.phpchina.com/batch.manage.php?uid=26354" target="_blank">空间管理</a> 您的位置: <a href="http://www.phpchina.com/" target="_blank">PHPChina 开源社区门户</a> » <a href="http://www.phpchina.com/?uid-26354" target="_blank">没有所谓的失败！除非你不再尝试！</a> » <a href="http://www.phpchina.com/?uid-26354-action-spacelist-type-blog" target="_blank">日志</a></p>
<p>每天都在进步一点点，在这里我将记下我的点点滴滴，希望和大家一起进步，一起学习，一起共同成长PHPer之路！ PHPer成长群(49052575)欢迎各界精英加入，互相学习，互补不足。空间不再更新：如有需要请进 <a href="http://www.phpcake.cn" target="_blank">http://www.phpcake.cn</a></p>
<h1 id="url-">URL特殊字符详解</h1>
<p><a href="http://www.phpchina.com/batch.common.php?action=viewspace&amp;op=up&amp;itemid=32317&amp;uid=26354" target="_blank">上一篇</a> / <a href="http://www.phpchina.com/batch.common.php?action=viewspace&amp;op=next&amp;itemid=32317&amp;uid=26354" target="_blank">下一篇</a>  2008-04-11 19:48:57 / 个人分类：<a href="http://www.phpchina.com/?uid-26354-action-spacelist-type-blog-itemtypeid-3538" target="_blank">url特殊字符</a>
<a href="http://www.phpchina.com/html/54/26354-32317.html#xspace-tracks" target="_blank">查看( 386 )</a> / <a href="http://www.phpchina.com/html/54/26354-32317.html#xspace-itemreply" target="_blank">评论( 2 )</a> / <a href="http://www.phpchina.com/html/54/26354-32317.html#xspace-itemform" target="_blank">评分( 1 / 0 )</a></p>
<p>有些符号在URL中是不能直接传递的，如果要在URL中传递这些特殊符号，那么就要使用他们的编码了。编码的格式为：%加字符的ASCII码，即一个百分号%，后面跟对应字符的ASCII（16进制）码值。例如 空格的编码值是”%20″。
下表中列出了一些URL特殊符号及编码
十六进制值 1. + URL 中+号表示空格 %2B 2. 空格 URL中的空格可以用+号或者编码 %20 3. / 分隔目录和子目录 %2F 4. ? 分隔实际的 URL 和参数 %3F 5. % 指定特殊字符 %25 6. /# 表示书签 %23 7. &amp; URL 中指定的参数间的分隔符 %26 8. = URL 中指定参数的值 %3D</p>
<p>例：要传递字符串“this%is/#te=st&amp;o k?+/”作为参数t传给te.asp，则URL可以是:
te.asp?t=this%25is%23te%3Dst%26o%20k%3F%2B%2F 或者
te.asp?t=this%25is%23te%3Dst%26o+k%3F%2B%2F （空格可以用%20或+代替）java中URL 的编码和解码函数
java.net.URLEncoder.encode(String s)和java.net.URLDecoder.decode(String s);
注：encode(String s)<a href=""><strong>方法</strong></a>过期了，现在一般用encode(String s, “GBK”);</p>
<p>在javascrīpt 中URL 的编码和解码函数
<a href=""><strong>escape</strong></a>(String s)和<a href=""><strong>unescape</strong></a>(String s) ;</p>
<h3 id="-">相关阅读:</h3>
<ul>
<li><a href="http://www.phpchina.com/?uid-26354-action-viewspace-itemid-20379" target="_blank">encodeURIComponent应用</a> (<a href="http://www.phpchina.com/?uid-26354" target="_blank">design_dd</a>, 2007-12-06)</li>
<li><a href="http://www.phpchina.com/?uid-50821-action-viewspace-itemid-30743" target="_blank">FLEAPHP 的一些基础学习连接</a> (<a href="http://www.phpchina.com/?uid-50821" target="_blank">brucehawking</a>, 2008-3-30)</li>
</ul>
<p><a href="">导入论坛</a> <a href="">收藏</a> <a href="">分享给好友</a> <a href="http://www.phpchina.com/batch.manage.php?itemid=32317" target="_blank">管理</a> <a href="">举报</a></p>
<p>TAG: <a href="http://www.phpchina.com/?action-tag-tagname-url" target="_blank">url</a> <a href="http://www.phpchina.com/?action-tag-tagname-escape" target="_blank">escape</a> <a href="http://www.phpchina.com/?action-tag-tagname-unescape" target="_blank">unescape</a> <a href="http://www.phpchina.com/?action-tag-tagname-url%CC%D8%CA%E2%D7%D6%B7%FB" target="_blank">url特殊字符</a>
<a href="http://www.phpchina.com/?uid-26354" target="_blank"><img src="" alt="没有所谓的失败！除非你不再尝试！"></a> <a href="">引用</a> <a href="">删除</a> <a href="http://www.phpchina.com/?uid-26354" target="_blank">design_dd</a>   /   2008-04-19 16:11:49 谢谢支持^_^ <img src="" alt=""> <a href="">引用</a> <a href="">删除</a> 废墟   /   2008-04-17 21:36:42 评 1 分
不错。。怎么没人顶啊  。。这些人 就知道看 也不顶。。</p>
<p><a href="">查看全部评论</a></p>
<p><a href="">-5</a> <a href="">-3</a> <a href="">-1</a> <a href="">-</a> <a href="">+1</a> <a href="">+3</a> <a href="">+5</a></p>
<p>评分：0</p>
<p>我来说两句</p>
<p>显示全部</p>
<p><img src="" alt=":loveliness:"> <img src="" alt=":handshake"> <img src="" alt=":victory:"> <img src="" alt=":funk:"> <img src="" alt=":time:"> <img src="" alt=":kiss:"> <img src="" alt=":call:"> <img src="" alt=":hug:"> <img src="" alt=":lol"> <img src="" alt=":&#39;("> <img src="" alt=":Q"> <img src="" alt=":L"> <img src="" alt=";P"> <img src="" alt=":$"> <img src="" alt=":P"> <img src="" alt=":o"> <img src="" alt=":@"> <img src="" alt=":D"> <img src="" alt=":("> <img src="" alt=":)"></p>
<p>内容</p>
<p>昵称</p>
<p>加入事件</p>
<p>提交评论</p>
<p><img src="" alt="design_dd"></p>
<p><a href="http://www.phpchina.com/?uid-26354-action-viewpro-showpro-1" target="_blank">design_dd</a></p>
<h3 id="-">用户菜单</h3>
<ul>
<li><a href="http://www.phpchina.com/?uid-26354-action-viewpro" target="_blank">给我留言</a></li>
<li><a href="">加入好友</a></li>
<li><a href="http://bbs.phpchina.com/pm.php?action=send&amp;uid=26354" target="_blank">发短消息</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-viewpro-showpro-1" target="_blank">我的介绍</a></li>
<li><a href="http://bbs.phpchina.com/viewpro.php?uid=26354" target="_blank">论坛资料</a></li>
<li><a href="http://www.phpchina.com/batch.manage.php?uid=26354" target="_blank">空间管理</a><h3 id="-">标题搜索</h3>
</li>
</ul>
<h3 id="-">我的存档</h3>
<ul>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1206979200-endtime-1209571200" target="_blank">2008年04月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1204300800-endtime-1206979200" target="_blank">2008年03月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1201795200-endtime-1204300800" target="_blank">2008年02月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1199116800-endtime-1201795200" target="_blank">2008年01月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1196438400-endtime-1199116800" target="_blank">2007年12月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1193846400-endtime-1196438400" target="_blank">2007年11月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1191168000-endtime-1193846400" target="_blank">2007年10月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1188576000-endtime-1191168000" target="_blank">2007年09月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1185897600-endtime-1188576000" target="_blank">2007年08月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1183219200-endtime-1185897600" target="_blank">2007年07月</a></li>
<li><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1180627200-endtime-1183219200" target="_blank">2007年06月</a></li>
<li><p><a href="http://www.phpchina.com/?uid-26354-action-spacelist-starttime-1177948800-endtime-1180627200" target="_blank">2007年05月</a></p>
<h3 id="-">数据统计</h3>
</li>
<li><p>访问量: 30236</p>
</li>
<li>日志数: 69</li>
<li>建立时间: 2007-05-14</li>
<li>更新时间: 2008-04-11</li>
</ul>
<h3 id="rss-">RSS订阅</h3>
<ul>
<li><a href="http://www.phpchina.com/?uid-26354-action-rss-type-blog" target="_blank"><img src="" alt="RSS订阅"></a></li>
</ul>
<p><a href="http://www.phpchina.com/batch.login.php?action=logout" target="_blank">清空Cookie</a> - <a href="mailto:PHPChina">联系我们</a> - <a href="http://www.phpchina.com/" target="_blank">PHPChina 开源社区门户</a> - <a href="http://bbs.phpchina.com/" target="_blank">交流论坛</a> - <a href="http://www.phpchina.com/?action/spaces" target="_blank">空间列表</a> - <a href="http://www.phpchina.com/archiver/" target="_blank">站点存档</a> - <a href="http://www.phpchina.com/?action/register" target="_blank">升级自己的空间</a></p>
<p>Powered by <a href="http://www.supesite.com/" target="_blank"><strong>X-Space</strong></a> <em>4.0 UC</em> © 2001-2008 <a href="http://www.comsenz.com/" target="_blank">Comsenz Inc.</a>
<a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备07504665号</a>
<a href="">Open Toolbar</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_字符集/">Java_字符集</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_字符集/" class="label label-success">Java_字符集</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:41"datetime="2014-03-07 09:54:41"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_字符集--URL特殊字符详解-没有所谓的失败！除非你不再尝试！-PHPChina开源社区门户-P/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_字符集--URL特殊字符详解-没有所谓的失败！除非你不再尝试！-PHPChina开源社区门户-P" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/57/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/55/">55</a></li><li><a class="page-number" href="/page/56/">56</a></li><li><a class="page-number" href="/page/57/">57</a></li><li class="active"><li><span class="page-number current">58</span></li><li><a class="page-number" href="/page/59/">59</a></li><li><a class="page-number" href="/page/60/">60</a></li><li><a class="page-number" href="/page/61/">61</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/59/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-23 21:54:38</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
