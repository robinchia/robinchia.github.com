
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 99 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-Httpclient--HttpClient接收数据的问题/">HttpClient接收数据的问题</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-Httpclient--HttpClient接收数据的问题/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h2 id="httpclient-">HttpClient接收数据的问题</h2>
<h3 id="-http-blog-csdn-net-devoteinjava-"><a href="http://blog.csdn.net/devoteinjava" target="_blank">没有的专栏</a></h3>
<p>背景：
竞价大厅和支持系统进行项目的部署和竞价数据回调时，涉及到了传输XML文件。
发送端采用的是HttpClient技术，将XML格式的String作为Http的Body发送。</p>
<p>原先的做法：
接收端通过Jsp的request对象的getInputStream()方法获取输入流，然后用read()方法,将输入流按照byte读取，存入byte[]，然后还原成对应编码的String，并进行解析。</p>
<p>大厅升级时，遇到的问题：
由于涉及多产品，发送端的数据量大大增加。如果发现String长度如果超过4K多，就会报告XML解析报错。
逐一调试分析，发现错误的核心是inputstream.read()方法,该方法只接收到了4096个byte。
使用inputstream.read(byte[], int off, int len )方法指定长度也不行，还是只读4096个字节。</p>
<p>解决：
增加一个缓冲，采用BufferedReader读取inputstream，然后针对BufferedReader逐行读取，则接收完全正常。</p>
<p>原因分析:
没发现inputStream读取有长度限制；写了个读file的Demo测试inputStream的read方法，再次确定不存在长度的问题。
对inputStream作2次read（），发现第二次是从第4097个字节开始往下读，看来问题和缓冲相关。
翻翻HttpClient的源代码，基本确定原因是：HttpClient的传输协议是对Socket进行了封装，而默认Socket的缓冲大小4096。Socket缓冲满了就flush,发送给客户端，那么如果接收端没有用缓冲接收，一次最大只能解收到4096个字节。</p>
<p>发表于 @ 2005年10月31日　15:28:00 </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Httpclient/">Httpclient</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Httpclient/" class="label label-primary">Httpclient</a></span> | <span class="time">recent updated:<time title="2014-04-07 17:00:15"datetime="2014-04-07 17:00:15"> abr. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-Httpclient--HttpClient接收数据的问题/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-Httpclient--HttpClient接收数据的问题" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-Httpclient--XMLHttpRequest的POST中文表单问题解决方案/">XMLHttpRequest的POST中文表单问题解决方案</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-Httpclient--XMLHttpRequest的POST中文表单问题解决方案/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="xmlhttprequest-post-">XMLHttpRequest的POST中文表单问题解决方案</h1>
<h3 id="-esffor-http-esffor-javaeye-com-"><a href="http://esffor.javaeye.com/" target="_blank">esffor</a></h3>
<p>2007-03-15</p>
<p>XMLHttpRequest的POST中文表单问题解决方案</p>
<p>由于XMLHttpRequest POST的内容是用UTF-8编码，所以在服务端要先把request的编码改为UTF-8.
而且客户端post的表单是x-www-form-urlencoded的，所以也要对post的内容进行编码encodeURIComponent()函数
escape() 只是为 ASCII字符 做转换工作，转换成的 %unnnn 这样的码，如果要用更多的字符如 UTF-8字符库
就一定要用 encodeURIComponent() 或 encodeURI() 转换才可以成 %nn%nn
还有
escape() 不编码这些字符:  @/<em>/+
encodeURI() 不编码这些字符:  [!@/#$&amp;/</em>()=:/;?+&#39;](mailto:!@)
encodeURIComponent() 不编码这些字符:  !/*()&#39;</p>
<p>还是推荐使用encodeURIComponent()函数来编码比较好。</p>
<p>代码如下：</p>
<p>在客户端的js脚本</p>
<script>
function myXMLHttpRequest(){
 var xmlHttp = false;
 try {
  xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
 } catch (e) {
  try {
   xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
  } catch (e2) {
   xmlHttp = false;
  }
 }
 if (!xmlHttp && typeof XMLHttpRequest != 'undefined') {
  xmlHttp = new XMLHttpRequest();
 }
 return xmlHttp;
}

  content = "user="+**encodeURIComponent("大发")**;
  xmlHttp.Open("POST", "doc.jsp", false);
  xmlHttp.setRequestHeader("Content-Length",content.length);
  xmlHttp.setRequestHeader("CONTENT-TYPE","application/x-www-form-urlencoded");
  xmlHttp.Send(content);
</script>

<p>JSP</p>
<p>&lt;<a href="mailto:%@page">%@page</a> language=&quot;java&quot; contentType=&quot;text/html;charset=gbk&quot;%&gt;
&lt;%
 <strong>request.setCharacterEncoding(&quot;UTF-8&quot;);</strong>
 System.out.println(request.getParameter(&quot;user&quot;));
%&gt;</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Httpclient/">Httpclient</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Httpclient/" class="label label-primary">Httpclient</a></span> | <span class="time">recent updated:<time title="2014-04-07 16:57:26"datetime="2014-04-07 16:57:26"> abr. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-Httpclient--XMLHttpRequest的POST中文表单问题解决方案/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-Httpclient--XMLHttpRequest的POST中文表单问题解决方案" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-Httpclient--HttpClient-HttpClientLoggingPractices/">HttpClient</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-Httpclient--HttpClient-HttpClientLoggingPractices/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="httpclient-httpclient-logging-practices">HttpClient - HttpClient Logging Practices</h1>
<p>Last published: 08 February 2008 | Doc for 3.1</p>
<h3 id="overview">Overview</h3>
<ul>
<li><a href="http://hc.apache.org/httpclient-3.x/features.html" target="_blank">Features</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/news.html" target="_blank">News</a></li>
<li><a href="http://hc.apache.org/status.html" target="_blank">Status</a></li>
<li><a href="http://hc.apache.org/downloads.cgi" target="_blank">Download</a></li>
<li><a href="http://wiki.apache.org/jakarta-httpclient/" title="External Link" target="_blank">Wiki</a></li>
</ul>
<h3 id="user-guide">User Guide</h3>
<ul>
<li><a href="http://hc.apache.org/httpclient-3.x/userguide.html" target="_blank">Overview</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/authentication.html" target="_blank">Authentication Guide</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/charencodings.html" target="_blank">Character Encodings</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/cookies.html" target="_blank">Cookies</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/exception-handling.html" target="_blank">Exception Handling</a></li>
<li><strong><a href="http://hc.apache.org/httpclient-3.x/logging.html" target="_blank">Logging Guide</a></strong></li>
<li><a href="http://hc.apache.org/httpclient-3.x/methods.html" target="_blank">Methods</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/performance.html" target="_blank">Optimization Guide</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/preference-api.html" target="_blank">Preference Architecture</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/redirects.html" target="_blank">Redirects Handling</a></li>
<li><a href="http://svn.apache.org/viewvc/httpcomponents/oac.hc3x/trunk/src/examples/" title="External Link" target="_blank">Sample Code</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/sslguide.html" target="_blank">SSL Guide</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/threading.html" target="_blank">Threading</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/troubleshooting.html" target="_blank">Trouble Shooting</a></li>
<li><p><a href="http://hc.apache.org/httpclient-3.x/tutorial.html" target="_blank">Tutorial</a></p>
<h3 id="asf">ASF</h3>
</li>
<li><p><a href="http://www.apache.org/foundation/" title="External Link" target="_blank">Foundation</a></p>
</li>
<li><a href="http://www.apache.org/foundation/sponsorship.html" title="External Link" target="_blank">Sponsor Apache</a></li>
<li><a href="http://www.apache.org/foundation/thanks.html" title="External Link" target="_blank">Thanks</a></li>
</ul>
<h3 id="project-documentation">Project Documentation</h3>
<ul>
<li><a href="http://hc.apache.org/httpclient-3.x/index.html" target="_blank">About</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/project-info.html" target="_blank">Project Info</a></li>
<li><a href="http://hc.apache.org/httpclient-3.x/maven-reports.html" target="_blank">Project Reports</a></li>
<li><p><a href="http://hc.apache.org/httpclient-3.x/development-process.html" target="_blank">Development Process</a></p>
<h3 id="legend">Legend</h3>
</li>
<li><p>External Link</p>
</li>
<li>Opens in a new window
<a href="http://maven.apache.org/" title="Built by Maven" target="_blank"><img src="" alt="Built by Maven"></a></li>
</ul>
<p><a href=""></a></p>
<h2 id="logging-practices">Logging Practices</h2>
<p>Being a library HttpClient is not to dictate which logging framework the user has to use. Therefore <em>HttpClient</em> utilizes the logging interface provided by the <a href="http://commons.apache.org/logging/" title="External Link" target="_blank">Commons Logging</a> package. <em>Commons Logging</em> provides a simple and generalized <a href="http://commons.apache.org/logging/commons-logging-1.0.4/docs/apidocs/" title="External Link" target="_blank">log interface</a> to various logging packages. By using <em>Commons Logging</em>, <em>HttpClient</em> can be configured for a variety of different logging behaviours. That means the user will have to make a choice which logging framework to use. By default <em>Commons Logging</em> supports the following logging frameworks:</p>
<ul>
<li><a href="http://logging.apache.org/log4j/docs/index.html" title="External Link" target="_blank">Log4J</a></li>
<li><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/logging/package-summary.html" title="External Link" target="_blank">java.util.logging</a></li>
<li><a href="http://commons.apache.org/logging/commons-logging-1.0.4/docs/apidocs/org/apache/commons/logging/impl/SimpleLog.html" title="External Link" target="_blank">SimpleLog</a> (internal to <em>Commons Logging</em>)
By implementing some simple interfaces <em>Commons Logging</em> can be extended to support basically any other custom logging framework. <em>Commons Logging</em> tries to automatically discover the logging framework to use. If it fails to select the expected one, you must configure <em>Commons Logging</em> by hand. Please refer to the <em>Commons Logging</em> documentation for more information.</li>
</ul>
<p><em>HttpClient</em> performs two different kinds of logging: the standard context logging used within each class, and wire logging.
<a href=""></a></p>
<h3 id="context-logging">Context Logging</h3>
<p>Context logging contains information about the internal operation of HttpClient as it performs HTTP requests. Each class has its own log named according to the class&#39;s fully qualified name. For example the class</p>
<p>HttpClient
has a log named</p>
<p>org.apache.commons.httpclient.HttpClient
. Since all classes follow this convention it is possible to configure context logging for all classes using the single log named</p>
<p>org.apache.commons.httpclient
.</p>
<p><a href=""></a></p>
<h3 id="wire-logging">Wire Logging</h3>
<p>The wire log is used to log all data transmitted to and from servers when executing HTTP requests. This log should only be enabled to debug problems, as it will produce an extremely large amount of log data, some of it in binary format.</p>
<p>Because the content of HTTP requests is usually less important for debugging than the HTTP headers, these two types of data have been separated into different wire logs. The content log is</p>
<p>httpclient.wire.content
and the header log is</p>
<p>httpclient.wire.header
.</p>
<p><a href=""></a></p>
<h2 id="configuration-examples">Configuration Examples</h2>
<p><em>Commons Logging</em> can delegate to a variety of loggers for processing the actual output. Below are configuration examples for <em>Commons Logging</em>, <em>Log4j</em> and <em>java.util.logging</em>.
<a href=""></a></p>
<h3 id="commons-logging-examples">Commons Logging Examples</h3>
<p><em>Commons Logging</em> comes with a basic logger called</p>
<p>SimpleLog
. This logger writes all logged messages to</p>
<p>System.err
. The following examples show how to configure <em>Commons Logging</em> via system properties to use</p>
<p>SimpleLog
.</p>
<p><strong>Note:</strong> The system properties must be set before a reference to any <em>Commons Logging</em> class is made.</p>
<p>Enable header wire + context logging - <strong>Best for Debugging</strong>
System.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.SimpleLog&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.showdatetime&quot;, &quot;true&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.log.httpclient.wire.header&quot;, &quot;debug&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&quot;, &quot;debug&quot;);</p>
<p>Enable full wire(header and content) + context logging
System.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.SimpleLog&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.showdatetime&quot;, &quot;true&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.log.httpclient.wire&quot;, &quot;debug&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&quot;, &quot;debug&quot;);</p>
<p>Enable just context logging
System.setProperty(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.SimpleLog&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.showdatetime&quot;, &quot;true&quot;);
System.setProperty(&quot;org.apache.commons.logging.simplelog.log.org.apache.commons.httpclient&quot;, &quot;debug&quot;);</p>
<p><a href=""></a></p>
<h3 id="log4j-examples">Log4j Examples</h3>
<p>The simplest way to configure <a href="http://logging.apache.org/log4j/" title="External Link" target="_blank">Log4j</a> is via a log4j.properties file. <em>Log4j</em> will automatically read and configure itself using a file named log4j.properties when it&#39;s present at the root of the application classpath. Below are some <em>Log4j</em> configuration examples.</p>
<p><strong>Note:</strong> <em>Log4j</em> is not included in the <em>HttpClient</em> distribution.</p>
<p>Enable header wire + context logging - <strong>Best for Debugging</strong>
log4j.rootLogger=INFO, stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%c] %m%n
log4j.logger.httpclient.wire.header=DEBUG
log4j.logger.org.apache.commons.httpclient=DEBUG</p>
<p>Enable full wire(header and content) + context logging
log4j.rootLogger=INFO, stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%c] %m%n
log4j.logger.httpclient.wire=DEBUG
log4j.logger.org.apache.commons.httpclient=DEBUG</p>
<p>Log wire to file + context logging
log4j.rootLogger=INFO
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%c] %m%n
log4j.appender.F=org.apache.log4j.FileAppender
log4j.appender.F.File=wire.log
log4j.appender.F.layout=org.apache.log4j.PatternLayout
log4j.appender.F.layout.ConversionPattern =%5p [%c] %m%n
log4j.logger.httpclient.wire=DEBUG, F
log4j.logger.org.apache.commons.httpclient=DEBUG, stdout</p>
<p>Enable just context logging
log4j.rootLogger=INFO, stdout
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%5p [%c] %m%n
log4j.logger.org.apache.commons.httpclient=DEBUG</p>
<p>Note that the default configuration for Log4J is very inefficient as it causes all the logging information to be generated but not actually sent anywhere. The Log4J manual is the best reference for how to configure Log4J. It is available at <a href="http://logging.apache.org/log4j/docs/manual.html" title="External Link" target="_blank"><a href="http://logging.apache.org/log4j/docs/manual.html">http://logging.apache.org/log4j/docs/manual.html</a></a>
<a href=""></a></p>
<h3 id="java-util-logging-examples">java.util.logging Examples</h3>
<p>Since JDK 1.4 there has been a package <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/logging/package-summary.html" title="External Link" target="_blank">java.util.logging</a> that provides a logging framework similar to <em>Log4J</em>. By default it reads a config file from</p>
<p>$JAVA_HOME/jre/lib/logging.properties
which looks like this (comments stripped):
handlers=java.util.logging.ConsoleHandler
.level=INFO
java.util.logging.FileHandler.pattern = %h/java%u.log
java.util.logging.FileHandler.limit = 50000
java.util.logging.FileHandler.count = 1
java.util.logging.FileHandler.formatter = java.util.logging.XMLFormatter
java.util.logging.ConsoleHandler.level = INFO
java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter
com.xyz.foo.level = SEVERE
To customize logging a custom</p>
<p>logging.properties
file should be created in the project directory. The location of this file must be passed to the JVM as a system property. This can be done on the command line like so: $JAVA_HOME/java -Djava.util.logging.config.file=$HOME/myapp/logging.properties -classpath $HOME/myapp/target/classes com.myapp.MainAlternatively <a href="http://java.sun.com/j2se/1.4.2/docs/api/java/util/logging/LogManager.html#readConfiguration(java.io.InputStream" target="_blank">LogManager/#readConfiguration(InputStream)</a> &quot;External Link&quot;) can be used to pass it the desired configuration.</p>
<p>Enable header wire + context logging - <strong>Best for Debugging</strong>
.level=INFO
handlers=java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter
httpclient.wire.header.level=FINEST
org.apache.commons.httpclient.level=FINEST</p>
<p>Enable full wire(header and content) + context logging
.level=INFO
handlers=java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter
httpclient.wire.level=FINEST
org.apache.commons.httpclient.level=FINEST</p>
<p>Enable just context logging
.level=INFO
handlers=java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.formatter = java.util.logging.SimpleFormatter
org.apache.commons.httpclient.level=FINEST</p>
<p>More detailed information is available from the <a href="http://java.sun.com/j2se/1.4.2/docs/guide/util/logging/overview.html" title="External Link" target="_blank">Java Logging documentation</a>.
© 2001-2008, Apache Software Foundation</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Httpclient/">Httpclient</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Httpclient/" class="label label-primary">Httpclient</a></span> | <span class="time">recent updated:<time title="2014-04-07 17:01:09"datetime="2014-04-07 17:01:09"> abr. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-Httpclient--HttpClient-HttpClientLoggingPractices/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-Httpclient--HttpClient-HttpClientLoggingPractices" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-Httpclient--httpClient中文乱码问题解决/">httpClient中文乱码问题解决</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-Httpclient--httpClient中文乱码问题解决/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h2 id="httpclient-">httpClient中文乱码问题解决</h2>
<h3 id="-kangojian-http-blog-csdn-net-kangojian-"><a href="http://blog.csdn.net/kangojian" target="_blank">kangojian</a></h3>
<p>2008-06-24 14:55<br>我在尝试着直接将中文改变为utf-8的字符串直接写入，失败后！以为是网络传输中应该是iso-8859-1方式传输的，然后将中文转为该编码格式，还是失败后，看httpclient源代码发现：重写postmethod中的getrequestcharset()方法，虽然源代码中该方法动态的设置编码格式，但是好像并没有很好的执行！在重写后，问题解决！ package pro; import java.io.IOException; import org.apache.commons.httpclient.HttpClient; import org.apache.commons.httpclient.HttpException; import org.apache.commons.httpclient.HttpStatus; import org.apache.commons.httpclient.NameValuePair; import org.apache.commons.httpclient.methods.PostMethod; public class simulateWebAction {     public static void main(String[] args) throws IOException {         // TODO Auto-generated method stub         String url = “/<em>/</em>/<em>/</em>/<em>/</em>/<em>”;         PostMethod postMethod = new UTF8PostMethod(url);         StringBuilder origin = new StringBuilder();         origin.setLength(0);                 HttpClient httpClient = new HttpClient(); //        getMethod.getParams().setParameter(HttpMethodParams.RETRY_HANDLER, new DefaultHttpMethodRetryHandler());                 NameValuePair a = new NameValuePair(&quot;a&quot;,&quot;/</em>/<em>&quot;);         NameValuePair q = new NameValuePair(&quot;q&quot;,&quot;/</em>/*&quot;);         NameValuePair[] param = new NameValuePair[]{a,q};                 postMethod.setRequestBody(param);         try { //            执行getMethod             int statusCode = httpClient.executeMethod(postMethod);             if (statusCode != HttpStatus.SC_OK) {                 System.err.println(&quot;Method failed: &quot;+ postMethod.getStatusLine());             }else{ //                读内容                 System.out.println(postMethod.getResponseBodyAsString());             }                         } catch (HttpException e) {                 // TODO Auto-generated catch block                 e.printStackTrace();             } catch (IOException e) {                 // TODO Auto-generated catch block                 e.printStackTrace();             }finally{                 postMethod.releaseConnection();             }        }         public static class UTF8PostMethod extends PostMethod{         public UTF8PostMethod(String url){             super(url);         }         @Override         public String getRequestCharSet() {             //return super.getRequestCharSet();             return &quot;UTF-8&quot;;         }     } }</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Httpclient/">Httpclient</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Httpclient/" class="label label-primary">Httpclient</a></span> | <span class="time">recent updated:<time title="2014-04-07 16:54:54"datetime="2014-04-07 16:54:54"> abr. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-Httpclient--httpClient中文乱码问题解决/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-Httpclient--httpClient中文乱码问题解决" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-Httpclient--关于HttpClient的中文参数编码问题/">关于HttpClient的中文参数编码问题 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-Httpclient--关于HttpClient的中文参数编码问题/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-httpclient-">关于HttpClient的中文参数编码问题 - 讨论区 - 开源中国社区</h1>
<ul>
<li><a href="http://www.oschina.net/" target="_blank">首页</a></li>
<li><a href="http://www.oschina.net/project" target="_blank">开源软件</a></li>
<li><a href="http://www.oschina.net/question" target="_blank">讨论区</a></li>
<li><a href="http://www.oschina.net/code/list" target="_blank">代码分享</a></li>
<li><a href="http://www.oschina.net/news" target="_blank">资讯</a></li>
<li><a href="http://www.oschina.net/blog" target="_blank">博客</a></li>
<li><a href="http://www.oschina.net/android" target="_blank">Android</a></li>
<li><a href="http://www.oschina.net/job" target="_blank">招聘</a></li>
</ul>
<p>当前访客身份：游客 [ <a href="http://www.oschina.net/home/login" target="_blank">登录</a> | <a href="http://www.oschina.net/home/reg" target="_blank">加入开源中国</a> ]</p>
<p>当前位置：<a href="http://www.oschina.net/question" target="_blank">讨论区</a> » <a href="http://www.oschina.net/question?catalog=2" target="_blank">技术分享</a> » <a href="http://www.oschina.net/p/httpclient" target="_blank">HttpComponents</a></p>
<p>软件 代码 讨论区 新闻 博客
<a href="http://my.oschina.net/javayou" target="_blank"><img src="&quot;红薯&quot;" alt="红薯"></a></p>
<h1 id="-httpclient-"><a href="">关于HttpClient的中文参数编码问题</a></h1>
<p><a href="http://my.oschina.net/javayou" target="_blank">红薯</a> 发表于 10-5 17:13 3年前, <a href="http://www.oschina.net/question/12_4535#answers" target="_blank">1</a>回/762阅, 最后回答: 4个月前
<strong><a href="http://www.oschina.net/question" target="_blank">讨论区</a> » <a href="http://www.oschina.net/question?catalog=2" target="_blank">技术分享</a></strong></p>
<p>开源扑克第二轮预售，截止时间 9 月 30 日 <a href="http://www.oschina.net/shop/item6/12" target="_blank">我要购买</a>
今天在使用HttpClient提交中文参数的时候发现服务器不管怎么处理得到的字符串都是乱码，考虑应该是客户端的问题，查阅 HttpClient的文档，提到这么一段：</p>
<p>The standard for URLs ( RFC1738 ) explictly states that URLs may only contain graphic printable characters of the US-ASCII coded character set and is defined in terms of octets. The octets 80-FF hexadecimal are not used in US-ASCII and the octets OO-1F hexadecimal represent control characters; characters in these ranges must be encoded.
Characters which cannot be represented by an 8-bit ASCII code, can not be used in an URL as there is no way to reliably encode them
(the encoding scheme for URLs is based off of octets). Despite this, some servers do support varying means of encoding double byte characters in URLs,
the most common technique seems to be to use UTF-8 encoding and encode each octet separately even if a pair of octets represents one character. This however, is not specified by the standard and is highly prone to error, so it is recommended that URLs be restricted to the 8-bit ASCII range.
因此在提交中文参数的时候必须进行转码：
NameValuePair content = new NameValuePair(&quot;content&quot;,new String(&quot; 你好中国&quot;.getBytes(),&quot;8859_1&quot;));
搞定！</p>
<p><strong>标签：</strong> <a href="http://www.oschina.net/question/tag/httpclient" title="Java的HTTP协议库 HttpComponents" target="_blank">HttpComponents</a> <a href="http://www.oschina.net/question/tag/httpclient_old" title=" HttpClient" target="_blank">HttpClient</a>
<a href="">补充话题说明»</a></p>
<p><strong>分享到</strong> <a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a>**</p>
<p><a href="&quot;收藏此话题&quot;">收藏</a>
**</p>
<p>1
**</p>
<p><a href="">举报</a>
**</p>
<p><a href="&quot;踩：这问题不知道在说什么，或者没什么用&quot;">踩</a> 0 | <a href="&quot;顶：这问题很有用或者很清晰明了&quot;">顶</a> 0
**</p>
<h2 id="-http-www-oschina-net-question-12_4535-answers-http-www-oschina-net-question-12_4535-sort-time-answers-http-www-oschina-net-question-12_4535-top-1-http-www-oschina-net-question-12_4535-answerform-"><a href="http://www.oschina.net/question/12_4535#answers" target="_blank">按默认排序</a> | <a href="http://www.oschina.net/question/12_4535?sort=time#answers" target="_blank">显示最新评论</a> | <a href="http://www.oschina.net/question/12_4535#top" target="_blank">回页面顶部</a>  <a href=""></a>共有<em>1</em>个评论 <a href="http://www.oschina.net/question/12_4535#answerform">发表评论»</a></h2>
<ul>
<li><a href="http://my.oschina.net/u/437619" target="_blank"><img src="&quot;hujiong&quot;" alt="hujiong"></a></li>
</ul>
<p><a href="http://my.oschina.net/u/437619" target="_blank">hujiong</a> 回答于 2012-05-08 09:25</p>
<p><a href="">举报</a>
<a href=""><img src="" alt=""></a>
<a href="&quot;这是一个好评论，能解决问题&quot;">有帮助</a><em>(0)</em> | <a href="&quot;这评论无法解决问题，或者模糊不清&quot;">没帮助</a><em>(0)</em> | <a href="">评论</a><em>(0)</em> | <a href="http://www.oschina.net/question/answer?question=4535&amp;answer=211268" target="_blank">引用此评论</a></p>
<p><a href="http://www.oschina.net/question/$link.user($g_user" target="_blank"><img src="&quot;非会员用户&quot;" alt="非会员用户"></a>)   <a href="&quot;粗体(Ctrl+B"></a>&quot;)<a href="&quot;斜体(Ctrl+I"></a>&quot;)<a href="&quot;下划线(Ctrl+U"></a>&quot;)<a href="&quot;删除线&quot;"></a><a href="&quot;删除格式&quot;"></a><a href="&quot;编号&quot;"></a><a href="&quot;项目符号&quot;"></a><a href="&quot;文字颜色&quot;"></a><a href="&quot;文字背景&quot;"></a><a href="&quot;字体&quot;"></a><a href="&quot;文字大小&quot;"></a><a href="&quot;超级链接&quot;"></a><a href="&quot;取消超级链接&quot;"></a><a href="&quot;插入表情&quot;"></a><a href="&quot;插入程序代码或脚本&quot;"></a><a href="&quot;图片&quot;"></a><a href="&quot;插入Flash&quot;"></a><a href="&quot;引用某段文字&quot;"></a><a href="&quot;全选&quot;"></a><a href="&quot;HTML代码&quot;"></a><a href="&quot;关于&quot;"></a>
<a href="http://www.oschina.net/question/12_4535#answers" target="_blank">回评论顶部</a> | <a href="http://www.oschina.net/question/12_4535#top" target="_blank">回页面顶部</a>
有什么技术问题吗？ <a href="http://www.oschina.net/question/ask" target="_blank">我要提问</a></p>
<p><strong><a href="http://my.oschina.net/javayou/?ft=bbs&amp;scope=2&amp;showme=1" target="_blank">全部(4766)...</a><em>红薯</em>的其他问题</strong></p>
<ul>
<li><a href="http://www.oschina.net/question/12_70587" title="OSChina 用户动态设计说明" target="_blank">OSChina 用户动态设计说明</a>(2回/241阅,26分钟前)</li>
<li><a href="http://www.oschina.net/question/12_70313" title="提取 SQL Server 的日志信息并发送邮件" target="_blank">提取 SQL Server 的日志信息并发送邮件</a>(0回/71阅,3天前)</li>
<li><a href="http://www.oschina.net/question/12_70252" title="OSChina 的留言表设计说明" target="_blank">OSChina 的留言表设计说明</a>(59回/5932阅,3天前)</li>
<li><a href="http://www.oschina.net/question/12_70228" title="遠端管理 VirtualBox 的神兵利器－RemoteBox" target="_blank">遠端管理 VirtualBox 的神兵利器－RemoteBox</a>(0回/70阅,4天前)</li>
<li><p><a href="http://www.oschina.net/question/12_70166" title="在 Node.js 上运行 Perl 脚本" target="_blank">在 Node.js 上运行 Perl 脚本</a>(0回/75阅,5天前)
<strong>类似的话题</strong></p>
</li>
<li><p><a href="http://www.oschina.net/question/1092_2616" title="HttpClient 爬数据时  中文编码问题" target="_blank">HttpClient 爬数据时 中文编码问题</a>(2回/1351阅,2年前)</p>
</li>
<li><a href="http://www.oschina.net/question/157182_34442" title="HTTPClient PostMethod 中文乱码问题解决方法" target="_blank">HTTPClient PostMethod 中文乱码问题解决方法</a>(1回/382阅,9个月前)</li>
<li><a href="http://www.oschina.net/question/12_4534" title="应用HttpClient来对付各种顽固的WEB服务器" target="_blank">应用HttpClient来对付各种顽固的WEB服务器</a>(2回/1389阅,3年前)</li>
<li><a href="http://www.oschina.net/question/163910_34519" title="httpClient 4.x中，MultipartEntity中附加中文信息时的乱码解决" target="_blank">httpClient 4.x中，MultipartEntity中附加中文信息时的乱码解决</a>(1回/566阅,9个月前)</li>
<li><a href="http://www.oschina.net/question/54100_32895" title="Android 使用 httpClient 取消http请求的方法" target="_blank">Android 使用 httpClient 取消http请求的方法</a>(0回/411阅,9个月前)</li>
<li><a href="http://www.oschina.net/question/12_4839" title="使用 Apache HttpClient 突破 J2EE 站点认证" target="_blank">使用 Apache HttpClient 突破 J2EE 站点认证</a>(0回/361阅,3年前)</li>
<li><a href="http://www.oschina.net/question/129540_31320" title="为 Android 开发访问 JAX-RS Web 服务的 Apache HttpClient 客户端" target="_blank">为 Android 开发访问 JAX-RS Web 服务的 Apache HttpClient 客户端</a>(3回/714阅,10个月前)</li>
<li><a href="http://www.oschina.net/question/12_4532" title="使用 HttpClient 和 HtmlParser 实现简易爬虫" target="_blank">使用 HttpClient 和 HtmlParser 实现简易爬虫</a>(3回/2861阅,3年前)</li>
<li><a href="http://www.oschina.net/question/54100_31016" title="Android 与 HttpClient 通讯出现乱码问题的解决" target="_blank">Android 与 HttpClient 通讯出现乱码问题的解决</a>(0回/223阅,10个月前)</li>
<li><a href="http://www.oschina.net/question/54100_34472" title="Apache HttpClient Cookie rejected 解决方法" target="_blank">Apache HttpClient Cookie rejected 解决方法</a>(1回/279阅,9个月前)</li>
<li><a href="http://www.oschina.net/question/53600_13088" title="豆瓣API求帮助" target="_blank">豆瓣API求帮助</a>(0回/245阅,1年前)</li>
<li><a href="http://www.oschina.net/question/96637_11083" title="怎么自动注册一个账户，类似yahoo.com" target="_blank">怎么自动注册一个账户，类似yahoo.com</a>(18回/883阅,2年前)</li>
<li><a href="http://www.oschina.net/question/54100_33230" title="Android Http异步请求，Callback" target="_blank">Android Http异步请求，Callback</a>(0回/650阅,9个月前)</li>
<li><a href="http://www.oschina.net/question/166763_35390" title="Android中的几种网络请求方式详解" target="_blank">Android中的几种网络请求方式详解</a>(0回/1424阅,8个月前)</li>
<li><a href="http://www.oschina.net/question/12_29683" title="打造一款 Android 联网 tic-tac-toe 游戏" target="_blank">打造一款 Android 联网 tic-tac-toe 游戏</a>(4回/709阅,11个月前)</li>
<li><a href="http://www.oschina.net/question/54100_34407" title="HttpClient, 使用C#操作Web" target="_blank">HttpClient, 使用C/#操作Web</a>(0回/35阅,9个月前)</li>
</ul>
<p>© 开源中国社区(OsChina.NET) | <a href="http://www.oschina.net/home/about" target="_blank">关于我们</a> | <a href="mailto:oschina.net@gmail.com">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/" target="_blank">开源中国手机版</a> | 粤ICP备12009483号-3</p>
<p><a href=""></a><a href=""></a><a href=""></a>
<img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Httpclient/">Httpclient</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Httpclient/" class="label label-primary">Httpclient</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:37"datetime="2014-03-07 09:54:37"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-Httpclient--关于HttpClient的中文参数编码问题/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-Httpclient--关于HttpClient的中文参数编码问题" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/98/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/96/">96</a></li><li><a class="page-number" href="/page/97/">97</a></li><li><a class="page-number" href="/page/98/">98</a></li><li class="active"><li><span class="page-number current">99</span></li><li><a class="page-number" href="/page/100/">100</a></li><li><a class="page-number" href="/page/101/">101</a></li><li><a class="page-number" href="/page/102/">102</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/100/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 17:26:53</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
