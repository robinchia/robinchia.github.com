
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 76 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-域--终端服务网关没有足够的信息不能验证该证书/">终端服务网关没有足够的信息不能验证该证书</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-域--终端服务网关没有足够的信息不能验证该证书/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">终端服务网关没有足够的信息不能验证该证书</h1>
<p><a href="http://gnaw0725.blogbus.com/" target="_blank"><img src="" alt="活动目录SEO博客"></a>
<a href="http://gnaw0725.blogbus.com/" target="_blank">活动目录SEO博客 &gt;</a><a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank">系统网络管理</a> &gt;终端服务网关:没有足够的信息不能验证该证书
<a href="http://gnaw0725.blogbus.com/tag/tsgateway/" target="_blank">tsgateway</a> <a href="http://gnaw0725.blogbus.com/tag/不能验证该证书/" target="_blank">不能验证该证书</a> <a href="http://gnaw0725.blogbus.com/tag/终端服务网关/" target="_blank">终端服务网关</a> <a href="http://gnaw0725.blogbus.com/tag/windows2008TSGW/" target="_blank">windows2008TSGW</a> <a href="http://gnaw0725.blogbus.com/tag/win2k8tsgw/" target="_blank">win2k8tsgw</a></p>
<ul>
<li><a href="http://gnaw0725.blogbus.com/c1404552/" target="_blank">Active Directory域活动目录[789]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1404553/" target="_blank">Windows 7vista[160]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank">系统网络管理[1048]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1451429/" target="_blank">Office 2010/2007[97]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1507212/" target="_blank">SEOSEM[64]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1404554/" target="_blank">系统管理脚本[72]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1404555/" target="_blank">微软视频教程[8]</a></li>
<li><a href="http://gnaw0725.blogbus.com/c1404556/" target="_blank">软件应用|合作[161]</a></li>
</ul>
<h3 id="-http-gnaw0725-blogbus-com-logs-31005239-html-"><a href="http://gnaw0725.blogbus.com/logs/31005239.html" target="_blank">终端服务网关:没有足够的信息不能验证该证书</a></h3>
<p><a href="http://gnaw0725.blogbus.com/logs/27525245.html" target="_blank">终端服务网关</a>:没有足够的信息不能验证该证书。我在测试<a href="http://gnaw0725.blogbus.com/logs/30260910.html" target="_blank">windows 2008 TS GW</a>时碰到问题如下:
介绍:我有两台<a href="http://gnaw0725.blogbus.com/logs/16715844.html" target="_blank">windows 2008</a>,其中一台:安装<a href="http://gnaw0725.blogbus.com/logs/18971316.html" target="_blank"></a><a href="http://gnaw0725.blogbus.com/logs/18971316.html">域控</a>制器,证书颁发机构,<a href="http://gnaw0725.blogbus.com/logs/11692848.html" target="_blank">终端服务器</a>,终端服务REMOTEAPP服务器,终端服务WEB访问(主机名:godwin2008.svrapp.com)
另外一台:安装终端服务网关(主机名:godwin2008gw.svrapp.com)，这台安装完毕后,进入此机器申请证书,双击查看如附件1,并应用到TS GW上!
然后找到一台XP机器,其不在域中,安装证书提示证书问题!我在XP上面查看证书,提示&quot;没有足够的信息，不能验证该证书&quot;为什么会这样!导出来也正常</p>
<p>回答：根据您的描述，我对这个问题的理解是:　在测试Windows Server 2008 TS GW的时候，遇到证书问题，提示：“没有足够的信息，不能验证该证书”您看到的文章来自<a href="http://gnaw0725.blogbus.com/" target="_blank">活动目录</a><a href="http://gnaw0725.blogbus.com/c1507212/" target="_blank">seo</a> <a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank"><a href="http://gnaw0725.blogbus.com/c1404551/">http://gnaw0725.blogbus.com/c1404551/</a></a>
自己或者CA签名的证书可以被TS Gateway使用。通常来说，由于根CA证书将被自动保存到客户端，在域环境中，我们建议使用企业CA签名认证过的证书(信任的证书)。
对于一台工作组机器来说，我们可能需要手动导入根CA证书(信任的证书)到这个客户端。根CA证书通常可以在CA服务器的systemroot\System32\CertSrv\CertEnroll目录下找到。</p>
<h1 id="-">同时我还引述一些附加的信息给您：</h1>
<p>Install the certificate of the enterprise root CA as a trusted root CA certificate (英文)
<a href="http://technet.microsoft.com/en-us/library/cc758128.aspx" target="_blank"><a href="http://technet.microsoft.com/en-us/library/cc758128.aspx">http://technet.microsoft.com/en-us/library/cc758128.aspx</a></a>
您尝试连接到终端服务器使用了 Single Sign 基于 Windows Server 2008-计算机的功能启用时错误消息：&quot;的登录尝试失败&quot;
<a href="http://support.microsoft.com/kb/954397/zh-cn?spid=12925&amp;sid=496" target="_blank"><a href="http://support.microsoft.com/kb/954397/zh-cn?spid=12925&amp;sid=496">http://support.microsoft.com/kb/954397/zh-cn?spid=12925&amp;sid=496</a></a>
您使用智能卡身份验证从客户端计算机在运行 Windows Vista 或 Windows Server 2008 登录到基于 Windows Server 2008-终端服务器时出现错误信息：&quot;0xC000040C&quot;您看到的文章来自活动目录seo <a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank"><a href="http://gnaw0725.blogbus.com/c1404551/">http://gnaw0725.blogbus.com/c1404551/</a></a>
<a href="http://support.microsoft.com/kb/954910/zh-cn?spid=12925&amp;sid=496" target="_blank"><a href="http://support.microsoft.com/kb/954910/zh-cn?spid=12925&amp;sid=496">http://support.microsoft.com/kb/954910/zh-cn?spid=12925&amp;sid=496</a></a></p>
<p>我很高兴您已经找到了原因，因为AD与终端服务器装在一台机器上了，需要修改一个组<a href="http://gnaw0725.blogbus.com/logs/18223191.html" target="_blank">策略</a>。另外您想得到TS会话broker相关配置实现资料。</p>
<h1 id="-ts-broker-">关于TS会话broker相关配置实现资料，我已经提供在下面了。同时您能否告诉我，我们需要修改哪一个组策略，这样的话，更多的人可以从我们的帖子中受益。谢谢您。</h1>
<p>TS Session Broker Load Balancing Step-by-Step Guide
<a href="http://technet.microsoft.com/en-us/library/cc772418.aspx" target="_blank"><a href="http://technet.microsoft.com/en-us/library/cc772418.aspx">http://technet.microsoft.com/en-us/library/cc772418.aspx</a></a></p>
<p>我了解到你想知道TS Session broker和TS GW是否可以共存在一台计算机上，后者安装在后端的终端服务器上。
根据官方文档，TS Session broker和TS GW的安装并未做这样的限制。我认为应该可以共存在一台计算机上的。
同时我们安装TS网关和TS Session Broker时需要满足以下条件。您看到的文章来自活动目录seo <a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank"><a href="http://gnaw0725.blogbus.com/c1404551/">http://gnaw0725.blogbus.com/c1404551/</a></a></p>
<h1 id="-ts-">若要正常使用 TS 网关，必须满足下列先决条件：</h1>
<p>1) 须拥有安装了 Windows Server 2008 的服务器
2) 必须是要配置为 TS 网关 服务器的计算机上 Administrators 组的成员
3) 必须为 TS 网关 服务器获取安全套接字层 (SSL) 证书（如果还没有该证书）。默认情况下，在 TS 网关 服务器上，RPC/HTTP 负载平衡服务和 Internet 信息服务 (IIS) 服务使用传输层安全 (TLS) 1.0 对通过 Internet 在客户端与 TS 网关 服务器之间进行的通信加密。若要正常使用 TLS，必须在 TS 网关 服务器上安装 SSL 证书
4) 如果配置的 TS 网关 授权策略要求客户端计算机上的用户是 Active Directory 安全组的成员，才能连接到 TS 网关 服务器，或如果要部署负载平衡的 TS 网关 服务器场，则 TS 网关 服务器必须也是 Active Directory 域服务域的成员</p>
<h1 id="-ts-session-broker-seo-http-gnaw0725-blogbus-com-c1404551-http-gnaw0725-blogbus-com-c1404551-">若要参与 TS Session Broker，服务器必须符合下列条件：您看到的文章来自活动目录seo <a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank"><a href="http://gnaw0725.blogbus.com/c1404551/">http://gnaw0725.blogbus.com/c1404551/</a></a></h1>
<p>1) 服务器必须安装了“终端服务器”角色服务。
2) 服务器必须是 Active Directory 域的成员。
3) 服务器必须是负载平衡终端服务器场的成员。
4) 服务器必须是 TS Session Broker 服务器上的 Session Directory Computers 本地组的成员。
5) 服务器必须加入 TS Session Broker 中的场。</p>
<h1 id="-">我们可以查看以下中文技术文章:</h1>
<p>TS Session Broker 概述
<a href="http://technet2.microsoft.com/windowsserver2008/zh-CHS/library/eac0b3d4-c74c-465c-a2c7-536964fdd8842052.mspx?mfr=true" target="_blank"><a href="http://technet2.microsoft.com/windowsserver2008/zh-CHS/library/eac0b3d4-c74c-465c-a2c7-536964fdd8842052.mspx?mfr=true">http://technet2.microsoft.com/windowsserver2008/zh-CHS/library/eac0b3d4-c74c-465c-a2c7-536964fdd8842052.mspx?mfr=true</a></a>
安装 TS 网关的先决条件
<a href="http://technet2.microsoft.com/windowsserver2008/zh-CHS/library/eac0b3d4-c74c-465c-a2c7-536964fdd8842052.mspx?mfr=true" target="_blank"><a href="http://technet2.microsoft.com/windowsserver2008/zh-CHS/library/eac0b3d4-c74c-465c-a2c7-536964fdd8842052.mspx?mfr=true">http://technet2.microsoft.com/windowsserver2008/zh-CHS/library/eac0b3d4-c74c-465c-a2c7-536964fdd8842052.mspx?mfr=true</a></a>
徐颖彧 微软全球技术支持中心</p>
<p>终端服务网关windows 2008 TS Gateway的相关文章请参考
<a href="http://gnaw0725.blogbus.com/logs/30260910.html" target="_blank">windows 2008<em>终端服务网关</em>TSGateway 活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/27525245.html" target="_blank">Windows 2008<em>终端</em>服务器<em>网关</em>web访问活动目录SEO</a>
<a href="http://www.googlesyndicatedsearch.com/u/blogbus?hl=zh-CN&amp;inlang=zh-CN&amp;newwindow=1&amp;ie=GB2312&amp;q=site%3Agnaw0725.blogbus.com+%D6%D5%B6%CB%B7%FE%CE%F1%CD%F8%B9%D8" target="_blank"><a href="http://www.googlesyndicatedsearch.com/u/blogbus?hl=zh-CN&amp;inlang=zh-CN&amp;newwindow=1&amp;ie=GB2312&amp;q=site%3Agnaw0725.blogbus.com+%D6%D5%B6%CB%B7%FE%CE%F1%CD%F8%B9%D8">http://www.googlesyndicatedsearch.com/u/blogbus?hl=zh-CN&amp;inlang=zh-CN&amp;newwindow=1&amp;ie=GB2312&amp;q=site%3Agnaw0725.blogbus.com+%D6%D5%B6%CB%B7%FE%CE%F1%CD%F8%B9%D8</a></a></p>
<p>终端服务器的更多文章请参考 <a href="http://gnaw0725.blogbus.com/logs/11692848.html" target="_blank">终端服务器专题</a></p>
<p>企业CA证书的相关文章请参考
<a href="http://gnaw0725.blogbus.com/logs/12646896.html" target="_blank"><em>企业CA证书</em>服务器|两个不同角色的CA能否在AD中同时存在活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/13485981.html" target="_blank">证书迁移|迁移<em>企业CA证书</em>服务器活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/12582315.html" target="_blank">迁移<em>证书</em>服务器|替换重新部署2003<em>企业</em>根<em>CA</em> 活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/23481135.html" target="_blank">怎样删除子网<em>CA证书</em>活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/26926272.html" target="_blank"><em>企业</em>根<em>CA</em>会自动颁发EFS<em>证书</em>活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/30454120.html" target="_blank">域控制器申请<em>证书</em>活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/28160582.html" target="_blank"><em>证书</em>吊销失效活动目录SEO</a>
<a href="http://gnaw0725.blogbus.com/logs/19092867.html" target="_blank">数字<em>证书</em>过期不能更新<em>证书</em>活动目录SEO</a>
<a href="http://www.googlesyndicatedsearch.com/u/blogbus?hl=zh-CN&amp;inlang=zh-CN&amp;newwindow=1&amp;ie=GB2312&amp;q=site%3Agnaw0725.blogbus.com+%C6%F3%D2%B5CA%D6%A4%CA%E9" target="_blank"><a href="http://www.googlesyndicatedsearch.com/u/blogbus?hl=zh-CN&amp;inlang=zh-CN&amp;newwindow=1&amp;ie=GB2312&amp;q=site%3Agnaw0725.blogbus.com+%C6%F3%D2%B5CA%D6%A4%CA%E9">http://www.googlesyndicatedsearch.com/u/blogbus?hl=zh-CN&amp;inlang=zh-CN&amp;newwindow=1&amp;ie=GB2312&amp;q=site%3Agnaw0725.blogbus.com+%C6%F3%D2%B5CA%D6%A4%CA%E9</a></a>
－－－gnaw0725
<strong>喜欢这篇文章吗？那就点击<a href="http://feed.feedsky.com/activedirectory" title="活动目录SEO RSS" target="_blank"><img src="" alt=""></a>订阅吧</strong></p>
<p><a href="http://gnaw0725.blogbus.com/" target="_blank">首页</a>| <a href="http://gnaw0725.blogbus.com/logs/31005239.html#cmt" target="_blank">评论 0</a> | <a href="http://gnaw0725.blogbus.com/logs/t31005239.html" target="_blank">引用 3</a> | <a href="http://www.blogbus.com/user/?mm=Post&amp;aa=Edit&amp;blogid=1370980&amp;id=31005239" target="_blank">编辑</a> <strong>按下键盘Ctrl+D会有惊喜发生</strong>
导航：[<a href="http://gnaw0725.blogbus.com/" target="_blank">活动目录SEO博客</a>]&gt;[<a href="http://gnaw0725.blogbus.com/c1404551/" target="_blank">系统网络管理</a>]&gt;[终端服务网关:没有足够的信息不能验证该证书]
原创： <a href="http://gnaw0725.blogbus.com/" target="_blank">活动目录SEO博客</a>版权所有。转载时必须注明本声明，本文作者和链接。
作者：<a href="http://home.blogbus.com/profile/gnaw0725" target="_blank">gnaw0725</a>
链接：<a href="http://gnaw0725.blogbus.com/logs/31005239.html" target="_blank"><a href="http://gnaw0725.blogbus.com/logs/31005239.html">http://gnaw0725.blogbus.com/logs/31005239.html</a></a>
时间：2008-11-05 09:10
<strong>收藏到：</strong> <a href=""><img src="" alt="百度收藏"></a><a href=""><img src="" alt="Google书签"></a> <a href=""><img src="" alt="QQ书签"></a> <a href=""><img src="" alt="天极网摘"></a> <a href=""><img src="" alt="新浪ViVi"></a> <a href=""><img src="" alt="和讯网摘"></a> <a href=""><img src="" alt="Windows Live"></a></p>
<p><strong>上</strong>一篇日志：<a href="http://gnaw0725.blogbus.com/logs/30971238.html" target="_blank">&lt;&lt;  win2008终端服务器配置</a>
<strong>下</strong>一篇日志：<a href="http://gnaw0725.blogbus.com/logs/31005633.html" target="_blank">微软虚拟化软件  &gt;&gt;</a>
『终端服务网关:没有足够的信息不能验证该证书 我想说：』<a href=""></a>   姓名：   网址：    <a href="http://feed.feedsky.com/activedirectory" title="活动目录SEO"><img src="" alt=""></a>
<strong>没找到？尝试站内搜索吧！</strong>
<img src="" alt="">
<strong>2010年2月最热文章</strong></p>
<p><a href="http://gnaw0725.blogbus.com/logs/57683055.html" target="_blank">2010年春节联欢晚会主持人串词台词1</a>
<a href="http://gnaw0725.blogbus.com/logs/16796652.html" target="_blank">Windows AD域</a>
<a href="http://gnaw0725.blogbus.com/logs/17762337.html" target="_blank">active directory教程入门</a>
<a href="http://gnaw0725.blogbus.com/logs/44271338.html" target="_blank">Windows 7没有声音</a>
<a href="http://gnaw0725.blogbus.com/logs/18971316.html" target="_blank">域控制器域服务器AD服务器</a></p>
<p><a href="http://gnaw0725.blogbus.com/logs/50846175.html" target="_blank">Windows Server 2008 SP2与R2有什么区别</a>
<a href="http://gnaw0725.blogbus.com/logs/8297325.html" target="_blank">一分钟加入google站内搜索代码|只有7行最精简</a>
<a href="http://gnaw0725.blogbus.com/logs/8359552.html" target="_blank">office2007无法卸载安装如何怎么强制卸载</a>
<a href="http://gnaw0725.blogbus.com/logs/18223191.html" target="_blank">组策略group policy专题</a>
<a href="http://gnaw0725.blogbus.com/logs/16093605.html" target="_blank">如何减小pagefile系统文件太大小</a></p>
<h3 id="-">终端服务网关:没有足够的信息不能验证该证书文章评论：</h3>
<h3 id="-">终端服务网关:没有足够的信息不能验证该证书文章归档：</h3>
<ul>
<li><a href="http://gnaw0725.blogbus.com/archives/1125190.html" target="_blank">2004/03/08 - 2004/12/31</a></li>
<li><a href="http://gnaw0725.blogbus.com/archives/1125191.html" target="_blank">2005/01/01 - 2005/12/31</a></li>
<li><a href="http://gnaw0725.blogbus.com/archives/1125192.html" target="_blank">2006/01/01 - 2006/12/31</a></li>
<li><a href="http://gnaw0725.blogbus.com/archives/1125193.html" target="_blank">2007/01/01 - 2007/12/31</a></li>
<li><a href="http://gnaw0725.blogbus.com/archives/1128984.html" target="_blank">2008/01/01 - 2008/12/31</a></li>
<li><a href="http://gnaw0725.blogbus.com/archives/1139880.html" target="_blank">2009/01/01 - 2009/08/31</a></li>
</ul>
<p>本页精品文章：终端服务网关:没有足够的信息不能验证该证书
<strong>活动目录SEO博客公告</strong>
<strong>月流量突破 10 万</strong>，总流量突破210万，如果您对<strong>活动目录域</strong>及<strong>网络管理</strong>也有心得，并且希望以此扩大自己影响力，只需要<strong><a href="http://gnaw0725.blogbus.com/logs/5612684.html" target="_blank">添加本站链接</a></strong>，然后将文章标题和链接<strong><a href="http://gnaw0725.cbox.ws/" target="_blank">在线留言给活动目录博客</a></strong>，活动目录博客将收录您的文章，并注明您的站点及链接。</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/域/">域</a></li></span></span> | <span class="tags">Tagged <a href="/tags/域/" class="label label-primary">域</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-域--终端服务网关没有足够的信息不能验证该证书/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-域--终端服务网关没有足够的信息不能验证该证书" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-域--配置AD、CA、SSL，绑定keystore/">配置AD、CA、SSL，绑定keystore</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-域--配置AD、CA、SSL，绑定keystore/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-ad-ca-ssl-keystore">配置AD、CA、SSL，绑定keystore</h1>
<h1 id="-http-blog-csdn-net-freewind88-"><a href="http://blog.csdn.net/freewind88" target="_blank">风林火山</a></h1>
<h2 id="-">其疾如风，其徐如林，侵掠如火，不动如山，难知如阴，动如雷震 ——《孙子兵法》</h2>
<ul>
<li><a href="http://hi.csdn.net/space-notice.html" target="_blank">条新通知</a></li>
<li><a href="http://passport.csdn.net/UserLogin.aspx" target="_blank">登录</a></li>
<li><a href="http://passport.csdn.net/CSDNUserRegister.aspx" target="_blank">注册</a></li>
<li><a href="http://hi.csdn.net/" target="_blank">欢迎</a></li>
<li><a href="http://writeblog.csdn.net/Signout.aspx" target="_blank">退出</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">我的博客</a></li>
<li><a href="http://writeblog.csdn.net/configure.aspx" target="_blank">配置</a></li>
<li><a href="http://writeblog.csdn.net/PostEdit.aspx" target="_blank">写文章</a></li>
<li><a href="http://writeblog.csdn.net/PostList.aspx" target="_blank">文章管理</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客首页</a></li>
</ul>
<p>*</p>
<ul>
<li><p>全站 当前博客
*</p>
</li>
<li><p><a href="http://hi.csdn.net/freewind88" target="_blank">空间</a></p>
</li>
<li><a href="http://blog.csdn.net/freewind88" target="_blank">博客</a></li>
<li><a href="http://hi.csdn.net/!s/friend/list/freewind88" target="_blank">好友</a></li>
<li><a href="http://hi.csdn.net/!s/album/list/freewind88" target="_blank">相册</a></li>
<li><a href="http://hi.csdn.net/!s/wall/to/freewind88" target="_blank">留言</a></li>
</ul>
<p>用户操作<a href="http://hi.csdn.net/!s/wall/to/freewind88" target="_blank">[留言]</a>  <a href="http://hi.csdn.net/!s/msg/to/freewind88" target="_blank">[发消息]</a>  <a href="http://hi.csdn.net/!s/friend/add/freewind88" target="_blank">[加为好友]</a> 订阅我的博客<a href="http://feeds.feedsky.com/csdn.net/freewind88" target="_blank"><img src="" alt="XML聚合"></a>   <a href="http://feeds.feedsky.com/csdn.net/freewind88" target="_blank"><img src="" alt="FeedSky"></a><a href="http://www.xianguo.com/subscribe.php?url=http://feeds.feedsky.com/csdn.net/freewind88" target="_blank"><img src="" alt="订阅到鲜果"></a><a href="http://fusion.google.com/add?feedurl=http://feeds.feedsky.com/csdn.net/freewind88" target="_blank"><img src="" alt="订阅到Google"></a><a href="http://www.zhuaxia.com/add_channel.php?url=http://feeds.feedsky.com/csdn.net/freewind88" target="_blank"><img src="" alt="订阅到抓虾"></a><a href="http://writeblog.csdn.net/configure.aspx" target="_blank">[编辑]</a>freewind88的公告自己在Computer Science方面的所学，与大家一起交流<a href="http://writeblog.csdn.net/EditCategories.aspx?catID=1" target="_blank">[编辑]</a>文章分类* <a href="http://blog.csdn.net/freewind88/category/237967.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/237967.aspx" target="_blank">C/C++</a></p>
<ul>
<li><a href="http://blog.csdn.net/freewind88/category/221073.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/221073.aspx" target="_blank">Delphi</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/328710.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/328710.aspx" target="_blank">Domino</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/12650.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/12650.aspx" target="_blank">Java</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/221072.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/221072.aspx" target="_blank">Linux</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/441413.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/441413.aspx" target="_blank">Portlet</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/238231.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/238231.aspx" target="_blank">WebSphere</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/328722.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/328722.aspx" target="_blank">Windows</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/12651.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/12651.aspx" target="_blank">软件工程</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/237966.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/237966.aspx" target="_blank">数据库</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/214719.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/214719.aspx" target="_blank">网格计算</a></li>
<li><a href="http://blog.csdn.net/freewind88/category/272363.aspx/rss" target="_blank"><img src="" alt="(RSS)"></a><a href="http://blog.csdn.net/freewind88/category/272363.aspx" target="_blank">移动开发</a>存档* <a href="http://blog.csdn.net/freewind88/archive/2008/08.aspx" target="_blank">2008年08月(1)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2008/07.aspx" target="_blank">2008年07月(2)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2007/10.aspx" target="_blank">2007年10月(1)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2007/09.aspx" target="_blank">2007年09月(4)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2007/08.aspx" target="_blank">2007年08月(3)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2007/01.aspx" target="_blank">2007年01月(5)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2006/11.aspx" target="_blank">2006年11月(2)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2006/10.aspx" target="_blank">2006年10月(1)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2006/09.aspx" target="_blank">2006年09月(3)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2006/08.aspx" target="_blank">2006年08月(1)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2006/07.aspx" target="_blank">2006年07月(1)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2006/06.aspx" target="_blank">2006年06月(2)</a></li>
<li><a href="http://blog.csdn.net/freewind88/archive/2004/05.aspx" target="_blank">2004年05月(5)</a><h1 id="-ad-ca-ssl-keystore-"><img src="" alt="原创">  配置AD、CA、SSL，绑定keystore <a href="&quot;收藏到我的网摘中，并分享给我的朋友&quot;">收藏</a></h1>
</li>
</ul>
<p>在这就简单的介绍一下配置过程，未提到的设置基本就都采用默认即可。
1）安装AD:
开始 -&gt; 运行 -&gt; dcpromote
域名: testad.com.cn
NT域名: ldap
即 Fully Qualified Domain Name (FQDN) 为 ldap.testad.com.cn
注意，一定要先安装 IIS , 再安装 CA.
2）安装 IIS:
开始-&gt; 程序 -&gt; 管理工具 -&gt; 配置您的服务器向导 -&gt; 应用服务器 (IIS, ASP.NET)
进入 http:// ldap.testad.com.cn /iisstart.htm 表示安装成功.
3）安装CA:
开始-&gt; 设置 -&gt; 控制面板-&gt; 添加或删除程序 -&gt;添加/删除Windows组件 -&gt; 证书服务
选择 企业根CA
共用名称 CA: testca
进入 http:// ldap.testad.com.cn /CertSrv 表示安装成功.
4）生成证书请求:
开始-&gt;程序-&gt;管理工具-&gt; Internet 信息服务 (IIS) 管理器 -&gt; Internet信息服务-&gt; (本地计算机) -&gt; 网站
-&gt;  右键点选 默认网站 -&gt; 属性 -&gt;选择 &quot;目录安全性&quot; -&gt; 服务器证书
-&gt;新建证书 -&gt; 准备证书，但稍后发送
公共名称最好设置为 ldap.testad.com.cn, 这是给使用者连ssl 的 站点.
最后产生证书请求文件 , 默认为c:\certreq.txt
5）在CA上请求证书:
进入 http:// ldap.testad.com.cn /CertSrv
按 申请一个证书 -&gt; 高级证书申请
-&gt; 使用 base64 编码的 CMC 或 PKCS /#10 文件提交一个证书申请，或使用 base64 编码的 PKCS /#7 文件续订证书申请。
使用 记事本 打开 c:\certreq.txt , copy c:\certreq.txt 内容贴至 保存的申请:
证书模板 选择 Web 服务器, 按 提交
然后点选 下载证书 , 将 certnew.cer 储存至 c:\certnew.cer
6）安装证书:
开始-&gt;程序-&gt;管理工具-&gt; Internet 信息服务 (IIS) 管理器 -&gt; Internet信息服务-&gt; (本地计算机) -&gt; 网站
-&gt;  右键点选默认网站-&gt;属性 -&gt; 选择 &quot;目录安全性&quot; -&gt;服务器证书
-&gt;处理挂起的请求，安装证书 -&gt; 路径和文件名: c:\certnew.cer
网站SSL 端口: 443
7）将 CA 证书 加入至keystore 里:
进入 http:// ldap.testad.com.cn /CertSrv
点选 下载一个 CA 证书，证书链或 CRL
点选 下载 CA 证书, 然后下载并改名为 c:\ca_cert.cer
安装CA后LDAP服务器C盘根目录会生成一文件ldap.testad.com.cn_testca.crt
然后执行 命令:
keytool -import -keystore &quot;c:/testca.keystore&quot; -file &quot;ldap.testad.com.cn_testca.crt&quot; -storepass &quot;changeit&quot;
keytool -import -keystore &quot;c:/testca.keystore&quot; -alias mkey -file &quot;c:/ca_cert.cer&quot; -storepass &quot;changeit&quot;
出现 Trusted this certificate? 按 &quot;y&quot; 即新增成功.
但经过个人的测试，其实只需使用ldap.testad.com.cn_testca.crt这个证书就可以连接上SSL AD 636。</p>
<p>发表于 @ 2007年08月17日　14:29:00 | <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#FeedBack" title="评论" target="_blank">评论( loading...  )</a>| <a href="http://writeblog.csdn.net/PostEdit.aspx?entryId=1748225" title="编辑" target="_blank">编辑</a>| <a href="mailto:webmaster@csdn.net?subject=Article Report!!!&amp;body=Author:freewind88URL:http://blog.csdn.net/ArticleContent.aspx?UserName=freewind88&amp;Entryid=1748225">举报</a>| <a href="&quot;收藏到我的网摘中，并分享给我的朋友&quot;">收藏</a></p>
<h3 id="-java-ms-ad-http-blog-csdn-net-freewind88-archive-2007-08-16-1746349-aspx-domino-ad-http-blog-csdn-net-freewind88-archive-2007-08-18-1749624-aspx-"><a href="http://blog.csdn.net/freewind88/archive/2007/08/16/1746349.aspx" target="_blank">旧一篇:Java添加、修改MS AD用户密码</a> | <a href="http://blog.csdn.net/freewind88/archive/2007/08/18/1749624.aspx" target="_blank">新一篇:在Domino中修改AD密码</a></h3>
<p><a href="http://blog.csdn.net/" target="_blank">查看最新精华文章 请访问博客首页</a>相关文章<a href=""></a></p>
<ul>
<li><p>发表评论</p>
</li>
<li><p>表 情：</p>
</li>
<li><p><a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;顶&quot;" alt="顶"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;砸&quot;" alt="砸"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;棒&quot;" alt="棒"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;大笑&quot;" alt="大笑"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;愤怒&quot;" alt="愤怒"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;大哭&quot;" alt="大哭"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;疑问&quot;" alt="疑问"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;汗&quot;" alt="汗"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;呕吐&quot;" alt="呕吐"></a> <a href="http://blog.csdn.net/freewind88/archive/2007/08/17/1748225.aspx#" target="_blank"><img src="&quot;送花&quot;" alt="送花"></a></p>
</li>
<li><p>评论内容：
*</p>
</li>
<li>用 户 名：</li>
<li><p><a href="">登录</a> <a href="http://passport.csdn.net/CSDNUserRegister.aspx" target="_blank">注册</a> 匿名评论</p>
</li>
<li><p>验 证 码：</p>
</li>
<li><a href=""><img src="" alt="验证码"></a> <a href="">重新获得验证码</a></li>
</ul>
<p><em>
</em><img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/域/">域</a></li></span></span> | <span class="tags">Tagged <a href="/tags/域/" class="label label-primary">域</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-域--配置AD、CA、SSL，绑定keystore/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-域--配置AD、CA、SSL，绑定keystore" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-域-win2008CA证书安装--Windows-Server-2008安装证书服务_庭媊椛落椛落_新浪博客/">Windows Server 2008安装证书服务_庭媊椛落椛落_新浪博客</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-域-win2008CA证书安装--Windows-Server-2008安装证书服务_庭媊椛落椛落_新浪博客/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="windows-server-2008-_-_-">Windows Server 2008安装证书服务<em>庭媊椛落椛落</em>新浪博客</h1>
<p><a href="http://blog.sina.com.cn/" target="_blank"><img src="" alt="新浪博客"></a></p>
<p><a href="http://blog.sina.com.cn/" target="_blank">博客首页</a></p>
<p><a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" target="_blank">登录</a><a href="http://login.sina.com.cn/signup/signupmail.php?entry=blog&amp;srcuid=1730710473&amp;src=blogicp" target="_blank">注册</a>
<a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,451397,456695&amp;cid=0,0,0&amp;sid=454907&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/%E9%A9%AC%E6%9D%A5%E8%A5%BF%E4%BA%9A" target="_blank">发博文，赢免费沙巴游</a>
<a href="http://control.blog.sina.com.cn/admin/article/article_add.php" target="_blank"><img src="&quot;博文&quot;" alt=""> 发博文</a></p>
<p>博文</p>
<h1 id="-de-http-blog-sina-com-cn-zhaojian5-"><a href="http://blog.sina.com.cn/zhaojian5" target="_blank">庭媊椛落椛落de博客</a></h1>
<p><a href="http://blog.sina.com.cn/zhaojian5" target="_blank"><a href="http://blog.sina.com.cn/zhaojian5">http://blog.sina.com.cn/zhaojian5</a></a> <a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" target="_blank">[订阅]</a><a href="">[手机订阅]</a></p>
<p><a href="http://blog.sina.com.cn/zhaojian5" target="_blank">首页</a> <a href="http://blog.sina.com.cn/s/articlelist_1730710473_0_1.html" target="_blank">博文目录</a> <a href="http://photo.blog.sina.com.cn/zhaojian5" target="_blank">图片</a> <a href="http://blog.sina.com.cn/s/profile_1730710473.html" target="_blank">关于我</a>
<a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#"></a></p>
<p>个人资料</p>
<p><img src="&quot;庭媊椛落椛落&quot;" alt="庭媊椛落椛落"></p>
<p><img src="" alt=""> <strong>庭媊椛落椛落</strong></p>
<p><a href="http://qing.weibo.com/1730710473" target="_blank"><img src="" alt="">Qing</a> <a href="http://weibo.com/u/1730710473?source=blog" target="_blank"><img src="" alt="">微博</a>
<a href="">加好友</a> <a href="">发纸条</a></p>
<p><a href="http://blog.sina.com.cn/s/profile_1730710473.html#write" target="_blank">写留言</a> <a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" target="_blank">加关注</a></p>
<ul>
<li>博客等级：<img src="" alt=""><img src="" alt=""></li>
<li><p>博客积分：<strong>257</strong></p>
</li>
<li><p>博客访问：<strong>8,188</strong></p>
</li>
<li>关注人气：<strong>4</strong></li>
</ul>
<p>相关博文</p>
<ul>
<li><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,451364,456662&amp;cid=0,0,0&amp;sid=454873&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/%E4%BA%AC%E5%9F%8E" title="五一里的京城你应该去的地方" target="_blank">五一里的京城你应该去的地方</a></li>
</ul>
<p><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,451364,456662&amp;cid=0,0,0&amp;sid=454873&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/%E4%BA%AC%E5%9F%8E" target="_blank">新浪Qing</a></p>
<ul>
<li><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,451376,456674&amp;cid=0,0,0&amp;sid=454883&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/%E9%9F%B3%E4%B9%90%E8%8A%82" title="这个夏天，惊世骇俗的音乐节" target="_blank">这个夏天，惊世骇俗的音乐节</a></li>
</ul>
<p><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=204720,451376,456674&amp;cid=0,0,0&amp;sid=454883&amp;advid=358&amp;camid=37389&amp;show=ignore&amp;url=http://qing.weibo.com/tag/%E9%9F%B3%E4%B9%90%E8%8A%82" target="_blank">新浪Qing</a></p>
<ul>
<li><a href="http://blog.baby.sina.com.cn/s/blog_5957e0cd0102e0c6.html" title="【美国】加利福尼亚州的花卉农" target="_blank">【美国】加利福尼亚州的花卉农</a></li>
</ul>
<p><a href="http://blog.baby.sina.com.cn/u/1498931405" target="_blank">【陈孙成对】</a>
<a href="http://search.sina.com.cn/?c=blog&amp;q=%D4%D3%CC%B8%2C%D0%DD%CF%D0&amp;by=tag" target="_blank">更多&gt;&gt;</a>
推荐博文</p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_80831fbe01011pjt.html?tj=1" title="送给家长和教委的一封信《拒绝青少年网瘾之殇》" target="_blank">送给家长和教委的一封信《拒绝</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/2156076990" target="_blank">前任</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_4d726f690102dsni.html?tj=1" title="在艰难的拼搏奋斗中取得的成果才会令人陶醉" target="_blank">在艰难的拼搏奋斗中取得的成果</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1299345257" target="_blank">蔡笑晚</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_4a10118b0102dy9k.html?tj=1" title="中考数学复习三大要领" target="_blank">中考数学复习三大要领</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1242567051" target="_blank">闫立秀</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_4eac9c6b0102dyqn.html?tj=1" title="农民工高校“蹭课”充电 求知心同大学生平等" target="_blank">农民工高校“蹭课”充电 求知心</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1319935083" target="_blank">丛贵</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_69229a310102e535.html?tj=1" title="美国高考 SAT 一日一题 （4-24-2012）" target="_blank">美国高考 SAT 一日一题 （4-24</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1763875377" target="_blank">智陈博士</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_65c775640102e22w.html?tj=1" title="给孩子一小时" target="_blank">给孩子一小时</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1707570532" target="_blank">囊萤映雪</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_72c6b6fb0102dygm.html?tj=1" title="求职面试技巧：如何在面试中运用幽默 猎头公司" target="_blank">求职面试技巧：如何在面试中运</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1925625595" target="_blank">猎头顾问哲瀚</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_808326ee01014svf.html?tj=1" title="家庭教育家长应避免的十大误区" target="_blank">家庭教育家长应避免的十大误区</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/2156078830" target="_blank">康德教育</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_608ba6b10102dz45.html?tj=1" title="孔子管理教育的核心" target="_blank">孔子管理教育的核心</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1619764913" target="_blank">孔健</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_6aaf4dd40102dya9.html?tj=1" title="【人生感悟】让铁证绽放属于段琪桂的清白" target="_blank">【人生感悟】让铁证绽放属于段</a></li>
</ul>
<p><a href="http://blog.sina.com.cn/u/1789873620" target="_blank">永明星空</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_6d08c98901014iok.html?tj=1" target="_blank"><img src="" alt="德国留学利好：鼓励留学生移民"></a></li>
</ul>
<p><a href="http://blog.sina.com.cn/s/blog_6d08c98901014iok.html?tj=1" target="_blank">德国留学利好：鼓励留学.</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_a0c8726f01011pzz.html?tj=1" target="_blank"><img src="" alt="缘何加拿大贵族高中“投资回报率”高居不下"></a></li>
</ul>
<p><a href="http://blog.sina.com.cn/s/blog_a0c8726f01011pzz.html?tj=1" target="_blank">缘何加拿大贵族高中“投.</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_a0b4831f01013ufd.html?tj=1" target="_blank"><img src="" alt="学在英国玩转欧洲：欧洲自助游全攻略"></a></li>
</ul>
<p><a href="http://blog.sina.com.cn/s/blog_a0b4831f01013ufd.html?tj=1" target="_blank">学在英国玩转欧洲：欧洲.</a></p>
<ul>
<li><a href="http://blog.sina.com.cn/s/blog_66d7ffd10100ylhc.html?tj=1" target="_blank"><img src="" alt="感人又有趣的马拉松"></a></li>
</ul>
<p><a href="http://blog.sina.com.cn/s/blog_66d7ffd10100ylhc.html?tj=1" target="_blank">感人又有趣的马拉松</a></p>
<p><a href="http://blog.sina.com.cn/lm/114/122/day.html" target="_blank">查看更多</a>&gt;&gt;</p>
<p>谁看过这篇博文</p>
<p><a href="http://blog.sina.com.cn/u/1079421027" target="_blank"><img src="&quot;Zhongdaiqi&quot;" alt="Zhongdaiqi"></a></p>
<p><a href="http://blog.sina.com.cn/u/1079421027" title="Zhongdaiqi" target="_blank">Zhongd…</a></p>
<p>8月29日</p>
<p><a href="http://blog.sina.com.cn/u/1685079684" target="_blank"><img src="&quot;thiswx&quot;" alt="thiswx"></a></p>
<p><a href="http://blog.sina.com.cn/u/1685079684" title="thiswx" target="_blank">thiswx</a></p>
<p>8月24日
<a href="http://blog.sina.com.cn/u/1362664712" target="_blank"><img src="&quot;临海听风&quot;" alt="临海听风"></a></p>
<p><a href="http://blog.sina.com.cn/u/1362664712" title="临海听风" target="_blank">临海听风</a></p>
<p>7月28日</p>
<p><a href="http://blog.sina.com.cn/u/1210703891" target="_blank"><img src="&quot;三儿&quot;" alt="三儿"></a></p>
<p><a href="http://blog.sina.com.cn/u/1210703891" title="三儿" target="_blank">三儿</a></p>
<p>7月2日
<a href="http://blog.sina.com.cn/u/1675754585" target="_blank"><img src="&quot;千年&quot;" alt="千年"></a></p>
<p><a href="http://blog.sina.com.cn/u/1675754585" title="千年" target="_blank">千年</a></p>
<p>4月9日</p>
<p><a href="http://blog.sina.com.cn/u/1611399391" target="_blank"><img src="&quot;Udistyle&quot;" alt="Udistyle"></a></p>
<p><a href="http://blog.sina.com.cn/u/1611399391" title="Udistyle" target="_blank">Udistyle</a></p>
<p>1月18日
<a href="http://blog.sina.com.cn/u/1421378207" target="_blank"><img src="&quot;qqpp&quot;" alt="qqpp"></a></p>
<p><a href="http://blog.sina.com.cn/u/1421378207" title="qqpp" target="_blank">qqpp</a></p>
<p>10月26日</p>
<p>正文 字体大小：<a href="">大</a> <strong>中</strong> <a href="">小</a></p>
<h2 id="windows-server-2008-">Windows Server 2008安装证书服务</h2>
<p><img src="&quot;此博文包含图片&quot;" alt="">  (2010-06-11 16:57:21)</p>
<p>标签：</p>
<h3 id="-http-search-sina-com-cn-c-blog-q-b0-b2-d7-b0-d6-a4-ca-e9-b7-fe-ce-f1-by-tag-"><a href="http://search.sina.com.cn/?c=blog&amp;q=%B0%B2%D7%B0%D6%A4%CA%E9%B7%FE%CE%F1&amp;by=tag" target="_blank">安装证书服务</a></h3>
<h3 id="-ca-http-search-sina-com-cn-c-blog-q-ca-by-tag-"><a href="http://search.sina.com.cn/?c=blog&amp;q=ca&amp;by=tag" target="_blank">ca</a></h3>
<p> 分类： <a href="http://blog.sina.com.cn/s/articlelist_1730710473_1_1.html" target="_blank">Windows</a>
一、在域控制器上安装证书服务</p>
<pre><code>1.添加服务器角色“Active Directory证书服务”
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s8.sinaimg.cn/orignal/67288bc9t88bdbf20e0e7" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>2.添加必须的角色服务，“证书颁发机构”和“证书颁发机构Web注册”
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s9.sinaimg.cn/orignal/67288bc9t88bdbfb753b8" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>3.在指定安装类型中，选择“企业”
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s9.sinaimg.cn/orignal/67288bc9t88bdcb8f9908" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>  CA类型有两种：企业CA和独立CA。

      企业CA的特点：
      ★企业CA需要AD服务。

      ★当安装企业根CA时，对于域中的所有用户和计算机，它都会自动添加到受信任的根证书颁
  发机构的证书储存区中。

      ★必须是域管理员或对AD具有写入权限的管理员，才能安装企业根CA。
      独立CA的特点：

      ☆独立CA不需要AD服务。
      ☆向独立CA提交证书申请时，证书申请者必须在证书申请中明确提供所有关于自己的标识信

  息以及证书申请所需要的证书类型。
      ☆默认情况下，发送到独立CA的所有证书申请都被设置为挂起，一直到独立CA的管理员验证

  申请者的身份并批准申请。


4.在“指定CA类型”中选择“根CA”
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s7.sinaimg.cn/orignal/67288bc9t88bdee308096" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a>
          企业CA和独立CA中又可以分为根CA和子级CA。</p>
<pre><code>      根CA是指在组织的PKI中最受信任的CA。
      子级CA是由组织中的根CA颁发证书的CA。


5.在设置私钥中，选择“新建私钥”
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s8.sinaimg.cn/orignal/67288bc9t88be048e9fb7" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>6.为CA配置加密
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s15.sinaimg.cn/orignal/67288bc9t88be0cc7df9e" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>7.配置CA名称
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s14.sinaimg.cn/orignal/67288bc9t88be145e68fd" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>8.设置CA证书的有效期，默认5年
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s13.sinaimg.cn/orignal/67288bc9t88be1c67d2ac" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>9.选择证书数据库保存位置
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s13.sinaimg.cn/orignal/67288bc9t88be1f03a75c" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>10.安装Web服务器所必须角色服务
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s1.sinaimg.cn/orignal/67288bc9t88be285f4880" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>11.确认安装信息后，开始安装
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s13.sinaimg.cn/orignal/67288bc9t88be30028bac" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<pre><code>12.安装完成
</code></pre><p><a href="http://photo.blog.sina.com.cn/showpic.html#blogid=67288bc90100jbwh&amp;url=http://s16.sinaimg.cn/orignal/67288bc9t88be3e20f79f" target="_blank"><img src="&quot;Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务&quot;" alt="Windows &lt;wbr&gt;Server &lt;wbr&gt;2008安装证书服务"></a></p>
<p>分享 <a href=""><img src="" alt=""></a> <a href="http://profile.live.com/badge/?url=http%3A%2F%2Fblog.sina.com.cn%2Fs%2Fblog_67288bc90100jbwh.html&amp;title=Windows%C2%A0Server%C2%A02008%E5%AE%89%E8%A3%85%E8%AF%81%E4%B9%A6%E6%9C%8D%E5%8A%A1&amp;screenshot=http%3A%2F%2Fs8.sinaimg.cn%2Fbmiddle%2F67288bc9t88bdbf20e0e7&amp;description=%E4%B8%80%E3%80%81%E5%9C%A8%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B8%8A%E5%AE%89%E8%A3%85%E8%AF%81%E4%B9%A6%E6%9C%8D%E5%8A%A1%C2%A0%C2%A0%C2%A01.%E6%B7%BB%E5%8A%A0%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%A7%92%E8%89%B2%E2%80%9CActive%20Directory%E8%AF%81%E4%B9%A6%E6%9C%8D%E5%8A%A1%E2%80%9D%C2%A0%C2%A0%C2%A0%C2%A02.%E6%B7%BB%E5%8A%A0%E5%BF%85%E9%A1%BB%E7%9A%84%E8%A7%92%E8%89%B2%E6%9C%8D%E5%8A%A1%EF%BC%8C%E2%80%9C%E8%AF%81%E4%B9%A6%E9%A2%81%E5%8F%91%E6%9C%BA%E6%9E%84%E2%80%9D%E5%92%8C%E2%80%9C%E8%AF%81%E4%B9%A6%E9%A2%81%E5%8F%91%E6%9C%BA%E6%9E%84Web%E6%B3%A8%E5%86%8C%E2%80%9D%C2%A0%C2%A0%C2%A0%C2%A03.%E5%9C%A8%E6%8C%87%E5%AE%9A%E5%AE%89%E8%A3%85%E7%B1%BB%E5%9E%8B%E4%B8%AD%EF%BC%8C" target="_blank"><img src="" alt=""></a> <a href=""><img src="" alt=""></a> <a href=""><img src="" alt=""></a> <a href="http://www.douban.com/recommend/?url=http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html&amp;title=Windows%C2%A0Server%C2%A02008%E5%AE%89%E8%A3%85%E8%AF%81%E4%B9%A6%E6%9C%8D%E5%8A%A1_%E5%BA%AD%E5%AA%8A%E6%A4%9B%E8%90%BD%E6%A4%9B%E8%90%BD_%E6%96%B0%E6%B5%AA%E5%8D%9A%E5%AE%A2;window.open(u,&#39;douban&#39;,&#39;toolbar=0,resizable=1,scrollbars=yes,status=1,width=450,height=330&#39;" target="_blank"><img src="" alt=""></a>;void(0)) <a href=""><img src="&quot;分享到新浪Qing&quot;" alt="">分享到新浪Qing</a></p>
<p>2</p>
<p><img src="" alt="">顶
阅读(298)<em>┊</em> <a href="">收藏</a>(0) <em>┊</em>禁止转载 <em>┊</em> <a href="">顶</a><a href=""><strong>▼</strong></a> <em>┊</em><a href="http://blog.sina.com.cn/main_v5/ria/print.html?blog_id=blog_67288bc90100jbwh" target="_blank">打印</a><em>┊</em><a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" target="_blank">举报</a></p>
<p>已投稿到： <img src="&quot;排行榜&quot;" alt=""> <a href="http://blog.sina.com.cn/lm/114/122/day.html" target="_blank">排行榜</a></p>
<p>加载中，请稍候......
前一篇：<a href="http://blog.sina.com.cn/s/blog_67288bc90100jbq3.html" target="_blank">证书颁发机构（CA）</a></p>
<p>后一篇：<a href="http://blog.sina.com.cn/s/blog_67288bc90100jbxn.html" target="_blank">为Web站点启用HTTPS</a></p>
<p><a href="http://control.blog.sina.com.cn/admin/advice/advice_list.php" target="_blank">新浪BLOG意见反馈留言板</a>　<a href="">不良信息反馈</a>　电话：4006900000 提示音后按1键（按当地市话标准计费）　欢迎批评指正</p>
<p><a href="http://corp.sina.com.cn/chn/" target="_blank">新浪简介</a> | <a href="http://corp.sina.com.cn/eng/" target="_blank">About Sina</a> | <a href="http://emarketing.sina.com.cn/" target="_blank">广告服务</a> | <a href="http://www.sina.com.cn/contactus.html" target="_blank">联系我们</a> | <a href="http://corp.sina.com.cn/chn/sina_job.html" target="_blank">招聘信息</a> | <a href="http://www.sina.com.cn/intro/lawfirm.shtml" target="_blank">网站律师</a> | <a href="http://english.sina.com/" target="_blank">SINA English</a> | <a href="http://members.sina.com.cn/apply/" target="_blank">会员注册</a> | <a href="http://help.sina.com.cn/" target="_blank">产品答疑</a></p>
<p>Copyright © 1996 - 2012 SINA Corporation, All Rights Reserved</p>
<p>新浪公司 <a href="http://www.sina.com.cn/intro/copyright.shtml" target="_blank">版权所有</a>
<a href="http://www.bj.cyberpolice.cn/index.jsp"></a>
<img src="&quot;长微博&quot;" alt=""><a href="http://control.blog.sina.com.cn/admin/article/changWeiBo.php" target="_blank">长微博</a></p>
<p><img src="&quot;微语录&quot;" alt=""><a href="http://t.blog.sina.com.cn/weiyulu/weiyulu.php" target="_blank">微语录</a></p>
<p><img src="&quot;九宫格&quot;" alt=""><a href="http://control.blog.sina.com.cn/admin/article/daily.php" target="_blank">九宫格</a></p>
<p><img src="&quot;发照片&quot;" alt=""><a href="http://photo.blog.sina.com.cn/upload/upload.php" target="_blank">发照片</a></p>
<p><img src="&quot;发视频&quot;" alt=""><a href="http://vupload.you.video.sina.com.cn/u.php?m=1" target="_blank">发视频</a></p>
<ul>
<li><a href="">博文</a></li>
<li><a href="">博主</a></li>
<li><a href="">音乐</a></li>
<li><a href="">视频</a></li>
<li><a href="">播主</a>
<a href="&quot;关闭&quot;"></a></li>
</ul>
<p>最近顶了的博主：
<img src="" alt="">加载中…</p>
<ul>
<li><a href="&quot;转载到Qing博客&quot;"><img src="" alt="">Qing</a></li>
<li><a href="&quot;转载到博客&quot;"><img src="" alt="">博客</a></li>
<li><a href="&quot;转载原文&quot;"><img src="" alt="">转载原文</a>
分享到新浪Qing</li>
</ul>
<p>分享到新浪微博</p>
<p><img src="&quot;将选中内容分享到新浪微博&quot;" alt="">
<a href="http://qing.weibo.com/1204832102"></a></p>
<p><a href="&quot;关闭&quot;">关闭</a>
<a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" title="关闭" target="_blank"><img src="&quot;关闭&quot;" alt=""></a></p>
<p><img src="" alt=""><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=388958,449490,454789&amp;cid=0,0,0&amp;sid=452965&amp;advid=7610&amp;camid=71146&amp;show=ignore&amp;url=http://ad-apac.doubleclick.net/click;h=v2|3F2A|0|0|%2a|b;255923038;0-0;0;79591910;31-1|1;47629893|47645366|1;;%3fhttp://detail.tmall.com/item.htm?id=16620252164&amp;scm=1004.2.1.4&amp;utm_source=Sina&amp;utm_medium=Day&amp;utm_term=v1&amp;utm_content=PFA04&amp;utm_campaign=UL_Ponds_FC_Angie"></a></p>
<p><img src="" alt=""><a href="http://sina.allyes.com/main/adfclick?db=sina&amp;bid=388958,449490,454789&amp;cid=0,0,0&amp;sid=452965&amp;advid=7610&amp;camid=71146&amp;show=ignore&amp;url=http://ad-apac.doubleclick.net/click;h=v2|3F2A|0|0|%2a|b;255923038;0-0;0;79591910;31-1|1;47629893|47645366|1;;%3fhttp://detail.tmall.com/item.htm?id=16620252164&amp;scm=1004.2.1.4&amp;utm_source=Sina&amp;utm_medium=Day&amp;utm_term=v1&amp;utm_content=PFA04&amp;utm_campaign=UL_Ponds_FC_Angie"></a>
<a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" title="重新播放"></a>
<a href="http://blog.sina.com.cn/s/blog_67288bc90100jbwh.html#" title="关闭"></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/域/">域</a></li></span><span class="breadcrumb"><li><a href="/categories/域/">域</a></li><li><a href="/categories/域/win2008CA证书安装/">win2008CA证书安装</a></li></span></span> | <span class="tags">Tagged <a href="/tags/win2008CA证书安装/" class="label label-primary">win2008CA证书安装</a><a href="/tags/域/" class="label label-success">域</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-域-win2008CA证书安装--Windows-Server-2008安装证书服务_庭媊椛落椛落_新浪博客/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-域-win2008CA证书安装--Windows-Server-2008安装证书服务_庭媊椛落椛落_新浪博客" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing/">一致性hash算法 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-hash-consistent-hashing">一致性hash算法 - consistent hashing</h1>
<p>您还未登录！|<a href="https://passport.csdn.net/account/login" target="_blank">登录</a>|<a href="https://passport.csdn.net/account/register" target="_blank">注册</a>|<a href="https://passport.csdn.net/help/faq" target="_blank">帮助</a></p>
<ul>
<li><a href="http://www.csdn.net/" target="_blank">首页</a></li>
<li><a href="http://news.csdn.net/" target="_blank">业界</a></li>
<li><a href="http://mobile.csdn.net/" target="_blank">移动</a></li>
<li><a href="http://cloud.csdn.net/" target="_blank">云计算</a></li>
<li><a href="http://sd.csdn.net/" target="_blank">研发</a></li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a></li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a></li>
<li><h2 id="-"><a href="">更多</a></h2>
</li>
</ul>
<h1 id="-sparkliang-http-blog-csdn-net-sparkliang-"><a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang的专栏</a></h1>
<h1 id="-">#</h1>
<ul>
<li><a href="http://blog.csdn.net/sparkliang?viewmode=contents" target="_blank"><img src="" alt="">目录视图</a></li>
<li><a href="http://blog.csdn.net/sparkliang?viewmode=list" target="_blank"><img src="" alt="">摘要视图</a></li>
<li><a href="http://blog.csdn.net/sparkliang/rss/list" target="_blank"><img src="" alt="">订阅</a>
<a href="http://www.csdn.net/article/2013-07-09/2816160" target="_blank">专访赵霏：应把握机会 HTML5游戏开发已臻成熟</a>        <a href="http://blog.csdn.net/blogdevteam/article/details/9226601" target="_blank">2013年7月微软MVP当选名单揭晓</a>      <a href="http://blog.csdn.net/csdnproduct/article/details/9226265" target="_blank">CSDN博客频道自定义摘要、图片水印、热门标签等功能上线啦</a>      <a href="http://blog.csdn.net/blogdevteam/article/details/9136613" target="_blank">CSDN博客第二期云计算最佳博主评选</a>      <a href=""></a></li>
</ul>
<h3 id="-hash-consistent-hashing-"><a href="">一致性hash算法 - consistent hashing</a></h3>
<p>分类： <a href="http://blog.csdn.net/sparkliang/article/category/488397" target="_blank">算法艺术</a>  2010-02-02 09:19 46510人阅读 <a href="">评论</a>(80) <a href="&quot;收藏&quot;">收藏</a> <a href="&quot;举报&quot;">举报</a>
<a href="http://blog.csdn.net/tag/details.html?tag=%e7%ae%97%e6%b3%95" target="_blank">算法</a><a href="http://blog.csdn.net/tag/details.html?tag=cache" target="_blank">cache</a><a href="http://blog.csdn.net/tag/details.html?tag=object" target="_blank">object</a><a href="http://blog.csdn.net/tag/details.html?tag=%e6%9c%8d%e5%8a%a1%e5%99%a8" target="_blank">服务器</a><a href="http://blog.csdn.net/tag/details.html?tag=%e5%ad%98%e5%82%a8" target="_blank">存储</a><a href="http://blog.csdn.net/tag/details.html?tag=c" target="_blank">c</a></p>
<p>目录<a href="&quot;系统根据文章中H1到H6标签自动生成文章目录&quot;">(?)</a><a href="&quot;展开&quot;">[+]</a></p>
<ol>
<li><p><a href="">一致性 hash 算法 consistent hashing</a></p>
</li>
<li><p><a href="">基本场景</a></p>
</li>
<li><a href="">hash 算法和单调性</a></li>
<li><p><a href="">consistent hashing 算法的原理</a></p>
</li>
<li><p><a href="">环形hash 空间</a></p>
</li>
<li><a href="">把对象映射到hash 空间</a></li>
<li><a href="">把cache 映射到hash 空间</a></li>
<li><a href="">把对象映射到cache</a></li>
<li><p><a href="">考察cache 的变动</a></p>
</li>
<li><p><a href="">虚拟节点</a></p>
</li>
<li><a href="">小结</a><h1 id="-hash-consistent-hashing-"><a href=""></a>一致性 hash 算法（ consistent hashing ）</h1>
</li>
</ol>
<p>张亮</p>
<p>consistent hashing 算法早在 1997 年就在论文 <strong><a href="http://portal.acm.org/citation.cfm?id=258660" target="_blank">Consistent hashing and random trees</a></strong> 中被提出，目前在 cache 系统中应用越来越广泛；</p>
<h2 id="-1-"><a href=""></a>1 基本场景</h2>
<p>比如你有 N 个 cache 服务器（后面简称 cache ），那么如何将一个对象 object 映射到 N 个 cache 上呢，你很可能会采用类似下面的通用方法计算 object 的 hash 值，然后均匀的映射到到 N 个 cache ；</p>
<p>hash(object)%N</p>
<p>一切都运行正常，再考虑如下的两种情况；</p>
<p>1  一个 cache 服务器 m down 掉了（在实际应用中必须要考虑这种情况），这样所有映射到 cache m 的对象都会失效，怎么办，需要把 cache m 从 cache 中移除，这时候 cache 是 N-1 台，映射公式变成了 hash(object)%(N-1) ；</p>
<p>2  由于访问加重，需要添加 cache ，这时候 cache 是 N+1 台，映射公式变成了 hash(object)%(N+1) ；</p>
<p>1 和 2 意味着什么？这意味着突然之间几乎所有的 cache 都失效了。对于服务器而言，这是一场灾难，洪水般的访问都会直接冲向后台服务器；</p>
<p>再来考虑第三个问题，由于硬件能力越来越强，你可能想让后面添加的节点多做点活，显然上面的 hash 算法也做不到。</p>
<p>  有什么方法可以改变这个状况呢，这就是 consistent hashing...</p>
<h2 id="-2-hash-"><a href=""></a>2 hash 算法和单调性</h2>
<p>Hash 算法的一个衡量指标是单调性（ Monotonicity ），定义如下：</p>
<p>单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够保证原有已分配的内容可以被映射到新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。</p>
<p>容易看到，上面的简单 hash 算法 hash(object)%N 难以满足单调性要求。</p>
<h2 id="-3-consistent-hashing-"><a href=""></a>3 consistent hashing 算法的原理</h2>
<p>consistent hashing 是一种 hash 算法，简单的说，在移除 / 添加一个 cache 时，它能够尽可能小的改变已存在 key 映射关系，尽可能的满足单调性的要求。</p>
<p>下面就来按照 5 个步骤简单讲讲 consistent hashing 算法的基本原理。</p>
<h3 id="-3-1-hash-"><a href=""></a>3.1 环形hash 空间</h3>
<p>考虑通常的 hash 算法都是将 value 映射到一个 32 为的 key 值，也即是 0~2^32-1 次方的数值空间；我们可以将这个空间想象成一个首（ 0 ）尾（ 2^32-1 ）相接的圆环，如下面图 1 所示的那样。</p>
<p><img src="" alt="circle space"></p>
<p>图 1 环形 hash 空间</p>
<h3 id="-3-2-hash-"><a href=""></a>3.2  把对象映射到hash 空间</h3>
<p>接下来考虑 4 个对象 object1~object4 ，通过 hash 函数计算出的 hash 值 key 在环上的分布如图 2 所示。</p>
<p>hash(object1) = key1;</p>
<p>… …</p>
<p>hash(object4) = key4;</p>
<p><img src="" alt="object"></p>
<p>图 2 4 个对象的 key 值分布</p>
<h3 id="-3-3-cache-hash-"><a href=""></a>3.3  把cache 映射到hash 空间</h3>
<p>Consistent hashing 的基本思想就是将对象和 cache 都映射到同一个 hash 数值空间中，并且使用相同的 hash 算法。</p>
<p>假设当前有 A,B 和 C 共 3 台 cache ，那么其映射结果将如图 3 所示，他们在 hash 空间中，以对应的 hash 值排列。</p>
<p>hash(cache A) = key A;</p>
<p>… …</p>
<p>hash(cache C) = key C;</p>
<p><img src="" alt="cache"></p>
<p>图 3 cache 和对象的 key 值分布</p>
<p>说到这里，顺便提一下 cache 的 hash 计算，一般的方法可以使用 cache 机器的 IP 地址或者机器名作为 hash 输入。</p>
<h3 id="-3-4-cache"><a href=""></a>3.4  把对象映射到cache</h3>
<p>现在 cache 和对象都已经通过同一个 hash 算法映射到 hash 数值空间中了，接下来要考虑的就是如何将对象映射到 cache 上面了。</p>
<p>在这个环形空间中，如果沿着顺时针方向从对象的 key 值出发，直到遇见一个 cache ，那么就将该对象存储在这个 cache 上，因为对象和 cache 的 hash 值是固定的，因此这个 cache 必然是唯一和确定的。这样不就找到了对象和 cache 的映射方法了吗？！</p>
<p>依然继续上面的例子（参见图 3 ），那么根据上面的方法，对象 object1 将被存储到 cache A 上； object2 和 object3 对应到 cache C ； object4 对应到 cache B ；</p>
<h3 id="-3-5-cache-"><a href=""></a>3.5  考察cache 的变动</h3>
<p>前面讲过，通过  hash 然后求余的方法带来的最大问题就在于不能满足单调性，当 cache 有所变动时， cache 会失效，进而对后台服务器造成巨大的冲击，现在就来分析分析 consistent hashing 算法。</p>
<p><strong>3.5.1</strong> <strong>移除 cache</strong></p>
<p>考虑假设 cache B 挂掉了，根据上面讲到的映射方法，这时受影响的将仅是那些沿 cache B 逆时针遍历直到下一个 cache （ cache C ）之间的对象，也即是本来映射到 cache B 上的那些对象。</p>
<p>因此这里仅需要变动对象 object4 ，将其重新映射到 cache C 上即可；参见图 4 。</p>
<p><img src="" alt="remove"></p>
<p>图 4 Cache B 被移除后的 cache 映射</p>
<p><strong>3.5.2</strong> <strong>添加 cache</strong></p>
<p>再考虑添加一台新的 cache D 的情况，假设在这个环形 hash 空间中， cache D 被映射在对象 object2 和 object3 之间。这时受影响的将仅是那些沿 cache D 逆时针遍历直到下一个 cache （ cache B ）之间的对象（它们是也本来映射到 cache C 上对象的一部分），将这些对象重新映射到 cache D 上即可。</p>
<p>因此这里仅需要变动对象 object2 ，将其重新映射到 cache D 上；参见图 5 。</p>
<p><img src="" alt="add"></p>
<p>图 5  添加 cache D 后的映射关系</p>
<h2 id="-4-"><a href=""></a>4  虚拟节点</h2>
<p>考量 Hash 算法的另一个指标是平衡性 (Balance) ，定义如下：</p>
<p>平衡性</p>
<p>平衡性是指哈希的结果能够尽可能分布到所有的缓冲中去，这样可以使得所有的缓冲空间都得到利用。</p>
<p>hash 算法并不是保证绝对的平衡，如果 cache 较少的话，对象并不能被均匀的映射到 cache 上，比如在上面的例子中，仅部署 cache A 和 cache C 的情况下，在 4 个对象中， cache A 仅存储了 object1 ，而 cache C 则存储了 object2 、 object3 和 object4 ；分布是很不均衡的。</p>
<p>为了解决这种情况， consistent hashing 引入了“虚拟节点”的概念，它可以如下定义：</p>
<p>“虚拟节点”（ virtual node ）是实际节点在 hash 空间的复制品（ replica ），一实际个节点对应了若干个“虚拟节点”，这个对应个数也成为“复制个数”，“虚拟节点”在 hash 空间中以 hash 值排列。</p>
<p>仍以仅部署 cache A 和 cache C 的情况为例，在图 4 中我们已经看到， cache 分布并不均匀。现在我们引入虚拟节点，并设置“复制个数”为 2 ，这就意味着一共会存在 4 个“虚拟节点”，  cache A1, cache A2 代表了 cache A ； cache C1, cache C2 代表了 cache C ；假设一种比较理想的情况，参见图 6 。</p>
<p><img src="" alt="virtual nodes"></p>
<p>图 6  引入“虚拟节点”后的映射关系</p>
<p>此时，对象到“虚拟节点”的映射关系为：</p>
<p>objec1-&gt;cache A2 ； objec2-&gt;cache A1 ； objec3-&gt;cache C1 ； objec4-&gt;cache C2 ；</p>
<p>因此对象 object1 和 object2 都被映射到了 cache A 上，而 object3 和 object4 映射到了 cache C 上；平衡性有了很大提高。</p>
<p>引入“虚拟节点”后，映射关系就从 { 对象 -&gt; 节点 } 转换到了 { 对象 -&gt; 虚拟节点 } 。查询物体所在 cache 时的映射关系如图 7 所示。</p>
<p><img src="" alt="map"></p>
<p>图 7  查询对象所在 cache</p>
<p>“虚拟节点”的 hash 计算可以采用对应节点的 IP 地址加数字后缀的方式。例如假设 cache A 的 IP 地址为 202.168.14.241 。</p>
<p>引入“虚拟节点”前，计算 cache A 的 hash 值：</p>
<p>Hash(“202.168.14.241”);</p>
<p>引入“虚拟节点”后，计算“虚拟节”点 cache A1 和 cache A2 的 hash 值：</p>
<p>Hash(“202.168.14.241/#1”);   // cache A1</p>
<p>Hash(“202.168.14.241/#2”);   // cache A2</p>
<h2 id="-5-"><a href=""></a>5  小结</h2>
<p>Consistent hashing 的基本原理就是这些，具体的分布性等理论分析应该是很复杂的，不过一般也用不到。</p>
<p><a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing" target="_blank"><a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing">http://weblogs.java.net/blog/2007/11/27/consistent-hashing</a></a>  上面有一个 java 版本的例子，可以参考。</p>
<p><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx" target="_blank"><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx">http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx</a></a>  转载了一个 PHP 版的实现代码。</p>
<p><a href="http://www.codeproject.com/KB/recipes/lib-conhash.aspx" target="_blank"><a href="http://www.codeproject.com/KB/recipes/lib-conhash.aspx">http://www.codeproject.com/KB/recipes/lib-conhash.aspx</a></a> C语言版本</p>
<p>一些参考资料地址：</p>
<p><a href="http://portal.acm.org/citation.cfm?id=258660" target="_blank"><a href="http://portal.acm.org/citation.cfm?id=258660">http://portal.acm.org/citation.cfm?id=258660</a></a></p>
<p><a href="http://en.wikipedia.org/wiki/Consistent_hashing" target="_blank"><a href="http://en.wikipedia.org/wiki/Consistent_hashing">http://en.wikipedia.org/wiki/Consistent_hashing</a></a></p>
<p><a href="http://www.spiteful.com/2008/03/17/programmers-toolbox-part-3-consistent-hashing/" target="_blank"><a href="http://www.spiteful.com/2008/03/17/programmers-toolbox-part-3-consistent-hashing/">http://www.spiteful.com/2008/03/17/programmers-toolbox-part-3-consistent-hashing/</a></a></p>
<p> <a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing" target="_blank"><a href="http://weblogs.java.net/blog/2007/11/27/consistent-hashing">http://weblogs.java.net/blog/2007/11/27/consistent-hashing</a></a></p>
<p><a href="http://tech.idv2.com/2008/07/24/memcached-004/" target="_blank"><a href="http://tech.idv2.com/2008/07/24/memcached-004/">http://tech.idv2.com/2008/07/24/memcached-004/</a></a></p>
<p><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx" target="_blank"><a href="http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx">http://blog.csdn.net/mayongzhan/archive/2009/06/25/4298834.aspx</a></a></p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a></p>
<ol>
<li>上一篇：<a href="http://blog.csdn.net/sparkliang/article/details/5272296" target="_blank">Map Reduce – the Free Lunch is not over?</a></li>
<li>下一篇：<a href="http://blog.csdn.net/sparkliang/article/details/5279424" target="_blank">Hadoop分布式文件系统：架构和设计要点</a>
查看评论<a href=""></a></li>
</ol>
<p>70楼 <a href="http://blog.csdn.net/u011335846" target="_blank">Spark-zh</a> 2013-07-09 20:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/u011335846" target="_blank"><img src="" alt=""></a>感谢楼主的讲解，很明了。69楼 <a href="http://blog.csdn.net/thomastianqq" target="_blank">thomastianqq</a> 2013-07-09 17:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/thomastianqq" target="_blank"><img src="" alt=""></a>单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够保证原有已分配的内容可以被映射到新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。
Hi,LZ，文中关于单调性的阐述是错误的。正确的应该是：哈希的结果应能够保证原有已分配的内容可以被映射到原有的或者新的缓冲中去，而不会被映射到旧的缓冲集合中的其他缓冲区。68楼 <a href="http://blog.csdn.net/lgfeng218" target="_blank">lgfeng218</a> 2013-06-26 11:59发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lgfeng218" target="_blank"><img src="" alt=""></a>通俗易懂67楼 <a href="http://blog.csdn.net/midstr" target="_blank">midstr</a> 2013-06-18 14:54发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/midstr" target="_blank"><img src="" alt=""></a>通俗易懂，顶一个哈66楼 <a href="http://blog.csdn.net/zxh87" target="_blank">zxh87</a> 2013-06-03 15:18发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zxh87" target="_blank"><img src="" alt=""></a>很好，又看了一次！65楼 <a href="http://blog.csdn.net/fanjiabing" target="_blank">fanjiabing</a> 2013-05-22 16:00发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/fanjiabing" target="_blank"><img src="" alt=""></a>写的很好!64楼 <a href="http://blog.csdn.net/mydreamongo" target="_blank">mydreamongo</a> 2013-05-20 16:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/mydreamongo" target="_blank"><img src="" alt=""></a>讲的很好。。63楼 <a href="http://blog.csdn.net/bingmo01" target="_blank">bingmo01</a> 2013-05-17 00:31发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/bingmo01" target="_blank"><img src="" alt=""></a>很给力。基本上看懂62楼 <a href="http://blog.csdn.net/perfectshark" target="_blank">perfectshark</a> 2013-05-11 13:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/perfectshark" target="_blank"><img src="" alt=""></a>浅显易懂！61楼 <a href="http://blog.csdn.net/pymqqq" target="_blank">pymqqq</a> 2013-05-04 20:18发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/pymqqq" target="_blank"><img src="" alt=""></a>非常好，谢谢楼主！学习了！60楼 <a href="http://blog.csdn.net/zhaowenchaofang" target="_blank">草原面朝大海</a> 2013-04-30 22:59发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zhaowenchaofang" target="_blank"><img src="" alt=""></a>假设我们已经在cache A中存储了一个object 1，然后不巧的是cacheA在之后被删除了，这时候我们需要访问object1，难道再一次进行hash，将object1存到下一个cache中吗？
如果上述成立，问题是我们如何将object1从cacheA中读取出来，因为在实际情况中，很有可能是cacheA是一下子坏掉了。Re: <a href="http://blog.csdn.net/xuhb95083023" target="_blank">总版主</a> 2013-05-07 17:08发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xuhb95083023" target="_blank"><img src="" alt=""></a>回复zhaowenchaofang：我觉得可以把OBJ存三份，分别再顺时针往后三个cache中，这样就算cache瞬间崩溃了，那么重新复制一份备份保证有三个备份即可，加CACHE也不是问题，剪切一部分obj到新增的cache上即可。59楼 <a href="http://blog.csdn.net/sc274491910" target="_blank">sc274491910</a> 2013-04-19 18:07发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sc274491910" target="_blank"><img src="" alt=""></a>加入了虚拟节点后，出现加减节点的情况，这种情况怎么权衡呢？58楼 <a href="http://blog.csdn.net/r4t5y6u7" target="_blank">r4t5y6u7</a> 2013-04-07 13:46发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/r4t5y6u7" target="_blank"><img src="" alt=""></a>讲的太好了，清晰明了，浅显易懂57楼 <a href="http://blog.csdn.net/u010096845" target="_blank">轻舞飘扬</a> 2013-03-30 17:09发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/u010096845" target="_blank"><img src="" alt=""></a>非常好56楼 <a href="http://blog.csdn.net/scncpb" target="_blank">scncpb</a> 2013-03-27 15:13发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/scncpb" target="_blank"><img src="" alt=""></a>作者写的和老外写的一样通俗易懂55楼 <a href="http://blog.csdn.net/mail_f5" target="_blank">mail_f5</a> 2013-02-21 17:55发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/mail_f5" target="_blank"><img src="" alt=""></a>图文并茂，不错54楼 <a href="http://blog.csdn.net/zhouxiaoqingelse" target="_blank">zhouxiaoqingelse</a> 2013-02-20 18:18发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zhouxiaoqingelse" target="_blank"><img src="" alt=""></a>非常清晰，感谢。53楼 <a href="http://blog.csdn.net/sight_" target="_blank">sight_</a> 2013-01-22 11:08发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sight_" target="_blank"><img src="" alt=""></a>楼主，有个问题请教一下,这个算法是如何保证后面添加的服务器能承担更多的任务，我应该如何控制&quot;更多&quot;这个量。例如我的服务器是分等级的，如何根据这个等级来控制hash到它上面的任务。Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2013-01-22 13:57发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复sight<em>：首先新加入的节点，将会把后继节点的部分数据分流给自己；
后面的新数据将会根据hash结果，无区别的分配到各节点上；
从我了解的来看，hash本身解决不了你说的分等级问题；hash环上的所有节点都是无差别对待的。不过对于引入虚拟节点的hash环来说，一个方法就是根据优先级来设置vnode的个数，这样也可以做到能力强的节点承担更多数据的结果，从统计意义上，实际上可能略有偏差。52楼 <a href="http://blog.csdn.net/lyzlovely" target="_blank">林大虫</a> 2012-12-24 13:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lyzlovely" target="_blank"><img src="" alt=""></a>讲得很清晰啊51楼 <a href="http://blog.csdn.net/dream1baby" target="_blank">dream1baby</a> 2012-12-18 11:32发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/dream1baby" target="_blank"><img src="" alt=""></a>赞，学习了！50楼 <a href="http://blog.csdn.net/blueskyltt" target="_blank">blueskyltt</a> 2012-12-03 18:30发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/blueskyltt" target="_blank"><img src="" alt=""></a>楼主讲的很浅显易懂，赞49楼 <a href="http://blog.csdn.net/syzcch" target="_blank">syzcch</a> 2012-11-12 09:11发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/syzcch" target="_blank"><img src="" alt=""></a>讲的浅显易懂48楼 <a href="http://blog.csdn.net/jixianwu2009" target="_blank">jixianwu2009</a> 2012-11-05 10:03发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/jixianwu2009" target="_blank"><img src="" alt=""></a>清晰明了47楼 <a href="http://blog.csdn.net/guoqingcun" target="_blank">月亮床</a> 2012-10-23 18:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/guoqingcun" target="_blank"><img src="" alt=""></a>受益非浅46楼 <a href="http://blog.csdn.net/ju136" target="_blank">ju136</a> 2012-10-16 09:32发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/ju136" target="_blank"><img src="" alt=""></a>good45楼 <a href="http://blog.csdn.net/yangqisheng" target="_blank">yangqisheng</a> 2012-10-07 13:42发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/yangqisheng" target="_blank"><img src="" alt=""></a>楼主写的很好，一看就懂。我非常喜欢图文并茂的说明。谢谢楼主。44楼 <a href="http://blog.csdn.net/lcw918110" target="_blank">lcw918110</a> 2012-09-05 10:14发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lcw918110" target="_blank"><img src="" alt=""></a>3.5.1中，这时受影响的将仅是那些沿 cache B 逆时针遍历直到下一个 cache （ cache C ）之间的对象。其中的cache C如图所示应为 A。请楼主检查下。
谢谢楼主的博文。Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2012-09-05 15:42发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复lcw918110：赞，看的很仔细；逆时针是在A上，顺时针落在C上。Re: <a href="http://blog.csdn.net/lcw918110" target="_blank">lcw918110</a> 2012-09-07 11:40发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lcw918110" target="_blank"><img src="" alt=""></a>回复sparkliang：楼主，关于cache中使用的hash算法，楼主知道的还有哪些？学习学习。43楼 <a href="http://blog.csdn.net/renjunyi6666" target="_blank">renjunyi6666</a> 2012-08-23 11:38发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/renjunyi6666" target="_blank"><img src="" alt=""></a>受益!谢谢42楼 <a href="http://blog.csdn.net/Myxiao7" target="_blank">Myxiao7</a> 2012-08-17 21:05发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/Myxiao7" target="_blank"><img src="" alt=""></a>学习了41楼 <a href="http://blog.csdn.net/skywhsq1987" target="_blank">skywhsq1987</a> 2012-08-02 10:35发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/skywhsq1987" target="_blank"><img src="" alt=""></a>ding40楼 <a href="http://blog.csdn.net/m_vptr" target="_blank">m_vptr</a> 2012-08-02 09:25发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/m_vptr" target="_blank"><img src="" alt=""></a>好文章39楼 <a href="http://blog.csdn.net/boYwell" target="_blank">boYwell</a> 2012-08-01 09:08发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/boYwell" target="_blank"><img src="" alt=""></a>文笔很好，赞一个38楼 <a href="http://blog.csdn.net/leejunjie2008" target="_blank">YcdoiT</a> 2012-07-26 16:40发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/leejunjie2008" target="_blank"><img src="" alt=""></a>顶一个，我这种悟性的都能看懂了37楼 <a href="http://blog.csdn.net/longsaiqin" target="_blank">大城小爱</a> 2012-07-06 19:02发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/longsaiqin" target="_blank"><img src="" alt=""></a>讲得很清晰，不错不错36楼 <a href="http://blog.csdn.net/BruceXX" target="_blank">brucest0078</a> 2012-06-18 11:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/BruceXX" target="_blank"><img src="" alt=""></a>关于virtualNode 有一些问题，因为你的key在存储的时候可以这样，但是读取的时候只有原生的key去相关的内容，而不会把vNode的ip之类的带进去，所以这里只是理论呢还是已经有实践过？表示怀疑。Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2012-06-18 13:52发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复BruceXX：读取的时候，关vnode什么事呢。读取者事先是不知道key存在那个节点上的。35楼 <a href="http://blog.csdn.net/Honeybb" target="_blank">Honeybb</a> 2012-06-12 09:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/Honeybb" target="_blank"><img src="" alt=""></a>最近在看这方面的文章，很迷茫。 楼主，分布式网络关于资源定位与一致性哈希算法和paxos算法的关系，请楼主明示啊！Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2012-06-18 13:52发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复Honeybb：一致性哈希算法和paxos算法，没什么关联34楼 <a href="http://blog.csdn.net/laigege" target="_blank">laigege</a> 2012-06-02 09:48发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/laigege" target="_blank"><img src="" alt=""></a>楼主是好人33楼 <a href="http://blog.csdn.net/dengjm_2011" target="_blank">dengjm_2011</a> 2012-05-23 16:41发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/dengjm_2011" target="_blank"><img src="" alt=""></a>很不错的文章，简单明了！32楼 <a href="http://blog.csdn.net/zcl198715" target="_blank">zcl198715</a> 2012-04-29 21:34发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zcl198715" target="_blank"><img src="" alt=""></a>分析的很好！赞一个！31楼 <a href="http://blog.csdn.net/leonkyd" target="_blank">leonkyd</a> 2012-04-21 10:28发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/leonkyd" target="_blank"><img src="" alt=""></a>非常好的技术文章，赞一个30楼 <a href="http://blog.csdn.net/wumucehng" target="_blank">wumucheng</a> 2012-04-06 20:04发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/wumucehng" target="_blank"><img src="" alt=""></a>讲得非常清晰，赞！29楼 <a href="http://blog.csdn.net/lqbbduck" target="_blank">lqbbduck</a> 2012-03-30 00:51发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lqbbduck" target="_blank"><img src="" alt=""></a>分析得很好28楼 <a href="http://blog.csdn.net/TCCaiWQ" target="_blank">TCCaiWQ</a> 2012-03-15 16:54发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/TCCaiWQ" target="_blank"><img src="" alt=""></a>简洁明了27楼 <a href="http://blog.csdn.net/RunZhi1989" target="_blank">RunZhi1989</a> 2012-03-05 17:22发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/RunZhi1989" target="_blank"><img src="" alt=""></a>赞，我看英文维基百科一直没看懂，博主的东西真是简洁明了。赞赞赞！26楼 <a href="http://blog.csdn.net/libobo5954451" target="_blank">libobo5954451</a> 2012-02-10 18:02发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/libobo5954451" target="_blank"><img src="" alt=""></a>非常好25楼 <a href="http://blog.csdn.net/humingchun" target="_blank">humingchun</a> 2012-01-02 19:44发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/humingchun" target="_blank"><img src="" alt=""></a>偶竟然看明白了 说明写的很清楚 呵呵24楼 <a href="http://blog.csdn.net/jmx_zhidai" target="_blank">jmx_zhidai</a> 2011-11-24 16:31发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/jmx_zhidai" target="_blank"><img src="" alt=""></a>写的非常明白，赞一个！！！23楼 <a href="http://blog.csdn.net/yfkiss" target="_blank">yfk</a> 2011-11-16 15:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/yfkiss" target="_blank"><img src="" alt=""></a>很赞的文章
谢谢lZ22楼 <a href="http://blog.csdn.net/kutpbpb_CSDN" target="_blank">南山道人</a> 2011-11-16 12:47发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/kutpbpb_CSDN" target="_blank"><img src="" alt=""></a>顶，非常感谢！21楼 <a href="http://blog.csdn.net/zhaopeinow" target="_blank">zhaopeinow</a> 2011-10-20 17:52发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/zhaopeinow" target="_blank"><img src="" alt=""></a>顶20楼 <a href="http://blog.csdn.net/lbqBraveheart" target="_blank">lbqBraveheart</a> 2011-10-12 15:03发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/lbqBraveheart" target="_blank"><img src="" alt=""></a>顶19楼 <a href="http://blog.csdn.net/xiangliangyu2008" target="_blank">向良玉</a> 2011-10-11 13:59发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xiangliangyu2008" target="_blank"><img src="" alt=""></a>好文章18楼 <a href="http://blog.csdn.net/xgtogd" target="_blank">xgtogd</a> 2011-09-25 23:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xgtogd" target="_blank"><img src="" alt=""></a>很好17楼 <a href="http://blog.csdn.net/fairywell" target="_blank">fairywell</a> 2011-09-12 21:54发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/fairywell" target="_blank"><img src="" alt=""></a>好文，图文并茂，让我一下就看明白了 ：）
Mark并收藏~~16楼 <a href="http://blog.csdn.net/parakpurple" target="_blank">parakpurple</a> 2011-08-29 17:09发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/parakpurple" target="_blank"><img src="" alt=""></a>写的太棒了 深入浅出15楼 <a href="http://blog.csdn.net/bokee" target="_blank">bokee</a> 2011-08-06 16:12发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/bokee" target="_blank"><img src="" alt=""></a>很清晰啊，想问下你的图是用什么工具画的？Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2011-08-30 09:19发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复bokee：visio啊14楼 <a href="http://blog.csdn.net/dahai_888" target="_blank">dahai_888</a> 2011-07-16 17:12发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/dahai_888" target="_blank"><img src="" alt=""></a>不得了。13楼 <a href="http://blog.csdn.net/wayon_yang" target="_blank">wayon_yang</a> 2011-05-30 11:49发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/wayon_yang" target="_blank"><img src="" alt=""></a>[e01]
英语不好 之前没看懂 现在清晰多了12楼 <a href="http://blog.csdn.net/laoyi19861011" target="_blank">laoyi19861011</a> 2011-05-13 20:45发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/laoyi19861011" target="_blank"><img src="" alt=""></a>这么好的一篇文章居然没有推荐，csdn的编辑干嘛吃去了11楼 <a href="http://blog.csdn.net/chemila" target="_blank">chemila</a> 2011-03-31 17:45发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/chemila" target="_blank"><img src="" alt=""></a>[e01]10楼 <a href="http://blog.csdn.net/liomao" target="_blank">liomao</a> 2011-03-29 09:13发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/liomao" target="_blank"><img src="" alt=""></a>[e10]9楼 <a href="http://blog.csdn.net/xunujNext" target="_blank">xunujNext</a> 2011-02-17 22:28发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/xunujNext" target="_blank"><img src="" alt=""></a>不得不[e01]8楼 <a href="http://blog.csdn.net/printfabcd" target="_blank">printfabcd</a> 2010-12-17 14:51发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/printfabcd" target="_blank"><img src="" alt=""></a>请问虚拟节点，怎么保证均匀分布在，那个环上呢？？O(∩</em>∩)O~Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2011-03-11 15:31发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复 printfabcd：这就要由hash算法来保证了，均匀分布是概率上的均匀，当虚拟节点足够时，就能保证大概均匀了。7楼 <a href="http://blog.csdn.net/ccnuliu" target="_blank">ccnuliu</a> 2010-06-23 00:01发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/ccnuliu" target="_blank"><img src="" alt=""></a>假如cache通过hash函数计算出的值 和 object通过hash函数计算出来的值是同一个hash值怎么办？
那object应该指向哪个cache?Re: <a href="http://blog.csdn.net/sparkliang" target="_blank">sparkliang</a> 2010-06-24 09:41发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/sparkliang" target="_blank"><img src="" alt=""></a>回复 ccnuliu：如果碰巧相同，就是指向具有相同hash值的cache。选择的原则是cache.hash &gt;= object.hash；（当然在环的衔接处是例外）Re: <a href="http://blog.csdn.net/a43350860" target="_blank">a43350860</a> 2011-03-05 18:27发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/a43350860" target="_blank"><img src="" alt=""></a>回复 sparkliang：假设我给hash环开启一扇大门，所有的值进来都必须经过这一扇门，那么我只要在这一扇大门里加一个hash关卡，我不关心你传进来的值是什么类型，是什么形态，我都是统一做hash运算，然后再分配到相应的节点上面去。6楼 <a href="http://blog.csdn.net/ccnuliu" target="_blank">ccnuliu</a> 2010-06-23 00:01发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/ccnuliu" target="_blank"><img src="" alt=""></a>问你一个问题
加入cache通过hash函数计算出的值 和 object通过hash函数计算出来的值是同一个hash值怎么办？
那object应该指向哪个cache?5楼 <a href="http://blog.csdn.net/chengqianl" target="_blank">chengqianl</a> 2010-06-02 16:53发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/chengqianl" target="_blank"><img src="" alt=""></a>收益了4楼 <a href="http://blog.csdn.net/specific_intel" target="_blank">specific_intel</a> 2010-05-12 16:26发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/specific_intel" target="_blank"><img src="" alt=""></a>[e01] 非常清晰，谢谢！3楼 <a href="http://blog.csdn.net/yayaaishenghuo" target="_blank">yayaaishenghuo</a> 2010-03-09 13:46发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/yayaaishenghuo" target="_blank"><img src="" alt=""></a>讲得太好了2楼 <a href="http://blog.csdn.net/匿名用户" target="_blank">匿名用户</a> 2010-02-22 10:06发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/匿名用户" target="_blank"><img src="" alt=""></a>[e10]1楼 <a href="http://blog.csdn.net/匿名用户" target="_blank">匿名用户</a> 2010-02-22 10:05发表 <a href="&quot;回复&quot;">[回复]</a>  <a href="&quot;引用&quot;">[引用]</a> <a href="&quot;举报&quot;">[举报]</a><a href="http://blog.csdn.net/匿名用户" target="_blank"><img src="" alt=""></a>[e01]
您还没有登录,请<a href="">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fsparkliang%2Farticle%2Fdetails%2F5279393" target="_blank">[注册]</a></p>
<p>/* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a href=""></a><a href=""></a>
<a href="&quot;回到顶部&quot;"><img src="" alt="TOP"></a></p>
<p>个人资料</p>
<p><a href="http://my.csdn.net/sparkliang" target="_blank"><img src="&quot;访问我的空间&quot;" alt=""></a>
<a href="http://my.csdn.net/sparkliang" target="_blank">sparkliang</a></p>
<p><a href="&quot;[加关注]&quot;"></a> <a href="&quot;[发私信]&quot;"></a>
<a href="http://medal.blog.csdn.net/allmedal.aspx" target="_blank"><img src="" alt=""></a></p>
<ul>
<li>访问：383734次</li>
<li>积分：3864分</li>
<li><p>排名：第1399名</p>
</li>
<li><p>原创：87篇</p>
</li>
<li>转载：15篇</li>
<li>译文：4篇</li>
<li>评论：395条</li>
</ul>
<p>文章搜索</p>
<p><a href=""></a></p>
<p>文章分类</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488400" target="_blank">C/C++语言</a>(25)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/806112" target="_blank">ICE相关</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/660506" target="_blank">libevent分析</a>(14)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/635072" target="_blank">Linux</a>(7)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/503089" target="_blank">STL</a>(4)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/534835" target="_blank">Windows程序设计</a>(8)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/699896" target="_blank">分布式系统</a>(32)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488397" target="_blank">算法艺术</a>(8)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/614184" target="_blank">网络程序设计</a>(31)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488399" target="_blank">虚拟现实</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/641160" target="_blank">软件架构</a>(11)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/category/488398" target="_blank">随笔</a>(8)</li>
<li><p><a href="http://blog.csdn.net/sparkliang/article/category/1342001" target="_blank">Leveldb</a>(19)
文章存档</p>
</li>
<li><p><a href="http://blog.csdn.net/sparkliang/article/month/2013/07" target="_blank">2013年07月</a>(1)</p>
</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/06" target="_blank">2013年06月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/05" target="_blank">2013年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/04" target="_blank">2013年04月</a>(5)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/03" target="_blank">2013年03月</a>(7)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2013/02" target="_blank">2013年02月</a>(5)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/11" target="_blank">2012年11月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/10" target="_blank">2012年10月</a>(3)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/05" target="_blank">2012年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2012/02" target="_blank">2012年02月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/12" target="_blank">2011年12月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/11" target="_blank">2011年11月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/07" target="_blank">2011年07月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/06" target="_blank">2011年06月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2011/04" target="_blank">2011年04月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/10" target="_blank">2010年10月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/09" target="_blank">2010年09月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/07" target="_blank">2010年07月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/06" target="_blank">2010年06月</a>(7)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/05" target="_blank">2010年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/04" target="_blank">2010年04月</a>(5)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/03" target="_blank">2010年03月</a>(6)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/02" target="_blank">2010年02月</a>(6)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2010/01" target="_blank">2010年01月</a>(8)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/12" target="_blank">2009年12月</a>(14)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/11" target="_blank">2009年11月</a>(3)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/08" target="_blank">2009年08月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/07" target="_blank">2009年07月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/06" target="_blank">2009年06月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/04" target="_blank">2009年04月</a>(4)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/03" target="_blank">2009年03月</a>(2)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2009/01" target="_blank">2009年01月</a>(1)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2008/12" target="_blank">2008年12月</a>(6)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/month/2008/11" target="_blank">2008年11月</a>(1)</li>
</ul>
<p>展开</p>
<p>阅读排行</p>
<ul>
<li><a href="&quot;一致性hash算法 - consistent hashing&quot;">一致性hash算法 - consistent hashing</a>(46507)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957667" title="libevent源码深度剖析一" target="_blank">libevent源码深度剖析一</a>(38682)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655" title="Linux Epoll介绍和程序实例" target="_blank">Linux Epoll介绍和程序实例</a>(29675)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957744" title="libevent源码深度剖析二" target="_blank">libevent源码深度剖析二</a>(24922)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957820" title="libevent源码深度剖析三" target="_blank">libevent源码深度剖析三</a>(21004)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4974876" title="libevent源码深度剖析五" target="_blank">libevent源码深度剖析五</a>(14714)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5202394" title="libevent源码深度剖析PDF" target="_blank">libevent源码深度剖析PDF</a>(13425)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957885" title="libevent源码深度剖析四" target="_blank">libevent源码深度剖析四</a>(12823)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4985955" title="libevent源码深度剖析六" target="_blank">libevent源码深度剖析六</a>(11796)</li>
<li><p><a href="http://blog.csdn.net/sparkliang/article/details/4987751" title="libevent源码深度剖析七" target="_blank">libevent源码深度剖析七</a>(10646)
评论排行</p>
</li>
<li><p><a href="&quot;一致性hash算法 - consistent hashing&quot;">一致性hash算法 - consistent hashing</a>(80)</p>
</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655" title="Linux Epoll介绍和程序实例" target="_blank">Linux Epoll介绍和程序实例</a>(67)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5359634" title="C/C++语言实现动态数组" target="_blank">C/C++语言实现动态数组</a>(21)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957667" title="libevent源码深度剖析一" target="_blank">libevent源码深度剖析一</a>(20)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957820" title="libevent源码深度剖析三" target="_blank">libevent源码深度剖析三</a>(15)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5350272" title="开源网络框架HPServer0.2.10版发布" target="_blank">开源网络框架HPServer0.2.10版发布</a>(14)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5284579" title="KMP算法真的很简单1" target="_blank">KMP算法真的很简单1</a>(12)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4957744" title="libevent源码深度剖析二" target="_blank">libevent源码深度剖析二</a>(12)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5306809" title="libevent源码深度剖析十三——libevent信号处理注意点" target="_blank">libevent源码深度剖析十三——libevent信号处理注意点</a>(11)</li>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5202394" title="libevent源码深度剖析PDF" target="_blank">libevent源码深度剖析PDF</a>(10)</li>
</ul>
<p>推荐文章
最新评论</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/xystar2012" target="_blank">xystar2012</a>: 代码有一个bug，在accpet后的sockfd，每次读或者写时，不能再调用epoll_ctl的EP...</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/zhkhhust" target="_blank">zhkhhust</a>: 楼主您好，我在ubuntu 下面测试时， 发现每次用 telnet 连接到 12345 端口，刚打了...</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/geniuslinchao" target="_blank">geniuslinchao</a>: 例子程序少加了stirng.h和stdlib.h两个头文件</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/u011335846" target="_blank">Spark-zh</a>: 感谢楼主的讲解，很明了。</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/thomastianqq" target="_blank">thomastianqq</a>: 单调性是指如果已经有一些内容通过哈希分派到了相应的缓冲中，又有新的缓冲加入到系统中。哈希的结果应能够...</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/lgfeng218" target="_blank">lgfeng218</a>: 通俗易懂</p>
<ul>
<li><a href="">一致性hash算法 - consistent hashing</a></li>
</ul>
<p><a href="http://blog.csdn.net/midstr" target="_blank">midstr</a>: 通俗易懂，顶一个哈</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4836536#comments" target="_blank">Epoll vs. IOCP</a></li>
</ul>
<p><a href="http://blog.csdn.net/xly931" target="_blank">xly931</a>: @tiange0823:一般说的阻塞都是只IO操作本身是否阻塞（参见unix网络编程第六章）；epo...</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/4770655#comments" target="_blank">Linux Epoll介绍和程序实例</a></li>
</ul>
<p><a href="http://blog.csdn.net/qiuzhenguang" target="_blank">qiuzhenguang</a>: 相当好的一篇教程，学习了！多谢楼主。</p>
<ul>
<li><a href="http://blog.csdn.net/sparkliang/article/details/5202394#comments" target="_blank">libevent源码深度剖析PDF</a></li>
</ul>
<p><a href="http://blog.csdn.net/superyongzhe" target="_blank">superyongzhe</a>: 谢谢分享！！！</p>
<p><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2355263776&amp;site=qq&amp;menu=yes" target="_blank">QQ客服</a> <a href="http://e.weibo.com/csdnsupport/profile" target="_blank">微博客服</a> <a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a> <a href="mailto:webmaster@csdn.net">联系邮箱：webmaster@csdn.net</a> 服务热线：400-600-2320京 ICP 证 070598 号北京创新乐知信息技术有限公司 版权所有世纪乐知(北京)网络技术有限公司 提供技术支持江苏乐知网络技术有限公司 提供商务支持Copyright © 1999-2012, CSDN.NET, All Rights Reserved <a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="" alt="GongshangLogo"></a>
<img src="http://counter.csdn.net/pv.aspx?id=24" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/">算法&数组&优化</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/算法/">算法</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/算法/" class="label label-success">算法</a><a href="/tags/算法&数组&优化/" class="label label-info">算法&数组&优化</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-算法数组优化-算法--一致性hash算法-consistenthashing" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--散列表/">散列表</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--散列表/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">散列表</h1>
<p><strong>博客分类：</strong> </p>
<ul>
<li><a href="http://tangyanbo.iteye.com/category/214982" target="_blank">数据结构</a>
<a href="http://www.iteye.com/blogs/tag/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" target="_blank">数据结构</a></li>
</ul>
<p><strong>【散列表】</strong> 
它是用一个散列函数把关键字 映射到散列表中的特定位置。 
在理想情况下，如果元素e 的关键字为k，散列函 数为f，那么e 在散列表中的位置为f (k)。要搜索关键字为k 
的元素，首先要计算出f (k)，然后看 表中f (k)处是否有元素。如果有，便找到了该元素。如果没有，说明该字典中不包含该元素。 
在前一种情况中，如果要删除该元素，只需把表中f (k)位置置为空即可。在后一种情况中，可 以通过把元素放在f (k)位置以实现插入。 
此例是一个理想情况下的散列表，不考虑关键字重复的情况</p>
<p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"></a></p>
<ol>
<li>public class HashList {   </li>
<li></li>
<li>private String[] table;  </li>
<li></li>
<li>private int size;  </li>
<li></li>
<li>private int threshold;  </li>
<li></li>
<li>private static final int INITIAL_CAPACITY = 10;  </li>
<li></li>
<li>private static final int SIZE_INCREASE = 10;  </li>
<li></li>
<li>private static final float DEFAULT_LOAD_FACTOR = 0.75f;  </li>
<li></li>
<li></li>
<li></li>
<li>public HashList(){  </li>
<li>threshold = (int)(INITIAL_CAPACITY/*DEFAULT_LOAD_FACTOR);  </li>
<li>table = new String[INITIAL_CAPACITY];  </li>
<li>}  </li>
<li></li>
<li></li>
<li></li>
<li>public HashList(String[] table){  </li>
<li>this.table = table;  </li>
<li>}  </li>
<li></li>
<li></li>
<li></li>
<li></li>
<li>//<em>/</em> </li>
<li>/* Get the actual size of the list </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public int size(){  </li>
<li>return size;  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* for test </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public String[] getElements(){  </li>
<li>return table;  </li>
<li>}  </li>
<li></li>
<li>public boolean contains(String element) {  </li>
<li>if (element == null) {  </li>
<li>return false;  </li>
<li>}  </li>
<li>if (element.equals(table[getIndex(element)])) {  </li>
<li>return true;  </li>
<li>}  </li>
<li>return false;  </li>
<li>}  </li>
<li></li>
<li>public void add(String element){  </li>
<li>int index = getIndex(element);  </li>
<li>if(size&gt;threshold){  </li>
<li>resize();  </li>
<li>}  </li>
<li>table[index] = element;  </li>
<li>size++;  </li>
<li>}  </li>
<li></li>
<li></li>
<li></li>
<li>//private methods  </li>
<li>//<em>/</em> </li>
<li>/* resize the array </li>
<li>/*/  </li>
<li>private void resize(){  </li>
<li>String[] newArray = new String[table.length+SIZE_INCREASE];  </li>
<li>for(int i=0;i&lt;table.length;i++){  </li>
<li>newArray[i] = table[i];  </li>
<li>}  </li>
<li>table = newArray;  </li>
<li>threshold = (int)(table.length/*DEFAULT_LOAD_FACTOR);  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* get the index of the element </li>
<li>/* @param element </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public int getIndex(String element) {  </li>
<li>return (element.hashCode() &amp; 0x7FFFFFFF) % table.length;  </li>
<li>}     </li>
<li>}  </li>
</ol>
<p>来源： <a href="[http://tangyanbo.iteye.com/blog/1476372](http://tangyanbo.iteye.com/blog/1476372)">[http://tangyanbo.iteye.com/blog/1476372](http://tangyanbo.iteye.com/blog/1476372)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/">算法&数组&优化</a></li><li><a href="/categories/Java&J2EE/算法&数组&优化/算法/">算法</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/算法/" class="label label-success">算法</a><a href="/tags/算法&数组&优化/" class="label label-info">算法&数组&优化</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-算法--散列表/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-算法数组优化-算法--散列表" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/75/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/73/">73</a></li><li><a class="page-number" href="/page/74/">74</a></li><li><a class="page-number" href="/page/75/">75</a></li><li class="active"><li><span class="page-number current">76</span></li><li><a class="page-number" href="/page/77/">77</a></li><li><a class="page-number" href="/page/78/">78</a></li><li><a class="page-number" href="/page/79/">79</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/77/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 17:30:36</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
