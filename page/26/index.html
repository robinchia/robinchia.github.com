
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 26 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-服务器-集群--LINUX下使用apachetomcat构建WEB集群系统/">最新分享_分享_百度空间</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T09:54:44.000Z"> <a href="/2014/02/02/2014-02-02-服务器-集群--LINUX下使用apachetomcat构建WEB集群系统/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-_-_-">最新分享<em>分享</em>百度空间</h1>
<p><a href="http://hi.baidu.com/index.htm" target="_blank"><img src="" alt="百度空间Logo"></a></p>
<ul>
<li><p><a href="http://apps.hi.baidu.com/" target="_blank">应用</a>
<a href="http://hi.baidu.com/reg/new" target="_blank">注册</a>用户名:   密码:</p>
</li>
<li><p><a href="http://apps.hi.baidu.com/hoho" target="_blank">HOHO</a></p>
</li>
<li><a href="http://apps.hi.baidu.com/share" target="_blank">分享</a></li>
<li><a href="http://apps.hi.baidu.com/vote" target="_blank">投票</a></li>
<li><a href="http://apps.hi.baidu.com/test" target="_blank">测试</a></li>
<li><a href="http://apps.hi.baidu.com/gift" target="_blank">礼物</a></li>
</ul>
<h3 id="-http-hi-baidu-com-ihome-square-"><a href="http://hi.baidu.com//ihome/square" target="_blank">交友中心</a></h3>
<ul>
<li><a href="http://apps.hi.baidu.com/dashan" target="_blank">搭讪</a></li>
<li><a href="http://apps.hi.baidu.com/duiwei" target="_blank">对味测试</a></li>
<li><a href="http://apps.hi.baidu.com/suliao" target="_blank">闪电速聊</a></li>
<li><p><a href="http://hi.baidu.com//ihome/square" target="_blank">找朋友</a></p>
<h3 id="-http-apps-hi-baidu-com-apps-"><a href="http://apps.hi.baidu.com/apps" target="_blank">应用大厅</a></h3>
</li>
<li><p><a href="http://apps.hi.baidu.com/kaixinbuluo" target="_blank">开心部落</a></p>
</li>
<li><a href="http://apps.hi.baidu.com/rongcar" target="_blank">汽车工厂</a></li>
<li><p><a href="http://apps.hi.baidu.com/paopaoyu" target="_blank">泡泡鱼</a></p>
</li>
<li><p><a href="http://youxi.baidu.com/prom.xhtml?code=G-%D7%8E%81%B2%29%FF%8AR%BC%8B%EE%85%1C%E5" target="_blank">网页游戏</a></p>
</li>
</ul>
<h2 id="-">分享</h2>
<ul>
<li><a href="http://apps.hi.baidu.com/share/" target="_blank">热门分享</a></li>
<li><a href="http://apps.hi.baidu.com/share/latest/?type=video" target="_blank">最新分享</a></li>
<li><a href="http://apps.hi.baidu.com/share/detail/14955683#" target="_blank">好友的分享</a></li>
<li><a href="http://apps.hi.baidu.com/share/detail/14955683#" target="_blank">我的分享</a>
<a href="http://apps.hi.baidu.com/share/detail/14955683#" target="_blank">如何分享?</a> <a href="http://tieba.baidu.com/f?kw=%B0%D9%B6%C8%BF%D5%BC%E4" target="_blank">问题反馈</a></li>
</ul>
<p><a href=""></a></p>
<p><a href="http://hi.baidu.com/sys/checkuser/lpwok/3" target="_blank"><img src="" alt=""></a></p>
<p>   <a href="http://apps.hi.baidu.com/share/user/68db6c70776f6bd905" target="_blank">lpwok的分享</a></p>
<p>分享</p>
<p><a href="http://apps.hi.baidu.com/share/detail/14959808#content" target="_blank"></a>  <a href="http://apps.hi.baidu.com/share/detail/14797932#content"></a>
LINUX下使用apache+tomcat构建WEB集群系统</p>
<p><strong>一、集群的基本知识</strong>
        集群技术是目前非 常流行的提高系统服务能力与高可靠性（ HA- High Availability ）的手段，通过把多个独立的服务器组成一个集群可以实现失效无缝转移。也就是说当有某一台集群中的服务器当机后，其上的用户状态数据可以无缝迁移到集群中 的其他服务器上。这样，正在使用应用的客户可以完全感觉不到影响，大大提供了系统的可靠性。</p>
<p>集群有很多种类和层次，例如：操作系统集群（如 Linux 、 Solaris 等），数据库集群（如 DB2 、 Oracle 等），应用服务器集群（如 GlassFish 、 WebLogic 等） ,Web 集群（如 Tomcat 等）。本教程将向读者介绍由 Tomcat 搭建的 Web 集群。</p>
<p>不管是由什么技术搭建的集群，其基本组成由下图所示：
<img src="" alt="">
图 1-1</p>
<p>从图中可以看出，每个集群都需要一个负载均衡器，其负责根据一定的算法将外界发送到集群的请求尽量均匀地分配到集群中的每个服务器，使得集群中所有 服务器的负载尽量平衡。对外界的客户端而言其并不知道具体访问了集群中的哪台服务器，多台服务器从逻辑上对外界而言可以看作一台&quot;大&quot;服务器。这样，当集 群的服务能力不能满足当前的需要时，可以非常方便地再向集群中添加新的服务器来满足需要。可以看出，使用了集群之后，系统具有非常好的可扩展性。</p>
<p>当不幸集群中有某台服务器突然当机时，其用户状态数据可以迁移到其他服务器上，不影响在线用户的使用。这样，通过使用集群技术可以方便地实现系统的高可靠性。</p>
<p>本教程中将介绍的使用 Tomcat 搭建的 Web 集群结构如图 1-2 所示：</p>
<p><img src="" alt="">
图 1-2</p>
<p>从图中可以看出集群的负载均衡器由开源的 Apache 服务器担任，集群中的 Web 服务器由两个 Tomcat 服务器分别担任，后台的数据库服务器由一个 MySQL 服务器担任。</p>
<p>提示：本教程中介绍的是 Web 集群，因此数据库服务器只有一个，并没有搭建集群。在需要的情况下，多台数据库服务器也可以组成集群以提高服务能力与可靠性。</p>
<p><strong>二、安装JDK</strong></p>
<p><strong>三、安装TOMCAT</strong></p>
<ol>
<li>下载tomcat，可以通过下面的命令下载：</li>
</ol>
<p>/#wget <a href="http://apache.mirror.phpchina.com/tomcat/tomcat-6/v6.0.18/bin/apache-tomcat-6.0.18.tar.gz" target="_blank">http://apache.mirror.phpchina.com/tomcat/tomcat-6/v6.0.18/bin/apache-tomcat-6.0.18.tar.gz</a></p>
<ol>
<li>解压启动测试：</li>
</ol>
<p>/#tar -zxvf apache-tomcat-6.0.18.tar.gz
/#./apache-tomcat-6.0.18/bin/startup.sh</p>
<p>在浏览器中输入：<a href=""><a href="http://localhost:8080">http://localhost:8080</a></a>,看是否启动正常，若正常进行第三步。</p>
<ol>
<li>下面通过一个简单的&quot; Test.jsp &quot;程序进一步验证 Tomcat 是否安装成功，新建名称为&quot; Test.jsp &quot;的 Jsp 源文件并在其中输入如下代码。</li>
</ol>
<p>&lt;%@ page contentType=&quot;text/html;charset=GBK&quot;%&gt;</p>
<p><html></p>
<p><head></p>
<p><title> Tomcat<em> </em>测试 </title>
</head></p>
<p><body></p>
<p><font color = "red" size = "20" >
&lt;% out.print( &quot;<em> </em>恭喜您，成功的安装并启动了 Tomcat<em> </em>！！！ &quot; ); %&gt;
</font>
</body>
</html></p>
<ol>
<li>重启（命令如下），然后输入：<a href=""><a href="http://localhost:8080/Test.jsp">http://localhost:8080/Test.jsp</a></a> 看是否正常。</li>
</ol>
<p>/#./apache-tomcat-6.0.18/bin/shutdown.sh
/#./apache-tomcat-6.0.18/bin/startup.sh</p>
<p><strong>四：TOMCAT集群的搭建</strong></p>
<ol>
<li>安装两个或以上tomcat</li>
</ol>
<p>/#./apache-tomcat-6.0.18/bin/shutdown.sh
/#mv apache-tomcat-6.0.18 /usr/local/TC6_A
/#cd /usr/local
/#cp -a TC6_A TC6_B</p>
<p>提示：进行上述步骤操作的原因是，本案例中集群的各个 Tomcat 服务器实例运行在同一个物理服务器上，因此集群中有几个 Tomcat 实例一般就需要几个 Tomcat 的安装。另外，由于集群中的各个 Tomcat 实例位于同一个物理服务器上的一个操作系统下，因此各个实例占用的各种网络端口不能相同，否则集群中的多个 Tomcat 实例不能同时正常启动，下面的步骤将介绍如何修改 Tomcat 实例需要使用的各个网络端口。</p>
<ol>
<li>修改 Tomcat 实例需要使用的各个网络端口</li>
</ol>
<ul>
<li>找到 server.xml 配置文件中的&quot; Server &quot;配置项目，并进行修改。
<Server port="8005" shutdown="SHUTDOWN">
<Server port="10005" shutdown="SHUTDOWN"><Server port="20005" shutdown="SHUTDOWN">

</li>
</ul>
<p>说明：第一行为两个 Tomcat 修改前的情况，第二行为 TC6_A Tomcat 修改后的情况，第三行为 TC6_B Tomcat 修改后的情况。</p>
<ul>
<li><p>找到 server.xml 配置文件中的相应&quot; Connector &quot;配置项目，并进行修改。</p>
</li>
<li><p>修改前内容如下：</p>
</li>
</ul>
<p><!-- Define an AJP 1.3 Connector on port 8009 --></p>
<p><Connector port = "8009" protocol = "AJP/1.3" redirectPort = "8443" /></p>
<ul>
<li>TC6_A 中修改后内容如下：</li>
</ul>
<p><!-- Define an AJP 1.3 Connector on port 8009 --></p>
<p><Connector port = " 10009 " protocol = "AJP/1.3" redirectPort = " 10043 " /></p>
<ul>
<li>TC6_B 中修改后内容如下：</li>
</ul>
<p><!-- Define an AJP 1.3 Connector on port 8009 --></p>
<Connector port = " 20009 " protocol = "AJP/1.3" redirectPort = " 20043 " />

<p>提示：此步骤目的是修改 AJP Connector 端口。</p>
<ul>
<li><p>找到 server.xml 配置文件中的另一个相应&quot; Connector &quot;配置项目，并进行修改。</p>
</li>
<li><p>修改前内容如下：</p>
</li>
</ul>
<p><Connector port = "8080" protocol = "HTTP/1.1" connectionTimeout = "20000"
redirectPort = "8443" /></p>
<ul>
<li>TC6_A 中修改后内容如下：</li>
</ul>
<p><Connector port = "10001" protocol = "HTTP/1.1" connectionTimeout = "20000"
redirectPort = "10043" /></p>
<ul>
<li>TC6_B 中修改后内容如下：</li>
</ul>
<Connector port = "20001" protocol = "HTTP/1.1" connectionTimeout = "20000"
redirectPort = "20043" />

<p>提示：此步骤目的是修改 HTTP Connector 端口，其中的&quot; 10001 &quot;与&quot; 20001 &quot;是未来通过浏览器访问集群中各个 Tomcat 实例的 HTTP 端口。</p>
<ul>
<li><p>通过修改 Engine 配置选项，配置集群中每个 Tomcat 实例的名称。</p>
</li>
<li><p>修改前内容如下：</p>
</li>
</ul>
<p>&lt;!-- You should set jvmRoute to support load-balancing via AJP ie :</p>
<p><Engine name = "Standalone" defaultHost = "localhost" jvmRoute = "jvm1"></p>
<p><Engine name = "Catalina" defaultHost = "localhost">
--&gt;</p>
<ul>
<li>TC6_A 中修改后内容如下：</li>
</ul>
<p><Engine name = "Standalone" defaultHost = "localhost" jvmRoute = " Tomcat1"></p>
<ul>
<li>TC6_B 中修改后内容如下：</li>
</ul>
<Engine name = "Standalone" defaultHost = "localhost" jvmRoute = " Tomcat2">

<p>提示：请读者注意在修改过程中要注释掉原来 name 为 Catalina 的 Engine 配置项目，将 name 为 Standalone 的 Engine 配置项目的注释去掉并修改 jvmRoute 属性。</p>
<ul>
<li><p>修改配置文件中的 Cluster 配置项目，对集群的各项参数进行设置。</p>
</li>
<li><p>修改前内容如下：</p>
</li>
</ul>
<Cluster className="org.apache.catalina.ha.tcp.SimpleTcpCluster" />
<em> TC6_A 中修改后内容如下：

<Cluster className = "org.apache.catalina.ha.tcp.SimpleTcpCluster" channelSendOptions = "8">
<Manager className = "org.apache.catalina.ha.session.DeltaManager"
expireSessionsOnShutdown = "false"
notifyListenersOnReplication = "true" />
<Channel className = "org.apache.catalina.tribes.group.GroupChannel" >
<Membership className = "org.apache.catalina.tribes.membership.McastService"
address = "228.0.0.4"
port = "45564"
frequency = "500"
dropTime = "3000"/>
<Receiver className = "org.apache.catalina.tribes.transport.nio.NioReceiver"
address = "auto"
port = "4000"
autoBind = "100"
selectorTimeout = "5000"
maxThreads = "6" />
<Sender className = "org.apache.catalina.tribes.transport.ReplicationTransmitter" >
<Transport className = "org.apache.catalina.tribes.transport.nio.PooledParallelSender" />
</Sender>
<Interceptor
className = "org.apache.catalina.tribes.group.interceptors.TcpFailureDetector" />
<Interceptor className="org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor" />
</Channel>
<Valve className = "org.apache.catalina.ha.tcp.ReplicationValve" filter="" />
<Valve className = "org.apache.catalina.ha.session.JvmRouteBinderValve" />
<Deployer className = "org.apache.catalina.ha.deploy.FarmWarDeployer"
tempDir = "/tmp/war-temp/"
deployDir = "/tmp/war-deploy/"
watchDir = "/tmp/war-listen/"
watchEnabled = "false"/>
<ClusterListener className = "org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener" />
<ClusterListener className = "org.apache.catalina.ha.session.ClusterSessionListener" />
</Cluster>
</em> TC6_B 中修改后内容如下：

<Cluster
className = "org.apache.catalina.ha.tcp.SimpleTcpCluster"
channelSendOptions = "8"
>
<Manager className = "org.apache.catalina.ha.session.DeltaManager"
expireSessionsOnShutdown = "false"
notifyListenersOnReplication = "true" />
<Channel className = "org.apache.catalina.tribes.group.GroupChannel">
<Membership className = "org.apache.catalina.tribes.membership.McastService"
address = "228.0.0.4"
port = "45564"
frequency = "500"
dropTime = "3000" />
<Receiver className = "org.apache.catalina.tribes.transport.nio.NioReceiver"
address = "auto"
port = "4000"
autoBind = "100"
selectorTimeout = "5000"
maxThreads = "6" />
<Sender className = "org.apache.catalina.tribes.transport.ReplicationTransmitter">
<Transport className = "org.apache.catalina.tribes.transport.nio.PooledParallelSender" />
</Sender>
<Interceptor className = "org.apache.catalina.tribes.group.interceptors.TcpFailureDetector" />
<Interceptor className="org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor" />
</Channel>
<Valve className = "org.apache.catalina.ha.tcp.ReplicationValve"
filter = ""/>
<Valve className = "org.apache.catalina.ha.session.JvmRouteBinderValve" />
<Deployer className = "org.apache.catalina.ha.deploy.FarmWarDeployer"
tempDir = "/tmp/war-temp/"
deployDir = "/tmp/war-deploy/"
watchDir = "/tmp/war-listen/"
watchEnabled = "false" />
<ClusterListener className = "org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener" />
<ClusterListener className = "org.apache.catalina.ha.session.ClusterSessionListener" />
</Cluster>

<p>提示：上述配置内容主要是对集群中各个 Tomcat 实例间进行通信的方式、端口以及 Session 共享算法的设置。本教程由于篇幅所限，不能一一详细介绍，有兴趣的读者可以参看 Tomcat 的官方文档，其中有非常详细的说明。</p>
<p>3、测试搭建，分别启动两个tomcat，看是否正常，若正常进行第四步。
<a href=""><a href="http://localhost:10001">http://localhost:10001</a></a>
<a href=""><a href="http://localhost:20001">http://localhost:20001</a></a></p>
<p>4、简单的 JSP 来进一步测试对&quot; TC6_A &quot;和&quot; TC6_B &quot;的设置是否成功,分别建立两个文件：Hello.jsp。
&lt;%@ page contentType=&quot;text/html;charset=GBK&quot;%&gt;</p>
<p><html></p>
<p><head></p>
<p><title>Tomcat 测试 </title>
</head></p>
<p><body></p>
<p><font color="red" size="20">
&lt;!— 使用 out 内建对象打印一条消息到输出页面 --&gt;
&lt;% out.print( &quot;Tomcat 集群测试 A ！！！ &quot; ); %&gt;
</font>
</body>
</html>
TC6_B的改一行输出：
&lt;% out.print( &quot;Tomcat 集群测试 B ！！！ &quot; ); %&gt;</p>
<p>如果能顺利地在浏览器中见到上述两个页面，则说明集群中的两个 Tomcat 实例工作完全正常。下面就可以为集群安装、设置 Apache 负载均衡器了。</p>
<p><strong>五、Apache负载均衡器的安装与配置</strong></p>
<ol>
<li>下载安装</li>
</ol>
<p>/# wget <a href="http://www.apache.org/dist/httpd/httpd-2.2.9.tar.gz" target="_blank">http://www.apache.org/dist/httpd/httpd-2.2.9.tar.gz</a>
/# tar -zxvf httpd-2.2.9.tar.gz
/# cd httpd-2.2.9
/# ./configure --prefix=/usr/local/httpd --enable-mods-shared=&#39;proxy proxy_ajp proxy_balancer&#39;
/# make
/# make install</p>
<ol>
<li>配置Apache 为 Tomcat 集群的负载均衡器</li>
</ol>
<p>ProxyRequests Off
ProxyPass / balancer://myCluster/</p>
<Proxy balancer://myCluster/>
BalancerMember ajp://localhost:10009 route=Tomcat1
BalancerMember ajp://localhost:20009 route=Tomcat2
</Proxy>

<p>说明：其中&quot; myCluster &quot;是集群的名称，&quot; ajp://localhost:10009 route=Tomcat1 &quot; 对应 Tomcat 集群中的 TC6_A 实例，&quot; ajp://localhost:20009 route=Tomcat2 &quot; 对应 Tomcat 集群中的 TC6_B 实例。经过上述配置后， Apache 就可以成为前面搭建的 Tomcat 集群的负载均衡器了。</p>
<p><strong>六、感受成果</strong></p>
<ol>
<li>重启apache httpd后，访问：<a href=""><a href="http://localhost/Hello.jsp">http://localhost/Hello.jsp</a></a>。</li>
<li><p>由 于 Apache 作为 Tomcat 集群的负载均衡器，使用的是轮换算法，其均匀地将请求发送到集群中的各个 Tomcat 实例。因此，从1的测试中可以看出，是轮换访问两个不同 Tomcat 实例中的 Hello.jsp 页面的。当然，看到轮换的情况也就说明 Apache 负载均衡器正常工作了。
<strong>七、补充重要细节</strong></p>
<p> 1、在应用时候，工程的web.xml里面要加上这么一个属性，实现Session共享：
……<em><distributable/></em></p>
</li>
</ol>
<p><em></web-app>
</em></p>
<pre><code>文件中的“ *&lt;distributable/&gt;*”项，是由于本案例将部署到集群中的多个服务器上。如果在配置文件中没 有此项，则应用在集群中不能实现分布式 Session 共享，也就是说当机后用户状态数据（存放在 Session 中的）无法无缝迁移到 Tomcat 集群中的其他服务器上。此项非常重要，请读者多加留心。

然后在依次启动TC6_A,TC6_B,你会在TC6_A的日志里面看到他们的通信日志，不然就是没有成功。

2、Tomcat6 集群要求负载均衡器工作在“ sticky session ”模式下，否则集群可能工作不正常。
</code></pre><p>对“ <strong><em>ProxyPass</em></strong>”项目进行如下修改。</p>
<ul>
<li>修改前</li>
</ul>
<p><strong><em>ProxyPass / balancer://myCluster/</em></strong></p>
<ul>
<li>修改后</li>
</ul>
<p><strong><em>ProxyPass / balancer://myCluster/ lbmethod=byrequests stickysession=JSESSIONID nofailover=Off</em></strong></p>
<p>提示： 修改后添加的“ stickysession=JSESSIONID ”项就是让 Apache 负载均衡器工作在“ sticky session ”模式下。所谓“ sticky session ”模式就是对于使用到同一个 Session 的请求绑定到集群中的特定服务器上，而不是轮换访问各个服务器，这样 Session 就不会工作不正常了。当然，对于使用不同 Session 的请求，还是进行负载均衡轮换的。</p>
<p>本文参照：<a href="http://www.unix-center.net" target="_blank">http://www.unix-center.net</a>
为了您的安全，请只打开来源可靠的网址</p>
<p><a href="http://hi.baidu.com/iammonster/blog/item/84710cdbb1b9f660d1164e60.html" target="_blank">打开网站</a>    <a href="http://apps.hi.baidu.com/share/detail/14955683#" target="_blank">取消</a></p>
<p> 来自: <a href="http://hi.baidu.com/iammonster/blog/item/84710cdbb1b9f660d1164e60.html" target="_blank"><a href="http://hi.baidu.com/iammonster/blog/item/84710cdbb1b9f660d1164e60.html">http://hi.baidu.com/iammonster/blog/item/84710cdbb1b9f660d1164e60.html</a></a></p>
<p><a href=""></a></p>
<p><a href="http://apps.hi.baidu.com/share/detail/14959808#content" target="_blank"></a>  <a href="http://apps.hi.baidu.com/share/detail/14797932#content"></a>
来自: <a href="http://hi.baidu.com/sys/checkuser/iammonster007/3" target="_blank"><img src="" alt=""></a> <a href="http://hi.baidu.com/sys/checkuser/iammonster007/3" target="_blank">iammonster007</a> 第一分享: <a href="http://hi.baidu.com/sys/checkuser/lpwok/3" target="_blank"><img src="" alt=""></a> <a href="http://hi.baidu.com/sys/checkuser/lpwok/3" target="_blank">lpwok</a>  时间: 2010-07-20 16:58 评论: 1条 投票: 1次 本贴分享: 5 累计分享: 6</p>
<h3 id="-1-">共有1人发表观点</h3>
<ul>
<li><p>色妹Q:2372819618
...或者输入其他标签词：
lpwok的 博客 相关分享:</p>
</li>
<li><p><a href="http://apps.hi.baidu.com/share/detail/6723926" title="经典智力挑战游戏——【密室逃脱】全集！！！" target="_blank">经典智力挑战游戏——【密室逃脱】全集！！...</a></p>
</li>
<li><a href="http://apps.hi.baidu.com/share/detail/2863700" title="Ubuntu Linux下Apache的配置文件" target="_blank">Ubuntu Linux下Apache的配置文件</a></li>
<li><a href="http://apps.hi.baidu.com/share/detail/2863689" title="ubuntu中tar.gz/tar.bz2/rar等压缩包软件安装教程" target="_blank">ubuntu中tar.gz/tar.bz2/rar等压缩包软件安...</a></li>
<li><a href="http://apps.hi.baidu.com/share/detail/2327312" title="SEO工具大集合" target="_blank">SEO工具大集合</a></li>
</ul>
<h3 id="-1-">评论(1)</h3>
<p><a href="http://hi.baidu.com/sys/checkuser/784633420/3" target="_blank"><img src="" alt=""></a></p>
<p>2011年12月21日 16:48 <a href="http://hi.baidu.com/sys/checkuser/784633420/3" target="_blank">784633420</a></p>
<p>非常准确</p>
<p><a href="http://help.baidu.com/question?prod_en=space" target="_blank">帮助中心</a> | <a href="http://tieba.baidu.com/f?kw=%B0%D9%B6%C8%BF%D5%BC%E4&amp;fr=wwwt" target="_blank">空间客服</a> | <a href="http://tousu.baidu.com/hi/add" target="_blank">投诉中心</a> | <a href="http://www.baidu.com/search/hi_contract.html" target="_blank">空间协议</a></p>
<p>©2012 Baidu</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/服务器/">服务器</a></li></span><span class="breadcrumb"><li><a href="/categories/服务器/">服务器</a></li><li><a href="/categories/服务器/集群/">集群</a></li></span></span> | <span class="tags">Tagged <a href="/tags/服务器/" class="label label-primary">服务器</a><a href="/tags/集群/" class="label label-success">集群</a></span> | <span class="time">recent updated:<time title="2014-03-07 01:54:44"datetime="2014-03-07 01:54:44"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-服务器-集群--LINUX下使用apachetomcat构建WEB集群系统/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-服务器-集群--LINUX下使用apachetomcat构建WEB集群系统" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-xml--java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较-Java-J/">java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T09:54:44.000Z"> <a href="/2014/02/02/2014-02-02-xml--java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较-Java-J/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-dom-sax-jdom-dom4j-xml-java-javaeye-">java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较 - Java - JavaEye论坛</h1>
<p><a href="http://www.javaeye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.javaeye.com/all" target="_blank">我的应用</a> <a href="http://www.javaeye.com/login" target="_blank">登录</a> <a href="http://www.javaeye.com/signup" target="_blank">注册</a></p>
<p><a href="http://www.javaeye.com/" target="_blank"><img src="&quot;JavaEye-最棒的软件开发交流社区&quot;" alt="JavaEye-最棒的软件开发交流社区"></a></p>
<p><img src="" alt=""></p>
<p><a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> → <a href="http://www.javaeye.com/forums/board/Java" target="_blank">Java编程和Java企业应用版</a> →</p>
<h1 id="java-dom-sax-jdom-dom4j-xml-">java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较</h1>
<p><a href="http://www.javaeye.com/forums/board/Java" target="_blank">全部</a> <a href="http://www.javaeye.com/forums/tag/Hibernate" target="_blank">Hibernate</a> <a href="http://www.javaeye.com/forums/tag/Spring" target="_blank">Spring</a> <a href="http://www.javaeye.com/forums/tag/Struts" target="_blank">Struts</a> <a href="http://www.javaeye.com/forums/tag/iBATIS" target="_blank">iBATIS</a> <a href="http://www.javaeye.com/forums/tag/J2EE" target="_blank">企业应用</a> <a href="http://www.javaeye.com/forums/tag/Design-Pattern" target="_blank">设计模式</a> <a href="http://www.javaeye.com/forums/tag/DAO" target="_blank">DAO</a> <a href="http://www.javaeye.com/forums/tag/Object-Domain" target="_blank">领域模型</a> <a href="http://www.javaeye.com/forums/tag/OO" target="_blank">OO</a> <a href="http://www.javaeye.com/forums/tag/Tomcat" target="_blank">Tomcat</a> <a href="http://www.javaeye.com/forums/tag/SOA" target="_blank">SOA</a> <a href="http://www.javaeye.com/forums/tag/JBoss" target="_blank">JBoss</a> <a href="http://www.javaeye.com/forums/tag/Swing" target="_blank">Swing</a> <a href="http://www.javaeye.com/forums/tag/Java" target="_blank">Java综合</a>
浏览 3115 次 锁定老贴子 <a href="http://www.javaeye.com/topic/181865" target="_blank">主题：java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较</a></p>
<p><strong>该帖已经被评为隐藏帖</strong> 作者 正文 * weidewei</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://wishlife.javaeye.com/" target="_blank"><img src="&quot;weidewei的博客: flying&quot;" alt="weidewei的博客"></a></li>
<li>文章: 25</li>
<li>积分: 30</li>
<li>来自: 杭州</li>
<li><img src="" alt="">
发表时间：2008-04-11 关键字: <strong>操作xml（dom、sax、jdom、dom4j）方式 详解 比较</strong></li>
</ul>
<p>相关文章: <a href="http://www.javaeye.com/topic/181865#" title="关闭" target="_blank"> </a></p>
<ul>
<li><a href="http://www.javaeye.com/topic/365576" title="J2EE复习(二)XML(下)--xml解析" target="_blank">J2EE复习(二)XML(下)--xml解析</a></li>
<li><a href="http://www.javaeye.com/topic/39068" title="Dom4j递归解析XML实现JS的getElementsByName类似方法 " target="_blank">Dom4j递归解析XML实现JS的getElementsByName类似方法</a></li>
<li><a href="http://www.javaeye.com/topic/75" title="Java XML API 漫谈" target="_blank">Java XML API 漫谈</a></li>
<li><p><a href="http://www.javaeye.com/topic/213350" title="大容量XML文件解析辅助--xml批量分解" target="_blank">大容量XML文件解析辅助--xml批量分解</a>
推荐圈子: <a href="http://eclipsercpforum.group.javaeye.com/" target="_blank">Eclipse PlugIns&amp;RCP&amp;OSGI</a>
<a href="http://www.javaeye.com/wiki/topic/181865" target="_blank">更多相关推荐</a><br>  1.详解
  1）DOM（JAXP Crimson解析器）
  DOM是用与平台和语言无关的方式表示XML文档的官方W3C标准。DOM是以层次结构组织的节点或信息片断的集合。这个层次结构允许开发人员在树中寻找特定信息。分析该结构通常需要加载整个文档和构造层次结构，然后才能做任何工作。由于它是基于信息层次的，因而DOM被认为是基于树或基于对象的。DOM以及广义的基于树的处理具有几个优点。首先，由于树在内存中是持久的，因此可以修改它以便应用程序能对数据和结构作出更改。它还可以在任何时候在树中上下导航，而不是像SAX那样是一次性的处理。DOM使用起来也要简单得多。
  2）SAX
  SAX处理的优点非常类似于流媒体的优点。分析能够立即开始，而不是等待所有的数据被处理。而且，由于应用程序只是在读取数据时检查数据，因此不需要将数据存储在内存中。这对于大型文档来说是个巨大的优点。事实上，应用程序甚至不必解析整个文档；它可以在某个条件得到满足时停止解析。一般来说，SAX还比它的替代者DOM快许多。
  选择DOM还是选择SAX？ 对于需要自己编写代码来处理XML文档的开发人员来说， 选择DOM还是SAX解析模型是一个非常重要的设计决策。 DOM采用建立树形结构的方式访问XML文档，而SAX采用的事件模型。
  DOM解析器把XML文档转化为一个包含其内容的树，并可以对树进行遍历。用DOM解析模型的优点是编程容易，开发人员只需要调用建树的指令，然后利用navigation APIs访问所需的树节点来完成任务。可以很容易的添加和修改树中的元素。然而由于使用DOM解析器的时候需要处理整个XML文档，所以对性能和内存的要求比较高，尤其是遇到很大的XML文件的时候。由于它的遍历能力，DOM解析器常用于XML文档需要频繁的改变的服务中。
  SAX解析器采用了基于事件的模型，它在解析XML文档的时候可以触发一系列的事件，当发现给定的tag的时候，它可以激活一个回调方法，告诉该方法制定的标签已经找到。SAX对内存的要求通常会比较低，因为它让开发人员自己来决定所要处理的tag.特别是当开发人员只需要处理文档中所包含的部分数据时，SAX这种扩展能力得到了更好的体现。但用SAX解析器的时候编码工作会比较困难，而且很难同时访问同一个文档中的多处不同数据。
  3）JDOM <a href="http://www.jdom.org" target="_blank">http://www.jdom.org</a>
  JDOM的目的是成为Java特定文档模型，它简化与XML的交互并且比使用DOM实现更快。由于是第一个Java特定模型，JDOM一直得到大力推广和促进。正在考虑通过“Java规范请求JSR-102”将它最终用作“Java标准扩展”。从2000年初就已经开始了JDOM开发。
  JDOM与DOM主要有两方面不同。首先，JDOM仅使用具体类而不使用接口。这在某些方面简化了API，但是也限制了灵活性。第二，API大量使用了Collections类，简化了那些已经熟悉这些类的Java开发者的使用。
  JDOM文档声明其目的是“使用20%（或更少）的精力解决80%（或更多）Java/XML问题”（根据学习曲线假定为20%）。JDOM对于大多数Java/XML应用程序来说当然是有用的，并且大多数开发者发现API比DOM容易理解得多。JDOM还包括对程序行为的相当广泛检查以防止用户做任何在XML中无意义的事。然而，它仍需要您充分理解XML以便做一些超出基本的工作（或者甚至理解某些情况下的错误）。这也许是比学习DOM或JDOM接口都更有意义的工作。
  JDOM自身不包含解析器。它通常使用SAX2解析器来解析和验证输入XML文档（尽管它还可以将以前构造的DOM表示作为输入）。它包含一些转换器以将JDOM表示输出成SAX2事件流、DOM模型或XML文本文档。JDOM是在Apache许可证变体下发布的开放源码。
  4）DOM4J <a href="http://dom4j.sourceforge.net" target="_blank">http://dom4j.sourceforge.net</a>
  虽然DOM4J代表了完全独立的开发结果，但最初，它是JDOM的一种智能分支。它合并了许多超出基本XML文档表示的功能，包括集成的XPath支持、XML Schema支持以及用于大文档或流化文档的基于事件的处理。它还提供了构建文档表示的选项，它通过DOM4J API和标准DOM接口具有并行访问功能。从2000下半年开始，它就一直处于开发之中。
  为支持所有这些功能，DOM4J使用接口和抽象基本类方法。DOM4J大量使用了API中的Collections类，但是在许多情况下，它还提供一些替代方法以允许更好的性能或更直接的编码方法。直接好处是，虽然DOM4J付出了更复杂的API的代价，但是它提供了比JDOM大得多的灵活性。
  在添加灵活性、XPath集成和对大文档处理的目标时，DOM4J的目标与JDOM是一样的：针对Java开发者的易用性和直观操作。它还致力于成为比JDOM更完整的解决方案，实现在本质上处理所有Java/XML问题的目标。在完成该目标时，它比JDOM更少强调防止不正确的应用程序行为。
  DOM4J是一个非常非常优秀的Java XML API，具有性能优异、功能强大和极端易用使用的特点，同时它也是一个开放源代码的软件。如今你可以看到越来越多的Java软件都在使用DOM4J来读写XML，特别值得一提的是连Sun的JAXM也在用DOM4J.
  2。比较
  1）DOM4J性能最好，连Sun的JAXM也在用DOM4J.目前许多开源项目中大量采用DOM4J，例如大名鼎鼎的Hibernate也用DOM4J来读取XML配置文件。如果不考虑可移植性，那就采用DOM4J.
  2）JDOM和DOM在性能测试时表现不佳，在测试10M文档时内存溢出。在小文档情况下还值得考虑使用DOM和JDOM.虽然JDOM的开发者已经说明他们期望在正式发行版前专注性能问题，但是从性能观点来看，它确实没有值得推荐之处。另外，DOM仍是一个非常好的选择。DOM实现广泛应用于多种编程语言。它还是许多其它与XML相关的标准的基础，因为它正式获得W3C推荐（与基于非标准的Java模型相对），所以在某些类型的项目中可能也需要它（如在JavaScript中使用DOM）。
  3）SAX表现较好，这要依赖于它特定的解析方式－事件驱动。一个SAX检测即将到来的XML流，但并没有载入到内存（当然当XML流被读入时，会有部分文档暂时隐藏在内存中）。</p>
<ol>
<li><p>四种xml操作方式的基本使用方法
xml文件：&lt;?xml version=&quot;1.0&quot; encoding=&quot;gbk&quot;?&gt;<list><node><name>weidewei</name><space><a href="http://wishlife.javaeye.com" target="_blank">http://wishlife.javaeye.com</a></space></node><node><name>flying</name><space><a href="http://user.qzone.qq.com/94611981" target="_blank">http://user.qzone.qq.com/94611981</a></space></node></list></p>
<p>程序代码:
import java.io.File; import java.util.Iterator; import java.util.List; import javax.xml.parsers.DocumentBuilder; import javax.xml.parsers.DocumentBuilderFactory; import javax.xml.parsers.SAXParser; import javax.xml.parsers.SAXParserFactory; import org.dom4j.io.SAXReader; import org.jdom.Element; import org.jdom.input.SAXBuilder; import org.w3c.dom.Document; import org.w3c.dom.NodeList; import org.xml.sax.Attributes; import org.xml.sax.InputSource; import org.xml.sax.SAXException; import org.xml.sax.helpers.DefaultHandler; public class MyXMLReader extends DefaultHandler { java.util.Stack tags = new java.util.Stack(); public MyXMLReader() { super(); } //<em>/</em> /<em> DOM方式 /</em> @since V2.0 /<em> @author David.Wei /</em> @date 2008-4-11 /<em> @return void /</em>/ public void DOM() { long lasting = System.currentTimeMillis(); try { File f = new File(&quot;F:/xmltest.xml&quot;); DocumentBuilderFactory factory = DocumentBuilderFactory .newInstance(); DocumentBuilder builder = factory.newDocumentBuilder(); Document doc = builder.parse(f); NodeList nl = doc.getElementsByTagName(&quot;node&quot;); for (int i = 0; i &lt; nl.getLength(); i++) { System.out.println(&quot;|| Name: |&quot; + doc.getElementsByTagName(&quot;name&quot;).item(i) .getFirstChild().getNodeValue()); System.out.println(&quot;||Space: |&quot; + doc.getElementsByTagName(&quot;space&quot;).item(i) .getFirstChild().getNodeValue()); System.out.println(&quot;-------------------------------------------------&quot;); } } catch (Exception e) { e.printStackTrace(); } System.out.println(&quot;DOM RUNTIME：&quot; + (System.currentTimeMillis() - lasting) + &quot; MS&quot;); } //<em>/</em> /<em> SAX方式 /</em> @since V2.0 /<em> @author David.Wei /</em> @date 2008-4-11 /<em> @return void /</em>/ public void SAX() { long lasting = System.currentTimeMillis(); try { SAXParserFactory sf = SAXParserFactory.newInstance(); SAXParser sp = sf.newSAXParser(); MyXMLReader reader = new MyXMLReader(); sp.parse(new InputSource(&quot;F:/xmltest.xml&quot;), reader); } catch (Exception e) { e.printStackTrace(); } System.out.println(&quot;SAX RUNTIME：&quot; + (System.currentTimeMillis() - lasting) + &quot; MS&quot;); } public void startElement(String uri, String localName, String qName, Attributes attrs) { tags.push(qName); } public void characters(char ch[], int start, int length) throws SAXException { String tag = (String) tags.peek(); if (tag.equals(&quot;name&quot;)) { System.out.println(&quot;|| Name: |&quot; + new String(ch, start, length)); } if (tag.equals(&quot;space&quot;)) { System.out.println(&quot;||Space: |&quot; + new String(ch, start, length)); } System.out.println(&quot;-------------------------------------------------&quot;); } //<em>/</em> /<em> JDOM方式 /</em> @since V2.0 /<em> @author David.Wei /</em> @date 2008-4-11 /<em> @return void /</em>/ public void JDOM() { long lasting = System.currentTimeMillis(); try { SAXBuilder builder = new SAXBuilder(); org.jdom.Document doc = builder.build(new File(&quot;F:/xmltest.xml&quot;)); Element foo = doc.getRootElement(); List allChildren = foo.getChildren(); for (int i = 0; i &lt; allChildren.size(); i++) { System.out.println(&quot;|| Name: |&quot; + ((Element) allChildren.get(i)).getChild(&quot;name&quot;) .getText()); System.out.println(&quot;||Space: |&quot; + ((Element) allChildren.get(i)).getChild(&quot;space&quot;) .getText()); System.out.println(&quot;-------------------------------------------------&quot;); } } catch (Exception e) { e.printStackTrace(); } System.out.println(&quot;JDOM RUNTIME：&quot; + (System.currentTimeMillis() - lasting) + &quot; MS&quot;); } //<em>/</em> /<em> DOM4J方式 /</em> @since V2.0 /<em> @author David.Wei /</em> @date 2008-4-11 /<em> @return void /</em>/ public void DOM4J() { long lasting = System.currentTimeMillis(); try { File f = new File(&quot;F:/xmltest.xml&quot;); SAXReader reader = new SAXReader(); org.dom4j.Document doc = reader.read(f); org.dom4j.Element root = doc.getRootElement(); org.dom4j.Element foo; for (Iterator i = root.elementIterator(&quot;node&quot;); i.hasNext();) { foo = (org.dom4j.Element) i.next(); System.out.println(&quot;|| Name: |&quot; + foo.elementText(&quot;name&quot;)); System.out.println(&quot;||Space: |&quot; + foo.elementText(&quot;space&quot;)); System.out.println(&quot;-------------------------------------------------&quot;); } } catch (Exception e) { e.printStackTrace(); } System.out.println(&quot;DOM4J RUNTIME：&quot; + (System.currentTimeMillis() - lasting) + &quot; MS&quot;); } public static void main(String arge[]) { MyXMLReader myXML = new MyXMLReader(); System.out.println(&quot;=====================DOM=========================&quot;); myXML.DOM(); System.out.println(&quot;=====================SAX=========================&quot;); myXML.SAX(); System.out.println(&quot;=====================JDOM========================&quot;); myXML.JDOM(); System.out.println(&quot;=====================DOM4J=======================&quot;); myXML.DOM4J(); System.out.println(&quot;=================================================&quot;); } }
运行结果:
=====================DOM========================= || Name: |weidewei ||Space: |<a href="http://wishlife.javaeye.com" target="_blank">http://wishlife.javaeye.com</a> ------------------------------------------------- || Name: |flying ||Space: |<a href="http://user.qzone.qq.com/94611981" target="_blank">http://user.qzone.qq.com/94611981</a> ------------------------------------------------- DOM RUNTIME：62 MS =====================SAX========================= || Name: |weidewei ------------------------------------------------- ||Space: |<a href="http://wishlife.javaeye.com" target="_blank">http://wishlife.javaeye.com</a> ------------------------------------------------- || Name: |flying ------------------------------------------------- ||Space: |<a href="http://user.qzone.qq.com/94611981" target="_blank">http://user.qzone.qq.com/94611981</a> ------------------------------------------------- SAX RUNTIME：16 MS =====================JDOM======================== || Name: |weidewei ||Space: |<a href="http://wishlife.javaeye.com" target="_blank">http://wishlife.javaeye.com</a> ------------------------------------------------- || Name: |flying ||Space: |<a href="http://user.qzone.qq.com/94611981" target="_blank">http://user.qzone.qq.com/94611981</a> ------------------------------------------------- JDOM RUNTIME：78 MS =====================DOM4J======================= || Name: |weidewei ||Space: |<a href="http://wishlife.javaeye.com" target="_blank">http://wishlife.javaeye.com</a> ------------------------------------------------- || Name: |flying ||Space: |<a href="http://user.qzone.qq.com/94611981" target="_blank">http://user.qzone.qq.com/94611981</a> ------------------------------------------------- DOM4J RUNTIME：78 MS =================================================
运行时如果有错误可能原因(我碰到的就这两个,解决了就OK了):
1.错误现象: Caused by: org.xml.sax.SAXParseException: Content is not allowed in prolog.
解决办法:xml文件换行问题,编写xml文件时不要换行就可以了.
2.dom4j
错误现象: org.dom4j.DocumentException: Error on line 1 of document  : Content is not allowed in prolog.
解决方法:dom4j的jar包使用dom4j1.6就可以了.
声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。</p>
</li>
</ol>
</li>
</ul>
<p>推荐链接 <a href="http://www.javaeye.com/topic/181865#" target="_blank">返回顶楼</a> <a href="http://wishlife.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://wishlife.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=weidewei" title="发送站内短信" target="_blank"> </a> <a href="http://wishlife.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a>  * guo_david_wei</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://guo-david-wei.javaeye.com/" target="_blank"><img src="&quot;guo_david_wei的博客: guo_david_wei&quot;" alt="guo_david_wei的博客"></a></li>
<li>文章: 24</li>
<li>积分: 30</li>
<li>来自: 武汉</li>
<li><img src="" alt="">
发表时间：2008-07-04</li>
</ul>
<p>做的不错嘛。。
挺有用的东西。 <a href="http://www.javaeye.com/topic/181865#" target="_blank">返回顶楼</a> <a href="http://guo-david-wei.javaeye.com/" title="浏览作者的博客" target="_blank"> </a> <a href="http://guo-david-wei.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a> <a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=guo_david_wei" title="发送站内短信" target="_blank"> </a> <a href="http://guo-david-wei.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a> <a href="http://www.javaeye.com/topic/181865#592006" title="guo_david_wei回帖:java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/181865#" title="好" target="_blank">1</a> <a href="http://www.javaeye.com/topic/181865#" title="差" target="_blank">0</a> 请登录后投票</p>
<p><a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> → <a href="http://www.javaeye.com/forums/board/Java" target="_blank">Java编程和Java企业应用版</a>
跳转论坛:Java编程和Java企业应用 Web前端技术 移动编程和手机应用开发 C/C++编程 Ruby编程 Python编程 PHP编程 Flash编程和RIA Microsoft .Net 综合技术 软件开发和项目管理 行业应用 入门讨论 招聘求职 海阔天空</p>
<ul>
<li><a href="http://www.javaeye.com/" target="_blank">首页</a></li>
<li><a href="http://www.javaeye.com/news" target="_blank">新闻</a></li>
<li><a href="http://www.javaeye.com/ask" target="_blank">问答</a></li>
<li><a href="http://www.javaeye.com/wiki" target="_blank">知识库</a></li>
<li><a href="http://www.javaeye.com/blogs" target="_blank">博客</a></li>
<li><a href="http://www.javaeye.com/groups" target="_blank">圈子</a></li>
<li><a href="http://www.javaeye.com/job" target="_blank">招聘</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">服务</a></li>
<li><a href="http://www.javaeye.com/google_search" target="_blank">搜索</a></li>
<li><a href="http://java.javaeye.com/" target="_blank">Java</a></li>
<li><a href="http://webapp.javaeye.com/" target="_blank">Web</a></li>
<li><a href="http://ruby.javaeye.com/" target="_blank">Ruby</a></li>
<li><a href="http://python.javaeye.com/" target="_blank">Python</a></li>
<li><a href="http://agile.javaeye.com/" target="_blank">敏捷</a></li>
<li><a href="http://mysql.javaeye.com/" target="_blank">MySQL</a></li>
<li><a href="http://primeton.javaeye.com/" target="_blank">普元</a></li>
<li><a href="http://dorado.javaeye.com/" target="_blank">Dorado</a></li>
<li><a href="http://kingdee.javaeye.com/" target="_blank">金蝶中间件</a></li>
<li><a href="http://book.javaeye.com/" target="_blank">图书</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">广告服务</a></li>
<li><a href="http://webmaster.javaeye.com/" target="_blank">JavaEye黑板报</a></li>
<li><a href="http://www.javaeye.com/index/aboutus" target="_blank">关于我们</a></li>
<li><a href="http://www.javaeye.com/index/contactus" target="_blank">联系我们</a></li>
<li><a href="http://www.javaeye.com/index/friend_links" target="_blank">友情链接</a></li>
</ul>
<p>© 2003-2010 JavaEye.com. 上海炯耐计算机软件有限公司版权所有 [ <a href="http://www.miibeian.gov.cn/" target="_blank">沪ICP备05023328号</a> ]</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/xml/">xml</a></li></span></span> | <span class="tags">Tagged <a href="/tags/xml/" class="label label-primary">xml</a></span> | <span class="time">recent updated:<time title="2014-03-07 01:54:44"datetime="2014-03-07 01:54:44"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-xml--java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较-Java-J/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-xml--java中四种操作（DOM、SAX、JDOM、DOM4J）xml方式详解与比较-Java-J" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-服务器-集群--Linux下Apache与Tomcat整合的简单方法-LinuxSirOrg/">Linux下Apache与Tomcat整合的简单方法 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T09:54:44.000Z"> <a href="/2014/02/02/2014-02-02-服务器-集群--Linux下Apache与Tomcat整合的简单方法-LinuxSirOrg/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="linux-apache-tomcat-linuxsir-org">Linux下Apache与Tomcat整合的简单方法 - LinuxSir.Org</h1>
<p><a href=""></a> <a href="http://www.linuxsir.org/bbs/index.php?s=b91078e77de0bd2a626708973b8082ac"><img src="&quot;LinuxSir.Org&quot;" alt="LinuxSir.Org"></a>   用户名  密码   记住信息</p>
<p>| <a href="http://www.linuxsir.org/" target="_blank">网站首页</a> |   <a href="http://www.linuxsir.org/bbs/faq.php?s=b91078e77de0bd2a626708973b8082ac" target="_blank">论坛帮助</a> |
欢迎来到<strong>LinuxSir.Org</strong>! 您还未登录，请登录后查看论坛，或者点击论坛上方的注册链接注册新账号。
<a href="http://www.linuxsir.org/bbs/showthread.php?t=236915#" target="_blank"><img src="&quot;返回&quot;" alt="返回"></a>   <a href="http://www.linuxsir.org/bbs/index.php?s=b91078e77de0bd2a626708973b8082ac" target="_blank">LinuxSir.Org</a> &gt; <a href="http://www.linuxsir.org/bbs/forumdisplay.php?s=b91078e77de0bd2a626708973b8082ac&amp;f=39" target="_blank">Linux 发行版讨论区 —— LinuxSir.Org</a> &gt; <a href="http://www.linuxsir.org/bbs/forumdisplay.php?s=b91078e77de0bd2a626708973b8082ac&amp;f=49" target="_blank">Linux 发行版Debian专题</a> &gt; Linux下Apache与Tomcat整合的简单方法
转到页面...  <a href=""></a>  <a href="http://www.linuxsir.org/bbs/newthread.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newthread&amp;f=49"><img src="&quot;发表新主题&quot;" alt="发表新主题"></a>  <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;noquote=1&amp;p=1354073" target="_blank"><img src="&quot;回复&quot;" alt="回复"></a>     <a href="http://www.linuxsir.org/bbs/showthread.php?t=236915&amp;nojs=1#goto_threadtools" target="_blank">主题工具</a>  <img src="" alt=""></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-23, 20:51 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354073&amp;postcount=1" target="_blank"><strong>第 1 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><strong>Kilin</strong></a></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><img src="&quot;Kilin 的头像&quot;" alt="Kilin 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Jun 2004</p>
<p>  帖子: 321
  <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;goodnees=1&amp;u=45616" target="_blank">精华</a>: 1        <strong>标题: Linux下Apache与Tomcat整合的简单方法</strong>
1、准备，下载需要的文件。这里假定你已经正确安装配置好了JDK。
到Apache官方网站下载所需要的文件：
httpd-2.2.0.tar.gz
apache-tomcat-5.5.12.tar.gz
jakarta-tomcat-connectors-1.2.15-src.tar.gz
其中httpd和jakarta-tomcat-connectors为源码包，apache-tomcat为二进制包。
2、安装Apache。
代码: /# tar xzvf httpd-2.2.0.tar.gz /# cd httpd-2.2.0 /# ./configure --prefix=/usr/local/apache2 --enable-so /# make /# make install3、安装Tomcat。
代码: /# cp apache-tomcat-5.5.12.tar.gz /usr/local/ /# cd /usr/local /# tar xzvf apache-tomcat-5.5.12.tar.gz /# ln -s apache-tomcat-5.5.12 tomcat4、编译生成mod_jk。
代码: /# tar xzvf jakarta-tomcat-connectors-1.2.15-src.tar.gz /# cd jakarta-tomcat-connectors-1.2.15-src/jk/native /# ./configure --with-apxs=/usr/local/apache2/bin/apxs /# make /# cp ./apache-2.0/mod_jk.so /usr/local/apache2/modules/5、配置。
在/usr/local/apache2/conf/下面建立两个配置文件mod_jk.conf和workers.properties。
/# vi mod_jk.conf
添加以下内容：
代码: /# 指出mod_jk模块工作所需要的工作文件workers.properties的位置 JkWorkersFile /usr/local/apache2/conf/workers.properties /# Where to put jk logs JkLogFile /usr/local/apache2/logs/mod_jk.log /# Set the jk log level [debug/error/info] JkLogLevel info /# Select the log format JkLogStampFormat &quot;[%a %b %d %H:%M:%S %Y]&quot; /# JkOptions indicate to send SSL KEY SIZE, JkOptions +ForwardKeySize +ForwardURICompat -ForwardDirectories /# JkRequestLogFormat set the request format JkRequestLogFormat &quot;%w %V %T&quot; /# 将所有servlet 和jsp请求通过ajp13的协议送给Tomcat，让Tomcat来处理 JkMount /servlet//<em> worker1 JkMount //</em>.jsp worker1/# vi workers.properties
添加以下内容：
代码: /# Defining a worker named worker1 and of type ajp13 worker.list=worker1 /# Set properties for worker1 worker.worker1.type=ajp13 worker.worker1.host=localhost worker.worker1.port=8009 worker.worker1.lbfactor=50 worker.worker1.cachesize=10 worker.worker1.cache_timeout=600 worker.worker1.socket_keepalive=1 worker.worker1.socket_timeout=300再配置httpd.conf，作以下修改：
将Listen 80 修改为 Listen 127.0.0.1:80
将ServerName 修改为 ServerName LocalHost:80
在DirectoryIndex中添加 index.jsp
我的网页放在/var/wwwroot下，所以要修改DocumentRoot
代码: DocumentRoot &quot;/var/wwwroot&quot; <Directory "/var/wwwroot"> Options Includes FollowSymLinks AllowOverride None Order deny,allow Allow from all XBitHack on </Directory> <Directory "/var/wwwroot/WEB-INF"> Order deny,allow Deny from all </Directory>增加关于加载mod_jk的语句：
代码: LoadModule jk_module modules/mod_jk.so Include /usr/local/apache2/conf/mod_jk.conf最后编辑Tomcat的配置文件server.xml，在HOST段中加入：
代码: <Context path="" docBase="/var/wwwroot" debug="0" reloadable="true" crossContext="true"/>在/var/wwwroot下建立一个index.jsp，启动Apache和Tomcat，用浏览器访问<a href="http://localhost/，应该可以看到正确的页面了。" target="_blank">http://localhost/，应该可以看到正确的页面了。</a></p>
<hr>
<p>Only the strong survive.
Blog:<a href="http://www.ylxiong.cn/" target="_blank">http://www.ylxiong.cn/</a>
Linux 2.6</p>
<p><em>此帖于 05-12-23 20:55 被 Kilin 编辑.</em>   <img src="&quot;Kilin 当前离线&quot;" alt="Kilin 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354073" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>Kilin <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=45616" target="_blank">查找 Kilin 发表的更多帖子</a></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-24, 19:59 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354576&amp;postcount=2" target="_blank"><strong>第 2 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        问一下老兄，Apache2不能用apt进行安装吗</p>
<hr>
<p>Debian Linux学习基地
<a href="http://www.debian.ha.cn" target="_blank">http://www.debian.ha.cn</a>   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354576" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a>
<a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-24, 20:58 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354612&amp;postcount=3" target="_blank"><strong>第 3 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        我用apt安装时进入apache2目录后没有conf这个子目录   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354612" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-24, 21:35 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354644&amp;postcount=4" target="_blank"><strong>第 4 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><strong>Kilin</strong></a></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><img src="&quot;Kilin 的头像&quot;" alt="Kilin 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Jun 2004</p>
<p>  帖子: 321
  <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;goodnees=1&amp;u=45616" target="_blank">精华</a>: 1        可以吧 应该在/etc/local/etc/目录下吧.......
或者在/etc/local/share/etc/下
如果做服务器用的话 建议安装基本系统 然后再自己安装需要的Server端软件。   <img src="&quot;Kilin 当前离线&quot;" alt="Kilin 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354644" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>Kilin <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=45616" target="_blank">查找 Kilin 发表的更多帖子</a>
<a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-25, 11:35 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354810&amp;postcount=5" target="_blank"><strong>第 5 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        谢了我在试试   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354810" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-25, 11:58 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354826&amp;postcount=6" target="_blank"><strong>第 6 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><strong>Kilin</strong></a></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><img src="&quot;Kilin 的头像&quot;" alt="Kilin 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Jun 2004</p>
<p>  帖子: 321
  <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;goodnees=1&amp;u=45616" target="_blank">精华</a>: 1        汗.....昨天喝高了 把路径打得一塌糊涂.....
应该是/etc
或者是/usr/etc
或者是/usr/local/etc
猜的~   <img src="&quot;Kilin 当前离线&quot;" alt="Kilin 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354826" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>Kilin <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=45616" target="_blank">查找 Kilin 发表的更多帖子</a>
<a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-25, 14:24 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354897&amp;postcount=7" target="_blank"><strong>第 7 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        好的，那在问你一个问题我现在按照你所讲的我已经配成了JSP可以为什么我打开静态页是打不开呀？
提示你无权查看该页   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354897" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-25, 17:38 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354988&amp;postcount=8" target="_blank"><strong>第 8 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><strong>Kilin</strong></a></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank"><img src="&quot;Kilin 的头像&quot;" alt="Kilin 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Jun 2004</p>
<p>  帖子: 321
  <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;goodnees=1&amp;u=45616" target="_blank">精华</a>: 1        httpd.conf里的权限设置.....   <img src="&quot;Kilin 当前离线&quot;" alt="Kilin 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354988" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>Kilin <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=45616" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=45616" target="_blank">查找 Kilin 发表的更多帖子</a>
<a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-25, 17:43 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1354995&amp;postcount=9" target="_blank"><strong>第 9 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        能不能说的在明白点呀，我以前做LAMP时有时也会出现这样子的问题   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1354995" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-26, 09:59 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1355323&amp;postcount=10" target="_blank"><strong>第 10 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        还有我如果用Apt安装的话那不能给讲讲如何做呀   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1355323" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a>
<a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-27, 22:02 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1356579&amp;postcount=11" target="_blank"><strong>第 11 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=55742" target="_blank"><strong>marvel</strong></a></p>
<p><img src="" alt=""></p>
<p>注册会员<br>  注册日期: Oct 2004</p>
<p>  帖子: 489
  精华: 0        apache配置文件的默认路径应该是/etc/apache/httpd.conf吧</p>
<hr>
<p>Thinkpad T60
酷睿 1.83GHz+512Mb DDR+80Gb+ATI(64Mb)
Debian unstable   <img src="&quot;marvel 当前离线&quot;" alt="marvel 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1356579" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>marvel <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=55742" target="_blank">查看公开信息</a> <a href="http://marvel.hit.edu.cn/" target="_blank">访问 marvel 的个人网站</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=55742" target="_blank">查找 marvel 发表的更多帖子</a></p>
<p><a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-28, 03:25 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1356702&amp;postcount=12" target="_blank"><strong>第 12 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=27503" target="_blank"><strong>wjl</strong></a></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=27503" target="_blank"><img src="&quot;wjl 的头像&quot;" alt="wjl 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Nov 2003</p>
<p>  我的住址: 北京
  帖子: 90</p>
<p>  精华: 0
  good谢谢</p>
<hr>
<p>FreeBSD
RHEL AS</p>
<h2 id="windows-xp">Windows XP</h2>
<p>借我一生,好好爱你   <img src="&quot;wjl 当前离线&quot;" alt="wjl 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1356702" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>wjl <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=27503" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=27503" target="_blank">查找 wjl 发表的更多帖子</a>
<a href=""><img src="&quot;旧&quot;" alt="旧"></a> 05-12-28, 10:35 <a href="http://www.linuxsir.org/bbs/showpost.php?s=b91078e77de0bd2a626708973b8082ac&amp;p=1356852&amp;postcount=13" target="_blank"><strong>第 13 帖</strong></a> <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><strong>lyingjie</strong></a>  <img src="&quot;帅哥&quot;" alt="帅哥"></p>
<p><img src="" alt=""></p>
<p><a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank"><img src="&quot;lyingjie 的头像&quot;" alt="lyingjie 的头像"></a>  </p>
<p>注册会员<br>  注册日期: Aug 2005</p>
<p>  帖子: 284
  精华: 0        你说的是Apache1.3的位置   <img src="&quot;lyingjie 当前离线&quot;" alt="lyingjie 当前离线">   <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;p=1356852" target="_blank"><img src="&quot;回复时引用此帖&quot;" alt="回复时引用此帖"></a></p>
<p>lyingjie <a href="http://www.linuxsir.org/bbs/member.php?s=b91078e77de0bd2a626708973b8082ac&amp;u=89579" target="_blank">查看公开信息</a> <a href="http://www.linuxsir.org/bbs/search.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=finduser&amp;u=89579" target="_blank">查找 lyingjie 发表的更多帖子</a>
<a href="http://www.linuxsir.org/bbs/newthread.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newthread&amp;f=49" target="_blank"><img src="&quot;发表新主题&quot;" alt="发表新主题"></a>  <a href="http://www.linuxsir.org/bbs/newreply.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=newreply&amp;noquote=1&amp;p=1356852" target="_blank"><img src="&quot;回复&quot;" alt="回复"></a>
<strong>«</strong> <a href="http://www.linuxsir.org/bbs/showthread.php?s=b91078e77de0bd2a626708973b8082ac&amp;t=236915&amp;goto=nextoldest" target="_blank">上一主题</a> | <a href="http://www.linuxsir.org/bbs/showthread.php?s=b91078e77de0bd2a626708973b8082ac&amp;t=236915&amp;goto=nextnewest" target="_blank">下一主题</a> <strong>»</strong>
主题工具<a href=""></a> <img src="&quot;显示可打印版本&quot;" alt="显示可打印版本"> <a href="http://www.linuxsir.org/bbs/printthread.php?s=b91078e77de0bd2a626708973b8082ac&amp;t=236915">显示可打印版本</a> <img src="&quot;邮寄本页给好友&quot;" alt="邮寄本页给好友"> <a href="http://www.linuxsir.org/bbs/sendmessage.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=sendtofriend&amp;t=236915" target="_blank">邮寄本页给好友</a>      <a href="http://www.linuxsir.org/bbs/showthread.php?t=236915#top" target="_blank"><img src="" alt=""></a> 发帖规则 您 [不可以] 发表新主题</p>
<p>您 [不可以] 回复主题
您 [不可以] 上传附件</p>
<p>您 [不可以] 编辑您的帖子
已 [启用] <a href="http://www.linuxsir.org/bbs/misc.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=bbcode" target="_blank">BB 代码</a></p>
<p>已 [启用] <a href="http://www.linuxsir.org/bbs/misc.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=showsmilies" target="_blank">表情符号</a>
已 [启用] <a href="http://www.linuxsir.org/bbs/misc.php?s=b91078e77de0bd2a626708973b8082ac&amp;do=bbcode#imgcode" target="_blank">IMG 代码</a></p>
<p>已 [禁用] HTML 代码 [论坛跳转…]
用户控制面板 悄悄话 收藏夹 会员在线状态 搜索论坛 论坛首页    Linux 综合讨论区 —— LinuxSir.Org     Linux 基础建设讨论专版     Linux shell进阶应用与shell编程     Linux 专业英文精品技术文档专题         Gas中文小组讨论区     Linux 硬件及周边设备     Linux 网络与服务器架设     Linux 系统及网络安全讨论专版     Linux及计算机学科基础理论版  Linux 发行版讨论区 —— LinuxSir.Org     Linux 发行版SuSE专题     Linux 发行版Archlinux讨论区     Linux 发行版Debian专题     Ubuntu Linux 专题讨论     Linux 发行版Slackware专题     Linux 发行版 LFS 讨论区         Olive讨论区 （实验版）     Linux 发行版Mandriva专题     Linux 发行版Redhat/Fedora/CentOS专题     Linux 发行版Gentoo讨论区     Mini Linux 及准系统研究     Linux 发行版红旗专题     LoongSon-龙芯讨论区     Linux 发行版其他专题         Linux发行版 Turbolinux专题         PowerPC Linux 讨论区  Google 产品讨论区 —— LinuxSir.Org     Android  Linux 软件应用讨论区 —— LinuxSir.Org     Linux 输入开发与研究     Linux 软件专题讨论         软件下载讨论区         即时通讯  Linux 高级应用讨论区 —— LinuxSir.Org     Linux 数据库专题讨论     Linux 认证考试学习与经验交流     Linux 内核研究小组     Linux 企业级应用专题讨论  编程开发讨论区 —— LinuxSir.Org     Linux 程序设计专题讨论     Java 程序设计开发讨论     Perl | PHP | Python 脚本程序开发     嵌入式Linux讨论区──实验田版  Unix 技术讨论区 —— LinuxSir.Org     BSD 讨论专题         BSD 新闻安全观察         RelaxBSD 讨论区     Solaris 讨论专题     MacOSX &amp; Darwin 讨论专题  社区中心 —— LinuxSir.Org     LinuxSir 论坛管理         LinuxSir 论坛临时存放区     LinuxSir 文章管理系统和BBS程序研究小组     小企鹅新闻图书馆     LinuxSir.Org 同城行 ── 我的城市
所有时间均为[北京时间]。现在的时间是 21:28。
<strong><a href="http://www.linuxsir.org/" target="_blank">网站首页</a> - <a href="mailto:kevin@linuxsir.org">联系我们</a> - <a href="http://www.linuxsir.org/bbs/showthread.php?t=236915#top" target="_blank">返回顶端</a></strong>
Powered by vBulletin 版本 3.6.8
版权所有 ©2000 - 2012, Jelsoft Enterprises Ltd.
官方中文技术支持: <a href="http://www.vbulletin-china.cn/" target="_blank">vBulletin 中文</a></p>
<p>版权所有 ©2002 - 2011, LinuxSir.Org</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/服务器/">服务器</a></li></span><span class="breadcrumb"><li><a href="/categories/服务器/">服务器</a></li><li><a href="/categories/服务器/集群/">集群</a></li></span></span> | <span class="tags">Tagged <a href="/tags/服务器/" class="label label-primary">服务器</a><a href="/tags/集群/" class="label label-success">集群</a></span> | <span class="time">recent updated:<time title="2014-03-07 01:54:44"datetime="2014-03-07 01:54:44"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-服务器-集群--Linux下Apache与Tomcat整合的简单方法-LinuxSirOrg/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-服务器-集群--Linux下Apache与Tomcat整合的简单方法-LinuxSirOrg" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-服务器-集群--apachetomcat整合LINUX/">apache+tomcat整合(LINUX) </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T09:54:44.000Z"> <a href="/2014/02/02/2014-02-02-服务器-集群--apachetomcat整合LINUX/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="apache-tomcat-linux-linux-linux-">apache+tomcat整合(LINUX) - 技术文档 - 网络技术 Linux时代 - 开源、自由、共享 - 中国最大的Linux技术社区</h1>
<p>·<a href="http://www.chinaunix.net/" target="_blank">ChinaUnix首页</a> ·<a href="http://bbs.chinaunix.net/" target="_blank">论坛</a> ·<a href="http://blog.chinaunix.net/" target="_blank">博客</a>   <img src="" alt=""> <img src="" alt=""> <a href="http://linux.chinaunix.net/" target="_blank">Linux首页</a> | <a href="http://linux.chinaunix.net/news/" target="_blank">Linux新闻</a> | <a href="http://linux.chinaunix.net/bbs" target="_blank"><strong>Linux论坛</strong></a> | <a href="http://linux.chinaunix.net/techdoc/" target="_blank">Linux文档</a> | <a href="http://download.chinaunix.net/disc/linux/" target="_blank">Linux下载</a> | <a href="http://blog.chinaunix.net/techart.php?frmid=6" target="_blank">Linux博客</a> | <a href="http://search.chinaunix.net/" target="_blank">Linux搜索</a> | <a href="http://linux.chinaunix.net/bbs/index.php?gid=68" target="_blank">开源项目孵化平台</a> | <a href="http://linux.chinaunix.net/ebook/" target="_blank">《开源时代》</a> <img src="" alt=""> <a href="http://linux.chinaunix.net/techdoc/beginner/" target="_blank">新手入门</a> |  <a href="http://linux.chinaunix.net/techdoc/install/" target="_blank">安装启动</a> |  <a href="http://linux.chinaunix.net/techdoc/system/" target="_blank">管理员指南</a> | <a href="http://man.chinaunix.net/" target="_blank">开发手册</a> | <a href="http://linux.chinaunix.net/techdoc/desktop/" target="_blank">桌面应用</a> | <a href="http://linux.chinaunix.net/techdoc/develop/" target="_blank">程序开发</a> | <a href="http://linux.chinaunix.net/techdoc/database/" target="_blank">数据库</a> |  <a href="http://linux.chinaunix.net/techdoc/net/" target="_blank">网络技术</a>| <a href="http://linux.chinaunix.net/topics/2007-01-25/15/index.shtml" target="_blank">CentOS</a> | <a href="http://linux.chinaunix.net/search2.php?key=fedora&amp;id=0" target="_blank">Fedora</a> |  <a href="http://linux.chinaunix.net/search2.php?key=mysql&amp;id=0" target="_blank">MySQL</a> |  <a href="http://linux.chinaunix.net/search2.php?key=apache&amp;id=0" target="_blank">Apache</a> |  <a href="http://linux.chinaunix.net/search2.php?key=ubuntu&amp;id=0" target="_blank">Ubuntu</a> |  <a href="http://linux.chinaunix.net/topics/2008-07-10/18/index.shtml" target="_blank">Gentoo</a>| <strong><a href="http://linux.chinaunix.net/topics/2008-07-30/19/index.shtml" target="_blank">OSCON08</a></strong>    <a href="http://linux.chinaunix.net/" target="_blank">Linux时代</a> &gt;&gt; <a href="http://linux.chinaunix.net/techdoc/" target="_blank">技术文档</a> &gt;&gt; <a href="http://linux.chinaunix.net/techdoc/net/" target="_blank">网络技术</a>  apache+tomcat整合(LINUX)  来源: ChinaUnix博客 　日期： 2007.12.28 13:38　(共有条评论) <a href="http://linux.chinaunix.net/bbs/thread-975323-1-1.html" target="_blank">我要评论</a>   这里介绍两类方法：
    这里假设你已安装并且配置好了JDK
                           一：用apt-get 安装
apt-get install apache2 tomcat5.5 libapache2-mod-jk
设置Tomcat管理员帐号
Tomcat的用户帐号信息都保存在tomcat-users.xml的文件中，运行
sudo gedit /usr/share/tomcat6/conf/tomcat-users.xml在的标签前添加一行
保存并关闭。重新运行tomcat即可输入该用户名和密码，登录Tomcat的管理页面。
确认一下在apache2的启动模块中是否有jk.load
/#sudo ls /etc/apache2/mods-enabled/
/#sudo vi /etc/libapache2-mod-jk/workers.properties
workers.tomcat_home=/usr/share/tomcat6
workers.java_home=/usr/lib/jvm/java-6-sun
/#sudo vi /usr/share/doc/libapache2-mod-jk/httpd_example_apache2.conf
复制里面的内容到apache2.conf
最后重启apache tomcat上传jsp文件到usr/share/tomcat6/webapps/ROOT
                               二:手动下载安装
1.安装jdk
2.安装tomcat
3.编译安装apache2
4.停止以上两个启动的服务:tomcat,apache
5.编译安装jk-connector
6.编辑配置文件
7.看结果吧
详细流程：
1.安装jdk
1.1
下载jdk包，可以是rpm包或者tar包，解压缩到某目录，然后
ln -s /usr/local/src/jdk-1.6./<em> /usr/local/java
1.2
设置环境变量
vi /etc/profile
export JAVA_HOME=/usr/local/java/
export PATH=$PATH:$JAVA_HOME/bin
export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export JRE_HOME=$JAVA_HOME/jre
1.3
启用环境变量
source /etc/profile
1.4
检验成功否
java -version 或 javac -v
2.安装tomcat
tar zxvf /mnt/hgfs/Untitled-1/apache-tomcat-5.5.12.tar.gz -C /usr/local/src/
ln -s /usr/local/src/apache-tomcat-5.5.12 /usr/local/tomcat
/usr/local/tomcat/bin/startup.sh
在浏览器中输入<a href="http://IP地址:8080" target="_blank">http://IP地址:8080</a>
可以看到大花猫了。
3.编译安装apache2
tar zxvf /mnt/hgfs/Untitled-1/httpd-2.2.4.tar.gz  -C /usr/local/src/
cd /usr/local/src/httpd-2.2.4
在进行编译之前要确保系统中没有apr或者apr-util的rpm包或者deb包。下面一下子编译安装了apr，apr-util，httpd
cd srclib/apr &amp;&amp; ./configure --prefix=/usr/local/apr &amp;&amp; make &amp;&amp; make install &amp;&amp; cd ../apr-util &amp;&amp; ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr &amp;&amp; make &amp;&amp; make install &amp;&amp; cd ../.. &amp;&amp; ./configure --prefix=/usr/local/httpd --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util --enable-so &amp;&amp; make &amp;&amp; make install
下面编辑httpd.conf文件中ServerName字段的注释符，可以换成你的IP地址，或者什么都不换。
下面启动apache看看效果
/usr/local/httpd/bin/apachectl -k start
看到了It Works就对了。
4.停止以上两个启动的服务:tomcat,apache。
/usr/local/tomcat/bin/shutdown.sh
/usr/local/httpd/bin/apachectl stop
5.编译安装jk-connector
tar zxvf /mnt/hgfs/Untitled-1/tomcat-connectors-1.2.21-src.tar.gz -C /usr/local/src/
cd /usr/local/src/tomcat-connectors-1.2.21-src/native/
编译安装jk-connector，带上apxs的地址，会在安装的时候自动把mod_jk.so放到/usr/local/httpd/modules里面
./configure --with-apxs=/usr/local/httpd/bin/apxs &amp;&amp; make &amp;&amp; make install
ls /usr/local/httpd/modules
看到mod_jk.so表示成功
6.编辑配置文件
6.1编辑/usr/local/httpd/conf/mod_jk.conf
/# 指出mod_jk模块工作所需要的工作文件workers.properties的位置
JkWorkersFile /usr/local/httpd/conf/workers.properties
/# Where to put jk logs
JkLogFile /var/log/apache2/mod_jk.log
/# Set the jk log level [debug/error/info]
JkLogLevel info
/# Select the log format
JkLogStampFormat &quot;[%a %b %d %H:%M:%S %Y]&quot;
/# JkOptions indicate to send SSL KEY SIZE,
JkOptions  +ForwardKeySize +ForwardURICompat -ForwardDirectories
/# JkRequestLogFormat set the request format
JkRequestLogFormat &quot;%w %V %T&quot;
/# 将所有servlet 和jsp请求通过ajp13的协议送给Tomcat，让Tomcat来处理
JkMount /servlet//</em>  worker1
JkMount //*.jsp worker1
6.2编辑/usr/local/httpd/conf/workers.properties
/# Defining a worker named worker1 and of type ajp13
worker.list=worker1
/# Set properties for worker1
worker.worker1.type=ajp13<br>worker.worker1.host=localhost<br>worker.worker1.port=8009
worker.worker1.lbfactor=50<br>worker.worker1.cachesize=10<br>worker.worker1.cache_timeout=600<br>worker.worker1.socket_keepalive=1<br>worker.worker1.socket_timeout=300
6.3编辑httpd.conf文件
加入如下：
LoadModule jk_module modules/mod_jk.so
Include /usr/local/httpd/conf/mod_jk.conf
修改htdoc的默认地址为/usr/local/tomcat/webapps
修改htdoc的参数，也就是给原来htdoc的目录参数给webapps
修改DirectoryIndex index.html index.htm index.jsp
7.看结果吧
<a href="http://IP地址" target="_blank">http://IP地址</a>
可以看到一只大花猫。ok，成功了。
如何修改tomcat单独启动时候的端口为80？</p>
<p>里面的Connector port=&quot;8080&quot;改为Connector port=&quot;80&quot;</p>
<p><strong>本文来自ChinaUnix博客，如果查看原文请点：</strong><a href="http://blog.chinaunix.net/u1/51404/showart_452032.html" target="_blank"><a href="http://blog.chinaunix.net/u1/51404/showart_452032.html">http://blog.chinaunix.net/u1/51404/showart_452032.html</a></a> <a href="http://linux.chinaunix.net/bbs/thread-975323-1-1.html" target="_blank">发表评论</a> <a href="http://linux.chinaunix.net/bbs/thread-975323-1-1.html" target="_blank">查看评论</a>(共有条评论) <a href="http://linux.chinaunix.net/bbs/forum-4-1.html" target="_blank">我要提问</a>     最新资讯<a href="http://linux.chinaunix.net/news" target="_blank">更多&gt;&gt;</a>  · <a href="http://linux.chinaunix.net/news/2010/12/10/1175490.shtml" title="金山卫士开源计划首周源码下载突破两万" target="_blank">金山卫士开源计划首周源码下载..</a>
· <a href="http://linux.chinaunix.net/news/2010/12/10/1175491.shtml" title="谷歌劝说诺基亚采用Android操作系统" target="_blank">谷歌劝说诺基亚采用Android操作..</a>
· <a href="http://linux.chinaunix.net/news/2010/12/10/1175492.shtml" title="11月份Linux市场占有率升至5%" target="_blank">11月份Linux市场占有率升至5%</a>
· <a href="http://linux.chinaunix.net/news/2010/12/10/1175493.shtml" title="Apache 基金会确认退出 JCP 执行委员会" target="_blank">Apache 基金会确认退出 JCP 执..</a>
· <a href="http://linux.chinaunix.net/news/2010/12/07/1175306.shtml" title="Chrome 10 新功能探秘：新增GPU混合加速功能" target="_blank">Chrome 10 新功能探秘：新增GP..</a>
· <a href="http://linux.chinaunix.net/news/2010/12/07/1175307.shtml" title="金山宣布开源其安全软件" target="_blank">金山宣布开源其安全软件</a>
· <a href="http://linux.chinaunix.net/news/2010/12/07/1175308.shtml" title="开源FTP服务器ProFTPD发现后门" target="_blank">开源FTP服务器ProFTPD发现后门</a>
· <a href="http://linux.chinaunix.net/news/2010/12/07/1175309.shtml" title="女黑客在开源会议上抱受骚扰" target="_blank">女黑客在开源会议上抱受骚扰</a>
· <a href="http://linux.chinaunix.net/news/2010/12/07/1175310.shtml" title="21款值得关注的Linux游戏" target="_blank">21款值得关注的Linux游戏</a>
· <a href="http://linux.chinaunix.net/news/2010/12/07/1175311.shtml" title="马化腾：腾讯半年后彻底转型，开放和分享" target="_blank">马化腾：腾讯半年后彻底转型，..</a> 论坛热点<a href="http://linux.chinaunix.net/bbs" target="_blank">更多&gt;&gt;</a>  · <a href="http://linux.chinaunix.net/bbs/thread-1177273-1-1.html" title="Linux系统移植从零开始！参与讨论即有机会获得图书一本！" target="_blank">Linux系统移植从零开始！参与..</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177271-1-1.html" title="学习linux的意义在哪里" target="_blank">学习linux的意义在哪里</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177409-1-1.html" title="使用netfilter在哪能获取到原始以太包" target="_blank">使用netfilter在哪能获取到原..</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177298-1-1.html" title="哥纠结了" target="_blank">哥纠结了</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177227-1-1.html" title="一个在线读开源代码的工具，希望版主能保留几天，谢谢！" target="_blank">一个在线读开源代码的工具，..</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177374-1-1.html" title="为什么我的目录下没有.cshrc文件？" target="_blank">为什么我的目录下没有.cshrc..</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177344-1-1.html" title="初学linux从哪里开始" target="_blank">初学linux从哪里开始</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177382-1-1.html" title="linux 系统无法上网" target="_blank">linux 系统无法上网</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177380-1-1.html" title="新手安装UCenter 时总是出错。望高手指点" target="_blank">新手安装UCenter 时总是出错..</a>
· <a href="http://linux.chinaunix.net/bbs/thread-1177274-1-1.html" title="cacti添加主机显示的状态都是unknow，不能进行资源绘图" target="_blank">cacti添加主机显示的状态都是..</a> 文档更新<a href="http://linux.chinaunix.net/techdoc" target="_blank">更多&gt;&gt;</a>  · <a href="http://linux.chinaunix.net/techdoc/beginner/2010/11/17/1174196.shtml" title="菜鸟入门三星ARM11嵌入式系统，是否困难？" target="_blank">菜鸟入门三星ARM11嵌入式系统，是..</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/09/16/1171153.shtml" title="寻redhat 5.3 的中文手册 for ia64" target="_blank">寻redhat 5.3 的中文手册 for ia64</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/09/06/1170624.shtml" title="请问redhat 5.3 企业版的用户手册去哪里下载？" target="_blank">请问redhat 5.3 企业版的用户手册..</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/08/18/1169548.shtml" title="LINUX与UNIX SHELL编程指南(中文)" target="_blank">LINUX与UNIX SHELL编程指南(中文)</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/03/24/1160550.shtml" title="一些基本用户管理以及基本安装方法" target="_blank">一些基本用户管理以及基本安装方法</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/03/23/1160525.shtml" title="菜鸟学习linux笔记与练习-----第二天。一些基本命令以及初级网络配置" target="_blank">菜鸟学习linux笔记与练习-----第..</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/03/23/1160523.shtml" title="菜鸟学习linux笔记与练习-----第一天。一些初级命令以及基本用户管理" target="_blank">菜鸟学习linux笔记与练习-----第..</a>
· <a href="http://linux.chinaunix.net/techdoc/beginner/2010/03/22/1160427.shtml" title="服务器配置：Squid配置详解" target="_blank">服务器配置：Squid配置详解</a>
· <a href="http://linux.chinaunix.net/techdoc/install/2010/01/29/1156159.shtml" title="linux下u盘使用" target="_blank">linux下u盘使用</a>
· <a href="http://linux.chinaunix.net/techdoc/install/2010/01/29/1156155.shtml" title="ubuntu dynamips 绑定网卡到虚拟机" target="_blank">ubuntu dynamips 绑定网卡到虚拟机</a>    <a href="http://www.chinaunix.net/about/index.shtml" target="_blank">关于我们</a> | <a href="http://www.chinaunix.net/about/connect.html" target="_blank">联系方式</a> | <a href="http://www.chinaunix.net/about/service.html" target="_blank">广告合作</a> | <a href="http://www.chinaunix.net/about/hr.html" target="_blank">诚聘英才</a> | <a href="http://www.chinaunix.net/about/channel.html" target="_blank">网站地图</a> | <a href="http://www.chinaunix.net/about/friend.html" target="_blank">友情链接</a> | <a href="http://linux.chinaunix.net/bbs/register.php" target="_blank">免费注册</a>  Copyright © 2001-2009 ChinaUnix.net All Rights Reserved</p>
<p>感谢所有关心和支持过ChinaUnix的朋友们</p>
<p><a href="http://www.it168.com/images/icp.jpg" target="_blank">京ICP证:060528号</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/服务器/">服务器</a></li></span><span class="breadcrumb"><li><a href="/categories/服务器/">服务器</a></li><li><a href="/categories/服务器/集群/">集群</a></li></span></span> | <span class="tags">Tagged <a href="/tags/服务器/" class="label label-primary">服务器</a><a href="/tags/集群/" class="label label-success">集群</a></span> | <span class="time">recent updated:<time title="2014-03-07 01:54:44"datetime="2014-03-07 01:54:44"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-服务器-集群--apachetomcat整合LINUX/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-服务器-集群--apachetomcat整合LINUX" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-AlgorithmGossip-AlgorithmGossip--QuickSort3/">QuickSort3</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T09:54:44.000Z"> <a href="/2014/02/02/2014-02-02-AlgorithmGossip-AlgorithmGossip--QuickSort3/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="quicksort3">QuickSort3</h1>
<h1 id="-algorithm-gossip-"><a href="">Algorithm Gossip: 快速排序法（三）</a></h1>
<h2 id="-">说明</h2>
<p>之前说过轴的选择是快速排序法的效率关键之一，在这边的快速排序法的轴选择方式更加快了快速排序法的效率，它是来自演算法名书 Introduction to Algorithms 之中。</p>
<h2 id="-">解法</h2>
<p>先说明这个快速排序法的概念，它以最右边的值s作比较的标准，将整个数列分为三个部份，一个是小于s的部份，一个是大于s的部份，一个是未处理的部份，如下所示 ：
<img src="&quot;快速排序&quot;" alt="快速排序">
在排序的过程中，i 与 j 都会不断的往右进行比较与交换，最后数列会变为以下的状态：
<img src="&quot;快速排序&quot;" alt="快速排序">
然后将s的值置于中间，接下来就以相同的步骤会左右两边的数列进行排序的动作，如下所示：
<img src="&quot;快速排序&quot;" alt="快速排序">
整个演算的过程，直接摘录书中的虚拟码来作说明：
QUICKSORT(A, p, r)
if p &lt; r
then q &lt;- PARTITION(A, p, r)
QUICKSORT(A, p, q-1)
QUICKSORT(A, q+1, r)
end QUICKSORT
PARTITION(A, p, r)
x &lt;- A[r]
i &lt;- p-1
for j &lt;- p to r-1
do if A[j] &lt;= x
then i &lt;- i+1
exchange A[i]&lt;-&gt;A[j]
exchange A[i+1]&lt;-&gt;A[r]
return i+1
end PARTITION
一个实际例子的演算如下所示：
<img src="&quot;快速排序&quot;" alt="快速排序"></p>
<h2 id="-">实作</h2>
<ul>
<li><p>C
/#include <stdio.h>
/#include <stdlib.h>
/#include <time.h>
/#define MAX 10
/#define SWAP(x,y) {int t; t = x; x = y; y = t;}
int partition(int[], int, int);
void quicksort(int[], int, int);
int main(void) {
int number[MAX] = {0};
int i, num;
srand(time(NULL));
printf(&quot;排序前：&quot;);
for(i = 0; i &lt; MAX; i++) {
number[i] = rand() % 100;
printf(&quot;%d &quot;, number[i]);
}
quicksort(number, 0, MAX-1);
printf(&quot;\n排序后：&quot;);
for(i = 0; i &lt; MAX; i++)
printf(&quot;%d &quot;, number[i]);
printf(&quot;\n&quot;);
return 0;
}
int partition(int number[], int left, int right) {
int i, j, s;
s = number[right];
i = left - 1;
for(j = left; j &lt; right; j++) {
if(number[j] &lt;= s) {
i++;
SWAP(number[i], number[j]);
}
}
SWAP(number[i+1], number[right]);
return i+1;
}
void quicksort(int number[], int left, int right) {
int q;
if(left &lt; right) {
q = partition(number, left, right);
quicksort(number, left, q-1);
quicksort(number, q+1, right);
}
}</p>
</li>
<li><p>Java
public class QuickSort {
public static void sort(int[] number) {
sort(number, 0, number.length-1);
}
private static void sort(int[] number,
int left, int right) {
if(left &lt; right) {
int q = partition(number, left, right);
sort(number, left, q-1);
sort(number, q+1, right);
}
}
private static int partition(int number[],
int left, int right) {
int s = number[right];
int i = left - 1;
for(int j = left; j &lt; right; j++) {
if(number[j] &lt;= s) {
i++;
swap(number, i, j);
}
}
swap(number, i+1, right);
return i+1;
}
private static void swap(int[] number, int i, int j) {
int t;
t = number[i];
number[i] = number[j];
number[j] = t;
}
}</p>
</li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/AlgorithmGossip/">AlgorithmGossip</a></li></span></span> | <span class="tags">Tagged <a href="/tags/AlgorithmGossip/" class="label label-primary">AlgorithmGossip</a></span> | <span class="time">recent updated:<time title="2014-03-07 02:34:22"datetime="2014-03-07 02:34:22"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-AlgorithmGossip-AlgorithmGossip--QuickSort3/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-AlgorithmGossip-AlgorithmGossip--QuickSort3" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/25/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/23/">23</a></li><li><a class="page-number" href="/page/24/">24</a></li><li><a class="page-number" href="/page/25/">25</a></li><li class="active"><li><span class="page-number current">26</span></li><li><a class="page-number" href="/page/27/">27</a></li><li><a class="page-number" href="/page/28/">28</a></li><li><a class="page-number" href="/page/29/">29</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/27/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?eaa92c12166944fd3a160103e6c4a8cf"});
</script>


</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-14 12:45:07</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
