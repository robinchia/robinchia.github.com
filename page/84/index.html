
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 84 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS--部署CAS单点登录服务器-萧飒的日志-网易博客/">部署CAS单点登录服务器 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS--部署CAS单点登录服务器-萧飒的日志-网易博客/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-cas-">部署CAS单点登录服务器 - 萧飒的日志 - 网易博客</h1>
<p><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.163.com/" target="_blank">网易 </a></p>
<p><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://news.163.com/" target="_blank">新闻</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://t.163.com/" target="_blank">微博</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://email.163.com/" target="_blank">邮箱</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/" target="_blank">相册</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yuedu.163.com/" target="_blank">阅读</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://www.youdao.com/" target="_blank">有道</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://photo.163.com/pp/square/" target="_blank">摄影</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://aipai.163.com?from=163blog" target="_blank">爱拍</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://note.youdao.com/?vendor=163blog" target="_blank">云笔记</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://fm.163.com/?fmblogzx0628" target="_blank">闪电邮</a><a href="http://m.123.163.com/?frombkcp" target="_blank">手机邮</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://yxp.163.com/" target="_blank">印像派</a><a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://hi.163.com/?from=bkcp" target="_blank">游戏江湖</a> <a href="http://blog.163.com/redirect.html?frompersonalbloghome&amp;url=http://sitemap.163.com/" target="_blank">更多</a></p>
<p><a href="http://blog.163.com/?frompersonalbloghome" target="_blank">博客 </a></p>
<p><a href="http://blog.163.com/services/wapblog.html?frompersonalbloghome" target="_blank">手机博客</a><a href="http://blog.163.com/clone/clone.html?frompersonalbloghome" target="_blank">博客搬家</a><a href="http://blog.163.com/vip.do?frompersonalbloghome" target="_blank">博客VIP服务</a> <a href="http://blog.163.com/blog_admin/blog/static/721279201082863728829/?frompersonalbloghome" target="_blank">LiveWriter写博</a><a href="http://blog.163.com/blog_admin/blog/static/721279201092713253500/?frompersonalbloghome" target="_blank">word写博</a><a href="http://blog.163.com/services/mailblog.html?frompersonalbloghome" target="_blank">邮件写博</a><a href="http://blog.163.com/services/emsblog.html?frompersonalbloghome" target="_blank">短信写博</a> <a href="http://blog.163.com/showMultiUser.do?frompersonalbloghome" target="_blank">群博客</a><a href="http://blog.163.com/BLOG_YOUCAI/" target="_blank">博客油菜地</a><a href="http://blog.163.com/ht/?frompersonalbloghome" target="_blank">博客话题</a><a href="http://blog.163.com/hot/history/?frompersonalbloghome" target="_blank">博客热点</a><a href="http://q.163.com/#home?frompersonalbloghome" target="_blank">博客圈子</a><a href="http://blog.163.com/findFriend.do?type=5?frompersonalbloghome" target="_blank">找朋友</a>
<a href="http://blog.163.com/public/explore/?frompersonalbloghome" target="_blank">发现</a></p>
<p><a href="http://blog.163.com/g/?frompersonalbloghome" target="_blank">小组</a>
<a href="http://blog.163.com/public/theme/?frompersonalbloghome" target="_blank">风格</a></p>
<p><a href="http://blog.163.com/randomUser.do" title="随便看看"></a></p>
<p><a href="http://istyle.163.com/" target="_blank">网易真人搭配社区iStyle</a></p>
<p><a href="http://www.lofter.com/" target="_blank">网易轻博客LOFTER</a></p>
<p><a href="http://reg.163.com/reg/reg.jsp?product=blog&amp;url=http://blog.163.com/ntesRegBlank.html&amp;loginurl=http://blog.163.com/" target="_blank">创建博客</a> <a href="http://slf-1983.blog.163.com/blog/static/2990236320124331628240/#" target="_blank">登录</a>  </p>
<p> 加关注</p>
<p><a href="http://slf-1983.blog.163.com/blog/static/2990236320124331628240/" target="_blank"></a>   <a href="http://slf-1983.blog.163.com/blog/static/2990236320124331628240/">显示下一条</a>  |  <a href="http://slf-1983.blog.163.com/blog/static/2990236320124331628240/" target="_blank">关闭</a></p>
<p><a href="http://blog.163.com/public/explore/?fromblogbanner"></a>
<a href="http://www.lofter.com/invite/163blog/?email="></a></p>
<h1 id="-">萧飒的博客</h1>
<p>未来的成功往往是现在无法想象的……
 <a href="http://slf-1983.blog.163.com/blog/static/2990236320124331628240/#"></a></p>
<h2 id="-">导航</h2>
<ul>
<li><a href="http://slf-1983.blog.163.com/" target="_blank">首页</a></li>
<li><a href="http://slf-1983.blog.163.com/blog/" target="_blank">日志</a></li>
<li><a href="http://slf-1983.blog.163.com/album/" target="_blank">相册</a></li>
<li><a href="http://slf-1983.blog.163.com/music/" target="_blank">音乐</a></li>
<li><a href="http://slf-1983.blog.163.com/collection/" target="_blank">收藏</a></li>
<li><a href="http://slf-1983.blog.163.com/friends/" target="_blank">博友</a></li>
<li><a href="http://slf-1983.blog.163.com/profile/" target="_blank">关于我</a></li>
</ul>
<h2 id="-">日志</h2>
<p><a href="http://slf-1983.blog.163.com/blog/static/299023632012431659898/" target="_blank">cas改造随笔</a></p>
<p><a href="http://slf-1983.blog.163.com/blog/static/29902363201243323076/" target="_blank">jsessionid的困扰</a></p>
<h3 id="-cas-">部署CAS单点登录服务器</h3>
<p>2012-05-03 15:16:28|  分类： <a href="http://slf-1983.blog.163.com/blog/#m=0&amp;t=1&amp;c=fks_082068080083080065083095074065093095081065087080085" title="编程" target="_blank">编程</a> |  标签： |字号大中小 <a href="">订阅</a></p>
<p><strong>第0步：环境配置</strong></p>
<p>操作系统：CentOS 5.5 64位</p>
<p>JDK：1.7</p>
<p>Tomcat：7.0</p>
<p>CAS Server：3.4.11</p>
<p>CAS Client：3.2.1</p>
<p><strong>第1步：安装JAVA并设置环境变量</strong></p>
<p>从<a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u3-download-1501626.html" target="_blank"><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u3-download-1501626.html">http://www.oracle.com/technetwork/java/javase/downloads/jdk-7u3-download-1501626.html</a></a></p>
<p>下载并安装Linux x64 RPM包
rpm -i jdk-7u3-linux-x64.rpm</p>
<p>设置环境变量</p>
<p>vi /etc/profile</p>
<p>加入</p>
<p>JAVA_HOME=/usr/java/jdk1.7.0_03 export JAVA_HOME</p>
<p>方便操作将keytool加入/usr/bin/</p>
<p>ln -s /usr/java/jdk1.7.0_03/bin/keytool /usr/bin/keytool</p>
<p><strong>第2步：安装Tomcat</strong></p>
<p>从<a href="http://tomcat.apache.org/download-70.cgi" target="_blank"><a href="http://tomcat.apache.org/download-70.cgi">http://tomcat.apache.org/download-70.cgi</a></a></p>
<p>下载Tomcat并解压</p>
<p>tar -zxvf apache-tomcat-7.0.26.tar.gz</p>
<p>方便操作将启动关闭加入/usr/bin/
ln -s /usr/local/tomcat/bin/startup.sh /usr/bin/tomcat-start ln -s /usr/local/tomcat/bin/shutdown.sh /usr/bin/tomcat-stop</p>
<p><strong>第3步：创建、导出、导入证书</strong></p>
<p>创建一个生成证书的脚本
vi create_https_cert.sh /# 删除原证书库 keytool -delete -keystore /home/cas/cascerts -storepass changeit /# 删除原别名 keytool -delete -alias sgstsso -storepass changeit /# 生成证书，需要注意的是dname需要使用域名或主机名，不能用IP，keystore 为生成的证书库地址，后面TOMCAT会用到 keytool -genkey -keyalg RSA -alias sgstsso -keystore /home/cas/cascerts -dname &quot;CN=cas.sgst.cn&quot; -storepass changeit /# 导出证书，导出的证书用在各客户端的JDK导入 keytool -export -alias sgstsso -keystore /home/cas/cascerts -file /home/cas/sgstsso.crt -storepass changeit /# 导入证书 keytool -import -alias sgstsso -file /home/cas/sgstsso.crt -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit</p>
<p>执行该脚本。</p>
<p><strong>第4步：应用证书到Tomcat</strong></p>
<p>编辑conf/server.xml加入下面这段（如果8443 https已开启使用的则在其基础上修改）</p>
<Connector protocol="org.apache.coyote.http11.Http11Protocol" port="8443" minSpareThreads="5" enableLookups="true" disableUploadTimeout="true" acceptCount="100" maxThreads="200" scheme="https" secure="true" SSLEnabled="true" keystoreFile="/home/cas/cascerts" keystorePass="changeit" truststoreFile="/usr/java/jdk1.7.0_03/jre/lib/security/cacerts" clientAuth="false" sslProtocol="TLS"/>

<p>重启Tomcat，访问<a href="https://localhost:8443，如果能否访问则配置成功。" target="_blank">https://localhost:8443，如果能否访问则配置成功。</a></p>
<p><strong>第5步：配置CAS服务器</strong></p>
<p>从<a href="http://www.jasig.org/cas/download" target="_blank"><a href="http://www.jasig.org/cas/download">http://www.jasig.org/cas/download</a></a>下载<a href="http://www.jasig.org/cas_server_3_4_11_release" target="_blank">CAS Server 3.4.11 Release</a>压缩包</p>
<p>解压后将其中的cas-server-3.4.11.war改名为cas.war放在tomcat下面</p>
<p>此时打开<a href="https://localhost:8443/cas/login即可访问" target="_blank">https://localhost:8443/cas/login即可访问</a></p>
<p>输入sgst/sgst登录成功（默认为简单认证，即用户名密码一样就算通过）</p>
<p>编辑tomcat/conf/server.xml在原Host下面增加以下这段</p>
<Host name="cas.sgst.cn" appBase="/home/cas/webapps" unpackWARs="true" autoDeploy="true"> <Context path='' docBase='cas'/> <Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs" prefix="cas_access_log." suffix=".txt" pattern="%h %l %u %t &quot;%r&quot; %s %b" /> </Host>

<p>这样实现以<a href="https://cas.sgst.cn:8443" target="_blank">https://cas.sgst.cn:8443</a> 访问cas</p>
<p>CAS的认证改为查询数据库用户名密码验证：</p>
<p>编辑cas/WEB-INF/deployerConfigContext.xml</p>
<p>将</p>
<bean class="org.jasig.cas.authentication.handler.support.SimpleTestUsernamePasswordAuthenticationHandler" />

注释掉，新增下面这段

<bean class="org.jasig.cas.adaptors.jdbc.QueryDatabaseAuthenticationHandler"> <property name="dataSource" ref="casDataSource" /> <property name="sql" value="select userpwd from idsuser where lower(username) = lower(?)" /> <property name="passwordEncoder" ref="myPasswordEncoder"/> </bean>

<p>上面的加密根据个人需求可自行开发，这里用的是MD5 64位加密，以一个独立bean跟在后面</p>
<bean id="myPasswordEncoder"/>

casDataSource则同样以一个独立bean跟在后面

<bean id="casDataSource" class="org.apache.commons.dbcp.BasicDataSource"> <property name="driverClassName"> <value>oracle.jdbc.driver.OracleDriver</value> </property> <property name="url"> <value>jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)(HOST = 10.10.29.104)(PORT = 1521))(ADDRESS = (PROTOCOL = TCP)(HOST = 10.10.29.105)(PORT = 1521))(ADDRESS = (PROTOCOL = TCP)(HOST = 10.10.29.106)(PORT = 1521))(LOAD_BALANCE = yes)(CONNECT_DATA = (SERVER = DEDICATED) (SERVICE_NAME = genome)))</value> </property> <property name="username"> <value>trs_ids</value> </property> <property name="password"> <value>123456</value> </property> </bean>

<p>保存该文件，复制压缩包中的modules里的cas-server-support-jdbc-3.4.11.jar和ojdbc14.jar到cas/WEB-INF/lib下</p>
<p>重启Tomcat后CAS便以用户名密码进行验证。</p>
<p><strong>第6步：配置CAS客户端</strong></p>
<p>从<a href="http://www.jasig.org/cas/client-integration" target="_blank"><a href="http://www.jasig.org/cas/client-integration">http://www.jasig.org/cas/client-integration</a></a>参考适合的客户端，JAVA的在这里下载<a href="http://downloads.jasig.org/cas-clients/" target="_blank"><a href="http://downloads.jasig.org/cas-clients/">http://downloads.jasig.org/cas-clients/</a></a></p>
<p>客户端中相应的JAR包都有，对应的maven为
<!-- cas --> <dependency> <groupId>org.jasig.cas.client</groupId> <artifactId>cas-client-core</artifactId> <version>3.2.1</version> </dependency></p>
<p>修改web.xml增加以下filter</p>
<!-- ======================== 单点登录开始 ======================== --> <!-- 用于单点退出，该过滤器用于实现单点登出功能，可选配置--> <listener> <listener-class>org.jasig.cas.client.session.SingleSignOutHttpSessionListener</listener-class> </listener> <!-- 该过滤器用于实现单点登出功能，可选配置。 --> <filter> <filter-name>CAS Single Sign Out Filter</filter-name> <filter-class>org.jasig.cas.client.session.SingleSignOutFilter</filter-class> </filter> <filter-mapping> <filter-name>CAS Single Sign Out Filter</filter-name> <url-pattern>/check//<em></url-pattern> </filter-mapping> <!-- 该过滤器负责用户的认证工作，必须启用它 --> <filter> <filter-name>CASFilter</filter-name> <filter-class>org.jasig.cas.client.authentication.AuthenticationFilter</filter-class> <init-param> <param-name>casServerLoginUrl</param-name> <!-- 这里是服务器端地址 --> <param-value><a href="https://cas.sgst.cn:8443/login" target="_blank">https://cas.sgst.cn:8443/login</a></param-value> </init-param> <init-param> <param-name>serverName</param-name> <param-value><a href="http://localhost:8080" target="_blank">http://localhost:8080</a></param-value> </init-param> </filter> <filter-mapping> <filter-name>CASFilter</filter-name> <url-pattern>/check//</em></url-pattern> </filter-mapping> <!-- 该过滤器负责对Ticket的校验工作，必须启用它 --> <filter> <filter-name>CAS Validation Filter</filter-name> <filter-class> org.jasig.cas.client.validation.Cas20ProxyReceivingTicketValidationFilter </filter-class> <init-param> <param-name>casServerUrlPrefix</param-name> <param-value><a href="https://cas.sgst.cn:8443" target="_blank">https://cas.sgst.cn:8443</a></param-value> </init-param> <init-param> <param-name>serverName</param-name> <param-value><a href="http://localhost:8080" target="_blank">http://localhost:8080</a></param-value> </init-param> </filter> <filter-mapping> <filter-name>CAS Validation Filter</filter-name> <url-pattern>/check//<em></url-pattern> </filter-mapping> <!-- 该过滤器负责实现HttpServletRequest请求的包裹， 比如允许开发者通过HttpServletRequest的getRemoteUser()方法获得SSO登录用户的登录名，可选配置。 --> <filter> <filter-name>CAS HttpServletRequest Wrapper Filter</filter-name> <filter-class>org.jasig.cas.client.util.HttpServletRequestWrapperFilter</filter-class> </filter> <filter-mapping> <filter-name>CAS HttpServletRequest Wrapper Filter</filter-name> <url-pattern>/check//</em></url-pattern> </filter-mapping> <!-- 该过滤器使得开发者可以通过org.jasig.cas.client.util.AssertionHolder来获取用户的登录名。 比如AssertionHolder.getAssertion().getPrincipal().getName()。 --> <filter> <filter-name>CAS Assertion Thread Local Filter</filter-name> <filter-class>org.jasig.cas.client.util.AssertionThreadLocalFilter</filter-class> </filter> <filter-mapping> <filter-name>CAS Assertion Thread Local Filter</filter-name> <url-pattern>/check//*</url-pattern> </filter-mapping> <!-- ======================== 单点登录结束 ======================== -->

<p>2012-03-21更新： CAS filter-mapping一定要放在整个项目的encodingFilter之后，否则会造成中文乱码</p>
<p><strong>第7步：美化服务器界面</strong></p>
<p>具体页面在cas\WEB-INF\view\jsp\default\ui\</p>
<p>登录界面：casLoginView.jsp
登录成功：casGenericSuccess.jsp
登出界面：casLogoutView.jsp
  评论这张</p>
<p><img src="" alt=""> 转发至微博
<img src="" alt=""> 转发至微博</p>
<p><img src="" alt=""> 0人  |  分享到：        </p>
<p>阅读(7)| 评论(0)| 转载 (0) |举报</p>
<p><a href="http://slf-1983.blog.163.com/blog/static/299023632012431659898/" target="_blank">cas改造随笔</a></p>
<p><a href="http://slf-1983.blog.163.com/blog/static/29902363201243323076/" target="_blank">jsessionid的困扰</a></p>
<h3 id="-">历史上的今天</h3>
<h3 id="-">相关文章</h3>
<h3 id="-">最近读者</h3>
<h3 id="-">评论</h3>
<p><a href=""></a></p>
<p>this.p={ m:2, b:2, id:&#39;fks_087066086087081064092094095065072084088074084084085069087&#39;, blogTitle:&#39;部署CAS单点登录服务器&#39;, blogAbstract:&#39;<span style=\"color: rgb(51, 51, 51); font-family: \'Segoe UI\', Calibri, \'Myriad Pro\', Myriad, \'Trebuchet MS\', Helvetica, Arial, sans-serif; font-size: 13px; line-height: normal;\" \><p style=\"margin-top: 0.25em; margin-bottom: 0.75em; line-height: 19px;\" \><strong\>第0步：环境配置</strong\></p\><p style=\"margin-top: 0.25em; margin-bottom: 0.75em; line-height: 19px;\" \>操作系统：CentOS 5.5 64位</p\><p style=\"margin-top: 0.25em; margin-bottom: 0.75em; line-height: 19px;\" \>JDK：1.7</p\><p style=\"margin-top: 0.25em; margin-bottom: 0.75em; line-height: 19px;\" \>Tomcat：7.0</p\><p style=\"margin-top: 0.25em; margin-bottom: 0.75em; line-height: 19px;\" \>CAS Server：3.4.11</p\><p style=\"margin-top: 0.25em; margin-bottom: 0.75em; line-height: 19px;\" \>CAS Client：3.2.1</p\></span\>&#39;, blogTag:&#39;编程&#39;, blogUrl:&#39;blog/static/2990236320124331628240&#39;, isPublished:1, istop:false, type:0, modifyTime:0, publishTime:1336029388240, permalink:&#39;blog/static/2990236320124331628240&#39;, commentCount:0, mainCommentCount:0, recommendCount:0, bsrk:-100, publisherId:0, recomBlogHome:false, attachmentsFileIds:[], vote:{}, groupInfo:{}, friendstatus:&#39;none&#39;, followstatus:&#39;unFollow&#39;, pubSucc:&#39;&#39;, visitorProvince:&#39;北京&#39;, visitorCity:&#39;西城区&#39;, postAddInfo:{}, mset:&#39;000&#39;, mcon:&#39;&#39;, srk:-100, remindgoodnightblog:false, isBlackVisitor:false, isShowYodaoAd:true, hostIntro:&#39;我,犯溅一样的猪一样的懒,无语……&#39;, hmcon:&#39;1&#39;, selfRecomBlogCount:&#39;0&#39;, lofter_single:&#39;<a hidefocus="true" target="_blank" href="http://www.lofter.com/reg?act=qbview_20120221_01&from=blog_01"><img onload="var nimg = new Image(); nimg.src=\'http://blog.163.com/newpage/images/analyse.png?lofter_single&t=\'+new Date().getTime()" border="0" src="http://b2.bst.126.net/newpage/images/lofter_single6.jpg"/></a>&#39; }   {list a as x} {if !!x} <div class="iblock nbw-fce nbw-f40"> <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.visitorName}/"> {if x.visitorName==visitor.userName} <img alt="${x.visitorNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.visitorName)}&r=${visitor.imageUpdateTime}"/> {else} <img alt="${x.visitorNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.visitorName)}"/> {/if} </a> <div class="cwd vname thide"> {if x.moveFrom==&#39;wap&#39;} <a class="noul pnt" target="_blank" href="http://blog.163.com/services/wapblog.html?frompersonalbloghome"><span title="来自网易手机博客" class="iblock wapIcon"> </span></a> {elseif x.moveFrom==&#39;iphone&#39;} <a class="noul pnt" target="_blank"><span title="来自iPhone客户端" class="iblock iphoneIcon"> </span></a> {elseif x.moveFrom==&#39;android&#39;} <a class="noul pnt" target="_blank"><span title="来自Android客户端" class="iblock androidIcon"> </span></a> {elseif x.moveFrom==&#39;mobile&#39;} <a class="noul pnt" target="_blank" href="http://blog.163.com/services/emsblog.html?frompersonalbloghome"><span title="来自网易短信写博" class="iblock wapIcon"> </span></a> {/if} <a class="fc03 m2a" target="_blank" hidefocus="true" href="http://blog.163.com/${x.visitorName}/"> ${fn(x.visitorNickname,8)|escape} </a> </div> </div> {/if} {/list}   {if !!a} <a target="_blank" href="http://blog.163.com/${a.userName}/"><img class="bdwa bdc0 pnt" onerror="this.src=location.f60" src="${fn1(a.userName)}"/></a> <a target="_blank" class="fc03 m2a" href="http://blog.163.com/${a.userName}/">${fn(a.nickname,8)|escape}</a> <div class="intro fc05">${a.selfIntro|escape}{if great260}${suplement}{/if}</div> <div class="acts ztag"></div> <div class="mbga phide xtag"> <div class="mbgai"> </div> <a class="fc03 xtag m2a" href="/#" target="_blank"></a> </div> {/if}  &lt;/#--最新日志，群博日志--&gt;  {list a as x} {if !!x} <li class="thide"><a target="_blank" class="fc03 m2a" href="${furl()}${x.permalink}/?latestBlog">${fn(x.title,26)|escape}</a></li> {/if} {/list}  &lt;/#--推荐日志--&gt;  <p class="fc06">推荐过这篇日志的人：</p> <div> {list a as x} {if !!x} <div class="iblock nbw-fce nbw-f40"> <a class="fc03 noul" target="_blank" hidefocus="true" href="http://blog.163.com/${x.recommenderName}/"> <img alt="${x.recommenderNickname|escape}" onerror="this.src=location.f40" class="cwd bdwa bdc0" src="${fn1(x.recommenderName)}"/> </a> <div class="cwd thide"> <a class="fc03 m2a" target="_blank" hidefocus="true" href="http://blog.163.com/${x.recommenderName}/"> ${fn(x.recommenderNickname,6)|escape} </a> </div> </div> {/if} {/list} </div> {if !!b&amp;&amp;b.length&gt;0} <p class="fc06">他们还推荐了：</p> <ul> {list b as y} {if !!y} <li class="rrb"><span class="iblock">·</span><a class="fc03 m2a" target="_blank" href="http://blog.163.com/${y.recommendBlogPermalink}/?from=blog/static/2990236320124331628240">${y.recommendBlogTitle|escape}</a></li> {/if} {/list} </ul> {/if}  &lt;/#--引用记录--&gt;  <span class="pleft fc07">转载记录：</span> <ul class="tbac"> {list d as x} <li class="clearfix"> <span class="pleft iblock">·</span> <div class="tbl thide pleft"><span><a target="_blank" class="fc07 m2a" href="${x.referBlogUrl}">${x.referBlogTitle|escape}</a></span></div> <div class="tbr pleft"><span><a target="_blank" class="fc07 m2a" href="${x.referHomePage}">${x.referUserName|escape}</a></span></div> </li> {/list} </ul>  &lt;/#--博主推荐--&gt;  {list a as x} {if !!x} <li class="thide"><a target="_blank" class="fc03 m2a" href="http://blog.163.com/${x.userName}/${x.permalink}/?recommendBlog" title="${x.title|default:""|escape}">${x.title|default:&quot;&quot;|escape}</a></li> {/if} {/list}  &lt;/#--随机阅读--&gt;  {list a as x} {if !!x} <li class="thide"><a target="_blank" class="fc03 m2a" href="http://blog.163.com/${x.userName}/${x.permalink}/?personalRecomBlog" title="${x.title|default:""|escape}">${x.title|default:&quot;&quot;|escape}</a></li> {/if} {/list}  &lt;/#--首页推荐--&gt;  {list a as x} {if !!x} <li class="thide"><a target="_blank" class="fc03 m2a" target="_blank" href="${x.blogUrl|default:""|escape}?recommendReader" title="${x.blogTile|default:""|escape}">${x.blogTile|default:&quot;&quot;|escape}</a></li> {/if} {/list}  &lt;/#--相关文章--&gt;  <ul> {list a as x} {if x_index&gt;9}{break}{/if} {if !!x} <li class="thide fc03"> <a class="m2a" target="_blank" target="_blank" href="${x.url|default:""}?fromdm&fromSearch&isFromSearchEngine=${isFromSearchEngine|default:"no"}" title="${x.title|default:""|escape}">${x.title|default:&quot;&quot;|escape}</a><span class="fc07">${fn2(parseInt(x.date),&#39;yyyy-MM-dd HH:mm:ss&#39;)}</span> </li> {/if} {/list} </ul>  &lt;/#--历史上的今天--&gt;  <ul> {list a as x} {if x_index&gt;4}{break}{/if} {if !!x} <li class="thide fc03"> <a class="m2a" target="_blank" href="http://blog.163.com/${x.userName}/${x.permalink|default:""}" title="${x.title|default:""|escape}">${fn1(x.title,60)|escape}</a><span class="fc07">${fn2(x.publishTime,&#39;yyyy-MM-dd HH:mm:ss&#39;)}</span> </li> {/if} {/list} </ul>  &lt;/#--被推荐日志--&gt;  {list a as x} {if !!x} <li class="thide"><a target="_blank" class="fc03 m2a" href="${furl()}${x.permalink}/">${fn(x.title,26)|escape}</a></li> {/if} {/list}  &lt;/#--右边模块结构--&gt;  <div class="uinfo ztag"></div> <h4 class="fc07 fs0 ltt phide ztag">被推荐日志</h4> <ul class="ztag blst"></ul> <h4 class="fc07 fs0 ltt phide ztag">最新日志</h4> <ul class="ztag blst"></ul> <h4 class="fc07 fs0 ltt phide ztag">该作者的其他文章</h4> <ul class="ztag blst"></ul> <h4 class="fc07 fs0 ltt phide ztag">博主推荐</h4> <ul class="ztag blst"></ul> <h4 class="fc07 fs0 ltt phide ztag">相关日志</h4> <ul class="ztag blst"></ul> <h4 class="fc07 fs0 ltt phide ztag">随机阅读</h4> <ul class="ztag blst"></ul> <h4 class="fc07 fs0 ltt phide ztag">首页推荐</h4> <ul class="ztag blst"></ul> <div class="more"><a target="_blank" class="fc03 m2a" href="http://blog.163.com">更多&gt;&gt;</a></div> <br/><br/> <div id="yodaoad_r" style="display:none;_zoom:1;"></div> <div id="lofter_single"></div>  &lt;/#--评论模块结构--&gt;  <div class="publish ztag"></div> <div class="bdwt bds2 bdc0 phide" id="yodaoad_2" style="_zoom:1;"></div> <div class="ztag bdwt bds2 bdc0"> <div class="case"></div> <div class="clearfix"></div> </div>  &lt;/#--引用模块结构--&gt;  <div class="close"> <span class="ztag iblock icn0 icn0-57"> </span> </div> <div class="ztag phide"></div>  &lt;/#--博主发起的投票--&gt;  {list a as x} {if !!x} <li> <a href="http://blog.163.com/${x.userName}/" target="_blank" class="m2a fc03">${x.nickName|escape}</a>  投票给 {var first_option = true;} {list x.voteDetailList as voteToOption} {if voteToOption==1} {if first_option==false},{/if}  “${b[voteToOption_index]}”   {/if} {/list} {if (x.role!=&quot;-1&quot;) },“我是${c[x.role]}”  {/if}     <span class="fc07">    ${fn1(x.voteTime)}</span> {if x.userName==&#39;&#39;}{/if} {/if} {/list}</p>
<h2 id="-">页脚</h2>
<p><a href="http://corp.163.com/index_gb.html" target="_blank">公司简介</a> - <a href="http://gb.corp.163.com/gb/contactus.html" target="_blank">联系方法</a> - <a href="http://corp.163.com/gb/job/job.html" target="_blank">招聘信息</a> - <a href="http://help.163.com/?b13abk1" target="_blank">客户服务</a> - <a href="http://corp.163.com/gb/legal/legal.html" target="_blank">隐私政策</a> - <a href="http://blog.163.com/public/theme/" target="_blank">博客风格</a> - <a href="http://blog.163.com/services/wapblog.html" target="_blank">手机博客</a> - <a href="http://blog.163.com/vip.do" target="_blank">VIP博客</a> - <a href="">订阅此博客</a></p>
<p>网易公司版权所有 ©1997-2012</p>
<p><a rel="nofollow" class="pr" target="_blank" href="http://help.163.com/special/007525FT/blog.html?b13aze1">帮助</a> <span class="fr iblock space icn1 icn1-4"> </span> <a class="pr" target="_blank" href="http://blog.163.com/activation.do?host=activation&&username=${u}">${u}</a>   {list wl as x} <div class="grp">${x.g}</div> {list x.l as y} <a class="itm noul" href="/#" hidefocus="true" name="{if typeof(y.v)=='string'}${y.v}{else}${y_index}{/if}">${y.n}</a> {/list} {/list}   {if defined(&#39;wl&#39;)} {list wl as x}<a class="itm noul" href="/#" hidefocus="true" name="${x.v}">${x.n}</a>{/list} {/if}</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS--部署CAS单点登录服务器-萧飒的日志-网易博客/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS--部署CAS单点登录服务器-萧飒的日志-网易博客" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-安全-绿盟--利用SNMP实现remoteping/">利用SNMP实现remote ping</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-安全-绿盟--利用SNMP实现remoteping/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-snmp-remote-ping">利用SNMP实现remote ping</h1>
<p><a href=""></a> <a href="http://www.nsfocus.com/"><img src="" alt="Logo of NSFOCUS"></a> <a href="http://www.nsfocus.com/en/index.html" target="_blank"><img src="" alt="English Version"></a>  <a href="http://www.nsfocus.com/index.html" target="_blank"><img src="" alt="Chinese Version"></a>  <a href="http://www.nsfocus.com/jp/index.html" target="_blank"><img src="" alt="Japanese Version"></a> <a href="http://weibo.com/nsfocus" target="_blank"><img src="" alt=""></a> <img src="" alt=""> <a href="http://www.nsfocus.com/" target="_blank"><img src="" alt=""></a> <a href="http://www.nsfocus.com/1_solution/" target="_blank"><img src="" alt="产品与解决方案"></a> <a href="http://www.nsfocus.com/2_services/" target="_blank"><img src="" alt="专业服务"></a> <a href="http://support.nsfocus.com/" target="_blank"><img src="" alt="客户支持"></a> <a href="http://www.nsfocus.net/" target="_blank"><img src="" alt="安全研究"></a> <a href="http://www.nsfocus.com/5_careers/" target="_blank"><img src="" alt="工作机会"></a> <a href="http://www.nsfocus.com/6_about/" target="_blank"><img src="" alt="关于我们"></a> <img src="" alt="">   <img src="" alt="">  <a href="http://www.nsfocus.net/index.php?act=sec_bug" target="_blank">安全漏洞</a>    <a href="http://www.nsfocus.net/index.php?act=sec_news" target="_blank">业界动态</a>    <a href="http://www.nsfocus.net/index.php?act=alert" target="_blank">紧急通告</a>    <a href="http://www.nsfocus.net/index.php?act=advisory" target="_blank">研究成果</a>    <a href="http://www.nsfocus.com/4_research/4_5.html" target="_blank">研究机构</a>  <a href="http://www.nsfocus.com/4_research/4_6.html" target="_blank">安全视角</a>  <img src="" alt=""> <img src="" alt="">   绿盟安全月刊-&gt;<a href="http://www.nsfocus.net/index.php?act=magazine&amp;do=one&amp;periodical=56" target="_blank">第56期</a>-&gt;<a href="http://www.nsfocus.net/index.php?act=magazine&amp;do=search&amp;periodical=56&amp;kind_id=4" target="_blank">技术专题</a> 期刊号：  --全部--第57期第56期第55期第54期第53期第52期第51期第50期第49期第48期第47期第46期第45期第44期第43期第42期第41期第40期第39期第38期第37期第36期第35期第34期第33期第32期第31期第30期第29期第28期第27期第26期第25期第24期第23期第22期第21期第20期第19期第18期第17期第16期第15期第14期第13期第12期第11期第10期第9期第8期第7期第6期第5期第4期第3期第2期第1期  类型：  --全部--业界动态安全新闻最新漏洞技术专题工具介绍安全文摘专题报道安全资源  关键词：  <strong>利用snmp实现remote ping</strong>
作者：Yiming Gong
出处：<a href="http://www.nsfocus.com" target="_blank">http://www.nsfocus.com</a>
主页：<a href="http://security.zz.ha.cn" target="_blank">http://security.zz.ha.cn</a>
日期：2005-02-04
声明:摘抄请保留上述作者和http地址
CNNOG1上我的ppt稿子中第18页的snmp部分引来了几封邮件，问该页的内容是什么意思，一次次的回答比较麻烦，干脆写个小东西说明一下。
先把ppt中该页内容引用如下（有细微改动）：
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.16.333 integer 6 //<em>ciscoPingEntryStatus
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.16.333 integer 5
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.15.333 s &quot;yiming&quot;
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.2.333 integer 1 / /</em>ciscoPingProtocol
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.3.333 x &quot;DB 96 20 C5&quot;
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.6.333 integer 1000 //<em>ciscoPingPacketTimeout
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.4.333 integer 10 //</em>&quot;ciscoPingPacketCount
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.5.333 integer 111 //<em>ciscoPingPacketSize
? snmpset -v 1 -c 100wxs9dj 219.150.128.1 .1.3.6.1.4.1.9.9.16.1.1.1.16.333 i 1
? snmpwalk -v 1 -c private 192.168.1.1 1.3.6.1.4.1.9.9.16.1.1.1.12.333  //</em>ciscoPingAvgRtt
上述snmp命令实际上最终实现的是remote ping功能，ping我们都很熟悉，但什么是remote ping?
在拥有自己网络的企业内，尤其是大型的ISP，网络维护的工作中一般都有一项固定任务：“测算几台路由器之间时延和丢包率”。通常是每天定时登录到路由器，在路由器而非管理终端（此即remote）上面执行ping（或扩展ping）命令测量到其它router或指定地址的时延和丢包并将结果记录，进行后期的各种分析比较工作。
为完成上述需求，如果不使用这个ppt里面谈到的方法，有3种选择：
/<em>一种是笨办法，管理员每天定时从管理终端挨个telnet/ssh到路由器上，手工执行ping（或扩展ping）命令，并copy回结果，这个法子比较麻烦。
/</em>方法2是通过expect之类的东西来写脚本，并设置cron等代替管理员定时登录路由器执行命令并取回数据，这个法子也不错，就是对管理员的编程有一些要求。
/*方法3最简单，就是买商用的hpopenview之类支持remote ping的工具，不过感觉这个有点夸张。
实际上除了这三种方法以外，对于国内广泛使用的cisco的设备来说，还有不花钱又简单的方法，就是利用它自己的ping mib。
除了这个MIB外，我们还需要snmp的工具，当然可以选择商用的solarwind之类的东西，但是对于看此文的读者来说开源的NETSNMP应该是方便自己定制的不二选择。
然后就是snmp 通讯字串了，本例子里面以private表示。
最后是router的ip,本例子中以192.168.1.1表示。
打个茬，我之所以突然对这个remote ping感兴趣，就是因为前一段一个电信的朋友问有没有HP openview，他需要里面的rping模块来对他们省内的routers做remote ping，我手头自然是不会有这个了，但是感觉不至于非要商用的产品才能搞这个事情吧。好奇之下就在cisco的网站狂扒了一阵，先是找到了一篇cisco的Ping MIB Implementation文档，可惜如法炮制后发现不好使，后来发现是cisco的文档写错了，这是后话不提。不过这个文档中提到了cisco自己的私有mib, CISCO-PING-MIB-V1SMI  (参见2)，知道了需要用到这个mib，这个任务就简单了（p.s. SNMP的相关概念请参阅其他文档）
首先要仔细查看CISCO-PING-MIB-V1SMI这个mib文件，搞清楚mib中每个分支的意思，其次为了方便使用命令时快速查找，我们还需要找到对应oid表 (参见3)
在CISCO-PING-MIB-V1SMI.my的开头部分我们看到如下内容：
-- snip --    </p>
<pre><code>    A management station wishing to create an entry should
    first generate a pseudo-random serial number to be used
    as the index to this sparse table.  The station should
    then create the associated instance of the row status
    and row owner objects.  It must also, either in the same
    or in successive PDUs, create the associated instance of
    the protocol and address objects.  It should also modify
    the default values for the other configuration objects
    if the defaults are not appropriate.
</code></pre><p>-- end snip --<br>读懂了这个mib文件，剩下的工作就简单得很了，我们按照对上面ppt的内容逐行解释一下大家立刻就能明白：
首先ciscoPingEntry的oid是1.3.6.1.4.1.9.9.16.1.1.1，如上面所引用内容，我们要先给它建立一个实例，这里随便选一个，333</p>
<ol>
<li>&quot;ciscoPingEntryStatus&quot;    &quot;1.3.6.1.4.1.9.9.16.1.1.1.16&quot;
第一步需要设置ping entry的状态，在mib文件中ciscoPingEntryStatus描述如下
--snip--
ciscoPingEntryStatus OBJECT-TYPE
SYNTAX RowStatus
--    Rsyntax INTEGER {
--        active(1),
--        notInService(2),
--        notReady(3),
--        createAndGo(4),
--        createAndWait(5),
--        destroy(6)
--        }
-- end snip --<br>为了保险起见，我们先destroy(6)以前可能有的实例，这就是ppt中的第一行：
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.16.333 integer 6</li>
<li>然后我们要create这个实例，并等待后面的动作，设置 createAndWait(5), 这就是ppt中的第二行
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.16.333 integer 5</li>
<li>设置一个ciscoPingEntryOwner，这就是ppt中的第三行：
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.15.333 s &quot;yiming&quot;</li>
<li>设置使用IP协议来执行Ping动作，这就是ppt中的第四行：
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.2.333 integer 1</li>
<li>设置ping的destination IP地址，注意目的IP是16进制表示，这就是ppt中的第五行：
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.3.333 x &quot;DB 96 20 C5&quot;</li>
<li>设置超时时间，ppt中的第6行
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.6.333 integer 1000</li>
<li>设置要发出的ping packets数目，ppt中的第7行
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.4.333 integer 10</li>
<li>设置ping包的大小，ppt中的第8行
? snmpset -v 1 -c private 192.168.1.1 .1.3.6.1.4.1.9.9.16.1.1.1.5.333 integer 111</li>
<li>将PingEntryStatus设置为1，激活开始执行命令动作，ppt中的第9行
? snmpset -v 1 -c 100wxs9dj 219.150.128.1 .1.3.6.1.4.1.9.9.16.1.1.1.16.333 i 1</li>
<li>取结果的平均RTT值，ppt中的第10行
? snmpwalk -v 1 -c private 192.168.1.1 1.3.6.1.4.1.9.9.16.1.1.1.12.333
1到9的输出结果不必要copy出来了，这里单把第10个命令的输出结果copy如下：
Yiming/# snmpwalk -v 1 -c private 192.168.1.1 1.3.6.1.4.1.9.9.16.1.1.1.12.333
SNMPv2-SMI::enterprises.9.9.16.1.1.1.12.333 = INTEGER: 28
也就是说从此次测算的router到dst IP的平均RTT是28毫秒。
同样，我们可以对照MIB表查询本次动作的其他各个指标，常见的如
.1.3.6.1.4.1.9.9.16.1.1.1.10.333
.1.3.6.1.4.1.9.9.16.1.1.1.12.333
.1.3.6.1.4.1.9.9.16.1.1.1.14.333 等等等等，
通过这些分支，我们可以得知执行每个实例的最小最大RTT, 接收，发送的报文数等等项目，具体内容大家可以查看这些mib文件的说明，此外我们可以改动实例值和目的IP，同时起n个remote ping的实例，对多个目的地址remote ping，然后将结果导入rrdtools之类的软件，这里就不废话了。<h2 id="-snmp-remote-ping-">本小文只是简单的举了个利用snmp实现remote ping的例子，其实在我们的日常工作中，还有非常多的技术问题等待挖掘，管理员利用开源的东西，自己动手搞一些东西出来，可能会比商用产品起到更好的效果。</h2>
链接：
NETSNMP        <a href="http://www.net-snmp.org/" target="_blank">http://www.net-snmp.org/</a>
CISCO-PING-MIB-V1SMI    ftp://ftp.cisco.com/pub/mibs/v1/CISCO-PING-MIB-V1SMI.my
CISCO-PING-MIB.oid         ftp://ftp-sj.cisco.com/pub/mibs/oid/CISCO-PING-MIB.oid 版权所有，未经许可，不得转载  <a href="http://www.nsfocus.com/7_law/index.html" target="_blank"><img src="" alt="法律声明"></a> <img src="" alt=""> <a href="http://www.nsfocus.com/8_contact/index.html" target="_blank"><img src="" alt="联系我们"></a> <img src="" alt=""> <a href="http://www.nsfocus.net/index.php?act=magazine&amp;do=view&amp;mid=2550#" target="_blank"><img src="" alt="在线客服"></a>   <img src="" alt="©2011 绿盟科技"><a href="http://www.miibeian.gov.cn/" target="_blank"><img src="" alt="京ICP证110355号"></a>      </li>
</ol>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/安全/">安全</a></li></span><span class="breadcrumb"><li><a href="/categories/安全/">安全</a></li><li><a href="/categories/安全/绿盟/">绿盟</a></li></span></span> | <span class="tags">Tagged <a href="/tags/安全/" class="label label-primary">安全</a><a href="/tags/绿盟/" class="label label-success">绿盟</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-安全-绿盟--利用SNMP实现remoteping/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-安全-绿盟--利用SNMP实现remoteping" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM/">浅析无线网络数据窥探技术</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-freebuf-com">浅析无线网络数据窥探技术- FreebuF.COM</h1>
<ul>
<li><a href="http://www.freebuf.com/" target="_blank">首页</a></li>
<li><a href="http://www.freebuf.com/category/news" target="_blank">资讯</a></li>
<li><a href="http://www.freebuf.com/category/tools" target="_blank">工具</a></li>
<li><p><a href="http://www.freebuf.com/category/articles" target="_blank">文章</a></p>
</li>
<li><p><a href="http://www.freebuf.com/category/articles/web" target="_blank">WEB安全</a></p>
</li>
<li><a href="http://www.freebuf.com/category/articles/wireless" target="_blank">无线安全</a></li>
<li><a href="http://www.freebuf.com/category/articles/system" target="_blank">系统安全</a></li>
<li><a href="http://www.freebuf.com/category/articles/database" target="_blank">数据库安全</a></li>
<li><a href="http://www.freebuf.com/category/articles/terminal" target="_blank">终端安全</a></li>
<li><a href="http://www.freebuf.com/category/articles/others-articles" target="_blank">其他</a></li>
<li><a href="http://www.freebuf.com/category/vuls" target="_blank">漏洞</a></li>
<li><a href="http://www.freebuf.com/category/jobs" target="_blank">招聘</a></li>
<li><a href="http://www.freebuf.com/category/others" target="_blank">周边</a></li>
<li><a href="http://plant.freebuf.com/" target="_blank">聚合</a></li>
<li><a href="http://club.freebuf.com/" target="_blank">社区</a></li>
<li><img src="" alt=""><a href="http://www.freebuf.com/newsend" target="_blank">投稿</a></li>
</ul>
<p><a href="http://www.freebuf.com/wp-login.php?redirect_to=http%3A%2F%2Fwww.freebuf.com%2Farticles%2Fwireless%2F5351.html" title="登陆" target="_blank">登陆</a><a href="http://www.freebuf.com/wp-login.php?action=register" target="_blank">注册</a></p>
<p><a href="http://www.freebuf.com/" target="_blank"><img src="" alt="freebuf"></a></p>
<p><a href="http://www.weibo.com/freebuf" title="收听新浪微博" target="_blank">新浪微博</a> <a href="http://t.qq.com/freebuf" title="收听腾讯微博" target="_blank">腾讯微博</a><a href="http://www.freebuf.com/feed" title="订阅我们" target="_blank">订阅我们</a></p>
<p>关于本文作者</p>
<p><img src="" alt=""></p>
<p><a href="http://www.freebuf.com/author/crow" title="由 Crow 发布" target="_blank">Crow</a> <img src="&quot;核心成员&quot;" alt=""> </p>
<p>这家伙很懒，还未填写个人简介</p>
<h3 id="-">浅析无线网络数据窥探技术 <img src="&quot;原创精品&quot;" alt=""></h3>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#" target="_blank"></a><a href="http://www.freebuf.com/author/crow" title="由 Crow 发布">Crow</a> @ <a href="http://www.freebuf.com/category/articles/wireless" title="查看 无线安全 中的全部文章" target="_blank">无线安全</a> 2012-08-14 共 <strong>976</strong> 人围观 </p>
<p><strong><strong>Author:Crow<em>**</em></strong></strong>Site:<a href="http://www.freebuf.com" target="_blank">http://www.freebuf.com</a> <strong>
</strong></p>
<p><strong>记得几年前,蓝牙一时兴起,当时在十几米的范围内,就可覆盖了很多个蓝牙接入点,那个时候还在上学,上课时无聊,就会找一些蓝牙接入点来恶作剧,后来蓝牙这个东西慢慢的在人们的眼中变得不重要,取而代之的是覆盖到各处的wi-fi网络,各处餐厅,地铁,公司,大街小巷随处可以搜索到不知道从何而来的wi-fi信号,而hacking wifi技术也犹然而生。</strong></p>
<p>这部分的技术大多来自国外翻译文章，技术出处大致相同，但是关于原理问题有些人并不了解，今天就和大家一起分享下hacking wi-fi技术。</p>
<p>Let’s go!!</p>
<p>无线网络可分为<strong>广义无线网络</strong>和<strong>狭义无线网络</strong></p>
<p>广义无线网络包含了大家所熟知的wlan，wpan，wwan</p>
<p>wlan
无线局域网络(Wireless Local Area Networks；WLAN)是相当便利的数据传输系统，它利用射频(Radio Frequency；RF)的技术，取代旧式碍手碍脚的双绞铜线(Coaxial)所构成的局域网络，使得无线局域网络能利用简单的存取架构让用户透过它，达到「信息随身化、便利走天下」的理想境界。</p>
<p>wpan</p>
<p>无线个人局域网通讯技术（WPAN：Wireless Personal Area Network Communication Technologies）其中最典型且被大家熟知的技术包括:Bluetooth(蓝牙)，IrDa(红外)另外还包括ZigBee，UWB，HomeRF等，基于IEEE 802.15.(1-4)。</p>
<p>狭义无线网络既大家常用的IEEE 802.11标准的无线网络，关于802.11的标准及发展，大家可以再百度百科中查询。</p>
<p><strong>无线网络的工作原理</strong></p>
<p>无线网络至少要有一个无线接入点，即AP（Access Point）和一个client（无线客户端）组成，其中AP会将SSID由beacons(信号台)封装并广播，1Mbit/s的速率为1次/100ms。而无线clinet即为可接收这个SSID广播封包的设备，此处可由无线client来决定是否要与此AP发出的信号连接，所以可以选择任意的SSID进行连接。</p>
<p>记得上次，写了一个有关企业内网的文章，其中技术细节并不是很明确，所以今天可以给大家提供一个无线方面的思路，示意图如下：</p>
<p><a href="&quot;FreebuF.COM&quot;"><img src="&quot;20120813011346_15444&quot;" alt="20120813011346_15444"></a></p>
<p>图画的不算太好，大家凑合着看吧</p>
<p>无线安全对于企业安全来说也是尤为重要的一处，现在大多数企业都会采用笔记本作为工作电脑，便携而且对于网络上的分配极为方便。</p>
<p><strong>利用</strong></p>
<p>对于无线上的入侵推荐使用BT5，或者自己使用ubuntu集成aircreak也好。
此处演示基于虚拟机BT5，及USB外置网卡
WEP方式加密现在已经很少了，就此略过，WPA的演示，可参见<a href="http://www.freebuf.com/articles/5012.html" target="_blank"><a href="http://www.freebuf.com/articles/5012.html">http://www.freebuf.com/articles/5012.html</a></a></p>
<p>首先我们先来看下BT5下集成的无线工具，输入air，TAB键</p>
<p><img src="" alt=""></p>
<p>可见aircreak系列的软件已经集成很多，这些足够我们在日常破解使用
Aircreak-ng既集成了破解功能，另外大家还可以使用cowpatty</p>
<p><img src="&quot;3333&quot;" alt=""></p>
<p>OK，现在我们载入无线网卡，iwconfig</p>
<p><img src="&quot;4444&quot;" alt=""></p>
<p>由于网卡类型及驱动的原因，外置载入网卡不一定就是wlan0，当然名字也可以自定义配置。
在使用之前，建议大家先update一下</p>
<p>Airodump-ng-oui-update</p>
<p><img src="" alt=""></p>
<p>下面启动无线网卡</p>
<p>ifconfig ra0 up</p>
<p>激活无线网卡至monitor</p>
<p>airmon-ng start ra0</p>
<p>然后开始一系列的密码破解，由于之前thanks写过此类文章（<a href="http://www.freebuf.com/articles/5012.html" target="_blank">《Wifi Hacking</a><a href="http://www.freebuf.com/articles/5012.html" target="_blank">》</a>），所以这里就不在写了</p>
<p>那么我们要做什么呢？</p>
<p>刚在前面的图中画了了一下AP欺骗的问题
那么下面我们就来抓取数据包，并加以分析</p>
<p>Airodump-ng –c 6 –w crowlog mon0</p>
<p>这里-c是选择接收频道，-w是保存截获数据包名称，后面是网卡</p>
<p>我们也可以对airodump-ng中所示的ssid进行抓包，我这里由于链接无线网的人很少，已经半夜了，所以就不演示了
等抓取了足够的无线网络数据后，就可以Ctrl+C停止了。接下来我们可以使用Cain或者Wireshark来查看数据包了</p>
<p>打开Cain，选择Creaker，点击左侧分类栏的802.11Captures。</p>
<p><img src="&quot;22222&quot;" alt="22222"></p>
<p>右键空白处，Add to list</p>
<p><img src="" alt=""></p>
<p>然后Decode开始解密</p>
<p><img src="" alt=""></p>
<p>此处需要强调一下，破解数据包是需要在破解了无线密码的前提下才可以的</p>
<p><img src="" alt=""></p>
<p><strong>下面输入无线密码即可开始破解</strong></p>
<p>解密完成后，会出现同文件名+dec.cap的文件，将此文件放入wireshark中打开，</p>
<p>然后我们就可以开始分析不过的无线数据破解后的报文啦！</p>
<p>由于我这边抓取来的数据只有几十K，半夜1点钟了，所以就不截图抓取的数据了，感兴趣的朋友可以自己试试。</p>
<p>其中的QQ,MSN,email，登陆用的账号密码都可以看到，这块就要看大家是否细心了。多看看数据包，里面或许有很多有用的东西，如杀毒软件版本，输入法版本等。</p>
<p>这里凡是公开了密码的免费上网区，都是很容易下手的，比如在某咖啡厅，或者某机场，看到有漂亮MM在用笔记本上QQ或者MSN，这个密码基本上都是可知的，不需要费力去破解，然而当知道了密码后，所有弥漫在空中的，看不见的无线信号，便都在自己的掌控之下。抓取他们，得到他们以后。所有的数据便都是自己的了。在或者在公司，密码可知，权限开放，那么无线网段的数据便全部在自己的掌控之中。然而，捕获无线数据的方法有很多种。如固定mac地址捕获数据</p>
<p>aireplay-ng -0 3 –a ap的mac地址–c client的mac地址ra0</p>
<p>deauth攻击模式，来将现有的（指定mac）的无线客户端强制断开，这样客户端就需要重新连接网络，这样我们就会抓到完整的wpa-psk握手验证的数据包了。</p>
<p>Aircrack-ng –w dic cap文件</p>
<p>可以用来破解抓取到的wpa-psk数据报文。</p>
<p>入侵是可以多种多样的，不必拘于一个教程，或者一个工具。</p>
<p>最后，无线网络正大面积覆盖着全世界，并走向各家各户，小到自建的无线基站，大到移动联通的CMCC和WLAN，使越来越多的人处于同一个局域网，而与大家同在一个局域网内的黑客们，便成为了隐秘在无线网络中窥探所有人的幽灵。</p>
<p>(YY一下，刚看完幽灵那个电视剧，穿帮镜头挺多的，引用下这两个字儿吧)</p>
<h3 id="-freebuf-com-http-www-freebuf-com-"><img src="" alt=""> <strong>版权声明：转载请注明出自:</strong> <a href="http://www.freebuf.com/" target="_blank">FreebuF.COM</a></h3>
<ul>
<li><a href="">赞: 3</a></li>
<li><p><a href="">踩: 0</a>
您已评价！</p>
<p>分享到： <a href="http://v.t.sina.com.cn/share/share.php?url=http://www.freebuf.com/articles/wireless/5351.html&amp;title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF" title="分享到新浪微博" target="_blank">新浪微博</a> <a href="http://v.t.qq.com/share/share.php?url=http://www.freebuf.com/articles/wireless/5351.html&amp;title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF" title="分享到腾讯微博" target="_blank">腾讯微博</a> <a href="&quot;分享到豆瓣&quot;">豆瓣</a> <a href="http://share.renren.com/share/buttonshare.do?link=http://www.freebuf.com/articles/wireless/5351.html&amp;title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF" title="分享到人人网" target="_blank">人人网</a> <a href="http://www.kaixin001.com/repaste/share.php?rtitle=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF&amp;rurl=http://www.freebuf.com/articles/wireless/5351.html%20title=" target="_blank">开心网</a> <a href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://www.freebuf.com/articles/wireless/5351.html&amp;title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF" title="分享到QQ空间" target="_blank">QZone</a> <a href="http://facebook.com/share.php?u=http://www.freebuf.com/articles/wireless/5351.html&amp;title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF" title="分享到facebook" target="_blank">facebook</a> <a href="http://twitter.com/share?url==http://www.freebuf.com/articles/wireless/5351.html&amp;title=%E6%B5%85%E6%9E%90%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E7%AA%A5%E6%8E%A2%E6%8A%80%E6%9C%AF" title="分享到twitter" target="_blank">twitter</a></p>
<h3 id="-">相关文章</h3>
</li>
<li><p><a href="">浅析无线网络数据窥探技术</a></p>
</li>
</ul>
<p><strong>9</strong>条评论 <strong>978</strong>人已围观</p>
<ul>
<li><a href="http://www.freebuf.com/tools/5335.html" target="_blank">渗透测试系统 – NETSECLOS V4.0发布</a></li>
</ul>
<p><strong>8</strong>条评论 <strong>1608</strong>人已围观</p>
<ul>
<li><a href="http://www.freebuf.com/articles/system/5265.html" target="_blank">中间人攻击-DNS欺骗</a></li>
</ul>
<p><strong>4</strong>条评论 <strong>1821</strong>人已围观</p>
<ul>
<li><a href="http://www.freebuf.com/articles/5108.html" target="_blank">攻击SharePoint</a></li>
</ul>
<p><strong>5</strong>条评论 <strong>1198</strong>人已围观</p>
<ul>
<li><a href="http://www.freebuf.com/news/5002.html" target="_blank">Skype源代码泄露（附下载地址）</a></li>
</ul>
<p><strong>16</strong>条评论 <strong>12707</strong>人已围观
 ﻿</p>
<h2 id="9-comments-http-www-freebuf-com-articles-wireless-5351-html-respond-">9 Comments <a href="http://www.freebuf.com/articles/wireless/5351.html#respond" target="_blank">发表评论</a></h2>
<ol>
<li><a href="http://www.freebuf.com/?author=4" target="_blank"><img src="" alt=""></a> <a href="http://www.freebuf.com/?author=4" target="_blank">thanks </a><img src="&quot;核心成员&quot;" alt=""> (6级) 手提酱油瓶从天而降 <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1916"></a> 2012-08-14</li>
</ol>
<p>nice！
<a href="">支持</a>(2)<a href="">反对</a> (0)
<a href="http://www.freebuf.com/articles/wireless/5351.html?replytocom=1916#respond" target="_blank">回复</a></p>
<ol>
<li><a href="http://www.freebuf.com/?author=252" target="_blank"><img src="" alt=""></a> <a href="http://www.freebuf.com/?author=252" target="_blank">Tobe </a> (2级)  <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1917"></a> 2012-08-14</li>
</ol>
<p>请问一下，BT5我之前遇到的问题就是驱动，似乎虚拟机里很多时候会由于HOST主机的网卡驱动问题，导致无法抓到无线包，有实验过在PC/ Mac上安装虚拟机么？
<a href="">支持</a>(0)<a href="">反对</a> (0)
<a href="http://www.freebuf.com/articles/wireless/5351.html?replytocom=1917#respond" target="_blank">回复</a></p>
<ul>
<li><img src="" alt=""> Coda <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919"></a> 2012-08-14</li>
</ul>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1917" target="_blank">@Tobe </a>pc/mac上虚拟机里装更麻烦了，需要外置无线网卡。
<a href="">支持</a>(1)<a href="">反对</a> (0)
<a href="http://www.freebuf.com/articles/wireless/5351.html?replytocom=1919#respond" target="_blank">回复</a></p>
<ul>
<li><a href="http://www.freebuf.com/?author=252" target="_blank"><img src="" alt=""></a> <a href="http://www.freebuf.com/?author=252" target="_blank">Tobe </a> (2级)  <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1922"></a> 2012-08-14</li>
</ul>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919" target="_blank">@Coda</a> 比如什么类型的外置网卡，有推荐么？
<a href="">支持</a>(0)<a href="">反对</a> (0)</p>
<ul>
<li><img src="" alt=""> sunshineg <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1925"></a> 2012-08-14</li>
</ul>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919" target="_blank">@Tobe</a> 跑Pin还是8187L的卡。稳定连接用3070的卡。建议上无线城的卡，做工和质量绝非杂牌山寨可比拟。地址如下：
<a href="http://www.wifly-city.com.tw/" target="_blank"><a href="http://www.wifly-city.com.tw/">http://www.wifly-city.com.tw/</a></a></p>
<p><a href="">支持</a>(1)<a href="">反对</a> (0)</p>
<ul>
<li><a href="http://www.freebuf.com/?author=131" target="_blank"><img src="" alt=""></a> <a href="http://www.freebuf.com/?author=131" target="_blank">Crow </a><img src="&quot;核心成员&quot;" alt=""> (5级)  <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1930"></a> 2012-08-14</li>
</ul>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919" target="_blank">@Coda</a>@sunshineg 正解
一般都是用外置的usb无线网卡，我是双无线在做，一个8187，一个rt3072，可以说下，双网卡无线网卡的好处，当你在无线局域网内进行D.O.S攻击后，把另一张网卡加入白名单，然后做无线AP，名字与链接的网络名一样，被攻击人链接不上原有网络，就会来链接伪造的AP，这样的话所有数据都是通过自己的机器走的，想干什么，自己说了算。
<a href="">支持</a>(3)<a href="">反对</a> (0)</p>
<ul>
<li><a href="http://www.freebuf.com/?author=48" target="_blank"><img src="" alt=""></a> <a href="http://www.freebuf.com/?author=48" target="_blank">zeracker </a> (1级)  <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1918"></a> 2012-08-14</li>
</ul>
<p>够淫荡，期待超哥的户外渗透 <img src="" alt=":mrgreen:">
<a href="">支持</a>(1)<a href="">反对</a> (0)
<a href="http://www.freebuf.com/articles/wireless/5351.html?replytocom=1918#respond" target="_blank">回复</a></p>
<ul>
<li><img src="" alt=""> aaa <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1928"></a> 2012-08-14</li>
</ul>
<p>又是破解无线。。。。
<a href="">支持</a>(0)<a href="">反对</a> (0)
<a href="http://www.freebuf.com/articles/wireless/5351.html?replytocom=1928#respond" target="_blank">回复</a></p>
<ul>
<li><a href="http://www.freebuf.com/?author=131" target="_blank"><img src="" alt=""></a> <a href="http://www.freebuf.com/?author=131" target="_blank">Crow </a><img src="&quot;核心成员&quot;" alt=""> (5级)  <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1929"></a> 2012-08-14</li>
</ul>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1928" target="_blank">@aaa</a>破解无线中的加密数据
<a href="">支持</a>(3)<a href="">反对</a> (0)
<a href="http://www.freebuf.com/articles/wireless/5351.html?replytocom=1929#respond" target="_blank">回复</a>
昵称
(必须)您当前尚未登录。<a href="http://www.freebuf.com/wp-login.php?redirect_to=http%3A%2F%2Fwww.freebuf.com%2Farticles%2Fwireless%2F5351.html" title="登陆" target="_blank">登陆</a>？注册</p>
<p>邮箱
必须(保密)
网址</p>
<p>发表言论前，请滑动滚动条解锁
<a href="">表情</a><a href="">插代码</a><a href="">粗体</a><a href="">斜体</a><a href="">删除线</a><a href="">下划线</a><a href="">引用</a><a href="">链接</a><a href="">插图</a></p>
<p><a href="&quot;mrgreen&quot;"><img src="" alt=""></a><a href="&quot;razz&quot;"><img src="" alt=""></a><a href="&quot;sad&quot;"><img src="" alt=""></a><a href="&quot;smile&quot;"><img src="" alt=""></a><a href="&quot;oops&quot;"><img src="" alt=""></a><a href="&quot;grin&quot;"><img src="" alt=""></a><a href="&quot;eek&quot;"><img src="" alt=""></a><a href="&quot;???&quot;"><img src="" alt=""></a><a href="&quot;cool&quot;"><img src="" alt=""></a><a href="&quot;lol&quot;"><img src="" alt=""></a><a href="&quot;mad&quot;"><img src="" alt=""></a><a href="&quot;twisted&quot;"><img src="" alt=""></a><a href="&quot;roll&quot;"><img src="" alt=""></a><a href="&quot;wink&quot;"><img src="" alt=""></a><a href="&quot;idea&quot;"><img src="" alt=""></a><a href="&quot;arrow&quot;"><img src="" alt=""></a><a href="&quot;neutral&quot;"><img src="" alt=""></a><a href="&quot;cry&quot;"><img src="" alt=""></a><a href="&quot;?&quot;"><img src="" alt=""></a><a href="&quot;evil&quot;"><img src="" alt=""></a><a href="&quot;shock&quot;"><img src="" alt=""></a><a href="&quot;!&quot;"><img src="" alt=""></a>
正在提交, 请稍候...</p>
<p>/#</p>
<p><a href="">取消</a>   有人回复时邮件通知我</p>
<h3 id="-hot-comments-"><strong>热门评论**</strong>Hot Comments**</h3>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1929" target="_blank">Crow</a> @ 2012-08-14 11:05:37</p>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1928" target="_blank">@aaa</a>破解无线中的加密数据
<a href="">支持</a> (3) <a href="">反对</a> (0) <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1930" target="_blank">Crow</a> @ 2012-08-14 11:09:36</p>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919" target="_blank">@Coda</a>@sunshineg 正解 一般都是用外置的usb无线网卡，我是双无线在做，一个8187，一个rt3072，可以说下，双网卡无线网卡的好处，当你在无线局域网内进行D.O.S攻击后，把另一张网卡加入白名单，然后做无线AP，名字与链接的网络名一样，被攻击人链接不上原有网络，就会来链接伪造的AP，这样的话所有数据都是通过自己的机器走的，想干什么，自己说了算。
<a href="">支持</a> (3) <a href="">反对</a> (0) <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1916" target="_blank">thanks</a> @ 2012-08-14 09:44:29</p>
<p>nice！
<a href="">支持</a> (2) <a href="">反对</a> (0) <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1918" target="_blank">zeracker</a> @ 2012-08-14 10:16:50</p>
<p>够淫荡，期待超哥的户外渗透 <img src="" alt=":mrgreen:">
<a href="">支持</a> (1) <a href="">反对</a> (0) <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919" target="_blank">Coda</a> @ 2012-08-14 10:20:24</p>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1917" target="_blank">@Tobe </a>pc/mac上虚拟机里装更麻烦了，需要外置无线网卡。
<a href="">支持</a> (1) <a href="">反对</a> (0) <a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1925" target="_blank">sunshineg</a> @ 2012-08-14 10:43:02</p>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#comment-1919" target="_blank">@Tobe</a> 跑Pin还是8187L的卡。稳定连接用3070的卡。建议上无线城的卡，做工和质量绝非杂牌山寨可比拟。地址如下： <a href="http://www.wifly-city.com.tw/" target="_blank">http://www.wifly-city.com.tw/</a>
<a href="">支持</a> (1) <a href="">反对</a> (0)</p>
<h3 id="-new-posts-"><strong>最新发布**</strong>New Posts**</h3>
<ul>
<li><a href="http://www.freebuf.com/news/5378.html" title="卡巴斯基寻民间牛人帮助破解高斯(Gauss)神秘Payload" target="_blank">卡巴斯基寻民间牛人帮助破解高斯(Gauss)神秘Payload</a></li>
<li><a href="http://www.freebuf.com/tools/5369.html" title="盲注（Blind SQL Injection）工具—BBQSQL v1.0.0" target="_blank">盲注（Blind SQL Injection）工具—BBQSQL v1.0.0</a></li>
<li><a href="http://www.freebuf.com/news/5364.html" title="计算机内存在关机后仍会泄露信息" target="_blank">计算机内存在关机后仍会泄露信息</a></li>
<li><a href="http://www.freebuf.com/tools/5361.html" title="34款Firefox渗透测试插件" target="_blank">34款Firefox渗透测试插件</a></li>
<li><a href="http://www.freebuf.com/tools/5363.html" title="BackTrack5 R3发布" target="_blank">BackTrack5 R3发布</a></li>
<li><a href="&quot;浅析无线网络数据窥探技术&quot;">浅析无线网络数据窥探技术</a></li>
<li><a href="http://www.freebuf.com/news/5358.html" title="性骚扰是黑客文化的一部分？" target="_blank">性骚扰是黑客文化的一部分？</a></li>
<li><a href="http://www.freebuf.com/others/5357.html" title="freebuf安全周刊8月6日-8月12日" target="_blank">freebuf安全周刊8月6日-8月12日</a></li>
<li><a href="http://www.freebuf.com/tools/5352.html" title="一个“神奇”的工具：把 JavaScript 代码转为 ()[]{}!+ 字符" target="_blank">一个“神奇”的工具：把 JavaScript 代码转为 ()[]{}!+ 字符</a></li>
<li><a href="http://www.freebuf.com/articles/web/5349.html" title="POST/GET参数名称注射" target="_blank">POST/GET参数名称注射</a>
All of the material and the informations available on freebuf. com is for informative purpose. freebuf.com declines all responsibilities from the damage that may be done of it, consequently it does not encourage who might use it for illegal purposes.</li>
</ul>
<h3 id="freebuf-com">FREEBUF.COM</h3>
<p><a href="http://www.freebuf.com/dis" target="_blank">免责声明</a> <a href="http://www.freebuf.com/others/864.html" target="_blank">关于我们</a> <a href="mailto:freebuf@gmail.com">建议反馈</a> <a href="http://www.freebuf.com/contact" target="_blank">联系我们</a> <a href="http://www.freebuf.com/newsend" target="_blank">我要投稿</a></p>
<p>Copyright @ 2012 WWW.FREEBUF.COM All Rights Reserved <a href=""></a></p>
<p>FreebuF.COM</p>
<p>用户名</p>
<p>密码</p>
<p>Remember Me</p>
<p><a href="http://www.freebuf.com/wp-login.php?action=register" target="_blank">Register</a> | <a href="http://www.freebuf.com/wp-login.php?action=lostpassword" title="Password Lost and Found" target="_blank">Lost your password?</a>
Register</p>
<p>用户名</p>
<p>邮箱</p>
<p>密码(至少6位)</p>
<p>验证码:
看不清？<a href="">点击更换</a></p>
<p><img src="&quot;看不清?点击更换&quot;" alt="看不清?点击更换"></p>
<p><a href="http://www.freebuf.com/wp-login.php" target="_blank">登陆</a> | <a href="http://www.freebuf.com/wp-login.php?action=lostpassword" title="Password Lost and Found" target="_blank">忘记密码？</a>
Reset Password</p>
<p>Username or E-mail:</p>
<p><a href="http://www.freebuf.com/wp-login.php" target="_blank">登陆</a>| <a href="http://www.freebuf.com/wp-login.php?action=register" target="_blank">注册</a>
<a href="http://www.freebuf.com/articles/wireless/5351.html#prev" title="previous" target="_blank"></a><a href="http://www.freebuf.com/articles/wireless/5351.html#next" title="next"></a></p>
<p>prev
next</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/安全/">安全</a></li></span><span class="breadcrumb"><li><a href="/categories/安全/">安全</a></li><li><a href="/categories/安全/无线/">无线</a></li></span></span> | <span class="tags">Tagged <a href="/tags/安全/" class="label label-primary">安全</a><a href="/tags/无线/" class="label label-success">无线</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS--CAS返回多个信息为空--ITeye技术网站/">CAS 返回多个信息为空 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS--CAS返回多个信息为空--ITeye技术网站/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="cas-iteye-">CAS 返回多个信息为空 - - ITeye技术网站</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/blogs/subjects" target="_blank">专栏</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://liuzhiyi7288.iteye.com/blog/1135001#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.iteye.com/job" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://liuzhiyi7288.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://liuzhiyi7288.iteye.com/login" target="_blank">登录</a> <a href="http://liuzhiyi7288.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-liuzhiyi7288-http-liuzhiyi7288-iteye-com-"><a href="http://liuzhiyi7288.iteye.com/" target="_blank">liuzhiyi7288</a></h1>
<ul>
<li><a href="http://liuzhiyi7288.iteye.com/" target="_blank"><strong>博客</strong></a></li>
<li><a href="http://liuzhiyi7288.iteye.com/weibo" target="_blank">微博</a></li>
<li><a href="http://liuzhiyi7288.iteye.com/album" target="_blank">相册</a></li>
<li><a href="http://liuzhiyi7288.iteye.com/link" target="_blank">收藏</a></li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/guest_book" target="_blank">留言</a></li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/profile" target="_blank">关于我</a></li>
</ul>
<h3 id="-cas-"><a href="">CAS 返回多个信息为空</a> **</h3>
<p>CAS client 端使用Filter 获得server端传回的信息，如果多个信息使用：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li><p>assertion.getPrincipal().getAttributes()<br>assertion.getPrincipal().getAttributes()来获得一个Map，但是有的时候Map中没有数据为null；
解决方案：配置deployerConfigContext.xml中名称为serviceRegistryDao的bean，如下
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
</li>
<li><bean id="serviceRegistryDao" class="org.jasig.cas.services.InMemoryServiceRegistryDaoImpl">  </li>
<li><property name="registeredServices">  </li>
<li><list>  </li>
<li>&lt;bean class=&quot;org.jasig.cas.services.RegisteredServiceImpl&quot;   </li>
<li>p:id=&quot;1&quot;  </li>
<li>p:description=&quot;test&quot;  </li>
<li>p:serviceId=&quot;<a href="http://192.168.104.101:8080//*" target="_blank">http://192.168.104.101:8080//*</a>&quot;  </li>
<li>p:enabled=&quot;true&quot;   </li>
<li>p:ssoEnabled=&quot;true&quot;   </li>
<li>p:anonymousAccess=&quot;false&quot;&gt;  </li>
<li><property name="allowedAttributes" value="key1,key2,key3"/>  </li>
<li></bean>                    </list>  </li>
<li><p></property><br><bean id="serviceRegistryDao" class="org.jasig.cas.services.InMemoryServiceRegistryDaoImpl"> <property name="registeredServices"> <list> <bean class="org.jasig.cas.services.RegisteredServiceImpl" p:id="1" p:description="test" p:serviceId="http://192.168.104.101:8080//*" p:enabled="true" p:ssoEnabled="true" p:anonymousAccess="false"> <property name="allowedAttributes" value="key1,key2,key3"/> </bean> </list> </property>，其中最重要的配置为：<property name="allowedAttributes" value="key1,key2,key3"/>
这个属性决定了我们在client端获得map是否为null，如果不配置该属性则为null，该属性配置我们返回多个信息对应的key；
此处对应CAS SERVER端源码如下 CentralAuthenticationServiceImpl.java：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
</li>
<li><p>// 获得deployerConfigContext.xml中serviceRegistryDao配置的registeredServices  </p>
</li>
<li>final RegisteredService registeredService = this.servicesManager  </li>
<li><p>.findServiceBy(service);<br>// 获得deployerConfigContext.xml中serviceRegistryDao配置的registeredServices final RegisteredService registeredService = this.servicesManager .findServiceBy(service);
allowwedAttributes配置对应的代码如下：
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
</li>
<li><p>//<em>/</em> </p>
</li>
<li>/* 从principal.getAttributes()获得map后，获取registeredService的allowedAttributes属性， </li>
<li>/* 可以对应的key存入返回客户端信息的中map中 </li>
<li>/*/  </li>
<li>for (final String attribute : registeredService  </li>
<li>.getAllowedAttributes()) {  </li>
<li>final Object value = principal.getAttributes().get(  </li>
<li>attribute);  </li>
<li>if (value != null) {  </li>
<li>attributes.put(attribute, value);  </li>
<li>}  </li>
<li>}  </li>
<li></li>
<li>final Principal modifiedPrincipal = new SimplePrincipal(  </li>
<li>principalId, attributes);  </li>
<li></li>
<li>final MutableAuthentication mutableAuthentication = new MutableAuthentication(  </li>
<li>modifiedPrincipal);<br>//<em>/</em> /<em> 从principal.getAttributes()获得map后，获取registeredService的allowedAttributes属性， /</em> 可以对应的key存入返回客户端信息的中map中 /*/ for (final String attribute : registeredService .getAllowedAttributes()) { final Object value = principal.getAttributes().get( attribute); if (value != null) { attributes.put(attribute, value); } } final Principal modifiedPrincipal = new SimplePrincipal( principalId, attributes); final MutableAuthentication mutableAuthentication = new MutableAuthentication( modifiedPrincipal);；
希望对大家有所帮助
分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a></li>
</ol>
<p><a href="http://liuzhiyi7288.iteye.com/blog/1135037" title="CAS client 端添加初始化参数传到server端" target="_blank">CAS client 端添加初始化参数传到server端</a> | <a href="http://liuzhiyi7288.iteye.com/blog/1132260" title="CAS 集成java 登录成功后空白页面" target="_blank">CAS 集成java 登录成功后空白页面</a></p>
<ul>
<li>2011-07-28 17:21</li>
<li>浏览 389</li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/1135001#comments" target="_blank">评论(1)</a></li>
<li>分类:<a href="http://www.iteye.com/blogs/category/opensource" target="_blank">开源软件</a></li>
<li><a href="http://www.iteye.com/wiki/blog/1135001" target="_blank">相关推荐</a></li>
</ul>
<h3 id="-">评论</h3>
<p><a href=""></a></p>
<p>1 楼 <a href="http://solomon.iteye.com/" title="solomon" target="_blank">solomon</a> 2011-10-31  </p>
<p>  不错，雪中送炭。　<img src="" alt=""></p>
<h3 id="-">发表评论</h3>
<p><a href="http://liuzhiyi7288.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://liuzhiyi7288.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://liuzhiyi7288.iteye.com/" target="_blank"><img src="&quot;liuzhiyi7288的博客: &quot;" alt="liuzhiyi7288的博客"></a></p>
<p>liuzhiyi7288</p>
<ul>
<li>浏览: 2639 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 北京</li>
<li><img src="" alt=""><h3 id="-http-liuzhiyi7288-iteye-com-blog-user_visits-">最近访客 <a href="http://liuzhiyi7288.iteye.com/blog/user_visits" target="_blank">更多访客&gt;&gt;</a></h3>
</li>
</ul>
<p><a href="http://mzmingly.iteye.com/" target="_blank"><img src="&quot;mzmingly的博客: &quot;" alt="mzmingly的博客"></a></p>
<p><a href="http://mzmingly.iteye.com/" title="mzmingly" target="_blank">mzmingly</a></p>
<p><a href="http://hasker.iteye.com/" target="_blank"><img src="&quot;hasker的博客: &quot;" alt="hasker的博客"></a></p>
<p><a href="http://hasker.iteye.com/" title="hasker" target="_blank">hasker</a>
<a href="http://ninisui.iteye.com/" target="_blank"><img src="&quot;ninisui的博客: &quot;" alt="ninisui的博客"></a></p>
<p><a href="http://ninisui.iteye.com/" title="ninisui" target="_blank">ninisui</a></p>
<p><a href="http://dawnstars.iteye.com/" target="_blank"><img src="&quot;dawnstars的博客: dawnstars&quot;" alt="dawnstars的博客"></a></p>
<p><a href="http://dawnstars.iteye.com/" title="dawnstars" target="_blank">dawnstars</a></p>
<h3 id="-">文章分类</h3>
<ul>
<li><a href="http://liuzhiyi7288.iteye.com/" target="_blank">全部博客 (9)</a></li>
<li><p><a href="http://liuzhiyi7288.iteye.com/category/199341" target="_blank">svn branch merge trunk (1)</a></p>
<h3 id="-">社区版块</h3>
</li>
<li><p><a href="http://liuzhiyi7288.iteye.com/blog/news" target="_blank">我的资讯</a> (0)</p>
</li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/post" target="_blank">我的论坛</a> (0)</li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/answered_problems" target="_blank">我的问答</a> (1)</li>
</ul>
<h3 id="-">存档分类</h3>
<ul>
<li><a href="http://liuzhiyi7288.iteye.com/blog/monthblog/2012-01" target="_blank">2012-01</a> (1)</li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/monthblog/2011-12" target="_blank">2011-12</a> (1)</li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/monthblog/2011-10" target="_blank">2011-10</a> (1)</li>
<li><p><a href="http://liuzhiyi7288.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">评论排行榜</h3>
</li>
<li><p><a href="http://liuzhiyi7288.iteye.com/blog/1290155" title="openOffice  conversion failed: could not load input document" target="_blank">openOffice conversion failed: could not ...</a></p>
</li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/1334978" title="from branch merge to trunk" target="_blank">from branch merge to trunk</a></li>
<li><a href="&quot;CAS 返回多个信息为空&quot;">CAS 返回多个信息为空</a></li>
<li><a href="http://liuzhiyi7288.iteye.com/blog/1132260" title="CAS 集成java 登录成功后空白页面" target="_blank">CAS 集成java 登录成功后空白页面</a></li>
</ul>
<h3 id="-">最新评论</h3>
<ul>
<li><a href="http://muqingren.iteye.com/" title="muqingren" target="_blank">muqingren</a>： 我没用过这个组件，抱歉
<a href="http://liuzhiyi7288.iteye.com/blog/1290155#bc2252321" target="_blank">openOffice conversion failed: could not load input document</a></li>
<li><a href="http://muqingren.iteye.com/" title="muqingren" target="_blank">muqingren</a>： 辛苦
<a href="http://liuzhiyi7288.iteye.com/blog/1334978#bc2252320" target="_blank">from branch merge to trunk</a></li>
<li><a href="http://muqingren.iteye.com/" title="muqingren" target="_blank">muqingren</a>： ...
<a href="http://liuzhiyi7288.iteye.com/blog/1334978#bc2252317" target="_blank">from branch merge to trunk</a></li>
<li><a href="http://chinacq.iteye.com/" title="chinacq" target="_blank">chinacq</a>： 我没有用到 XComponent document，但是上传有 ...
<a href="http://liuzhiyi7288.iteye.com/blog/1290155#bc2248988" target="_blank">openOffice conversion failed: could not load input document</a></li>
<li><a href="http://solomon.iteye.com/" title="solomon" target="_blank">solomon</a>：   不错，雪中送炭。　
<a href="http://liuzhiyi7288.iteye.com/blog/1135001#bc2225743" target="_blank">CAS 返回多个信息为空</a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2011 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]
<img src="" alt=""></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS--CAS返回多个信息为空--ITeye技术网站/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS--CAS返回多个信息为空--ITeye技术网站" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-安全-无线--如何用意念获取附近美女的手机号码/">如何用意念获取附近美女的手机号码</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-安全-无线--如何用意念获取附近美女的手机号码/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">如何用意念获取附近美女的手机号码</h1>
<h3 id="-">分享到</h3>
<ul>
<li><a href="">一键分享</a></li>
<li><a href="">QQ空间</a></li>
<li><a href="">新浪微博</a></li>
<li><a href="">百度云收藏</a></li>
<li><a href="">人人网</a></li>
<li><a href="">腾讯微博</a></li>
<li><a href="">百度相册</a></li>
<li><a href="">开心网</a></li>
<li><a href="">腾讯朋友</a></li>
<li><a href="">百度贴吧</a></li>
<li><a href="">豆瓣网</a></li>
<li><a href="">搜狐微博</a></li>
<li><a href="">百度新首页</a></li>
<li><a href="">QQ好友</a></li>
<li><a href="">和讯微博</a></li>
<li><a href="">更多...</a></li>
</ul>
<p><a href="">百度分享</a></p>
<h1 id="-wooyun-http-drops-wooyun-org-wooyun-"><a href="http://drops.wooyun.org/" title="WooYun知识库" target="_blank">WooYun知识库</a></h1>
<p><a href="http://drops.wooyun.org/login" title="登录" target="_blank">登录</a></p>
<p>像一朵乌云一样成长</p>
<ul>
<li><a href="http://drops.wooyun.org/" title="WooYun知识库" target="_blank">首页</a></li>
<li><a href="http://www.wooyun.org/" target="_blank">WooYun</a></li>
<li><a href="http://zone.wooyun.org/" target="_blank">Zone</a></li>
<li><a href="http://drops.wooyun.org/newsend" target="_blank">投稿</a>
<a href="http://drops.wooyun.org/" title="首页" target="_blank">首页</a> » <a href="http://drops.wooyun.org/category/tips" title="查看 技术分享 中的全部文章" target="_blank">技术分享</a> » 如何用意念获取附近美女的手机号码</li>
</ul>
<h2 id="-http-drops-wooyun-org-tips-573-permanent-link-to-"><a href="http://drops.wooyun.org/tips/573" title="Permanent Link to 如何用意念获取附近美女的手机号码" target="_blank">如何用意念获取附近美女的手机号码</a></h2>
<p>4人收藏 <a href="">收藏</a></p>
<p>2013/09/09 17:05  | <a href="http://drops.wooyun.org/author/Metasploit" title="由 Metasploit 发布" target="_blank">Metasploit</a>  | <a href="http://drops.wooyun.org/category/tips" title="查看 技术分享 中的全部文章" target="_blank">技术分享</a>  | <a href="">占个座先</a></p>
<h2 id="0x00-">0x00 背景</h2>
<p>那是一个漆黑的夜晚，北风凛凛，我和我的小伙伴们结伴走在回家的路上。下面……没有了，哈哈……我是标题党！</p>
<p>言归正传，我和我的小伙伴们住的地方离某知名艺术大学比较近，某天晚上下班回家，在开门的时候碰到几位美女，发现她们住在我们对面，使我们这群IT基友们甚是激动。巴不得凑上去对美女说一句“我是修电脑的，你家电脑慢不慢，我免费帮你弄下？”。</p>
<p>YY归YY，但我们这群搞IT的都是比较内敛的，怎么好意思主动搭讪，因为我们都是有身份证的人。回到屋里很不淡定，苦思冥想好几分钟；“我们不好意思问她们要，为什么不让他们主动给我们呢？”</p>
<h2 id="0x01-">0x01 准备</h2>
<p>我们附近没有CMCC信号，我们就想搭建一个免费的CMCC，让她们主动来输入手机号认证，岂不更好，下面是实施计划。</p>
<p><img src="" alt="2013090819053783681.jpg"></p>
<p>准备：无线网卡（8137）、bt5、钓鱼页面</p>
<h3 id="-bt5-eth0-ip">一：插入无线网卡进入BT5,把网卡启动起来，给eth0配个ip</h3>
<p>/#ifconfig eth0 up /#ifconfig wlan0 up /#ifconfig eht0 192.168.10.2/24</p>
<p><img src="" alt="2013090819074528998.jpg"></p>
<h3 id="-dhcp-">二：下面要安装dhcp和配置</h3>
<p>/#apt-get install dhcp3-server</p>
<p><img src="" alt="2013090819081424128.jpg"></p>
<p>/# vi /etc/default/dhcp3-server</p>
<p>INTERFACES=&quot;eth0&quot; 修改为 INTERFACES=&quot;at0&quot;</p>
<p><img src="" alt="2013090819093997661.jpg">
/# vi /etc/dhcp3/dhcpd.conf</p>
<p>把下面贴进去，或者改成自己想要分的网段。</p>
<p>default-lease-time 600; max-lease-time 7200; option subnet-mask 255.255.255.0; option broadcast-address 192.168.10.255; option routers 192.168.10.2; option domain-name-servers 192.168.10.1; option domain-name &quot;www.metasploit.cn&quot;; subnet 192.168.10.0 netmask 255.255.255.0 { range 192.168.10.10 192.168.10.100; }</p>
<p>如图</p>
<p><img src="" alt="2013090819102545091.jpg"></p>
<h3 id="-apache-">三：启动apache和配置钓鱼页面</h3>
<p>/# /etc/init.d/apache2 start /# cd /var/www/    //进入网站目录，bt5里apache默认首页是index.html /#vi index.html    //修改成自己的钓鱼页面，这里为了演示，我插入基础钓鱼</p>
<p>BT5里面我安装的有XSS平台，这里的Ip要注意，要和刚才我们在dhcp配置文件里面分配的ip段同网段，否则别人连接进来，访问不了的；</p>
<p>当然如果你直接伪造成移动CMCC页面也行！</p>
<p><img src="" alt="2013090819110030478.jpg"></p>
<h3 id="-">四：准备的差不多了，神器该派出来了</h3>
<p>/# cd /pentest/exploits/set/ /# ./set</p>
<p>这里选择第一个set&gt;1</p>
<p>1)  Social-Engineering Attacks</p>
<p><img src="" alt="2013090819113210713.jpg"></p>
<p>下一步</p>
<p>这里选择第一个set&gt;8</p>
<p>8) WirelessAccess Point Attack Vector</p>
<p><img src="" alt="2013090819115743190.jpg"></p>
<p>下一步</p>
<p>set:wireless&gt;1 //选择1 启动</p>
<p><img src="" alt="2013090819122771172.jpg"></p>
<p>会提示让你编辑dhcp3-server这个文件。按Ctrl+x 直接退出就可以，因为之前我们编辑过了。</p>
<p>下一步</p>
<p>选择分配的Ip段</p>
<p>set:wireless&gt;2</p>
<p>Enter the wireless network interface (ex. wlan0):wlan0 //选择wlan0</p>
<p><img src="" alt="2013090819125527463.jpg"></p>
<p>（忘记说一个，/# vi /pentest/exploits/set/config/set_config.py 更改为自己想要的AP名字，我这里改成CMCC）</p>
<p>下面是效果</p>
<p><img src="" alt="2013090819133492348.jpg"></p>
<p>连接AP不用输入密码</p>
<p>打开任意网站都会跳到我的钓鱼页面</p>
<p><img src="" alt="2013090819140773680.jpg"></p>
<p>手机UC登陆效果</p>
<p><img src="" alt="2013090819143770651.jpg"></p>
<p><img src="" alt="2013090819145114971.jpg"></p>
<p>总结:</p>
<p>钓了2天，钓到10多个“美女”手机号码，效果还是不错，如果伪造成cmcc登陆页面，效果会更好！ （仅限技术研究，切勿用于法非用途！！！后果自负）
版权声明：未经授权禁止转载 <a href="http://drops.wooyun.org/author/Metasploit" title="由 Metasploit 发布" target="_blank">Metasploit</a>@<a href="http://drops.wooyun.org/" target="_blank">乌云知识库</a>
分享到： <a href="&quot;分享到QQ空间&quot;"></a> <a href="&quot;分享到新浪微博&quot;"></a> <a href="&quot;分享到腾讯微博&quot;"></a> <a href="&quot;分享到人人网&quot;"></a> <a href="&quot;分享到网易微博&quot;"></a> <a href="&quot;累计分享11次&quot;">11</a></p>
<h3 id="-">相关日志</h3>
<ul>
<li><a href="http://drops.wooyun.org/papers/161" target="_blank">Rsync安全配置</a></li>
<li><a href="http://drops.wooyun.org/tips/134" target="_blank">针对性攻击与移动安全漏洞</a></li>
<li><a href="http://drops.wooyun.org/tips/409" target="_blank">snmp弱口令引起的信息泄漏</a></li>
<li><a href="http://drops.wooyun.org/tips/413" target="_blank">CentOS 6.2下安装基于Suricata + Barnyard 2 + Base 的⼊侵检测系统</a></li>
<li><a href="http://drops.wooyun.org/tips/640" target="_blank">Dionaea低交互式蜜罐部署详解</a></li>
<li><a href="http://drops.wooyun.org/tips/112" target="_blank">公共无线安全——FakeAP之WiFi钓鱼</a>
上一篇:<a href="http://drops.wooyun.org/tips/572" target="_blank">如何玩转andriod远控（androrat）</a></li>
</ul>
<p>下一篇:<a href="http://drops.wooyun.org/papers/384" target="_blank">对某创新路由的安全测试</a></p>
<h3 id="-14-rss-2-0-http-drops-wooyun-org-tips-573-feed-trackback-http-drops-wooyun-org-tips-573-trackback-">楼被抢了 14 层了... <a href="">抢座</a>、<a href="http://drops.wooyun.org/tips/573/feed" target="_blank">Rss 2.0</a>或者 <a href="http://drops.wooyun.org/tips/573/trackback" target="_blank">Trackback</a></h3>
<ul>
<li><img src="" alt=""> her0ma | 2013/09/09 20:16 | <a href="">/#</a></li>
</ul>
<p>淫荡的一塌糊涂！</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 国士无双 | 2013/09/10 11:49 | <a href="">/#</a></li>
</ul>
<p>撸过</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> Creturn | 2013/09/10 17:12 | <a href="">/#</a></li>
</ul>
<p>其实dhcp控制权在你手里伪造个域名掩盖掉192.168.10.1不更好~~</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> insight-labs | 2013/09/11 21:15 | <a href="">/#</a></li>
</ul>
<p>你想说的是dns么？</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="http://zone.wooyun.org/upload/avatar/avatar_274_b.jpg" alt=""> hacker@sina.cn | 2013/09/18 22:19 | <a href="">/#</a></li>
</ul>
<p>dhcp 可以指定DNS， DNS设置为你自己本地的BIND服务即可</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 小坤 | 2013/09/12 13:52 | <a href="">/#</a></li>
</ul>
<p>学习了。</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 一只猿 | 2013/09/14 12:20 | <a href="">/#</a></li>
</ul>
<p>撸主，对于妹子，老夫专注YY30年，看完你这篇文章，节操碎了满地，遂决定一试</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 核攻击 | 2013/09/17 10:23 | <a href="">/#</a></li>
</ul>
<p>节操已掉……</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> <a href="http://www.metasploit.cn/" target="_blank">Metasploit</a> | 2013/09/18 17:59 | <a href="">/#</a></li>
</ul>
<p>有没有人做的有CMCC页面啊？给我一份</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> Evi1c0de | 2013/10/28 17:21 | <a href="">/#</a></li>
</ul>
<p>连接CMCC跳转到登陆页面 右键源码 修改即可</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 船长 | 2013/09/20 15:46 | <a href="">/#</a></li>
</ul>
<p>比一定全是女的楼主</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 建建滴忘问 | 2013/09/22 17:32 | <a href="">/#</a></li>
</ul>
<p>WIN7本身就能搭建这个 创建无线 再来个WEB服务器 实在不行再开个虚拟机 来个DNS服务器哈哈！前年玩的东西</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 4n0wGZ | 2013/09/23 18:07 | <a href="">/#</a></li>
</ul>
<p>淫荡的一塌糊涂！</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<ul>
<li><img src="" alt=""> 牛牛 | 2013/10/25 20:06 | <a href="">/#</a></li>
</ul>
<p>真心的觉得很荡呵呵</p>
<p><a href="http://drops.wooyun.org/login" target="_blank">登录以回复</a></p>
<h3 id="-">发表评论</h3>
<p><a href="">点击这里取消回复。</a></p>
<p>您必须 <a href="http://drops.wooyun.org/login" target="_blank">登陆</a> 后才能发表评论。</p>
<h3 id="-">订阅更新</h3>
<ul>
<li><a href="http://drops.wooyun.org/feed" title="点击订阅" target="_blank"><img src="" alt=""></a></li>
</ul>
<h3 id="-">分类</h3>
<ul>
<li><a href="http://drops.wooyun.org/category/papers" title="漏洞分析" target="_blank">漏洞分析</a> (40)</li>
<li><a href="http://drops.wooyun.org/category/tips" title="技术分享" target="_blank">技术分享</a> (57)</li>
<li><a href="http://drops.wooyun.org/category/tools" title="工具收集" target="_blank">工具收集</a> (5)</li>
<li><p><a href="http://drops.wooyun.org/category/news" title="业界资讯" target="_blank">业界资讯</a> (3)</p>
<h3 id="-">最新日志</h3>
</li>
<li><p><a href="http://drops.wooyun.org/tips/688" title="Flash CSRF" target="_blank">Flash CSRF</a></p>
</li>
<li><a href="http://drops.wooyun.org/tips/689" title="XSS与字符编码的那些事儿 —科普文" target="_blank">XSS与字符编码的那些事儿 —科普文</a></li>
<li><a href="http://drops.wooyun.org/papers/680" title="Zabbix SQL Injection/RCE – CVE-2013-5743" target="_blank">Zabbix SQL Injection/RCE – CVE-2013-5743</a></li>
<li><a href="http://drops.wooyun.org/papers/679" title="CDN流量放大攻击思路" target="_blank">CDN流量放大攻击思路</a></li>
<li><a href="http://drops.wooyun.org/news/674" title="从丝绸之路到安全运维（Operational Security）与风险控制（Risk Management） 上集" target="_blank">从丝绸之路到安全运维（Operational Security）与风险控制（Risk Management） 上集</a></li>
<li><a href="http://drops.wooyun.org/tips/662" title="攻击JavaWeb应用[8]-后门篇" target="_blank">攻击JavaWeb应用[8]-后门篇</a></li>
<li><a href="http://drops.wooyun.org/papers/660" title="php4fun.sinaapp.com PHP挑战通关攻略" target="_blank">php4fun.sinaapp.com PHP挑战通关攻略</a></li>
<li><a href="http://drops.wooyun.org/papers/653" title="搭建基于Suricata+Barnyard2+Base的IDS前端Snorby" target="_blank">搭建基于Suricata+Barnyard2+Base的IDS前端Snorby</a></li>
<li><a href="http://drops.wooyun.org/tools/655" title="GPU破解神器Hashcat使用简介" target="_blank">GPU破解神器Hashcat使用简介</a></li>
<li><a href="http://drops.wooyun.org/tips/649" title="内网渗透应用 跨vlan渗透的一种思路" target="_blank">内网渗透应用 跨vlan渗透的一种思路</a></li>
</ul>
<h3 id="-">最新评论</h3>
<ul>
<li><img src="" alt=""></li>
</ul>
<p>c2y2 在 <a href="http://drops.wooyun.org/tips/689#comment-1883" target="_blank">XSS与字符编码的那些事儿 ---科普文</a>
谢谢</p>
<ul>
<li><img src="" alt=""></li>
</ul>
<p>Evi1c0de 在 <a href="">如何用意念获取附近美女的手机号码</a>
连接CMCC跳转到登陆页面 右键源码 修改即可</p>
<ul>
<li><img src="" alt=""></li>
</ul>
<p>牛牛 在 <a href="http://drops.wooyun.org/tips/688#comment-1871" target="_blank">Flash CSRF</a>
支持一下呵呵</p>
<ul>
<li><img src="" alt=""></li>
</ul>
<p>luwikes 在 <a href="http://drops.wooyun.org/papers/178#comment-1870" target="_blank">JBoss安全问题总结</a>
mark</p>
<ul>
<li><img src="" alt=""></li>
</ul>
<p>NgInx 在 <a href="http://drops.wooyun.org/tips/688#comment-1869" target="_blank">Flash CSRF</a>
好吧，基佬，顶你一个，不错。</p>
<ul>
<li><a href="">下一页 »</a>
Powered by <a href="http://wordpress.org/" target="_blank">WordPress</a> | GZai Theme by <a href="http://huaidan.org/" title="GZai Theme produced by 鬼仔" target="_blank">鬼仔</a>
<a href="http://tongji.baidu.com/hm-web/welcome/ico?s=9fc41da6a2322bdd80563c9d5a4bdb1d" target="_blank"><img src="" alt=""></a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/安全/">安全</a></li></span><span class="breadcrumb"><li><a href="/categories/安全/">安全</a></li><li><a href="/categories/安全/无线/">无线</a></li></span></span> | <span class="tags">Tagged <a href="/tags/安全/" class="label label-primary">安全</a><a href="/tags/无线/" class="label label-success">无线</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-安全-无线--如何用意念获取附近美女的手机号码/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-安全-无线--如何用意念获取附近美女的手机号码" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/83/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/81/">81</a></li><li><a class="page-number" href="/page/82/">82</a></li><li><a class="page-number" href="/page/83/">83</a></li><li class="active"><li><span class="page-number current">84</span></li><li><a class="page-number" href="/page/85/">85</a></li><li><a class="page-number" href="/page/86/">86</a></li><li><a class="page-number" href="/page/87/">87</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/85/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 20:45:44</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
