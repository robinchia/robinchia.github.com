
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 84 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA/">Using CAS without the CAS login screen </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="using-cas-without-the-cas-login-screen-central-authentication-service-jasig-wiki">Using CAS without the CAS login screen - Central Authentication Service - Jasig Wiki</h1>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#title-heading" target="_blank">Skip to content</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#breadcrumbs" target="_blank">Skip to breadcrumbs</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#header-menu-bar" target="_blank">Skip to header menu</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#navigation" target="_blank">Skip to action menu</a></li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#quick-search-query" target="_blank">Skip to quick search</a>
Quick Search</p>
</li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">Browse</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/listpages.action?key=CAS" title="Browse pages in the Central Authentication Service space ( Type &#39;g&#39; then &#39;s" target="_blank">Pages</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewrecentblogposts.action?key=CAS" title="Browse blogs in the Central Authentication Service space" target="_blank">Blog</a></li>
<li><a href="https://wiki.jasig.org/labels/listlabels-heatmap.action?key=CAS" title="Browse labels in the Central Authentication Service space" target="_blank">Labels</a></li>
<li><a href="https://wiki.jasig.org/spaces/listattachmentsforspace.action?key=CAS" title="Browse attachments in the Central Authentication Service space" target="_blank">Attachments</a></li>
<li><a href="https://wiki.jasig.org/mail/archive/viewmailarchive.action?key=CAS" title="Browse mail in the Central Authentication Service space" target="_blank">Mail</a></li>
<li><a href="https://wiki.jasig.org/spaces/viewspacesummary.action?key=CAS" title="Browse additional space functions in the Central Authentication Service space" target="_blank">Advanced</a></li>
<li><p><a href="https://wiki.jasig.org/spaces/usage/report.action?key=CAS" target="_blank">Activity</a></p>
</li>
<li><p><a href="http://docs.atlassian.com/confluence/docs-41/whatsnew/iframe" target="_blank">What’s New</a></p>
</li>
<li><a href="https://wiki.jasig.org/spacedirectory/view.action" title="Browse the Confluence space directory" target="_blank">Space Directory</a></li>
<li><a href="https://wiki.jasig.org/dashboard/configurerssfeed.action" title="Create your custom RSS feed." target="_blank">Feed Builder</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="View available keyboard shortcuts ( Type &#39;?" target="_blank">Keyboard Shortcuts</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="Browse gadgets provided by Confluence" target="_blank">Confluence Gadgets</a></li>
<li><a href="https://wiki.jasig.org/login.action?os_destination=%2Fdisplay%2FCAS%2FUsing%2BCAS%2Bwithout%2Bthe%2BCAS%2Blogin%2Bscreen" target="_blank">Log In</a></li>
<li><a href="https://wiki.jasig.org/signup.action" target="_blank">Sign Up</a></li>
</ul>
<ol>
<li><a href="https://wiki.jasig.org/dashboard.action" title="Go to Dashboard ( Type &#39;g&#39; then &#39;d" target="_blank">Dashboard</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS" target="_blank">Central Authentication Service</a></li>
<li><strong>…</strong></li>
<li><a href="https://wiki.jasig.org/display/CAS/CASifying+Applications" target="_blank">CASifying Applications</a></li>
<li><a href="">Using CAS without the CAS login screen</a></li>
</ol>
<ul>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">Tools</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewpageattachments.action?pageId=5225" title="View Attachments ( Type &#39;t" target="_blank">Attachments (0)</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewpreviousversions.action?pageId=5225" target="_blank">Page History</a></li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=5225" title="Edit restrictions" target="_blank">Restrictions</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=5225" target="_blank">Info</a></p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=5225" title="Link to this Page ( Type &#39;k" target="_blank">Link to this Page…</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/pages/listpages-dirview.action?key=CAS&amp;openId=5225#selectedPageInHierarchy" target="_blank">View in Hierarchy</a></li>
<li><a href="https://wiki.jasig.org/plugins/viewsource/viewpagesrc.action?pageId=5225" target="_blank">View Source</a></li>
</ul>
<h1 id="-https-wiki-jasig-org-display-cas-using-cas-without-the-cas-login-screen-"><a href="https://wiki.jasig.org/display/CAS" target="_blank"><img src="" alt=""></a>  <a href="">Using CAS without the CAS login screen</a></h1>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#page-metadata-end" target="_blank">Skip to end of metadata</a></p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="Page restrictions apply. Click the lock icon to view or edit the restriction." target="_blank">Page restrictions apply</a></li>
<li>Added by <a href="https://wiki.jasig.org/display/~awp9" target="_blank">Andrew Petro</a>, last edited by <a href="https://wiki.jasig.org/display/~brummermann" target="_blank">Hendrik Brummermann</a> on Jul 26, 2011  (<a href="https://wiki.jasig.org/pages/diffpages.action?pageId=5225&amp;originalId=52495191" target="_blank">view change</a>)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">show comment</a> <a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">hide comment</a>
<strong>Comment:</strong> Corrected links that should have been relative instead of absolute.
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#page-metadata-start" target="_blank">Go to start of metadata</a></li>
</ul>
<p>This page is for documenting how to use CAS without using the CAS login screen.</p>
<h2 id="why-not-to-do-this">Why not to do this</h2>
<p>One of the advantages CAS brings to the table is a single authentication user experience across all applications using CAS. The user doesn&#39;t have to wonder whether he should be giving his password to any particular application, because no applications other than CAS receive the password.</p>
<p>Implementing this hack results in applications other than CAS having access to actual usernames and passwords. This is a bad thing. It reduces the security value CAS is trying to give you.</p>
<h2 id="existing-features">Existing features</h2>
<p>The CAS gateway feature allows your application to attempt to use CAS single sign on to authenticate the user without interrupting the user experience to display a CAS login screen. If no SSO session already exists, CAS simply redirects back to your service without displaying the login screen.</p>
<h2 id="alternative-approaches">Alternative approaches</h2>
<p>An alternative to your application rendering its own login screen is to get CAS Server to render the login screen you would have wanted to render. <a href="https://wiki.jasig.org/display/CAS/Columbia" target="_blank">WIND</a> goes this route. This is on the feature list for CAS 3.</p>
<p>A relatively easy option (for portals, at least) is to proxy the HTML of the CAS login page and display it inline in the portal page.  The proxied form should still submit to CAS itself.  You can tweak the CAS jsps to use different CSS styles depending on the User Agent or Remote Host, to provide a modified (e.g. smaller) login screen.</p>
<h2 id="using-cas-without-the-login-screen">Using CAS without the login screen</h2>
<p>Suppose you really do want your service to be handling the user&#39;s username and password.</p>
<p>First, produce your custom form. When your custom form submits, the recipient of the submit needs to do the following:</p>
<h3 id="validate-the-username-and-password">Validate the username and password</h3>
<p>Somehow, you need to figure out whether this username and password are correct.</p>
<p>One thing to do would be to generate an HTTP request for CAS login, parse out a valid login ticket, then issue a request for CAS login posting the login ticket, username, and password. Parse the response. If it indicates a success, the username and password are valid. Otherwise not.</p>
<p>Another thing to do would be to go directly against whatever it is that CAS is using to validate usernames and passwords.</p>
<p>If the username and password didn&#39;t match, redisplay your form. If they did match, then either 1) you&#39;re done because all you wanted to do was authenticate the user, or 2) now you need to establish the CAS SSO session in the web browser and obtain a Service ticket.</p>
<h3 id="establish-the-sso-session-and-possibly-get-a-proxy-ticket">Establish the SSO session and possibly get a Proxy Ticket</h3>
<p>Again, get a login ticket and the jsessionid. Then, generate a redirect to the browser placing the sesisonid, login ticket, the username, and the password on the CAS login URL to which you&#39;re redirecting:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" target="_blank">?</a>https:</p>
<p>//cas.example.com/cas/login;jsessionid=XXXXXXXX?username=XXXXXXX&amp;password=XXXXXXX&amp;lt=XXXXXX</p>
<p>Specify the service to be your application where you want to receive the service ticket.</p>
<p>CAS will set the Single Sign On cookie so the user will have a CAS SSO session established.</p>
<p>Since the username, password, and login ticket are good, CAS will redirect back to your service with the service ticket. Grab the service ticket and validate it in the normal way (presumably using a CAS client). This is your opportunity to obtain a Proxy Ticket.</p>
<p>Note: This only works as long as the user has not visited the CAS webpage before. Otherwise he or she got a different sessionid cookie which has priority over the sessionid in the url.</p>
<h2 id="experience-reports">Experience Reports</h2>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen" target="_blank">Here is an experience report</a> on how an UI-less mode for CAS has been achieved using javascript only on the client side. Passwords are only handed over to the SSL secured CAS service, not to a third party.
Labels:</p>
<p>None</p>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+CAS+login+screen#" title="Edit Labels ( Type &#39;l" target="_blank">Edit Labels</a>&quot;)
Powered by a free <strong>Atlassian Confluence Open Source Project License</strong> granted to Java Architectures Special Interest Group. <a href="http://www.atlassian.com/c/conf/11461" target="_blank">Evaluate Confluence today</a>.
This Confluence installation runs a Free Gliffy License - <a href="http://www.gliffy.com/products/confluence-plugin/" target="_blank">Evaluate Gliffy</a> for your Wiki!</p>
<ul>
<li>Powered by <a href="http://www.atlassian.com/software/confluence" target="_blank">Atlassian Confluence</a> 4.1.5, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" target="_blank">Enterprise Wiki</a></li>
<li>Printed by Atlassian Confluence 4.1.5, the Enterprise Wiki.</li>
<li>·  <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" target="_blank">Report a bug</a></li>
<li>·  <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" target="_blank">Atlassian News</a></li>
</ul>
<p><a href=""></a><a href=""></a><a href=""></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span><span class="breadcrumb"><li><a href="/categories/CAS/">CAS</a></li><li><a href="/categories/CAS/without+cas+login+screen/">without+cas+login+screen</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a><a href="/tags/without+cas+login+screen/" class="label label-success">without+cas+login+screen</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheCASloginscreen-CentralA" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS--CAS的SSO实现细节-Jaytse的专栏-博客频道-CSDNNET/">CAS 的SSO实现细节 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS--CAS的SSO实现细节-Jaytse的专栏-博客频道-CSDNNET/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="cas-sso-jaytse-csdn-net">CAS 的SSO实现细节 - Jaytse的专栏 - 博客频道 - CSDN.NET</h1>
<p>您还未登录！|<a href="http://passport.csdn.net/account/login" target="_blank">登录</a>|<a href="http://passport.csdn.net/account/register" target="_blank">注册</a>|<a href="http://passport.csdn.net/help/faq" target="_blank">帮助</a></p>
<ul>
<li><a href="http://www.csdn.net/" target="_blank">CSDN首页</a></li>
<li><a href="http://news.csdn.net/" target="_blank">资讯</a></li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a></li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a></li>
<li><a href="http://so.csdn.net/" target="_blank">搜索</a></li>
<li><h2 id="-"><a href="">更多</a></h2>
</li>
<li><p><a href="http://cto.csdn.net/" target="_blank">CTO俱乐部</a></p>
</li>
<li><a href="http://student.csdn.net/" target="_blank">学生大本营</a></li>
<li><a href="http://edu.csdn.net/" target="_blank">培训充电</a></li>
<li><a href="http://mobile.csdn.net/" target="_blank">移动开发</a></li>
<li><a href="http://sd.csdn.net/" target="_blank">软件研发</a></li>
<li><a href="http://cloud.csdn.net/" target="_blank">云计算</a></li>
<li><a href="http://www.programmer.com.cn/" target="_blank">程序员</a></li>
<li><a href="http://www.iteye.com/" target="_blank">ITeye</a></li>
<li><a href="http://tup.csdn.net/" target="_blank">TUP</a></li>
</ul>
<h1 id="-jaytse-http-blog-csdn-net-jaytse-"><a href="http://blog.csdn.net/jaytse" target="_blank">Jaytse的专栏</a></h1>
<h2 id="-csdn">欢迎来到小米的CSDN</h2>
<ul>
<li><a href="http://blog.csdn.net/jaytse?viewmode=contents" target="_blank"><img src="" alt="">目录视图</a></li>
<li><a href="http://blog.csdn.net/jaytse?viewmode=list" target="_blank"><img src="" alt="">摘要视图</a></li>
<li><a href="http://blog.csdn.net/jaytse/rss/list" target="_blank"><img src="" alt="">订阅</a>
<a href="http://cloud.csdn.net/a/20120620/2806805.html" target="_blank">用开源IaaS构建自己的云——OpenStack征稿启事</a>                   <a href="http://topic.csdn.net/u/20120709/15/2e6511e3-e34f-41d7-9f71-a47bb4f8c9fa.html" target="_blank">CSDN社区7月&quot;畅谈加班 赢程序员杂志&quot;活动火爆上线！！</a>
<a href="http://blog.csdn.net/blogdevteam/article/details/7712568" target="_blank">2012年7月当选微软MVP的CSDN会员名单揭晓！</a>                    <a href="http://topic.csdn.net/u/20120704/14/c98b3641-359f-4bea-b111-21c409db8819.html" target="_blank">CSDN账号全站整合公告</a>                <a href="http://adclk.thinkmedia.cn/clk/pid=2000/media=CSDN.CN/place=1Clt1/size=760x90" target="_blank">不用买彩票，就有408万！</a></li>
</ul>
<h3 id="-cas-sso-"><a href="">CAS 的SSO实现细节</a></h3>
<p>分类： <a href="http://blog.csdn.net/jaytse/article/category/168314" target="_blank">J2EE</a>  2008-07-25 16:07 629人阅读 <a href="http://blog.csdn.net/jaytse/article/details/2710567#comments" target="_blank">评论</a>(0) <a href="&quot;收藏&quot;">收藏</a> <a href="http://blog.csdn.net/jaytse/article/details/2710567#report" title="举报" target="_blank">举报</a></p>
<p>实验步骤</p>
<ol>
<li><p>访问partner1 (CAS Client 1)的index.jsp</p>
</li>
<li><p>访问partner2 (CAS Client 2)的index.jsp</p>
</li>
<li><p>访问partner1的debug.jsp</p>
</li>
<li><p>访问<a href="http://www.test.com:443/cas-server/logout" target="_blank">www.test.com:443/cas-server/logout</a> (CAS Server)</p>
</li>
</ol>
<p>讨论</p>
<p>步骤一</p>
<p><a href="http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p1.JPG" target="_blank">http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p1.JPG</a></p>
<ol>
<li><p>请求partner1的index.jsp</p>
</li>
<li><p>发现请求页面为受限页面，REDIRECT 到CAS-Server端进行认证</p>
</li>
<li><p>返回CAS Server登录页面</p>
</li>
<li><p>输入用户名、密码，Form表单提交</p>
</li>
<li><p>CAS Server端进行认证，REDIRECT到Partner端，此时CAS-Server端为Partner1生成ST，并在浏览器记录CAS Server的Cookie</p>
</li>
<li><p>Partner端获取到ST后，到CAS Server端去验证，返回认证信息</p>
</li>
<li><p>若通过认证（1.0为yes， 2.0为XML格式验证），Partner返回请求的页面，并在浏览器记录Partner的Cookie</p>
</li>
</ol>
<p>步骤二</p>
<p><a href="http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p2.JPG" target="_blank">http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p2.JPG</a></p>
<ol>
<li><p>请求Partner2 的index.jsp</p>
</li>
<li><p>发现请求页面为受限页面，REDIRECT 到CAS-Server端进行认证。浏览器的Redirect带着将已经被记录了的通过认证的CAS Server的Cookie一同到CAS-Server认证</p>
</li>
<li><p>认证通过，REDIRECT到Partner2，此时CAS Server端为Partner2生成ST。</p>
</li>
<li><p>Partner 2获取到ST后，到CAS Server端去验证，返回认证信息</p>
</li>
<li><p>若通过认证，Partner2返回请求的页面，并在浏览器记录Partner2的Cookie</p>
</li>
</ol>
<p>步骤三</p>
<p><a href="http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p3.JPG" target="_blank">http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p3.JPG</a></p>
<ol>
<li><p>请求Partner 1的debug.jsp（带有Partner 1的Cookie信息）</p>
</li>
<li><p>返回debug.jsp</p>
</li>
</ol>
<p>步骤四</p>
<p><a href="http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p4.JPG" target="_blank">http://p.blog.csdn.net/images/p_blog_csdn_net/jaytse/EntryImages/20080725/p4.JPG</a></p>
<ol>
<li><p>请求logout</p>
</li>
<li><p>CAS Server通知Partner 1和Partner 2</p>
</li>
<li><p>返回CAS Server的logout页面</p>
</li>
</ol>
<p>备注</p>
<p>Redirect分成2个步骤：</p>
<ol>
<li><p>response发送给浏览器返回信息，通知浏览器创建新的请求</p>
</li>
<li><p>请求新的页面</p>
</li>
</ol>
<p>Cookie中携带的信息：</p>
<ol>
<li><p>域名</p>
</li>
<li><p>路径
当域名和路径名全部相同的时候，浏览器产生请求才把对应的信息一同携带给服务器</p>
</li>
</ol>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a></p>
<ul>
<li>上一篇：<a href="http://blog.csdn.net/jaytse/article/details/2710041" target="_blank">CAS学习笔记</a></li>
<li><p>下一篇：<a href="http://blog.csdn.net/jaytse/article/details/2710594" target="_blank">Solaris10 cron使用</a>
查看评论<a href=""></a></p>
<p>暂无评论
您还没有登录,请<a href="http://passport.csdn.net/account/login?from=http%3A%2F%2Fblog.csdn.net%2Fjaytse%2Farticle%2Fdetails%2F2710567" target="_blank">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fjaytse%2Farticle%2Fdetails%2F2710567" target="_blank">[注册]</a></p>
</li>
</ul>
<p>/* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a href=""></a><a href=""></a></p>
<p>个人资料</p>
<p><a href="http://my.csdn.net/jaytse" target="_blank"><img src="&quot;访问我的空间&quot;" alt=""></a>
<a href="http://my.csdn.net/jaytse" target="_blank">jaytse</a></p>
<p><a href="http://blog.csdn.net/jaytse/article/details/2710567#" title="[加关注]" target="_blank"></a> <a href="http://my.csdn.net/my/letter/send/jaytse" title="[发私信]"></a></p>
<ul>
<li>访问：68320次</li>
<li>积分：1431分</li>
<li><p>排名：第4313名</p>
</li>
<li><p>原创：68篇</p>
</li>
<li>转载：30篇</li>
<li>译文：0篇</li>
<li>评论：46条</li>
</ul>
<p>文章搜索</p>
<p><a href=""></a>
文章分类</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/category/168316" target="_blank">C Programming Language</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/358000" target="_blank">database</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/168313" target="_blank">Design Pattern</a>(0)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/168317" target="_blank">Framework</a>(0)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/168314" target="_blank">J2EE</a>(21)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/168315" target="_blank">J2SE</a>(12)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/358001" target="_blank">System</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/category/168318" target="_blank">心情点滴</a>(42)</li>
</ul>
<p>文章存档</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/month/2010/05" target="_blank">2010年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2010/04" target="_blank">2010年04月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2010/01" target="_blank">2010年01月</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2009/12" target="_blank">2009年12月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2009/11" target="_blank">2009年11月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2009/10" target="_blank">2009年10月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2009/05" target="_blank">2009年05月</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/12" target="_blank">2008年12月</a>(3)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/11" target="_blank">2008年11月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/09" target="_blank">2008年09月</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/08" target="_blank">2008年08月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/07" target="_blank">2008年07月</a>(11)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/05" target="_blank">2008年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/04" target="_blank">2008年04月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2008/01" target="_blank">2008年01月</a>(5)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2007/10" target="_blank">2007年10月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2007/09" target="_blank">2007年09月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2007/08" target="_blank">2007年08月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2007/07" target="_blank">2007年07月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2007/03" target="_blank">2007年03月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/11" target="_blank">2006年11月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/10" target="_blank">2006年10月</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/09" target="_blank">2006年09月</a>(3)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/08" target="_blank">2006年08月</a>(3)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/07" target="_blank">2006年07月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/06" target="_blank">2006年06月</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/05" target="_blank">2006年05月</a>(1)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/04" target="_blank">2006年04月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/03" target="_blank">2006年03月</a>(12)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/02" target="_blank">2006年02月</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2006/01" target="_blank">2006年01月</a>(6)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2005/12" target="_blank">2005年12月</a>(6)</li>
<li><a href="http://blog.csdn.net/jaytse/article/month/2005/08" target="_blank">2005年08月</a>(1)</li>
</ul>
<p>展开
阅读排行</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/2710041" title="CAS学习笔记" target="_blank">CAS学习笔记</a>(6331)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/578083" title="IBM 几次电话面试的总结" target="_blank">IBM 几次电话面试的总结</a>(4022)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625" title="Openfire Connection Manager 配置" target="_blank">Openfire Connection Manager 配置</a>(3454)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/3291578" title="MSN协议分析以及Java实现MSN登陆" target="_blank">MSN协议分析以及Java实现MSN登陆</a>(2666)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/3452981" title="利用HTTP协议获取163的联系人列表(1)" target="_blank">利用HTTP协议获取163的联系人列表(1)</a>(2190)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/3453123" title="利用HTTP协议获取163的联系人列表(3)" target="_blank">利用HTTP协议获取163的联系人列表(3)</a>(2029)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/632843" title="WAS中关于命令行部署EAR" target="_blank">WAS中关于命令行部署EAR</a>(1788)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/565439" title="Axis试用小记（－）" target="_blank">Axis试用小记（－）</a>(1719)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/1536991" title="我的这半年---离职和求职" target="_blank">我的这半年---离职和求职</a>(1537)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/659098" title="“老板”的故事" target="_blank">“老板”的故事</a>(1511)</li>
</ul>
<p>评论排行</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625" title="Openfire Connection Manager 配置" target="_blank">Openfire Connection Manager 配置</a>(6)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/3452981" title="利用HTTP协议获取163的联系人列表(1)" target="_blank">利用HTTP协议获取163的联系人列表(1)</a>(6)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/5627289" title="[转载] 沦丧——交大校友的真实职场经历和体会" target="_blank">[转载] 沦丧——交大校友的真实职场经历和体会</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/2710041" title="CAS学习笔记" target="_blank">CAS学习笔记</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/5274598" title="逝去的2009（四）" target="_blank">逝去的2009（四）</a>(4)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/995743" title="IBM CSDL的几个月" target="_blank">IBM CSDL的几个月</a>(3)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/2710925" title="用 openssl 签发CA" target="_blank">用 openssl 签发CA</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/578083" title="IBM 几次电话面试的总结" target="_blank">IBM 几次电话面试的总结</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/5216774" title="逝去的2009（三）" target="_blank">逝去的2009（三）</a>(2)</li>
<li><a href="http://blog.csdn.net/jaytse/article/details/643466" title="A week went again" target="_blank">A week went again</a>(2)
推荐文章</li>
</ul>
<p>最新评论</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625#comments" target="_blank">Openfire Connection Manager 配置</a></li>
</ul>
<p>taizans: good..</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625#comments" target="_blank">Openfire Connection Manager 配置</a></li>
</ul>
<p>xueixin: 我的bin/cmanager.sh 启动不起来咋回事啊，能够提供一些详细的解决方案吗？ 我的qq67...</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625#comments" target="_blank">Openfire Connection Manager 配置</a></li>
</ul>
<p>nongyan90: 你说的这些对我很有用，谢谢了！</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625#comments" target="_blank">Openfire Connection Manager 配置</a></li>
</ul>
<p>nongyan90: author ，我们很关心图啊</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625#comments" target="_blank">Openfire Connection Manager 配置</a></li>
</ul>
<p>leibf: 所谓胡图在哪里</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/2710041#comments" target="_blank">CAS学习笔记</a></li>
</ul>
<p>if_else123: 学习了，正在找单点登录方面的资料，虽然没有这么做，但还是支持楼主。</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/2710041#comments" target="_blank">CAS学习笔记</a></li>
</ul>
<p>jaytse: 呵呵，我基本上没有看懂你的问题；但我想可能是spring的事情吧；1.5比1.4多了泛型和其他扩展，...</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/4210625#comments" target="_blank">Openfire Connection Manager 配置</a></li>
</ul>
<p>liu282713097:</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/3452981#comments" target="_blank">利用HTTP协议获取163的联系人列表(1)</a></li>
</ul>
<p>tianguowei123: 你好，你写的那篇关于《利用HTTP协议获取163的联系人列表》三个系列，但是现在又改了，有空帮忙分析...</p>
<ul>
<li><a href="http://blog.csdn.net/jaytse/article/details/5627289#comments" target="_blank">[转载] 沦丧——交大校友的真实职场经历和体会</a></li>
</ul>
<p>lwchw: 工作的不入操作的，这年头完全颠倒了。
设计模式</p>
<ul>
<li><a href="http://dev.csdn.net/article/68/68538.shtm" target="_blank">设计模式(Patterns in Java)</a></li>
</ul>
<p>我的相册</p>
<ul>
<li><a href="http://picasaweb.google.com/xjtujay" target="_blank">Google相册</a></li>
<li><p><a href="http://xiaoyou.qq.com/index.php?mod=photo&amp;u=c265e4bd629300c5dfe5aad01ee2601cc513190cdf90331d" target="_blank">QQ相册</a>
学生时代</p>
</li>
<li><p><a href="http://www.neiep.edu.cn/" target="_blank">东北电力学院</a></p>
</li>
<li><a href="http://www.xjtu.edu.cn/" target="_blank">西安交通大学</a></li>
<li><a href="http://www.polyu.edu.hk/" target="_blank">香港理工大学</a></li>
</ul>
<p>衣食父母</p>
<ul>
<li><a href="http://www.gzoas.com/" target="_blank">广州傲思（已经倒了）</a></li>
<li><a href="http://www-900.ibm.com/cn/cdl/infomagmt/" target="_blank">IBM CSDL</a></li>
<li><a href="http://www.iscas.ac.cn/" target="_blank">中科院软件所</a></li>
<li><a href="http://www.sysu.edu.cn/" target="_blank">中山大学</a></li>
<li><p><a href="http://www.hku.hk/" target="_blank">香港大学</a>
友情支持</p>
</li>
<li><p><a href="http://blog.csdn.net/yevv" target="_blank">yevv&#39;s blog</a></p>
</li>
<li><a href="http://ourifa.bokee.com/" target="_blank">our ifa&#39;s blog</a><pre><code>![]()
</code></pre></li>
</ul>
<p><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a>京 ICP 证 070598 号北京创新乐知信息技术有限公司 版权所有<img src="" alt=""> 联系邮箱：webmaster@csdn.netCopyright © 1999-2012, CSDN.NET, All Rights Reserved <a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="" alt="GongshangLogo"></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS--CAS的SSO实现细节-Jaytse的专栏-博客频道-CSDNNET/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS--CAS的SSO实现细节-Jaytse的专栏-博客频道-CSDNNET" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS-spring-cas--23-X509Authentication/">23. X.509 Authentication</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS-spring-cas--23-X509Authentication/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="23-x-509-authentication">23. X.509 Authentication</h1>
<ol>
<li>X.509 Authentication<a href="http://static.springsource.org/spring-security/site/docs/3.1.x/reference/cas.html" target="_blank">Prev</a> Part V. Additional Topics <a href="http://static.springsource.org/spring-security/site/docs/3.1.x/reference/runas.html" target="_blank">Next</a></li>
</ol>
<h1 id="-x-509-authentication"><a href=""></a>X.509 Authentication</h1>
<h2 id="-23-1-overview"><a href=""></a>23.1 Overview</h2>
<p>The most common use of X.509 certificate authentication is in verifying the identity of a server when using SSL, most commonly when using HTTPS from a browser. The browser will automatically check that the certificate presented by a server has been issued (ie digitally signed) by one of a list of trusted certificate authorities which it maintains.</p>
<p>You can also use SSL with “mutual authentication”; the server will then request a valid certificate from the client as part of the SSL handshake. The server will authenticate the client by checking that its certificate is signed by an acceptable authority. If a valid certificate has been provided, it can be obtained through the servlet API in an application. Spring Security X.509 module extracts the certificate using a filter. It maps the certificate to an application user and loads that user&#39;s set of granted authorities for use with the standard Spring Security infrastructure.</p>
<p>You should be familiar with using certificates and setting up client authentication for your servlet container before attempting to use it with Spring Security. Most of the work is in creating and installing suitable certificates and keys. For example, if you&#39;re using Tomcat then read the instructions here</p>
<p><a href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html" target="_blank"><a href="http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html">http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html</a></a>
. It&#39;s important that you get this working before trying it out with Spring Security</p>
<h2 id="-23-2-adding-x-509-authentication-to-your-web-application"><a href=""></a>23.2 Adding X.509 Authentication to Your Web Application</h2>
<p>Enabling X.509 client authentication is very straightforward. Just add the</p>
<p><x509/>
element to your http security namespace configuration.</p>
<http> ... <x509 subject-principal-regex="CN=(./*?)," user-service-ref="userService"/>; ... </http>

<p>The element has two optional attributes:</p>
<ul>
<li>subject-principal-regex
. The regular expression used to extract a username from the certificate&#39;s subject name. The default value is shown above. This is the username which will be passed to the</li>
</ul>
<p>UserDetailsService
to load the authorities for the user.</p>
<ul>
<li>user-service-ref
. This is the bean Id of the</li>
</ul>
<p>UserDetailsService
to be used with X.509. It isn&#39;t needed if there is only one defined in your application context.</p>
<p>The</p>
<p>subject-principal-regex
should contain a single group. For example the default expression &quot;CN=(./*?),&quot; matches the common name field. So if the subject name in the certificate is &quot;CN=Jimi Hendrix, OU=...&quot;, this will give a user name of &quot;Jimi Hendrix&quot;. The matches are case insensitive. So &quot;emailAddress=(.?),&quot; will match &quot;EMAILADDRESS=jimi@hendrix.org,CN=...&quot; giving a user name &quot;jimi@hendrix.org&quot;. If the client presents a certificate and a valid username is successfully extracted, then there should be a valid</p>
<p>Authentication
object in the security context. If no certificate is found, or no corresponding user could be found then the security context will remain empty. This means that you can easily use X.509 authentication with other options such as a form-based login.</p>
<h2 id="-23-3-setting-up-ssl-in-tomcat"><a href=""></a>23.3 Setting up SSL in Tomcat</h2>
<p>There are some pre-generated certificates in the</p>
<p>samples/certificate
directory in the Spring Security project. You can use these to enable SSL for testing if you don&#39;t want to generate your own. The file</p>
<p>server.jks
contains the server certificate, private key and the issuing certificate authority certificate. There are also some client certificate files for the users from the sample applications. You can install these in your browser to enable SSL client authentication.</p>
<p>To run tomcat with SSL support, drop the</p>
<p>server.jks
file into the tomcat</p>
<p>conf
directory and add the following connector to the</p>
<p>server.xml
file</p>
<Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true" scheme="https" secure="true" clientAuth="true" sslProtocol="TLS" keystoreFile="${catalina.home}/conf/server.jks" keystoreType="JKS" keystorePass="password" truststoreFile="${catalina.home}/conf/server.jks" truststoreType="JKS" truststorePass="password" />

<p>*
clientAuth</p>
<ul>
<li>can also be set to *
want</li>
<li>if you still want SSL connections to succeed even if the client doesn&#39;t provide a certificate. Clients which don&#39;t present a certificate won&#39;t be able to access any objects secured by Spring Security unless you use a non-X.509 authentication mechanism, such as form authentication.
<a href="http://static.springsource.org/spring-security/site/docs/3.1.x/reference/cas.html" target="_blank">Prev</a> <a href="http://static.springsource.org/spring-security/site/docs/3.1.x/reference/advanced-topics.html" target="_blank">Up</a> <a href="http://static.springsource.org/spring-security/site/docs/3.1.x/reference/runas.html" target="_blank">Next</a>22. CAS Authentication <a href="http://static.springsource.org/spring-security/site/docs/3.1.x/reference/springsecurity.html" target="_blank">Home</a> 24. Run-As Authentication Replacement    <img src="" alt=""></li>
</ul>
<p><a href=""><img src="" alt=""></a></p>
<p><a href="http://www.springsource.com/?cid=70180000000wIe4AAE" target="_blank"><img src="" alt=""></a>
allSpringSourceGrailsHypericGemstoneRabbitMQ <img src="&quot;Search Documentation&quot;" alt=""></p>
<p><img src="&quot;click to toggle&quot;" alt="">
<a href="http://www.springsource.com/spring-framework-consulting" target="_blank"><img src="" alt=""></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span><span class="breadcrumb"><li><a href="/categories/CAS/">CAS</a></li><li><a href="/categories/CAS/spring-cas/">spring-cas</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a><a href="/tags/spring-cas/" class="label label-success">spring-cas</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS-spring-cas--23-X509Authentication/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS-spring-cas--23-X509Authentication" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-CAS--CAS之自定义登录页实践-Codingforfun-ITeye技术网站/">CAS 之自定义登录页实践 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS--CAS之自定义登录页实践-Codingforfun-ITeye技术网站/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="cas-coding-for-fun-iteye-">CAS 之自定义登录页实践 - Coding for fun. - ITeye技术网站</h1>
<p><img src="" alt=""> Saving Data...
正在保存数据...
正在儲存資料...</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS--CAS之自定义登录页实践-Codingforfun-ITeye技术网站/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS--CAS之自定义登录页实践-Codingforfun-ITeye技术网站" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM/">浅析无线网络数据窥探技术</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h3 id="-">浅析无线网络数据窥探技术 <img src="&quot;原创精品&quot;" alt=""></h3>
<p><a href="http://www.freebuf.com/articles/wireless/5351.html#" target="_blank"></a><a href="http://www.freebuf.com/author/crow" title="由 Crow 发布">Crow</a> 2012-08-14 </p>
<p><strong>记得几年前,蓝牙一时兴起,当时在十几米的范围内,就可覆盖了很多个蓝牙接入点,那个时候还在上学,上课时无聊,就会找一些蓝牙接入点来恶作剧,后来蓝牙这个东西慢慢的在人们的眼中变得不重要,取而代之的是覆盖到各处的wi-fi网络,各处餐厅,地铁,公司,大街小巷随处可以搜索到不知道从何而来的wi-fi信号,而hacking wifi技术也犹然而生。</strong></p>
<p>这部分的技术大多来自国外翻译文章，技术出处大致相同，但是关于原理问题有些人并不了解，今天就和大家一起分享下hacking wi-fi技术。</p>
<p>Let’s go!!</p>
<p>无线网络可分为<strong>广义无线网络</strong>和<strong>狭义无线网络</strong></p>
<p>广义无线网络包含了大家所熟知的wlan，wpan，wwan</p>
<p>wlan
无线局域网络(Wireless Local Area Networks；WLAN)是相当便利的数据传输系统，它利用射频(Radio Frequency；RF)的技术，取代旧式碍手碍脚的双绞铜线(Coaxial)所构成的局域网络，使得无线局域网络能利用简单的存取架构让用户透过它，达到「信息随身化、便利走天下」的理想境界。</p>
<p>wpan</p>
<p>无线个人局域网通讯技术（WPAN：Wireless Personal Area Network Communication Technologies）其中最典型且被大家熟知的技术包括:Bluetooth(蓝牙)，IrDa(红外)另外还包括ZigBee，UWB，HomeRF等，基于IEEE 802.15.(1-4)。</p>
<p>狭义无线网络既大家常用的IEEE 802.11标准的无线网络，关于802.11的标准及发展，大家可以再百度百科中查询。</p>
<p><strong>无线网络的工作原理</strong></p>
<p>无线网络至少要有一个无线接入点，即AP（Access Point）和一个client（无线客户端）组成，其中AP会将SSID由beacons(信号台)封装并广播，1Mbit/s的速率为1次/100ms。而无线clinet即为可接收这个SSID广播封包的设备，此处可由无线client来决定是否要与此AP发出的信号连接，所以可以选择任意的SSID进行连接。</p>
<p>记得上次，写了一个有关企业内网的文章，其中技术细节并不是很明确，所以今天可以给大家提供一个无线方面的思路，示意图如下：</p>
<p><img src="http://static.freebuf.com/2012/08/20120813011346_15444.jpg" alt="20120813011346_15444" title="20120813011346_15444">( &quot;FreebuF.COM&quot;)</p>
<p>图画的不算太好，大家凑合着看吧</p>
<p>无线安全对于企业安全来说也是尤为重要的一处，现在大多数企业都会采用笔记本作为工作电脑，便携而且对于网络上的分配极为方便。</p>
<p><strong>利用</strong></p>
<p>对于无线上的入侵推荐使用BT5，或者自己使用ubuntu集成aircreak也好。
此处演示基于虚拟机BT5，及USB外置网卡
WEP方式加密现在已经很少了，就此略过，WPA的演示，可参见<a href="http://www.freebuf.com/articles/5012.html" target="_blank"><a href="http://www.freebuf.com/articles/5012.html">http://www.freebuf.com/articles/5012.html</a></a></p>
<p>首先我们先来看下BT5下集成的无线工具，输入air，TAB键</p>
<p><img src="http://static.freebuf.com/uploads/image/20120813/20120813011359_34617.jpg" alt=""></p>
<p>可见aircreak系列的软件已经集成很多，这些足够我们在日常破解使用
Aircreak-ng既集成了破解功能，另外大家还可以使用cowpatty</p>
<p><img src="http://static.freebuf.com/2012/08/3333.jpg" alt="" title="3333"></p>
<p>OK，现在我们载入无线网卡，iwconfig</p>
<p><img src="http://static.freebuf.com/2012/08/4444.jpg" alt="" title="4444"></p>
<p>由于网卡类型及驱动的原因，外置载入网卡不一定就是wlan0，当然名字也可以自定义配置。
在使用之前，建议大家先update一下</p>
<p>Airodump-ng-oui-update</p>
<p><img src="http://static.freebuf.com/uploads/image/20120813/20120813011427_58618.jpg" alt=""></p>
<p>下面启动无线网卡</p>
<p>ifconfig ra0 up</p>
<p>激活无线网卡至monitor</p>
<p>airmon-ng start ra0</p>
<p>然后开始一系列的密码破解，由于之前thanks写过此类文章（<a href="http://www.freebuf.com/articles/5012.html" target="_blank">《Wifi Hacking</a><a href="http://www.freebuf.com/articles/5012.html" target="_blank">》</a>），所以这里就不在写了</p>
<p>那么我们要做什么呢？</p>
<p>刚在前面的图中画了了一下AP欺骗的问题
那么下面我们就来抓取数据包，并加以分析</p>
<p>Airodump-ng –c 6 –w crowlog mon0</p>
<p>这里-c是选择接收频道，-w是保存截获数据包名称，后面是网卡</p>
<p>我们也可以对airodump-ng中所示的ssid进行抓包，我这里由于链接无线网的人很少，已经半夜了，所以就不演示了
等抓取了足够的无线网络数据后，就可以Ctrl+C停止了。接下来我们可以使用Cain或者Wireshark来查看数据包了</p>
<p>打开Cain，选择Creaker，点击左侧分类栏的802.11Captures。</p>
<p><img src="http://static.freebuf.com/2012/08/22222.jpg" alt="22222" title="22222"></p>
<p>右键空白处，Add to list</p>
<p><img src="http://static.freebuf.com/uploads/image/20120813/20120813011451_92358.jpg" alt=""></p>
<p>然后Decode开始解密</p>
<p><img src="http://static.freebuf.com/uploads/image/20120813/20120813011501_43164.jpg" alt=""></p>
<p>此处需要强调一下，破解数据包是需要在破解了无线密码的前提下才可以的</p>
<p><img src="http://static.freebuf.com/uploads/image/20120813/20120813011510_69057.jpg" alt=""></p>
<p><strong>下面输入无线密码即可开始破解</strong></p>
<p>解密完成后，会出现同文件名+dec.cap的文件，将此文件放入wireshark中打开，</p>
<p>然后我们就可以开始分析不过的无线数据破解后的报文啦！</p>
<p>由于我这边抓取来的数据只有几十K，半夜1点钟了，所以就不截图抓取的数据了，感兴趣的朋友可以自己试试。</p>
<p>其中的QQ,MSN,email，登陆用的账号密码都可以看到，这块就要看大家是否细心了。多看看数据包，里面或许有很多有用的东西，如杀毒软件版本，输入法版本等。</p>
<p>这里凡是公开了密码的免费上网区，都是很容易下手的，比如在某咖啡厅，或者某机场，看到有漂亮MM在用笔记本上QQ或者MSN，这个密码基本上都是可知的，不需要费力去破解，然而当知道了密码后，所有弥漫在空中的，看不见的无线信号，便都在自己的掌控之下。抓取他们，得到他们以后。所有的数据便都是自己的了。在或者在公司，密码可知，权限开放，那么无线网段的数据便全部在自己的掌控之中。然而，捕获无线数据的方法有很多种。如固定mac地址捕获数据</p>
<p>aireplay-ng -0 3 –a ap的mac地址–c client的mac地址ra0</p>
<p>deauth攻击模式，来将现有的（指定mac）的无线客户端强制断开，这样客户端就需要重新连接网络，这样我们就会抓到完整的wpa-psk握手验证的数据包了。</p>
<p>Aircrack-ng –w dic cap文件</p>
<p>可以用来破解抓取到的wpa-psk数据报文。</p>
<p>入侵是可以多种多样的，不必拘于一个教程，或者一个工具。</p>
<p>最后，无线网络正大面积覆盖着全世界，并走向各家各户，小到自建的无线基站，大到移动联通的CMCC和WLAN，使越来越多的人处于同一个局域网，而与大家同在一个局域网内的黑客们，便成为了隐秘在无线网络中窥探所有人的幽灵。</p>
<p>(YY一下，刚看完幽灵那个电视剧，穿帮镜头挺多的，引用下这两个字儿吧)</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/安全/">安全</a></li></span><span class="breadcrumb"><li><a href="/categories/安全/">安全</a></li><li><a href="/categories/安全/无线/">无线</a></li></span></span> | <span class="tags">Tagged <a href="/tags/安全/" class="label label-primary">安全</a><a href="/tags/无线/" class="label label-success">无线</a></span> | <span class="time">recent updated:<time title="2014-03-30 12:55:37"datetime="2014-03-30 12:55:37"> mar. 30 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-安全-无线--浅析无线网络数据窥探技术-FreebuFCOM" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/83/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/81/">81</a></li><li><a class="page-number" href="/page/82/">82</a></li><li><a class="page-number" href="/page/83/">83</a></li><li class="active"><li><span class="page-number current">84</span></li><li><a class="page-number" href="/page/85/">85</a></li><li><a class="page-number" href="/page/86/">86</a></li><li><a class="page-number" href="/page/87/">87</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/85/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 17:26:53</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
