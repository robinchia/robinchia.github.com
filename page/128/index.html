
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 128 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--MySQL忘记root密码，解决办法/">MySQL 忘记root密码，解决办法</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--MySQL忘记root密码，解决办法/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="mysql-root-">MySQL 忘记root密码，解决办法</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/blogs/subjects" target="_blank">专栏</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="">更多 ▼</a></p>
<p><a href="http://job.iteye.com/iteye" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://snowolf.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://snowolf.iteye.com/login" target="_blank">登录</a> <a href="http://snowolf.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-snowolf-http-snowolf-iteye-com-"><a href="http://snowolf.iteye.com/" target="_blank">Snowolf的意境空间！</a></h1>
<ul>
<li><a href="http://snowolf.iteye.com/" target="_blank"><strong>博客</strong></a></li>
<li><a href="http://snowolf.iteye.com/weibo" target="_blank">微博</a></li>
<li><a href="http://snowolf.iteye.com/album" target="_blank">相册</a></li>
<li><a href="http://snowolf.iteye.com/link" target="_blank">收藏</a></li>
<li><a href="http://snowolf.iteye.com/blog/guest_book" target="_blank">留言</a></li>
<li><a href="http://snowolf.iteye.com/blog/profile" target="_blank">关于我</a></li>
</ul>
<h3 id="-mysql-root-"><a href="">MySQL 忘记root密码，解决办法</a> **</h3>
<p><strong>博客分类：</strong></p>
<ul>
<li><a href="http://snowolf.iteye.com/category/34962" target="_blank">DB／MySQL</a>
<a href="http://www.iteye.com/blogs/tag/mysql" target="_blank">mysql</a><a href="http://www.iteye.com/blogs/tag/root" target="_blank">root</a></li>
</ul>
<p>今天遇到个破问题：用了N久的MySQL要新建数据库，竟然忘记了密码。<img src="" alt=""> 而这个问题居然也很常见！<img src="" alt="">
要修改MySQL的root密码，有两个先决条件：</p>
<ul>
<li>有修改MySQL配置文件的权限</li>
<li>有重启MySQL服务的权限
先修改配置文件：
引用</li>
</ul>
<p>/# vim /etc/my.cnf
[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
/# Default to using old password format for compatibility with mysql 3.x
/# clients (those using the mysqlclient10 compatibility package).
old_passwords=1
/# Disabling symbolic-links is recommended to prevent assorted security risks;
/# to do so, uncomment this line:
/# symbolic-links=0
[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
在<strong>[mysqld]</strong>下增加<strong>skip-grant-tables</strong>，即跳过权限验证。
然后登录MySQL，修改root密码：
引用</p>
<p>/# mysql
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.0.95 Source distribution
Copyright (c) 2000, 2011, Oracle and/or its affiliates. All rights reserved.
Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.
Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.
mysql&gt; use mysql;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A
Database changed
mysql&gt; update user SET Password = password(&#39;<Your Password>&#39;) where user=&#39;root&#39;;
Query OK, 3 rows affected (0.00 sec)
Rows matched: 3  Changed: 3  Warnings: 0
mysql&gt; flush privileges ;
Query OK, 0 rows affected (0.00 sec)
mysql&gt; quit
Bye
然后把刚才修改的配置文件再改回来，最后重启服务：
引用</p>
<p>/# service mysqld restart
停止 MySQL：                                               [确定]
启动 MySQL：                                               [确定]
大功告成！<img src="" alt="">
PS：更果断的办法：
引用</p>
<p>关闭mysqld
命令行执行 mysqld --skip-grant-tables &amp; 无密码登陆！
突然了解了，黑客入侵，就这么简单。。。。<img src="" alt="">
<strong>5</strong>
顶</p>
<p><strong>4</strong>
踩</p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a></p>
<p><a href="http://snowolf.iteye.com/blog/1627343" title="Eclipse+Maven快速生成Web项目，解决部署时Maven lib依赖问题" target="_blank">Eclipse+Maven快速生成Web项目，解决部署 ...</a> | <a href="http://snowolf.iteye.com/blog/1622203" title="Linux环境小问题——Get HostName Error" target="_blank">Linux环境小问题——Get HostName Error</a></p>
<ul>
<li>2012-08-08 18:09</li>
<li>浏览 3165</li>
<li><a href="">评论(4)</a></li>
<li>分类:<a href="http://www.iteye.com/blogs/category/database" target="_blank">数据库</a></li>
<li><a href="http://www.iteye.com/wiki/blog/1625674" target="_blank">相关推荐</a></li>
</ul>
<h3 id="-">评论</h3>
<p><a href=""></a></p>
<p>4 楼 <a href="http://snowolf.iteye.com/" title="snowolf" target="_blank">snowolf</a> 2012-08-09  </p>
<p>dwangel 写道</p>
<p>先关掉mysqld
然后，直接命令行执行 mysqld --skip-grant-tables &amp;就可以了。
不用改配置。
改配置要改过去，还要改回来。
这个果断！！！<img src="" alt="">
3 楼 <a href="http://dwangel.iteye.com/" title="dwangel" target="_blank">dwangel</a> 2012-08-09  </p>
<p>先关掉mysqld
然后，直接命令行执行 mysqld --skip-grant-tables &amp;就可以了。
不用改配置。
改配置要改过去，还要改回来。</p>
<p>2 楼 <a href="http://jinnianshilongnian.iteye.com/" title="jinnianshilongnian" target="_blank">jinnianshilongnian</a> 2012-08-09  </p>
<p><img src="" alt=""> ，哈哈哈
我转载了啊<img src="" alt="">
1 楼 <a href="http://smiky.iteye.com/" title="smiky" target="_blank">smiky</a> 2012-08-09  </p>
<p>其实最简单的办法是找一个安装好了的mysql,其对应安装目录下的系统数据库内的文件全部copy到有问题的mysql下就OK了</p>
<h3 id="-">发表评论</h3>
<p><a href="http://snowolf.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://snowolf.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://snowolf.iteye.com/" target="_blank"><img src="&quot;snowolf的博客: Snowolf的意境空间！&quot;" alt="snowolf的博客"></a></p>
<p>snowolf</p>
<ul>
<li>浏览: 902575 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 北京</li>
<li><img src="" alt=""><h3 id="-http-snowolf-iteye-com-blog-user_visits-">最近访客 <a href="http://snowolf.iteye.com/blog/user_visits" target="_blank">更多访客&gt;&gt;</a></h3>
</li>
</ul>
<p><a href="http://wdr.iteye.com/" target="_blank"><img src="&quot;D_e_人的博客: 醉爱Java&quot;" alt="D_e_人的博客"></a></p>
<p><a href="http://wdr.iteye.com/" title="D_e_人" target="_blank">D<em>e</em>人</a></p>
<p><a href="http://201308215603.iteye.com/" target="_blank"><img src="&quot;华个子的博客: &quot;" alt="华个子的博客"></a></p>
<p><a href="http://201308215603.iteye.com/" title="华个子" target="_blank">华个子</a>
<a href="http://torry-he.iteye.com/" target="_blank"><img src="&quot;torry_he的博客: &quot;" alt="torry_he的博客"></a></p>
<p><a href="http://torry-he.iteye.com/" title="torry_he" target="_blank">torry_he</a></p>
<p><a href="http://cxzucc.iteye.com/" target="_blank"><img src="&quot;cxzucc的博客: &quot;" alt="cxzucc的博客"></a></p>
<p><a href="http://cxzucc.iteye.com/" title="cxzucc" target="_blank">cxzucc</a></p>
<h3 id="-">文章分类</h3>
<ul>
<li><a href="http://snowolf.iteye.com/" target="_blank">全部博客 (161)</a></li>
<li><a href="http://snowolf.iteye.com/category/44718" target="_blank">职场 &amp;&amp; 心情 (22)</a></li>
<li><a href="http://snowolf.iteye.com/category/28520" target="_blank">Java／Basic (17)</a></li>
<li><a href="http://snowolf.iteye.com/category/102898" target="_blank">Java／Compression (7)</a></li>
<li><a href="http://snowolf.iteye.com/category/68576" target="_blank">Java／Security (22)</a></li>
<li><a href="http://snowolf.iteye.com/category/147023" target="_blank">Java／Maven (3)</a></li>
<li><a href="http://snowolf.iteye.com/category/214766" target="_blank">Java／Cache (11)</a></li>
<li><a href="http://snowolf.iteye.com/category/38039" target="_blank">Eclipse (4)</a></li>
<li><a href="http://snowolf.iteye.com/category/28518" target="_blank">Spring (19)</a></li>
<li><a href="http://snowolf.iteye.com/category/39212" target="_blank">ORM／Hibernate (2)</a></li>
<li><a href="http://snowolf.iteye.com/category/36643" target="_blank">ORM／iBatis (3)</a></li>
<li><a href="http://snowolf.iteye.com/category/28851" target="_blank">DB／NoSQL (10)</a></li>
<li><a href="http://snowolf.iteye.com/category/34962" target="_blank">DB／MySQL (7)</a></li>
<li><a href="http://snowolf.iteye.com/category/93301" target="_blank">DB／MS SQL Server (4)</a></li>
<li><a href="http://snowolf.iteye.com/category/64032" target="_blank">OS／Linux (10)</a></li>
<li><a href="http://snowolf.iteye.com/category/124565" target="_blank">OS／Mac (7)</a></li>
<li><a href="http://snowolf.iteye.com/category/67920" target="_blank">C／C++ (4)</a></li>
<li><a href="http://snowolf.iteye.com/category/48004" target="_blank">Server Architecture／Basic (11)</a></li>
<li><a href="http://snowolf.iteye.com/category/64267" target="_blank">Server Architecture／Distributed (17)</a></li>
<li><a href="http://snowolf.iteye.com/category/51869" target="_blank">Moblie／Andriod (2)</a></li>
<li><a href="http://snowolf.iteye.com/category/64109" target="_blank">WebService (3)</a></li>
<li><a href="http://snowolf.iteye.com/category/195003" target="_blank">Objective-C (1)</a></li>
<li><a href="http://snowolf.iteye.com/category/28519" target="_blank">Html (1)</a></li>
<li><a href="http://snowolf.iteye.com/category/68028" target="_blank">设计模式 (1)</a></li>
<li><a href="http://snowolf.iteye.com/category/271868" target="_blank">Scala (0)</a></li>
<li><p><a href="http://snowolf.iteye.com/category/274875" target="_blank">Kafka (1)</a></p>
<h3 id="-">社区版块</h3>
</li>
<li><p><a href="http://snowolf.iteye.com/blog/news" target="_blank">我的资讯</a> (0)</p>
</li>
<li><a href="http://snowolf.iteye.com/blog/post" target="_blank">我的论坛</a> (66)</li>
<li><a href="http://snowolf.iteye.com/blog/answered_problems" target="_blank">我的问答</a> (4)</li>
</ul>
<h3 id="-">存档分类</h3>
<ul>
<li><a href="http://snowolf.iteye.com/blog/monthblog/2013-05" target="_blank">2013-05</a> (2)</li>
<li><a href="http://snowolf.iteye.com/blog/monthblog/2013-04" target="_blank">2013-04</a> (1)</li>
<li><a href="http://snowolf.iteye.com/blog/monthblog/2013-03" target="_blank">2013-03</a> (3)</li>
<li><p><a href="http://snowolf.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">评论排行榜</h3>
</li>
<li><p><a href="http://snowolf.iteye.com/blog/1667104" title="征服 Redis + Jedis + Spring （二）—— 哈希表操作（HMGET HMSET）" target="_blank">征服 Redis + Jedis + Spring （二）—— ...</a></p>
</li>
<li><a href="http://snowolf.iteye.com/blog/1681944" title="MySQL 查询时强制区分大小写" target="_blank">MySQL 查询时强制区分大小写</a></li>
<li><a href="http://snowolf.iteye.com/blog/1679923" title="MySQL 运维笔记（一）—— 终止高负载SQL" target="_blank">MySQL 运维笔记（一）—— 终止高负载SQL</a></li>
<li><a href="http://snowolf.iteye.com/blog/1666908" title="征服 Redis + Jedis + Spring （一）—— 配置&amp;常规操作（GET SET DEL）" target="_blank">征服 Redis + Jedis + Spring （一）—— ...</a></li>
<li><a href="http://snowolf.iteye.com/blog/1748094" title="我的职场生涯（十）——又一个两年" target="_blank">我的职场生涯（十）——又一个两年</a></li>
</ul>
<h3 id="-">最新评论</h3>
<ul>
<li><a href="http://dbh0512.iteye.com/" title="dbh0512" target="_blank">dbh0512</a>： 这样操作只是在缓存中读取吗?项目中是不是只有在海量频繁读取某一 ...
<a href="http://snowolf.iteye.com/blog/1666908#bc2322585" target="_blank">征服 Redis + Jedis + Spring （一）—— 配置&amp;常规操作（GET SET DEL）</a></li>
<li><a href="http://jacy9.iteye.com/" title="愤怒的程序猿" target="_blank">愤怒的程序猿</a>： LZ:keytool错误:java.lang.Exceptio ...
<a href="http://snowolf.iteye.com/blog/397693#bc2322089" target="_blank">Java加密技术（九）——初探SSL</a></li>
<li><a href="http://snowolf.iteye.com/" title="snowolf" target="_blank">snowolf</a>： juwend 写道如果被加密的明文使用String ming ...
<a href="http://snowolf.iteye.com/blog/381767#bc2321550" target="_blank">Java加密技术（四）——非对称加密算法RSA</a></li>
<li><a href="http://simylau.iteye.com/" title="simylau" target="_blank">simylau</a>： water_lang 写道@Autowired      pr ...
<a href="http://snowolf.iteye.com/blog/577989#bc2320738" target="_blank">Spring 注解学习手札（一） 构建简单Web应用</a></li>
<li><a href="http://ifox.iteye.com/" title="ifox" target="_blank">ifox</a>： phrmgb 写道学习了，这些东东有时感觉很偏的，但是特殊的业 ...
<a href="http://snowolf.iteye.com/blog/1329649#bc2319809" target="_blank">Java关键字——transient</a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2012 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]
<img src="http://stat.iteye.com/?url=http%3A%2F%2Fsnowolf.iteye.com%2Fblog%2F1625674&amp;referrer=http%3A%2F%2Fsnowolf.iteye.com%2F%3Fpage%3D2&amp;user_id=" alt=""> <img src="http://dt.tongji.linezing.com/tongji.do?unit_id=1122445&amp;uv_id=15753577192130187469&amp;uv_new=0&amp;cna=&amp;cg=&amp;mid=&amp;mmland=&amp;ade=&amp;adtm=&amp;sttm=&amp;cpa=&amp;ss_id=3627902245&amp;ss_no=4&amp;ec=1&amp;ref=http%3A//snowolf.iteye.com/%3Fpage%3D2&amp;url=http%3A//snowolf.iteye.com/blog/1625674&amp;title=MySQL %u5FD8%u8BB0root%u5BC6%u7801%uFF0C%u89E3%u51B3%u529E%u6CD5 - Snowolf%u7684%u610F%u5883%u7A7A%u95F4%uFF01 - ITeye%u6280%u672F%u7F51%u7AD9&amp;charset=utf-8&amp;domain=iteye.com&amp;hashval=909&amp;filtered=0&amp;app=Microsoft Internet Explorer&amp;agent=Mozilla/5.0 %28compatible%3B MSIE 9.0%3B Windows NT 6.1%3B WOW64%3B Trident/5.0%3B SLCC2%3B .NET CLR 2.0.50727%3B .NET CLR 3.5.30729%3B .NET CLR 3.0.30729%3B Media Center PC 6.0%3B .NET4.0C%3B .NET4.0E%3B InfoPath.3%29&amp;color=24-bit&amp;screen=1600x900&amp;lg=zh-cn&amp;je=1&amp;fv=10.0&amp;st=1377062586&amp;vc=eee3dea2&amp;ut=2&amp;url_id=0&amp;cnu=0.8579118113412903" alt=""><a href="http://tongji.alimama.com/report.html?unit_id=1122445" target="_blank"><img src="" alt="量子统计"></a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--MySQL忘记root密码，解决办法/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--MySQL忘记root密码，解决办法" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-安装--RedHatLinuxAS5Oracle10g安装指南-点点知识小屋-ITeye技术/">RedHat Linux AS 5 Oracle10g安装指南 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-安装--RedHatLinuxAS5Oracle10g安装指南-点点知识小屋-ITeye技术/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="redhat-linux-as-5-oracle10g-iteye-">RedHat Linux AS 5 Oracle10g安装指南 - 点点知识小屋 - ITeye技术网站</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://tsunzhang.iteye.com/blog/651079#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.iteye.com/job" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://tsunzhang.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://tsunzhang.iteye.com/login" target="_blank">登录</a> <a href="http://tsunzhang.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-http-tsunzhang-iteye-com-"><a href="http://tsunzhang.iteye.com/" target="_blank">点点知识小屋</a></h1>
<p>永久域名 <a href="http://tsunzhang.iteye.com/" target="_blank"><a href="http://tsunzhang.iteye.com/">http://tsunzhang.iteye.com/</a></a></p>
<p><a href="http://tsunzhang.iteye.com/blog/652973" title="oracle更改字符集步骤方法" target="_blank">oracle更改字符集步骤方法</a> | <a href="http://tsunzhang.iteye.com/blog/651047" title="Redhat Linux AS4(AS5)下oracle10g自启动脚本设置" target="_blank">Redhat Linux AS4(AS5)下oracle10g自启动 ...</a></p>
<p>2010-04-23</p>
<h3 id="-redhat-linux-as-5-oracle10g-http-tsunzhang-iteye-com-blog-651079-"><a href="http://tsunzhang.iteye.com/blog/651079" target="_blank">RedHat Linux AS 5 Oracle10g安装指南</a> **</h3>
<p><strong>博客分类：</strong></p>
<ul>
<li><a href="http://tsunzhang.iteye.com/category/104329" target="_blank">linux,unix,windows</a>
<a href="http://www.iteye.com/blogs/tag/RedHat" target="_blank">RedHat</a><a href="http://www.iteye.com/blogs/tag/Linux" target="_blank">Linux</a><a href="http://www.iteye.com/blogs/tag/Oracle" target="_blank">Oracle</a><a href="http://www.iteye.com/blogs/tag/GCC" target="_blank">GCC</a><a href="http://www.iteye.com/blogs/tag/SQL%20Server" target="_blank">SQL Server</a>
参数如下两个网址:
<a href="http://www.club.zj.com/viewthread.php?tid=1127180" target="_blank"><a href="http://www.club.zj.com/viewthread.php?tid=1127180">http://www.club.zj.com/viewthread.php?tid=1127180</a></a>
<a href="http://bbs.chinaunix.net/thread-1035512-1-1.html" target="_blank"><a href="http://bbs.chinaunix.net/thread-1035512-1-1.html">http://bbs.chinaunix.net/thread-1035512-1-1.html</a></a>
与网址1为准:
现结合两个网址,写Oracle10g如果在RHEL5下安装:
RHEL5 上 安装 Oracle 10.2.0.1
这两天在Red Hat Enterprise Linux 5 (RHEL5)上安装了Oracle 10g(10.2.0.1)
下载
可以从Oracle的主页上下载:
Oracle Database 10g Release 2 (10.2.0.1) Software
解压文件
解压下载好的文件:
<strong>unzip 10201_database_linux32.zip</strong>
你可以把他解压到一个目录中，例如 &quot;db/Disk1&quot; 或者 &quot;database&quot;.
以root的身份完成下面的工作：
修改内核参数
<strong>增加下面的内容到文件 /etc/sysctl.conf 中:</strong>
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
/# semaphores: semmsl, semmns, semopm, semmni
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
net.core.rmem_default=262144
net.core.rmem_max=262144
net.core.wmem_default=262144
net.core.wmem_max=262144
<strong>运行下面的命令使得内核参数生效:</strong>
/sbin/sysctl -p
<strong>增加下面的内容到文件 /etc/security/limits.conf 文件中:</strong>
/<em> soft nproc 2047
/</em> hard nproc 16384
/<em> soft nofile 1024
/</em> hard nofile 65536
<strong>增加下面的内容到文件 /etc/pam.d/login 中:</strong>
session required /lib/security/pam_limits.so
<strong>因为SELINUX对oracle有影响，所以把secure linux设成无效，编辑文件 /etc/selinux/config :</strong>
SELINUX=disabled
当然你也可以用图形界面下的工具 (系统 &gt; 管理 &gt; 安全级别和防火墙). 选择SELinux页面并且设为无效.
安装
<strong>安装下面的包:</strong>
/# 从RedHat AS5 光盘1
cd /media/cdrom/Server
rpm -Uvh setarch-2/<em>
rpm -Uvh make-3/</em>
rpm -Uvh glibc-2/<em>
rpm -Uvh libaio-0/</em>
cd /
eject
/# 从RedHat AS5 光盘2
cd /media/cdrom/Server
rpm -Uvh compat-libstdc++-33-3/<em>
rpm -Uvh compat-gcc-34-3/</em>
rpm -Uvh compat-gcc-34-c++-3/<em>
rpm -Uvh gcc-4/</em>
rpm -Uvh libXp-1/<em>
cd /
eject
/# 从RedHat AS5 光盘3
cd /media/cdrom/Server
rpm -Uvh openmotif-2/</em>
rpm -Uvh compat-db-4/<em>
cd /
eject
<strong>新增组和用户:</strong>
groupadd oinstall
groupadd dba
groupadd oper
useradd -g oinstall -G dba oracle
passwd oracle
<strong>创建Oracle的安装目录，并把权限付给oracle用户:</strong>
mkdir -p /u01/app/oracle/product/10.2.0/db_1
chown -R oracle.oinstall /u01
<strong>因为oracle 的官方只支持到RHEL4为止，所以要修改版本说明，编辑文件 /etc/redhat-release 把Red Hat Enterprise Linux Server release 5 (Tikanga) 改成版本4，当然oracle安装完成后,要修改回来:</strong>
redhat-4
<strong>登录到oracle 用户并且配置环境变量(增加下面的内容到文件 .bash_profile</strong>
/# Oracle Settings
TMP=/tmp; export TMP
TMPDIR=$TMP; export TMPDIR
ORACLE_BASE=/u01/app/oracle; export ORACLE_BASE
ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1; export ORACLE_HOME
ORACLE_SID=orcl; export ORACLE_SID
ORACLE_TERM=xterm; export ORACLE_TERM
PATH=$PATH:$ORACLE_HOME/bin; export PATH
LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ORACLE_HOME/lib; export LD_LIBRARY_PATH
CLASSPATH=$ORACLE_HOME/JREORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib; export CLASSPATH
if [ $USER = &quot;oracle&quot; ]; then
if [ $SHELL = &quot;/bin/ksh&quot; ]; then
ulimit -p 16384
ulimit -n 65536
else
ulimit -u 16384 -n 65536
fi
fi
<em>*修改/etc/hosts.conf</em></em>
把127.0.0.1改为具体的ip地址,如(192.168.5.253)，注意最好去掉那些无用的，格式就是</li>
</ul>
<p>ip地址   主机名   localhost</p>
<p><strong>特殊处理,如果没有下面这些步骤,oracle在安装时,可能出现问题</strong>
/#vi /etc/inittab
把 id:5:initdefault: 修改为 id:3:initdefault 等oracle安装完成后,可以修改回来
/#reboot(重启)
在文本模式下 用root登录
/# startx
/# xhost +
/# su - oracle
$ export DISPLAY=&quot;192.168.1.253:0.0&quot;
$ export LANG=en_US
$ cd /tmp/10201_database_linux32/databases
$ ./runInstaller
<strong>安装时要注意:在安装到最后处理sqlplus时,系统会要求切换用户root上,执行两相script.</strong>
<strong>备注:</strong>
1。为了让其他计算机能够访问，必须把下面端口打开，端口1521(用于连接数据库)，端口1158(如果要用浏览器访问enterprise managment)，端口5560(如果要用浏览器访问isqlplus)。你可以用图形界面下的工具 (系统 &gt; 管理 &gt; 安全级别和防火墙). 选择防火墙页面，并且增加上面的端口。
2。如果想开机时自动启动oracle的话，还需另外配置自动启动的脚本。
<strong>启动oracle</strong></p>
<p>su oracle</p>
<p>cd /u01/app/oracle/product/10.2.0/db_1/bin
1.调用./lsnrctl service(可以查看当前监听器服务情况)
2.调用./lsnrctl start(启动监听器),如想停用则lsnrctl stop
判断监听器服务是否好用,可以使用./tnsping ip地址.如果不能正常结束,则说明监听有问题.
3.调用./sqlplus &quot;/as sysdba&quot;
4.start 开启数据库.
<strong>自动启动oracle</strong>
1.修改了/etc/oratab 将N改为Y
2.在su - oracle 主目录下 编辑 vi .bash_profile
修改oracle_home
oracle_sid
3.修改/etc/rc.local
su - oracle -c &#39;lsnrctl start&#39;
su - oracle -c &#39;dbstart&#39;
修改ORACLE_HOME/bin下面的dbstart 修改oratab=/etc/oratab
/etc下面没有oratab文件的话</p>
<p><strong>关于数据库删除重新安装的问题</strong>
把ORACLE安装目录删除及/etc/ora/<em>./</em>删除就行了</p>
<p><strong>关于oracle database备份</strong>
(1)vi bachupDb.sh
/#!/bin/sh
/#oracle用户下
/#crontab -e 增加 &quot;35 4 /<em> /</em> /<em> /home/oracle/dbbackup/backupDb.sh&quot;,保存后自动安装
/#或echo &quot;35 4 /</em> /<em> /</em> /home/oracle/dbbackup/backupDb.sh&quot; &gt; backupDb.cron
/#crontab backupDb.cron
/#/#/#/#/#/#/#/#/#/#/#/#/#
/#@tip 修改为本机数据库home目录
export ORACLE<em>HOME=/opt/oracle/product/10g
export PATH=$ORACLE_HOME/bin:$PATH:$HOME/bin
/# 注意字符集必须和数据库的字符集一致，以避免字符集转化失败
export NLS_LANG=AMERICAN_AMERICA.zhs16gbk
/#@tip 125修改为要备份的oracle的ip地址的最后一段
dmpfile=&quot;<code>echo ~/</code>dbbackup/gedb</em><code>date +%w</code>.dmp&quot;
logfile=&quot;<code>echo ~/</code>dbbackup/gedb_<code>date +%w</code>.log&quot;</p>
<p>if [ -w $dmpfile ]
then
  echo &quot;rm -f $dmpfile&quot;
  rm -f &quot;$dmpfile&quot;
fi</p>
<p>/#@tip ip地址修改为要备份的oracle的主机地址
exp USERID=gedb/gedb@10.248.1.5/ge01 file=$dmpfile log=$logfile  owner=gedb grants=y
  (2)copy bachupDb.sh 到slave oracle srever 相应目录,
     chown oracle.oinstall bachupDb.sh
     chmod 744 bachupDb.sh<br>     vi bachupDb.sh 以符合安装情况
(3)以oracle user role
    crontab -e
    35 4 /<em> /</em> /* /home/oracle/dbbackup/backupDb.sh</p>
<ol>
<li>restore oracle backup
su - oracle
imp USERID=gedb/gedb file=gedb_6.dmp log=implogfile  commit=y  grants=y full=y </li>
</ol>
<p>注意：</p>
<p>最好在安装oracle时不要创建数据库，只安装oracle基本系统。系统安装好后用$ORACLE_HOME/bin/dbca,命令创建数据库，创建数据库时我们可以选择针对数据库的各种参数如“字符集”等。</p>
<p>===========================================================================</p>
<p>1.安装JDK
<a href="http://java.sun.com" target="_blank">http://java.sun.com</a>
(1) 下载后的BIN文件可以直接执行
/# chmod 755 jdk-1.6.0_23-linux-i586.rpm.bin
/# ./ jdk-1.6.0_23-linux-i586.rpm.bin
此步完成后，会生成jdk-1.6.0_23-linux-i586.rpm的文件
默认安装到了/usr/java/jdk1.6.0_23
(2) /etc/profile  设置环境变量
增加如下内容：
JAVA_HOME=/usr/java/jdk1.6.0_23
JRE_HOME=/usr/java/jdk1.6.0_23/jre
PATH=$PATH:$JAVA_HOME/bin:JRE_HOME/bin
CLASSPATH=.:$JAVA_HOME/lib/jt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib
export JAVA_HOME JRE_HOME PATH CLASSPATH
按Esc,然后:wq保存退出
使环境变量生效 source /etc/profile
查看:  echo $JAVA_HOME (会显示JDK所在目录)
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
2.检查安装包
make-3.79.1
gcc-3.2.3-34
glibc-2.3.2-95.20
glibc-devel-2.5-12.i386.rpm
glibc-headers-2.5-12.i386.rpm
compat-db-4.0.14-5
compat-gcc-7.3-2.96.128
compat-gcc-c++-7.3-2.96.128 compat-libstdc++-7.3-2.96.128
compat-libstdc++-devel-7.3-2.96.128
libXpm-3.5.5-3.i386.rpm libXp
openmotif21-2.1.30-8 setarch-1.3-1
libgomp-4.1.1-52.el5.i386.rpm
查询所需安装包是否完整
rpm -q gcc make binutils openmotif setarch compat-db compat-gcc compat-gcc-c++ compat-libstdc++ compat-libstdc++-devel libXp
由于缺失的包之间有严格的依赖关系，所以必须按照如下顺序安装缺失的包
rpm -Uvh compat-db-4/</em>
rpm -Uvh libaio-0/<em>
rpm -Uvh compat-libstdc++-33-3/</em>
rpm -Uvh glibc-headers-2.5-12.i386.rpm
rpm -Uvh glibc-devel-2.5-12.i386.rpm
rpm -Uvh compat-gcc-34-3/<em>
rpm -Uvh compat-gcc-34-c++-3/</em>
rpm -Uvh libXp-1/<em>
rpm -Uvh openmotif-2/</em>
rpm -Uvh gcc-4/<em>
rpm -Uvh glibc-2.5-12.i686.rpm
rpm -Uvh libgomp-4.1.1-52.el5.i386.rpm
rpm -Uvh gcc-4.1.1-52.el5.i386.rpm
安装完成后仍然提示部分包没有安装，不过不影响使用
package compat-gcc is not installed
package compat-gcc-c++ is not installed
package compat-libstdc++ is not installed
package compat-libstdc++-devel is not installed
另一种说法：
查询所需安装包是否完整
rpm -q gcc make binutils openmotif setarch libXp
而对于需要安装的包，按如下关键字搜索和安装即可 compat -&gt; libXp -&gt; openmotif 全部安装完毕即可(我是这样做的)
/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
3.增加Oracle安装和使用的用户
(1) 新增组和用户
groupadd oinstall
groupadd dba
groupadd oper
useradd -g oinstall -G dba oracle
passwd oracle
(2) 创建Oracle的安装目录，并把权限付给oracle用户,其实创建用户后就已经有该文件了
mkdir -p /home/oracle/
chown -R oracle:oinstall /home/oracle
chmod -R 775 /home/oracle
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
4.修改配置文件
(1) /etc/sysctl.conf  行末添加以下内容，已有的修改
kernel.shmall = 2097152
kernel.shmmax = 2147483648
kernel.shmmni = 4096
/# semaphors: semmsl, semmns, semopm, semmni
kernel.sem = 250 32000 100 128
fs.file-max = 65536
net.ipv4.ip_local_port_range = 1024 65000
net.core.rmem_default=262144
net.core.rmem_max=262144
net.core.wmem_default=262144
net.core.wmem_max=262144
运行下面的命令使得内核参数生效
/sbin/sysctl -p
(2) /etc/security/limits.conf  行末添加以下内容
/#use for oracle
/</em> soft nproc 2047
/<em> hard nproc 16384
/</em> soft nofile 1024
/<em> hard nofile 65536
(3) /etc/pam.d/login  行末添加以下内容
session required pam_limits.so
(4) /etc/selinux/config
更改 SELINUX=disabled 关闭防火墙，必须的
(5) /etc/redhat-release  Linux版本信息，5不支持Oracle，安装后可以改回去
Red Hat Enterprise Linux AS release 3 (Taroon)
或Red Hat Enterprise Linux AS release 4 (Nahant Update 4)
(6) gedit /etc/profile 就是增加JDK配置的文件，在增加JDK配置后紧接着增加如下内容
if [ $USER = &quot;oracle&quot; ];then
if [ $SHELL = &quot;/bin/ksh&quot; ]; then
ulimit -p 16384
ulimit -n 65536
else
ulimit -u 16384 -n 65536
fi
fi
(6) bash_profile 在创建用户后在用户的目录下有一个.bash_profile(使用Oracle用户)
并在文件中增加如下内容
(ORACLE_BASE是最重要的，他代表Oracle的安装路径)
(在安装时就可以创建数据库，如果安装完毕重启，则再启动监听时无法启动，则要注意ORACLE_HOME在数据库安装后要根据实际路径进行修改)
ORACLE_BASE=/home/oracle/oracle
ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1
ORACLE_SID=CUI
PATH=$PATH:$HOME/bin:$ORACLE_HOME/bin
LD_LIBRARY_PATH=$ORACLE_HOME/lib:/usr/lib
export ORACLE_BASE ORACLE_HOME ORACLE_SID PATH LD_LIBRARY_PATH
/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
5.解压(使用Oracle用户)
unzip 10201_database_linux32.zip -d /tmp/oracle
改权限
chown oracle /tmp/oracle
chmod -R  755 /tmp/oracle
安装
到根目录下：./runInstaller
(如果安装时不创建数据库，可以在Oracle_HOME/bin 下运行 dbca 来创建和管理数据库)
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
6.配置Oracle在Linux下的命令
(1) 修改Rehhat版本信息
/etc/redhat-release 将版本改为原来版本
(2) 启动数据库与监听
/etc/oratab
SID名字:/Oracle/app/product/10.2.0/db_1:N为
oracle:/Oracle/app/product/10.2.0/db_1:Y
$Oracle_HOME/bin/dbstart
把其中的Oracle_HOME_LISTNER=什么东西，注释掉
加上    Oracle_HOME_LISTNER=$Oracle_HOME
修改/增加配置文件，起名字叫oracle,添加下面的script
(如果.bash_profile文件中配置过的话，就把export注销)
===== Script ====
/#!/bin/bash
/#
/# chkconfig: 35 95 1
/# description: init script to start/stop oracle database 10g, TNS listener, EMS
/# match these values to your environment:
export ORACLE_BASE=/u01/app/oracle
export ORACLE_HOME=$ORACLE_BASE/product/10.2.0/db_1
export ORACLE_TERM=xterm
export PATH=/u01/app/oracle/bin:$ORACLE_HOME/bin:$PATH
export ORACLE_SID=oracle
export DISPLAY=localhost:0
export ORACLE_USER=oracle
/# see how we are called:
case $1 in
start)
su - &quot;$ORACLE_USER&quot;&lt;&lt;EOO
lsnrctl start
sqlplus /nolog&lt;&lt;EOS
connect / as sysdba
startup
EOS
emctl start dbconsole
EOO
touch /var/lock/subsys/$scriptname
;;
stop)
su - &quot;$ORACLE_USER&quot;&lt;&lt;EOO
lsnrctl stop
sqlplus /nolog&lt;&lt;EOS
connect / as sysdba
shutdown immediate
EOS
emctl stop dbconsole
EOO
rm -f /var/lock/subsys/scriptname
;;
/</em>)
echo &quot;Usage: $0 {start|stop}&quot;
;;
esac
===========end of script==============
授权
chown root:root /etc/rc.d/init.d/oracle
chmod 755 /etc/rc.d/init.d/oracle
(3) 启动/关闭服务
service oracle start / service oracle stop
(有可能启动会报syntax error: unexpected end of file错)
(这是因为回车的问题,你用vi把它去掉。在windows里，换行用的两个符号，回车符\r换行符\n；在linux下只需一个符号\n就可以了)
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>
附(一):卸载（简单，全是rm）
1)使用SQL/</em>PLUS停止数据库
$ sqlplus /nolog
SQL&gt; connect / as sysdba
SQL&gt; shutdown [immediate]
SQL&gt; exit
2)停止Listener
$ lsnrctl stop
3)停止HTTP服务
$ $ORACLE_HOME/Apache/Apache/bin/apachectl stop
4)用su或者重新登录到root
(1)运行 $ORACLE_HOME/bin/localconfig delete
(2)/# rm -rf $ORACLE_BASE//*
(3)/# rm -f /etc/oraInst.loc /etc/oratab
(4)/# rm -rf /etc/oracle
(5)/# rm -f /etc/inittab.cssd
(6)/# rm -f /usr/local/bin/coraenv
(7)/# rm -f /usr/local/bin/dbhome
(8)/# rm -f /usr/local/bin/oraenv
(9)删除oracle用户和组
userdel –r oracle
groupdel oinstall
groupdel dba
(10)将启动服务删除
chkconfig --del dbora
附(二):正常模式启动和关闭数据库
9i 之后已经没有 svrmgrl 了，所有的管理工作都通过 sqlplus 来完成
启动数据库步骤如下:
注:$ORACLE_HOME为oracle的安装路径
1,以oracle用户登录
su oracle
2,启动TNS监听器
$ORACLE_HOME/bin/lsnrctl start
3,用sqlplus启动数据库
$ORACLE_HOME/bin/sqlplus /nolog
SQL&gt; connect system/change_on_install as sysdba
SQL&gt; startup
出现如下显示，表示Oracle已经成功启动
ORACLE instance started.
Total System Global Area  205520896 bytes
Fixed Size                   778392 bytes
Variable Size              74456936 bytes
Database Buffers          130023424 bytes
Redo Buffers                 262144 bytes
Database mounted.
Database opened.
4,用sqlplus停止数据库
$ORACLE_HOME/bin/sqlplus /nolog
SQL&gt; connect system/change_on_install as sysdba
SQL&gt; shutdown
注：shutdown可加关闭选项,从最温和到最粗暴的行为选项为(shutdown、shutdown transactional、shutdown immediate、shutdown abort)
命令解释如下
shutdown:关闭，等待每个用户退出系统戓被取消后退出关闭数据库
shutdown transactional:事务性关闭，等待每个用户提交戓回退当前的事务，然后oracle取消对话，在所有用户退出系统后执行关闭
shutdown immediate:直接关闭，取消所有用户对话（促使回退），执行正常的关闭程序
shutdown abort:终止关闭，关闭数据库时没有自动检查点戓日志开关
出现如下显示,表示oracle已经停止
Database closed
Database dismounted
ORACLE instance shut down</p>
<ul>
<li><a href="http://dl.iteye.com/topics/download/3a252eec-f68f-38f8-9cb6-9536dae43b54" target="_blank">【原创】Oracle在RHEL4或5下安装指南.pdf</a> (1.2 MB)</li>
<li>下载次数: 57
分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a></li>
</ul>
<p><a href="http://tsunzhang.iteye.com/blog/652973" title="oracle更改字符集步骤方法" target="_blank">oracle更改字符集步骤方法</a> | <a href="http://tsunzhang.iteye.com/blog/651047" title="Redhat Linux AS4(AS5)下oracle10g自启动脚本设置" target="_blank">Redhat Linux AS4(AS5)下oracle10g自启动 ...</a></p>
<ul>
<li>11:18</li>
<li><a href="http://tsunzhang.iteye.com/blog/651079#comments" target="_blank">评论</a> / 浏览 (0 / 608)</li>
<li>分类:<a href="http://www.iteye.com/blogs/category/database" target="_blank">数据库</a></li>
<li><a href="http://www.iteye.com/wiki/blog/651079" target="_blank">相关推荐</a></li>
</ul>
<h3 id="-">评论</h3>
<p><a href=""></a></p>
<h3 id="-">发表评论</h3>
<p><a href="http://tsunzhang.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://tsunzhang.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://tsunzhang.iteye.com/" target="_blank"><img src="&quot;coconut_zhang的博客: 点点知识小屋&quot;" alt="coconut_zhang的博客"></a></p>
<p>coconut_zhang</p>
<ul>
<li>浏览: 56419 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 天津</li>
<li><img src="" alt=""></li>
<li><a href="http://tsunzhang.iteye.com/blog/profile" target="_blank">详细资料</a> <a href="http://tsunzhang.iteye.com/blog/guest_book" target="_blank">留言簿</a></li>
</ul>
<h3 id="-">搜索本博客</h3>
<h3 id="-http-tsunzhang-iteye-com-blog-user_visits-">最近访客 <a href="http://tsunzhang.iteye.com/blog/user_visits" target="_blank">&gt;&gt;更多访客</a></h3>
<p><a href="http://gatesanye.iteye.com/" target="_blank"><img src="&quot;gatesanye的博客: &quot;" alt="gatesanye的博客"></a></p>
<p><a href="http://gatesanye.iteye.com/" target="_blank">gatesanye</a></p>
<p><a href="http://han-zc-126-com.iteye.com/" target="_blank"><img src="&quot;olo的博客: &quot;" alt="olo的博客"></a></p>
<p><a href="http://han-zc-126-com.iteye.com/" target="_blank">olo</a>
<a href="http://baungham.iteye.com/" target="_blank"><img src="&quot;baungham的博客: &quot;" alt="baungham的博客"></a></p>
<p><a href="http://baungham.iteye.com/" target="_blank">baungham</a></p>
<p><a href="http://a307487540.iteye.com/" target="_blank"><img src="&quot;a307487540的博客: &quot;" alt="a307487540的博客"></a></p>
<p><a href="http://a307487540.iteye.com/" target="_blank">a307487540</a></p>
<h3 id="-">博客分类</h3>
<ul>
<li><a href="http://tsunzhang.iteye.com/" target="_blank">全部博客 (120)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60979" target="_blank">hibernate,struts,spring (9)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60981" target="_blank">java (27)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60982" target="_blank">c,c++,c/# (39)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60983" target="_blank">eclipse,myeclipse,lomboz (2)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60984" target="_blank">tomcat,weblogic (2)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60985" target="_blank">javascript,ajax,web (4)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/60980" target="_blank">oracle,sqlserver,mysql,sql (22)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/104329" target="_blank">linux,unix,windows (11)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/61096" target="_blank">文摘 (2)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/104330" target="_blank">生活 (0)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/183172" target="_blank">javascript (1)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/183173" target="_blank">ajax (1)</a></li>
<li><a href="http://tsunzhang.iteye.com/category/183174" target="_blank">web (1)</a><h3 id="-">我的相册</h3>
</li>
</ul>
<p><a href="http://tsunzhang.iteye.com/album" target="_blank"><img src="" alt=""></a>P1010287
<a href="http://tsunzhang.iteye.com/album" target="_blank">共 10 张</a></p>
<h3 id="-http-tsunzhang-iteye-com-blog-guest_book-">我的留言簿 <a href="http://tsunzhang.iteye.com/blog/guest_book" target="_blank">&gt;&gt;更多留言</a></h3>
<ul>
<li><p>朋友，想向你请教问题，关于这个applet数字签名的，QQ286358399.
-- by <a href="http://tsunzhang.iteye.com/blog/guest_book#35998" target="_blank">fke286358399</a></p>
<h3 id="-">其他分类</h3>
</li>
<li><p><a href="http://tsunzhang.iteye.com/blog/favorite" target="_blank">我的收藏</a> (6)</p>
</li>
<li><a href="http://tsunzhang.iteye.com/blog/code_favorite" target="_blank">我的代码</a> (0)</li>
<li><a href="http://tsunzhang.iteye.com/blog/topic" target="_blank">我的论坛主题帖</a> (1)</li>
<li><a href="http://tsunzhang.iteye.com/blog/post" target="_blank">我的所有论坛帖</a> (217)</li>
<li><a href="http://tsunzhang.iteye.com/blog/article" target="_blank">我的精华良好帖</a> (0)</li>
</ul>
<h3 id="-">最近加入群组</h3>
<h3 id="-">存档</h3>
<ul>
<li><a href="http://tsunzhang.iteye.com/blog/monthblog/2011-10" target="_blank">2011-10</a> (2)</li>
<li><a href="http://tsunzhang.iteye.com/blog/monthblog/2011-07" target="_blank">2011-07</a> (1)</li>
<li><a href="http://tsunzhang.iteye.com/blog/monthblog/2011-05" target="_blank">2011-05</a> (4)</li>
<li><a href="http://tsunzhang.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://tsunzhang.iteye.com/blog/811566" title="Struts2拦截器执行顺序" target="_blank">Struts2拦截器执行顺序</a></li>
<li><a href="http://tsunzhang.iteye.com/blog/1064298" title="关于shell脚本中报 “/bin/sh^M: bad interpreter: 没有那个文件或目录”的解决方法" target="_blank">关于shell脚本中报 “/bin/sh^M: bad int ...</a></li>
<li><a href="http://tsunzhang.iteye.com/rss" target="_blank"><img src="" alt="Rss"></a></li>
<li><a href="http://fusion.google.com/add?feedurl=http://tsunzhang.iteye.com/rss" target="_blank"><img src="" alt="Rss_google"></a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2011 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]</li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/安装/">安装</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/安装/" class="label label-info">安装</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-安装--RedHatLinuxAS5Oracle10g安装指南-点点知识小屋-ITeye技术/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-安装--RedHatLinuxAS5Oracle10g安装指南-点点知识小屋-ITeye技术" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-mysql--MySQL数据库备份的10个教程（10TutorialsToTakeMySQLDataba/">MySQL数据库备份的10个教程（10 Tutorials To Take MySQL Databa</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-mysql--MySQL数据库备份的10个教程（10TutorialsToTakeMySQLDataba/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="mysql-10-10-tutorials-to-take-mysql-database-backup-">MySQL数据库备份的10个教程（10 Tutorials To Take MySQL Database Backup）</h1>
<p>译文如下：</p>
<p>MySQL 是用于交互式网站开发的最为知名的开源数据库系统。如果你使用的 MySQL 数据库，你应当经常有规律地备份数据，以防数据丢失（译注：不管用什么类型的数据都得定期备份）。这里有10个自动或手动备份 MySQL 数据库的方法，应该有适合你的方法。</p>
<p><strong>1.  <a href="http://www.sitepoint.com/backing-up-mysqldump/" target="_blank">Backing Up Using MySQLDump</a> </strong></p>
<p><em>**</em>数据备份，可以使用 MySQL 自带的  MySQLDump 命令来完成。这篇文章给出了多种例子，包括把数据库备份成一个文件，备份到另外一个服务器，还有备份成一个gzip压缩文件。</p>
<p><strong>2. <a href="http://www.php-mysql-tutorial.com/wikis/mysql-tutorials/using-php-to-backup-mysql-databases.aspx" target="_blank">MySQL Export: How to Backup Your MySQL Database?</a></strong></p>
<p>录数据库，可以通过生成一个 dump 文件来备份数据库。这种方法的前提是，服务器上必须有 phpMyAdmin 工具。</p>
<p><strong>3. <a href="http://www.theblog.ca/mysql-email-backup" target="_blank">Automatically Backup Mysql Database to Amazon S3</a></strong></p>
<p>也可以使用Amazon  S3云存储服务来备份数据库。这篇文章中有一个自动脚本，它可以自动备份数据库，并转移至Amazon S3系统。</p>
<p><strong>4. <a href="http://www.cyberciti.biz/tips/how-to-backup-mysql-databases-web-server-files-to-a-ftp-server-automatically.html" target="_blank">How to Backup MySQL Databases, Web Server Files to an FTP Server Automatically</a></strong></p>
<p>如果你有自己的Web服务器或VPS，这里有一个简单方法：使用 FTP 或 NAS备份。首先你需要用 mysqldump 命令备份每个单独数据库，然后写一个脚本，用于 tar 打包，设置 cron ，并创建  FTP 备份。</p>
<p><a href="http://cdn2.jobbole.com/2012/03/mysql.jpg" title="MySQL数据库备份的10个教程" target="_blank"><img src="&quot;MySQL数据库备份的10个教程&quot;" alt="MySQL数据库备份的10个教程"></a></p>
<p><strong>5. <a href="http://www.theblog.ca/mysql-email-backup" target="_blank">How to E-Mail Yourself an Automatic Backup of Your MySQL Database Table with PHP</a></strong></p>
<p>这个方法可以帮助你轻松备份特定的数据表，给你发送一封附有. sql 文件的邮件。 你可以创建一个特殊的邮箱l账号来接收备份文件。</p>
<p><strong>6. <a href="http://www.php-mysql-tutorial.com/wikis/mysql-tutorials/using-php-to-backup-mysql-databases.aspx" target="_blank">How to Backup MySQL Database Using PHP</a></strong></p>
<p>至少分三步：① 在 PHP 文件中执行数据库备份语句；② 在 system()函数中执行 mysqldump 命令；③ 用 phpMyAdmin 做备份</p>
<p><strong>7. <a href="http://davidwalsh.name/backup-database-xml-php" target="_blank">Backup Your Database Into an XML File By Using PHP</a></strong></p>
<p>这个方法使用一段PHP代码片段，以XML格式输出备数据库。虽然 XML 文件不是还原数据表的最便捷格式，但便于读取。</p>
<p><strong>8. <a href="http://www.blogthority.com/87/how-to-backup-mysql-database-without-phpmyadmin/" target="_blank">Backup MySQL Database Through SSH</a></strong></p>
<p>没有 phpMyAdmin 工具也可以备份数据库，SSH可用于备份较大的数据。必须在 cPanel 或 Plesk 控制面板中开启 shell 访问权，然后使用一个诸如 PuTTY 之类的工具远程登录服务器。</p>
<p><strong>9. <a href="http://www.backuphowto.info/how-backup-mysql-database-automatically-linux-users" target="_blank">How to Backup MySQL Database Automatically (For Linux Users)</a></strong></p>
<p>如果你是 Linux 用户，你可以用 cron 自动备份 MySQL 数据库。cron 是 Unix/Linux 系统下的一个定时执行工具。</p>
<p><strong>10. <a href="http://www.cyberciti.biz/faq/ubuntu-linux-mysql-nas-ftp-backup-script/" target="_blank">Ubuntu Linux Backup MySQL Server Shell Script</a></strong></p>
<p>如果你的VPS 操作系统是 Ubuntu 系统，那你可以把整个MySQL服务器数据库备份到FTP服务器中。
来源： <a href="[http://blog.jobbole.com/14012/](http://blog.jobbole.com/14012/)">[http://blog.jobbole.com/14012/](http://blog.jobbole.com/14012/)</a> 原文：</p>
<p>MySQL is the most famous open source database management system for the development of interactive Websites. If you use MySQL Databases in your websites then you should always make backup of your data regularly to recover it in case of loss.</p>
<p>Here are 10 methods to automatically or manually backup MySQL databases. Check them out and pick the one which is best suited to you.
<a href="http://smashinghub.com/wp-content/uploads/2011/08/Backing-Up-MySQL-Database.jpg" target="_blank"><img src="&quot;Backing Up MySQL Database&quot;" alt="Backing Up MySQL Database"></a></p>
<p>Advertisement</p>
<p><strong>1.  <a href="http://www.sitepoint.com/backing-up-mysqldump/" target="_blank">Backing Up Using MySQLDump</a></strong>
Backup of data can be made using mysqldump utility that comes with MySQL. Various examples are given using mysqldump, including the backing up your database to a file, another server, and even a compressed gzip file.</p>
<p><strong>2. <a href="http://www.php-mysql-tutorial.com/wikis/mysql-tutorials/using-php-to-backup-mysql-databases.aspx" target="_blank">MySQL Export: How to Backup Your MySQL Database?</a></strong></p>
<p>You can backup by making a dump file (export / backup) of a database used by your account. To do so you have to head over to phpMyAdmin tool in your cPanel.</p>
<p><strong>3. <a href="http://www.theblog.ca/mysql-email-backup" target="_blank">Automatically Backup Mysql Database to Amazon S3</a></strong></p>
<p>You can also use Amazon S3 to backup your mysql databases. An automated script is present here, which takes backup of a mysql database and then moves it to Amazon S3.</p>
<p><strong>4. <a href="http://www.cyberciti.biz/tips/how-to-backup-mysql-databases-web-server-files-to-a-ftp-server-automatically.html" target="_blank">How to Backup MySQL Databases, Web Server Files to an FTP Server Automatically</a></strong></p>
<p>It is an easy way to backup data for users who run their own web server and MySQL server on a dedicated box or VPS. The best thing when using FTP or NAS backup is the fact that your data is secure. First of all you have to backup every single database with mysqldump command, Automating tasks of backup with tar, Setup a cron job and create FTP backup script.</p>
<p><strong>5. <a href="http://www.theblog.ca/mysql-email-backup" target="_blank">How to E-Mail Yourself an Automatic Backup of Your MySQL Database Table with PHP</a></strong></p>
<p>It will deliver an e-mail to you with an .sql file attached, which lets you to back up particular tables easily. You can even create an e-mail account specifically to get these backup.</p>
<p><strong>6. <a href="http://www.php-mysql-tutorial.com/wikis/mysql-tutorials/using-php-to-backup-mysql-databases.aspx" target="_blank">How to Backup MySQL Database Using PHP</a></strong></p>
<p>Carry out a database backup query from PHP file. In order to restore the backup all you have to do is to run LOAD DATA INFILE query.</p>
<p><strong>7. <a href="http://davidwalsh.name/backup-database-xml-php" target="_blank">Backup Your Database Into an XML File By Using PHP</a></strong></p>
<p>It will display a PHP snippet that outputs your database as XML. XML is not one of the easiest format to restore a table but it is definitely easier to read.</p>
<p><strong>8. <a href="http://www.blogthority.com/87/how-to-backup-mysql-database-without-phpmyadmin/" target="_blank">Backup MySQL Database Through SSH</a></strong></p>
<p>SSH can be used to backup large MySQL data. You will have to enable shell access in your cPanel or Plesk control panel and utilize a tool like PuTTY to log into your server through SSH.</p>
<p><strong>9. <a href="http://www.backuphowto.info/how-backup-mysql-database-automatically-linux-users" target="_blank">How to Backup MySQL Database Automatically (For Linux Users)</a></strong></p>
<p>If you are a Linux user you can backup MySQL Database automatically by using cron. “cron” is a time-based scheduling utility in Unix/Linux OS.</p>
<p><strong>10. <a href="http://www.cyberciti.biz/faq/ubuntu-linux-mysql-nas-ftp-backup-script/" target="_blank">Ubuntu Linux Backup MySQL Server Shell Script</a></strong></p>
<p>You can backup all your MySQL server databases to your ftp server, if you have a dedicated VPS server with Ubuntu Linux.</p>
<p>You are welcome to share any more methods in comments below.
来源： <a href="[http://smashinghub.com/10-tutorials-to-take-mysql-database-backup.htm](http://smashinghub.com/10-tutorials-to-take-mysql-database-backup.htm)">[http://smashinghub.com/10-tutorials-to-take-mysql-database-backup.htm](http://smashinghub.com/10-tutorials-to-take-mysql-database-backup.htm)</a> </p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/mysql/">mysql</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/mysql/" class="label label-success">mysql</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-mysql--MySQL数据库备份的10个教程（10TutorialsToTakeMySQLDataba/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-mysql--MySQL数据库备份的10个教程（10TutorialsToTakeMySQLDataba" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-函数--Oracle聚合函数分析函数-小猪的理想-博客频道-CSDNNET/">@Oracle聚合函数 分析函数 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-函数--Oracle聚合函数分析函数-小猪的理想-博客频道-CSDNNET/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-oracle-csdn-net">@Oracle聚合函数 分析函数 - 小猪的理想 - 博客频道 - CSDN.NET</h1>
<p>您还未登录！|<a href="http://passport.csdn.net/UserLogin.aspx" target="_blank">登录</a>|<a href="http://passport.csdn.net/CSDNUserRegister.aspx" target="_blank">注册</a>|<a href="http://passport.csdn.net/help/faq" target="_blank">帮助</a></p>
<ul>
<li><a href="http://www.csdn.net/" target="_blank">CSDN首页</a></li>
<li><a href="http://news.csdn.net/" target="_blank">资讯</a></li>
<li><a href="http://bbs.csdn.net/" target="_blank">论坛</a></li>
<li><a href="http://blog.csdn.net/" target="_blank">博客</a></li>
<li><a href="http://download.csdn.net/" target="_blank">下载</a></li>
<li><a href="http://so.csdn.net/" target="_blank">搜索</a></li>
<li><h2 id="-"><a href="">更多</a></h2>
</li>
<li><p><a href="http://cto.csdn.net/" target="_blank">CTO俱乐部</a></p>
</li>
<li><a href="http://student.csdn.net/" target="_blank">学生大本营</a></li>
<li><a href="http://edu.csdn.net/" target="_blank">培训充电</a></li>
<li><a href="http://mobile.csdn.net/" target="_blank">移动开发</a></li>
<li><a href="http://sd.csdn.net/" target="_blank">软件研发</a></li>
<li><a href="http://cloud.csdn.net/" target="_blank">云计算</a></li>
<li><a href="http://www.programmer.com.cn/" target="_blank">程序员</a></li>
<li><a href="http://tup.csdn.net/" target="_blank">TUP</a></li>
</ul>
<h1 id="-http-blog-csdn-net-nshk-"><a href="http://blog.csdn.net/nshk" target="_blank">小猪的理想</a></h1>
<h2 id="-">桃李春风一杯酒，江湖夜雨十年灯。</h2>
<ul>
<li><a href="http://blog.csdn.net/nshk?viewmode=contents" target="_blank"><img src="" alt="">目录视图</a></li>
<li><a href="http://blog.csdn.net/nshk?viewmode=list" target="_blank"><img src="" alt="">摘要视图</a></li>
<li><a href="http://blog.csdn.net/nshk/rss/list" target="_blank"><img src="" alt="">订阅</a>
<a href="http://blog.csdn.net/blogdevteam/article/details/7161925" target="_blank">2012年4月微软MVP申请开始！</a>                  <a href="http://ad.doubleclick.net/click;h=v2%7C3E84%7C0%7C0%7C%2a%7Cb;247908458;0-0;0;73605427;31-1%7C1;44759227%7C44777015%7C1;;%3fhttp://www.ithaowai.com/cloud?utm_source=CSDN&amp;utm_medium=CSDN_HomePage_news_picture_g01&amp;utm_campaign=CN2011Q4BIZ_Xeon_IT_Center_Promotion" target="_blank">点击了解英特尔云计算</a>            <a href="http://blog.csdn.net/blogdevteam/article/details/7177569" target="_blank">2012年1月当选微软MVP的CSDN会员名单揭晓！</a></li>
</ul>
<h3 id="-oracle-oracle-"><a href="&quot;@Oracle聚合函数/分析函数&quot;">@Oracle聚合函数/分析函数</a></h3>
<p>2008-03-21 10:44 2445人阅读 <a href="http://blog.csdn.net/nshk/article/details/2202088#comments" target="_blank">评论</a>(2) <a href="&quot;收藏&quot;">收藏</a> <a href="http://blog.csdn.net/nshk/article/details/2202088#report" title="举报" target="_blank">举报</a>
参考文献： 《expert one-on-one》、《Oracle 9i reference》
oracle函数分两类：单行函数、多行函数 。多行函数也成为聚合函数、组合函数，参数为数组，数据大小为记录数，这种数组不是普通高级语言的数组，是一种虚拟数组，当记录数大时，会将数据写入硬盘，内存中放的只是影像。
oracle从8.1.6开始提供分析函数，用于计算基于组的某种聚合值。它和聚合函数的不同之处在于每个组返回多行，聚合函数每个组只返回一行。
开窗函数：指定了分析函数工作的数据窗口大小，这个数据大小会随数据行数变化而变化，示例如下：
over（order by salary） 按照salary排序进行累计，order by是个默认的开窗函数
over（partition by deptno）按照部门分区
over（order by salary range between 50 preceding and 150 following）每行对应的数据窗口是之前行幅度值不超过50，之后行幅度值不超过150
over（order by salary rows between 50 preceding and 150 following）每行对应的数据窗口是之前50行，之后150行
over（order by salary rows between unbounded preceding and unbounded following）每行对应的数据窗口是从第一行到最后一行，等效：over（order by salary range between unbounded preceding and unbounded following）
AVG功能描述，用于计算一个组和数据窗口内表达式的平均值。
 sample:select avg(salary) over(partition by manager<em>id order by hire_date rows between 1 preceding and 1 following) as avg_salary from employee.
CORR，返回一对表达式的相关系数。缩写如下：
COVAR_POP(expr1,expr2)/STDDEV_POP(expr1)/<em>STDDEV_POP(expr2))，从统计上讲，相关性是变量之间关联的强度，变量之间的关联意味着一定程度上一个变量的值可以由其他变量值进行预测，返回一个-1~1的数，相关系数给出了关联的强度，0表示不相关。
COVAR_POP，返回一对表达式的总体协方差。
COVAR_SAMP，返回一对表达式的样本协方差。
COUNT，对组内发生的事情进行累计。如果指定/</em>或一些非空常数，count将对所有行计数，如果指定一个表达式，count返回表达式非空赋值的计数，当有相同值出现时，这些相等的值都会被纳入被计算的值；可以使用DISTINCT来记录去掉一组中完全相同的数据后出现的行数。
CUME_DIST，计算一行在组内的相对位置。CUME_DIST总是返回大于0、小于或等于1的数，该数表示该行在N行中的位置。
DENSE_RANK，根据ORDER BY子句中表达式的值，从查询返回的每一行，计算它们与其它行的相对位置。组内的数据按ORDER BY子句排序，然后给每一行赋一个号，从而形成一个序列，该序列从1开始，往后累加。每次ORDER BY表达式的值发生变化时，该序列也随之增加。有同样值的行得到同样的数字序号（认为null时相等的）。密集的序列返回的时没有间隔的数。
FIRST，从DENSE_RANK返回的集合中取出排在最前面的一个值的行（可能多行，因为值可能相等），因此完整的语法需要在开始处加上一个集合函数以从中取出记录。
FIRST_VALUE，返回组中数据窗口的第一个值。
LAG，可以访问结果集中的其它行而不用进行自连接。它允许去处理游标，就好像游标是一个数组一样。在给定组中可参考当前行之前的 行，这样就可以从组中与当前行一起选择以前的行。Offset是一个正整数，其默认值为1，若索引超出窗口的范围，就返回默认值（默认返回的是组中第一 行），其相反的函数是LEAD
LAST，从DENSE_RANK返回的集合中取出排在最后面的一个值的行（可能多行，因为值可能相等），因此完整的语法需要在开始处加上一个集合函数以从中取出记录。
LAST_VALUE，返回组中数据窗口的最后一个值。
LEAD，LEAD与LAG相反，LEAD可以访问组中当前行之后的行。Offset是一个正整数，其默认值为1，若索引超出窗口的范围，就返回默认值（默认返回的是组中第一行）。
MAX，在一个组中的数据窗口中查找表达式的最大值。
MIN，在一个组中的数据窗口中查找表达式的最小值。
NTILE，将一个组分为&quot;表达式&quot;的散列表示，例如，如果表达式=4，则给组中的每一行分配一个数（从1到4），如果组中有20行， 则给前5行分配1，给下5行分配2等等。如果组的基数不能由表达式值平均分开，则对这些行进行分配时，组中就没有任何percentile的行数比其它 percentile的行数超过一行，最低的percentile是那些拥有额外行的percentile。例如，若表达式=4，行数=21，则 percentile=1的有5行，percentile=2的有5行等等。
PERCENT_RANK，和CUME_DIST（累积分配）函数类似，对于一个组中给定的行来说，在计算那行的序号时，先减1，然后除以n-1（n为组中所有的行数）。该函数总是返回0～1（包括1）之间的数。
PERCENTILE_RANK，返回一个与输入的分布百分比值相对应的数据值，分布百分比的计算方法见函数PERCENT_RANK，如果没有正好对应的数据值，就通过下面算法来得到值：
RN = 1+ (P/<em>(N-1)) 其中P是输入的分布百分比值，N是组内的行数
CRN = CEIL(RN) FRN = FLOOR(RN)
if (CRN = FRN = RN) then
(value of expression from row at RN)
else
(CRN - RN) /</em> (value of expression for row at FRN) +
(RN - FRN) /* (value of expression for row at CRN)
注意：本函数与PERCENTILE_DISC的区别在找不到对应的分布值时返回的替代值的计算方法不同。
PERCENTILE_DISC，返回一个与输入的分布百分比值相对应的数据值，分布百分比的计算方法见函数CUME_DIST，如果没有正好对应的数据值，就取大于该分布值的下一个值。
注意：本函数与PERCENTILE_CONT的区别在找不到对应的分布值时返回的替代值的计算方法不同。
RANK，根据ORDER BY子句中表达式的值，从查询返回的每一行，计算它们与其它行的相对位置。组内的数据按ORDER BY子句排序，然后给每一行赋一个号，从而形成一个序列，该序列从1开始，往后累加。每次ORDER BY表达式的值发生变化时，该序列也随之增加。有同样值的行得到同样的数字序号（认为null时相等的）。然而，如果两行的确得到同样的排序，则序数将随 后跳跃。若两行序数为1，则没有序数2，序列将给组中的下一行分配值3，DENSE_RANK则没有任何跳跃。
RATIO_TO_REPORT，该函数计算expression/(sum(expression))的值，它给出相对于总数的百分比，即当前行对sum(expression)的贡献。
REGR</em> (Linear Regression) Functions
功能描述：这些线性回归函数适合最小二乘法回归线，有9个不同的回归函数可使用。
REGR_SLOPE：返回斜率，等于COVAR_POP(expr1, expr2) / VAR_POP(expr2)
REGR_INTERCEPT：返回回归线的y截距，等于
AVG(expr1) - REGR_SLOPE(expr1, expr2) /<em> AVG(expr2)
REGR_COUNT：返回用于填充回归线的非空数字对的数目
REGR_R2：返回回归线的决定系数，计算式为：
If VAR_POP(expr2) = 0 then return NULL
If VAR_POP(expr1) = 0 and VAR_POP(expr2) != 0 then return 1
If VAR_POP(expr1) &gt; 0 and VAR_POP(expr2 != 0 then
return POWER(CORR(expr1,expr),2)
REGR_AVGX：计算回归线的自变量(expr2)的平均值，去掉了空对(expr1, expr2)后，等于AVG(expr2)
REGR_AVGY：计算回归线的应变量(expr1)的平均值，去掉了空对(expr1, expr2)后，等于AVG(expr1)
REGR_SXX： 返回值等于REGR_COUNT(expr1, expr2) /</em> VAR_POP(expr2)
REGR_SYY： 返回值等于REGR_COUNT(expr1, expr2) /<em> VAR_POP(expr1)
REGR_SXY: 返回值等于REGR_COUNT(expr1, expr2) /</em> COVAR_POP(expr1, expr2)
ROW_NUMBER，返回有序组中一行的偏移量，从而可用于按特定标准排序的行号。
STDDEV ，计算当前行关于组的标准偏离（Standard Deviation）。
STDDEV_POP，该函数计算总体标准偏离，并返回总体变量的平方根，其返回值与VAR_POP函数的平方根相同（Standard Deviation－Population）。
STDDEV_SAMP，该函数计算累积样本标准偏离，并返回总体变量的平方根，其返回值与VAR_POP函数的平方根相同（Standard Deviation－Sample）。
SUM，该函数计算组中表达式的累积和。
VAR_POP，（Variance Population）该函数返回非空集合的总体变量（忽略null），VAR_POP进行如下计算：
(SUM(expr2) - SUM(expr2) / COUNT(expr)) / COUNT(expr)。
VAR_SAMP，（Variance Sample）该函数返回非空集合的样本变量（忽略null），VAR_POP进行如下计算：
(SUM(expr/<em>expr)-SUM(expr)/</em>SUM(expr)/COUNT(expr))/(COUNT(expr)-1)。
VARIANCE，该函数返回表达式的变量，Oracle计算该变量如下：
如果表达式中行数为1，则返回0
如果表达式中行数大于1，则返回VAR_SAMP
3月28日补充，关于rollup 和 cube：
group by 语句在基本语法外，还支持rollup 和 cube语句。
ROLLUP(A, B, C)，首先会对(A、B、C)进行GROUP BY，然后对(A、B)进行GROUP BY，然后是(A)进行GROUP BY，最后对全表进行GROUP BY操作。
GROUP BY CUBE(A, B, C)，则首先会对(A、B、C)进行GROUP BY，然后依次是(A、B)，(A、C)，(A)，(B、C)，(B)，(C)，最后对全表进行GROUP BY操作。
GROUPING_ID()可以美化一下效果。</p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"></a><a href="&quot;分享到腾讯微博&quot;"></a></p>
<ul>
<li>上一篇：<a href="http://blog.csdn.net/nshk/article/details/2190862" target="_blank">----单词：pursuit、canonical、两会</a></li>
<li>下一篇：<a href="http://blog.csdn.net/nshk/article/details/2217077" target="_blank">----工作流引擎几种实现 -- Work Flow Application 4</a>
查看评论<a href=""></a></li>
</ul>
<p>2楼 <a href="http://blog.csdn.net/tianlincao" target="_blank">tianlincao</a> 2010-07-01 16:58发表 <a href="http://blog.csdn.net/nshk/article/details/2202088#reply" title="回复" target="_blank">[回复]</a>  <a href="http://blog.csdn.net/nshk/article/details/2202088#quote" title="引用" target="_blank">[引用]</a> <a href="http://blog.csdn.net/nshk/article/details/2202088#report" title="举报" target="_blank">[举报]</a><a href="http://blog.csdn.net/tianlincao" target="_blank"><img src="" alt=""></a>真的写的很好<img src="" alt="">1楼 <a href="http://blog.csdn.net/kid_ren" target="_blank">kid_ren</a> 2010-01-29 10:56发表 <a href="http://blog.csdn.net/nshk/article/details/2202088#reply" title="回复" target="_blank">[回复]</a>  <a href="http://blog.csdn.net/nshk/article/details/2202088#quote" title="引用" target="_blank">[引用]</a> <a href="http://blog.csdn.net/nshk/article/details/2202088#report" title="举报" target="_blank">[举报]</a><a href="http://blog.csdn.net/kid_ren" target="_blank"><img src="" alt=""></a>写的太好了<img src="" alt="">
您还没有登录,请<a href="http://passport.csdn.net/account/login?from=http%3A%2F%2Fblog.csdn.net%2Fnshk%2Farticle%2Fdetails%2F2202088" target="_blank">[登录]</a>或<a href="http://passport.csdn.net/account/register?from=http%3A%2F%2Fblog.csdn.net%2Fnshk%2Farticle%2Fdetails%2F2202088" target="_blank">[注册]</a></p>
<p>/* 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a href=""></a><a href=""></a></p>
<p>个人资料</p>
<p><a href="http://blog.csdn.net/nshk" title="我的博客主页" target="_blank"><img src="" alt=""></a>
nshk</p>
<ul>
<li>访问：4829次</li>
<li>积分：180分</li>
<li><p>排名：千里之外</p>
</li>
<li><p>原创：11篇</p>
</li>
<li>转载：8篇</li>
<li>译文：0篇</li>
<li>评论：2条</li>
</ul>
<p>文章搜索</p>
<p><a href=""></a>
文章存档</p>
<ul>
<li><a href="http://blog.csdn.net/nshk/article/month/2008/04" target="_blank">2008年04月</a>(10)</li>
<li><a href="http://blog.csdn.net/nshk/article/month/2008/03" target="_blank">2008年03月</a>(9)</li>
</ul>
<p>阅读排行</p>
<ul>
<li><a href="&quot;@Oracle聚合函数/分析函数&quot;">@Oracle聚合函数/分析函数</a> (2444)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2219059" title="@FaceBook UML图示说明" target="_blank">@FaceBook UML图示说明</a> (284)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2217077" title="----工作流引擎几种实现 -- Work Flow Application 4" target="_blank">----工作流引擎几种实现 -- Wor...</a> (246)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2343124" title="XML详解----Schema" target="_blank">XML详解----Schema</a> (189)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2343109" title="XML Schema 与 XML DTD的技术比较与分析    " target="_blank">XML Schema 与 XML DTD...</a> (181)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2223007" title="spring框架简介（笔记）" target="_blank">spring框架简介（笔记）</a> (170)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2223369" title="@批处理命令" target="_blank">@批处理命令</a> (168)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2327420" title="@温故知新 之 java时间类" target="_blank">@温故知新 之 java时间类</a> (149)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2218660" title="@google自动翻译的实现" target="_blank">@google自动翻译的实现</a> (109)</li>
<li><p><a href="http://blog.csdn.net/nshk/article/details/2315568" title="@Java反射--侯捷" target="_blank">@Java反射--侯捷</a> (100)
评论排行</p>
</li>
<li><p><a href="&quot;@Oracle聚合函数/分析函数&quot;">@Oracle聚合函数/分析函数</a> (2)</p>
</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2190862" title="----单词：pursuit、canonical、两会" target="_blank">----单词：pursuit、canon...</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2327388" title="----GoF 设计模式概要" target="_blank">----GoF 设计模式概要</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2327420" title="@温故知新 之 java时间类" target="_blank">@温故知新 之 java时间类</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2327547" title="@en java" target="_blank">@en java</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2331115" title="----js牛文" target="_blank">----js牛文</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2334521" title="IPO" target="_blank">IPO</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2334891" title="温故知新之 解码XML和DTD" target="_blank">温故知新之 解码XML和DTD</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2343109" title="XML Schema 与 XML DTD的技术比较与分析    " target="_blank">XML Schema 与 XML DTD...</a> (0)</li>
<li><a href="http://blog.csdn.net/nshk/article/details/2315568" title="@Java反射--侯捷" target="_blank">@Java反射--侯捷</a> (0)</li>
</ul>
<p>推荐文章
最新评论</p>
<ul>
<li><a href="http://blog.csdn.net/nshk/article/details/2202088#comments" target="_blank">@Oracle聚合函数/分析函数</a></li>
</ul>
<p>tianlincao: 真的写的很好</p>
<ul>
<li><a href="http://blog.csdn.net/nshk/article/details/2202088#comments" target="_blank">@Oracle聚合函数/分析函数</a></li>
</ul>
<p>kid_ren: 写的太好了
    <img src="" alt=""> <img src="" alt=""></p>
<p><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a>北京创新乐知信息技术有限公司 版权所有, 京 ICP 证 070598 号世纪乐知(北京)网络技术有限公司 提供技术支持江苏乐知网络技术有限公司 提供商务支持<img src="" alt=""> Email:webmaster@csdn.netCopyright © 1999-2011, CSDN.NET, All Rights Reserved<a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="" alt="GongshangLogo"></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/函数/">函数</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/函数/" class="label label-info">函数</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-函数--Oracle聚合函数分析函数-小猪的理想-博客频道-CSDNNET/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-函数--Oracle聚合函数分析函数-小猪的理想-博客频道-CSDNNET" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-函数--ORACLE中日期和时间函数汇总2/">ORACLE中日期和时间函数汇总 (2)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-函数--ORACLE中日期和时间函数汇总2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-2-">ORACLE中日期和时间函数汇总 (2)</h1>
<p><a href="http://www.cnblogs.com/lizw/" target="_blank">.Net</a>   <a href="http://www.cnblogs.com/" target="_blank"><img src="" alt=""></a> <a href="http://www.cnblogs.com/logout.aspx" target="_blank"><img src="" alt=""></a> 公告</p>
<ul>
<li><a href="http://home.cnblogs.com/lizw/" target="_blank">我的主页</a>  <a href="http://home.cnblogs.com/lizw/detail/" target="_blank">个人资料</a>
<a href="http://home.cnblogs.com/lizw/ing/" target="_blank">我的闪存</a>  <a href="http://space.cnblogs.com/msg/send/ä¸æ¹æ°ç§" target="_blank">发短消息</a>
日历 <a href="&quot;Go to the previous month&quot;">&lt;</a> 2007年4月 <a href="&quot;Go to the next month&quot;">&gt;</a> 日 一 二 三 四 五 六 25 26 27 28 29 30 31 <a href="http://www.cnblogs.com/lizw/archive/2007/4/1.html" target="_blank">1</a> <a href="http://www.cnblogs.com/lizw/archive/2007/4/2.html" target="_blank">2</a> 3 4 5 <a href="http://www.cnblogs.com/lizw/archive/2007/4/6.html" target="_blank">6</a> 7 8 9 10 11 12 <a href="http://www.cnblogs.com/lizw/archive/2007/4/13.html" target="_blank">13</a> 14 <a href="http://www.cnblogs.com/lizw/archive/2007/4/15.html" target="_blank">15</a> 16 17 18 <a href="http://www.cnblogs.com/lizw/archive/2007/4/19.html" target="_blank">19</a> 20 <a href="http://www.cnblogs.com/lizw/archive/2007/4/21.html" target="_blank">21</a> <a href="http://www.cnblogs.com/lizw/archive/2007/4/22.html" target="_blank">22</a> 23 24 25 <a href="http://www.cnblogs.com/lizw/archive/2007/4/26.html" target="_blank">26</a> 27 28 <a href="http://www.cnblogs.com/lizw/archive/2007/4/29.html" target="_blank">29</a> <a href="http://www.cnblogs.com/lizw/archive/2007/4/30.html" target="_blank">30</a> 1 2 3 4 5</li>
</ul>
<p>统计</p>
<ul>
<li>随笔 - 88</li>
<li>文章 - 3</li>
<li>评论 - 10</li>
<li>引用 - 0</li>
</ul>
<h1 id="-">导航</h1>
<ul>
<li><a href="http://www.cnblogs.com/" target="_blank">博客园</a></li>
<li><a href="http://www.cnblogs.com/lizw/" target="_blank">首页</a></li>
<li><a href="http://www.cnblogs.com/lizw/admin/EditPosts.aspx?opt=1" target="_blank">发新随笔</a></li>
<li><a href="http://www.cnblogs.com/EnterMyBlog.aspx?NewArticle=1" target="_blank">发新文章</a></li>
<li><a href="http://space.cnblogs.com/msg/send/ä¸æ¹æ°ç§" target="_blank">联系</a></li>
<li><a href="http://www.cnblogs.com/lizw/rss" target="_blank">订阅</a><a href="http://www.cnblogs.com/lizw/rss" target="_blank"><img src="" alt="订阅"></a></li>
<li><a href="http://www.cnblogs.com/lizw/admin/EditPosts.aspx" target="_blank">管理</a><h3 id="-">搜索</h3>
</li>
</ul>
<h3 id="-">常用链接</h3>
<ul>
<li><a href="http://www.cnblogs.com/lizw/MyPosts.html" target="_blank">我的随笔</a></li>
<li><a href="http://home.cnblogs.com/lizw/" target="_blank">我的空间</a></li>
<li><a href="http://space.cnblogs.com/msg/recent" target="_blank">我的短信</a></li>
<li><a href="http://www.cnblogs.com/lizw/MyComments.html" target="_blank">我的评论</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714015.html#" target="_blank">更多链接</a></li>
<li><a href="http://www.cnblogs.com/lizw/OtherPosts.html" title="我发表过评论的随笔" target="_blank">我的参与</a></li>
<li><a href="http://www.cnblogs.com/lizw/MyNews.html" target="_blank">我的新闻</a></li>
<li><a href="http://www.cnblogs.com/lizw/RecentComments.html" target="_blank">最新评论</a></li>
<li><a href="http://www.cnblogs.com/lizw/tag/" target="_blank">我的标签</a></li>
</ul>
<h1 id="-">随笔档案</h1>
<ul>
<li><a href="http://www.cnblogs.com/lizw/archive/2008/03.html" target="_blank">2008年3月 (1)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/09.html" target="_blank">2007年9月 (6)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/08.html" target="_blank">2007年8月 (7)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/07.html" target="_blank">2007年7月 (6)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/06.html" target="_blank">2007年6月 (17)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/05.html" target="_blank">2007年5月 (13)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04.html" target="_blank">2007年4月 (21)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/03.html" target="_blank">2007年3月 (17)</a></li>
</ul>
<h1 id="-">新闻档案</h1>
<ul>
<li><a href="http://www.cnblogs.com/lizw/news/2007/03.html" target="_blank">2007年3月 (1)</a></li>
</ul>
<h1 id="-">相册</h1>
<ul>
<li><a href="http://www.cnblogs.com/lizw/gallery/88847.html" target="_blank">常见名车标识</a></li>
</ul>
<h3 id="-">积分与排名</h3>
<ul>
<li>积分 - 53936</li>
<li>排名 - 1522</li>
</ul>
<h3 id="-http-www-cnblogs-com-lizw-commentsrss-aspx-">最新评论 <a href="http://www.cnblogs.com/lizw/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/26/729005.html#1514361" target="_blank">1. re: Oracle分析函数RANK(),ROW_NUMBER(),LAG()等的使用方法(转载)</a></li>
<li>LAG 表示 分组排序后 ，组内后面一条记录减前面一条记录的差，第一条可返回 NULL ——&gt;应该是：同一字段的前N行的数据</li>
<li>--guest</li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/06/12/779853.html#1216344" target="_blank">2. re: oracle查看所有函数或存储过程的代码</a></li>
<li>太谢谢了！</li>
<li>--zqf</li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/09/05/883654.html#1074483" target="_blank">3. re: 从Oracle数据库中导出SQL脚本</a></li>
<li>我用了上面的方法，但我导出的内容却只显示了一个字段，这是为什么？以下是显示的结果： SQL&gt; select dbms_metadata.get_ddl(&#39;TABLE&#39;,&#39;BB_ACCOUNT&#39;...</li>
<li>--landril</li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/05/28/763136.html#1036077" target="_blank">4. re: Oracle学习网址及论坛积累</a></li>
<li>dd</li>
<li>--匿名</li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/05/28/763136.html#1036075" target="_blank">5. re: Oracle学习网址及论坛积累</a></li>
<li>所谓Oracel 主键的删除是指 主键的创建 alter table userinfo add constraint user_id_key primary key(id); 上条语句是指，有创建命...</li>
<li>--匿名</li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714015.html" target="_blank">1. ORACLE中日期和时间函数汇总(转载) (14275)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/26/729005.html" target="_blank">2. Oracle分析函数RANK(),ROW_NUMBER(),LAG()等的使用方法(转载)(8217)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/26/729006.html" target="_blank">3. 利用ORACLE的MINUS函数和OVER函数，直接通过视图实现两个记录集的比较。(转载)(6045)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/26/729004.html" target="_blank">4. Oracle统计分析函数集之一(转载)(3729)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/06/12/779853.html" target="_blank">5. oracle查看所有函数或存储过程的代码(3508)</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/09/05/883654.html" target="_blank">1. 从Oracle数据库中导出SQL脚本(2)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/05/28/763136.html" target="_blank">2. Oracle学习网址及论坛积累(2)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/06/12/779853.html" target="_blank">3. oracle查看所有函数或存储过程的代码(1)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/26/729005.html" target="_blank">4. Oracle分析函数RANK(),ROW_NUMBER(),LAG()等的使用方法(转载)(1)</a></li>
<li><a href="http://www.cnblogs.com/lizw/archive/2007/04/26/729004.html" target="_blank">5. Oracle统计分析函数集之一(转载)(1)</a></li>
</ul>
<p> <a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714015.html" target="_blank">ORACLE中日期和时间函数汇总(转载)</a></p>
<p>在oracle中处理日期大全
  TO_DATE格式<br>Day:<br>dd number 12<br>dy abbreviated fri<br>day spelled out friday<br>ddspth spelled out, ordinal twelfth<br>Month:<br>mm number 03<br>mon abbreviated mar<br>month spelled out march<br>Year:<br>yy two digits 98<br>yyyy four digits 1998<br>24小时格式下时间范围为： 0:00:00 - 23:59:59....<br>12小时格式下时间范围为： 1:00:00 - 12:59:59 ....  </p>
<ol>
<li>日期和字符转换函数用法（to_date,to_char）  </li>
<li>select to_char( to_date(222,&#39;J&#39;),&#39;Jsp&#39;) from dual<br>显示Two Hundred Twenty-Two  </li>
<li>求某天是星期几<br>select to_char(to_date(&#39;2002-08-26&#39;,&#39;yyyy-mm-dd&#39;),&#39;day&#39;) from dual;<br>星期一<br>select to_char(to_date(&#39;2002-08-26&#39;,&#39;yyyy-mm-dd&#39;),&#39;day&#39;,&#39;NLS_DATE_LANGUAGE = American&#39;) from dual;<br>monday<br>设置日期语言<br>ALTER SESSION SET NLS_DATE_LANGUAGE=&#39;AMERICAN&#39;;<br>也可以这样<br>TO_DATE (&#39;2002-08-26&#39;, &#39;YYYY-mm-dd&#39;, &#39;NLS_DATE_LANGUAGE = American&#39;)  </li>
<li>两个日期间的天数<br>select floor(sysdate - to_date(&#39;20020405&#39;,&#39;yyyymmdd&#39;)) from dual;  </li>
<li>时间为null的用法<br>select id, active_date from table1<br>UNION<br>select 1, TO_DATE(null) from dual;<br>注意要用TO_DATE(null)  </li>
<li>a_date between to_date(&#39;20011201&#39;,&#39;yyyymmdd&#39;) and to_date(&#39;20011231&#39;,&#39;yyyymmdd&#39;)<br>那么12月31号中午12点之后和12月1号的12点之前是不包含在这个范围之内的。<br>所以，当时间需要精确的时候，觉得to_char还是必要的  </li>
<li>日期格式冲突问题<br>输入的格式要看你安装的ORACLE字符集的类型, 比如: US7ASCII, date格式的类型就是: &#39;01-Jan-01&#39;<br>alter system set NLS_DATE_LANGUAGE = American<br>alter session set NLS_DATE_LANGUAGE = American<br>或者在to_date中写<br>select to_char(to_date(&#39;2002-08-26&#39;,&#39;yyyy-mm-dd&#39;),&#39;day&#39;,&#39;NLS_DATE_LANGUAGE = American&#39;) from dual;<br>注意我这只是举了NLS_DATE_LANGUAGE，当然还有很多，<br>可查看<br>select /<em> from nls_session_parameters<br>select /</em> from V$NLS_PARAMETERS  </li>
<li>select count(/*)<br>from ( select rownum-1 rnum<br>from all_objects<br>where rownum &lt;= to_date(&#39;2002-02-28&#39;,&#39;yyyy-mm-dd&#39;) - to_date(&#39;2002-<br>02-01&#39;,&#39;yyyy-mm-dd&#39;)+1<br>)<br>where to_char( to_date(&#39;2002-02-01&#39;,&#39;yyyy-mm-dd&#39;)+rnum-1, &#39;D&#39; )<br>not<br>in ( &#39;1&#39;, &#39;7&#39; )<br>查找2002-02-28至2002-02-01间除星期一和七的天数<br>在前后分别调用DBMS_UTILITY.GET_TIME, 让后将结果相减(得到的是1/100秒, 而不是毫秒).  </li>
<li>select months_between(to_date(&#39;01-31-1999&#39;,&#39;MM-DD-YYYY&#39;),<br>to_date(&#39;12-31-1998&#39;,&#39;MM-DD-YYYY&#39;)) &quot;MONTHS&quot; FROM DUAL;<br>1<br>select months_between(to_date(&#39;02-01-1999&#39;,&#39;MM-DD-YYYY&#39;),<br>to_date(&#39;12-31-1998&#39;,&#39;MM-DD-YYYY&#39;)) &quot;MONTHS&quot; FROM DUAL;<br>1.03225806451613  </li>
<li>Next_day的用法<br>Next_day(date, day)<br>Monday-Sunday, for format code DAY<br>Mon-Sun, for format code DY<br>1-7, for format code D<br>11<br>select to_char(sysdate,&#39;hh:mi:ss&#39;) TIME from all_objects<br>注意：第一条记录的TIME 与最后一行是一样的<br>可以建立一个函数来处理这个问题<br>create or replace function sys_date return date is<br>begin<br>return sysdate;<br>end;<br>select to_char(sys_date,&#39;hh:mi:ss&#39;) from all_objects;  </li>
<li>获得小时数<br>SELECT EXTRACT(HOUR FROM TIMESTAMP &#39;2001-02-16 2:38:40&#39;) from offer<br>SQL&gt; select sysdate ,to_char(sysdate,&#39;hh&#39;) from dual;<br>SYSDATE TO_CHAR(SYSDATE,&#39;HH&#39;)  </li>
</ol>
<hr>
<p>2003-10-13 19:35:21 07<br>SQL&gt; select sysdate ,to_char(sysdate,&#39;hh24&#39;) from dual;<br>SYSDATE TO_CHAR(SYSDATE,&#39;HH24&#39;)  </p>
<hr>
<p>2003-10-13 19:35:21 19<br>获取年月日与此类似  </p>
<ol>
<li>年月日的处理<br>select older_date,<br>newer_date,<br>years,<br>months,<br>abs(<br>trunc(<br>newer_date-<br>add_months( older_date,years/*12+months )<br>)<br>) days<br>from ( select<br>trunc(months_between( newer_date, older_date )/12) YEARS,<br>mod(trunc(months_between( newer_date, older_date )),<br>12 ) MONTHS,<br>newer_date,<br>older_date<br>from ( select hiredate older_date,<br>add_months(hiredate,rownum)+rownum newer_date<br>from emp )<br>)  </li>
<li>处理月份天数不定的办法<br>select to_char(add_months(last_day(sysdate) +1, -2), &#39;yyyymmdd&#39;),last_day(sysdate) from dual  </li>
<li>找出今年的天数<br>select add_months(trunc(sysdate,&#39;year&#39;), 12) - trunc(sysdate,&#39;year&#39;) from dual<br>闰年的处理方法<br>to_char( last_day( to_date(&#39;02&#39; || :year,&#39;mmyyyy&#39;) ), &#39;dd&#39; )<br>如果是28就不是闰年  </li>
<li>yyyy与rrrr的区别<br>&#39;YYYY99 TO_C  </li>
</ol>
<hr>
<p>yyyy 99 0099<br>rrrr 99 1999<br>yyyy 01 0001<br>rrrr 01 2001<br>18.不同时区的处理<br>select to_char( NEW_TIME( sysdate, &#39;GMT&#39;,&#39;EST&#39;), &#39;dd/mm/yyyy hh:mi:ss&#39;) ,sysdate<br>from dual;  </p>
<ol>
<li>5秒钟一个间隔<br>Select TO_DATE(FLOOR(TO_CHAR(sysdate,&#39;SSSSS&#39;)/300) /* 300,&#39;SSSSS&#39;) ,TO_CHAR(sysdate,&#39;SSSSS&#39;)<br>from dual<br>2002-11-1 9:55:00 35786<br>SSSSS表示5位秒数  </li>
<li>一年的第几天<br>select TO_CHAR(SYSDATE,&#39;DDD&#39;),sysdate from dual<br>310 2002-11-6 10:03:51<br>21.计算小时,分,秒,毫秒<br>select<br>Days,<br>A,<br>TRUNC(A/<em>24) Hours,<br>TRUNC(A/</em>24/<em>60 - 60/</em>TRUNC(A/<em>24)) Minutes,<br>TRUNC(A/</em>24/<em>60/</em>60 - 60/<em>TRUNC(A/</em>24/<em>60)) Seconds,<br>TRUNC(A/</em>24/<em>60/</em>60/<em>100 - 100/</em>TRUNC(A/<em>24/</em>60/<em>60)) mSeconds<br>from<br>(<br>select<br>trunc(sysdate) Days,<br>sysdate - trunc(sysdate) A<br>from dual<br>)<br>select /</em> from tabname<br>order by decode(mode,&#39;FIFO&#39;,1,-1)/*to_char(rq,&#39;yyyymmddhh24miss&#39;);<br>//<br>floor((date2-date1) /365) 作为年<br>floor((date2-date1, 365) /30) 作为月<br>mod(mod(date2-date1, 365), 30)作为日.<br>23.next_day函数<br>next_day(sysdate,6)是从当前开始下一个星期五。后面的数字是从星期日开始算起。<br>1 2 3 4 5 6 7<br>日 一 二 三 四 五 六</li>
</ol>
<p><strong>oracle中有很多关于日期的函数
</strong>在oracle中有很多关于日期的函数，如：
1、add_months()用于从一个日期值增加或减少一些月份
date_value:=add_months(date_value,number_of_months)
例：
SQL&gt; select add_months(sysdate,12) &quot;Next Year&quot; from dual;</p>
<h2 id="next-year">Next Year</h2>
<p>13-11月-04
SQL&gt; select add_months(sysdate,112) &quot;Last Year&quot; from dual;</p>
<h2 id="last-year">Last Year</h2>
<p>13-3月 -13
SQL&gt;
2、current_date()返回当前会放时区中的当前日期
date_value:=current_date
SQL&gt; column sessiontimezone for a15
SQL&gt; select sessiontimezone,current_date from dual;
SESSIONTIMEZONE CURRENT_DA</p>
<hr>
<p>+08:00 13-11月-03
SQL&gt; alter session set time_zone=&#39;-11:00&#39;
  2 /
会话已更改。
SQL&gt; select sessiontimezone,current_timestamp from dual;
SESSIONTIMEZONE CURRENT_TIMESTAMP</p>
<hr>
<p>-11:00 12-11月-03 04.59.13.668000 下午 -11:
                00
SQL&gt;
3、current_timestamp()以timestamp with time zone数据类型返回当前会放时区中的当前日期
timestamp_with_time_zone_value:=current_timestamp([timestamp_precision])
SQL&gt; column sessiontimezone for a15
SQL&gt; column current_timestamp format a36
SQL&gt; select sessiontimezone,current_timestamp from dual;
SESSIONTIMEZONE CURRENT_TIMESTAMP</p>
<hr>
<p>+08:00 13-11月-03 11.56.28.160000 上午 +08:
                00
SQL&gt; alter session set time_zone=&#39;-11:00&#39;
  2 /
会话已更改。
SQL&gt; select sessiontimezone,current_timestamp from dual;
SESSIONTIMEZONE CURRENT_TIMESTAMP</p>
<hr>
<p>-11:00 12-11月-03 04.58.00.243000 下午 -11:
                00
SQL&gt;
4、dbtimezone()返回时区
varchar_value:=dbtimezone
SQL&gt; select dbtimezone from dual;</p>
<h2 id="dbtime">DBTIME</h2>
<p>-07:00
SQL&gt;
5、extract()找出日期或间隔值的字段值
date_value:=extract(date_field from [datetime_value|interval_value])
SQL&gt; select extract(month from sysdate) &quot;This Month&quot; from dual;</p>
<h2 id="this-month">This Month</h2>
<pre><code>    11
</code></pre><p>SQL&gt; select extract(year from add_months(sysdate,36)) &quot;3 Years Out&quot; from dual;</p>
<h2 id="3-years-out">3 Years Out</h2>
<pre><code>   2006
</code></pre><p>SQL&gt;
6、last_day()返回包含了日期参数的月份的最后一天的日期
date_value:=last_day(date_value)
SQL&gt; select last_day(date&#39;2000-02-01&#39;) &quot;Leap Yr?&quot; from dual;</p>
<h2 id="leap-yr-">Leap Yr?</h2>
<p>29-2月 -00
SQL&gt; select last_day(sysdate) &quot;Last day of this month&quot; from dual;</p>
<h2 id="last-day-o">Last day o</h2>
<p>30-11月-03
SQL&gt;
7、localtimestamp()返回会话中的日期和时间
timestamp_value:=localtimestamp
SQL&gt; column localtimestamp format a28
SQL&gt; select localtimestamp from dual;</p>
<h2 id="localtimestamp">LOCALTIMESTAMP</h2>
<p>13-11月-03 12.09.15.433000
下午
SQL&gt; select localtimestamp,current_timestamp from dual;
LOCALTIMESTAMP CURRENT_TIMESTAMP</p>
<hr>
<p>13-11月-03 12.09.31.006000 13-11月-03 12.09.31.006000 下午 +08:
下午 00
SQL&gt; alter session set time_zone=&#39;-11:00&#39;;
会话已更改。
SQL&gt; select localtimestamp,to_char(sysdate,&#39;DD-MM-YYYY HH:MI:SS AM&#39;) &quot;SYSDATE&quot; from dual;
LOCALTIMESTAMP SYSDATE</p>
<hr>
<p>12-11月-03 05.11.31.259000 13-11-2003 12:11:31 下午
下午
SQL&gt;
8、months_between()判断两个日期之间的月份数量
number_value:=months_between(date_value,date_value)
SQL&gt; select months_between(sysdate,date&#39;1971-05-18&#39;) from dual;</p>
<h2 id="months_between-sysdate-date-1971-05-18-">MONTHS_BETWEEN(SYSDATE,DATE&#39;1971-05-18&#39;)</h2>
<pre><code>                          389.855143
</code></pre><p>SQL&gt; select months_between(sysdate,date&#39;2001-01-01&#39;) from dual;</p>
<h2 id="months_between-sysdate-date-2001-01-01-">MONTHS_BETWEEN(SYSDATE,DATE&#39;2001-01-01&#39;)</h2>
<pre><code>                          34.4035409
</code></pre><p>SQL&gt;
9、next_day()给定一个日期值，返回由第二个参数指出的日子第一次出现在的日期值（应返回相应日子的名称字符串）</p>
<p><strong>與周相關日期函數
</strong>1.查询某周的第一天
select trunc(decode(ww, 53, to_date(yy || &#39;3112&#39;, &#39;yyyyddmm&#39;), to_date(yy || &#39;-&#39; || to_char(ww /<em> 7), &#39;yyyy-ddd&#39;)), &#39;d&#39;) last_day
from (select substr(&#39;2004-32&#39;, 1, 4) yy, to_number(substr(&#39;2004-32&#39;, 6)) ww
         from dual)
select trunc(to_date(substr(&#39;2003-01&#39;,1,5)||to_char((to_number(substr(&#39;2003-01&#39;,6)))/</em>7),&#39;yyyy-ddd&#39;),&#39;d&#39;)-6 first_day from dual
select min(v_date) from
  (select (to_date(&#39;200201&#39;,&#39;yyyymm&#39;) + rownum) v_date
  from all_tables
  where rownum &lt; 370)
where to_char(v_date,&#39;yyyy-iw&#39;) = &#39;2002-49&#39;
2.查询某周的最后一天
select trunc(decode(ww, 53, to_date(yy || &#39;3112&#39;, &#39;yyyyddmm&#39;), to_date(yy || &#39;-&#39; || to_char(ww /* 7), &#39;yyyy-ddd&#39;)), &#39;d&#39;) - 6 first_day
  from (select substr(&#39;2004-33&#39;, 1, 4) yy, to_number(substr(&#39;2004-33&#39;, 6)) ww
          from dual)</p>
<p>select trunc(to_date(substr(&#39;2003-01&#39;,1,5)||to_char((to_number(substr(&#39;2003-01&#39;,6)))/*7),&#39;yyyy-ddd&#39;),&#39;d&#39;) last_day from dual
select max(v_date) from
  (select (to_date(&#39;200408&#39;,&#39;yyyymm&#39;) + rownum) v_date
  from all_tables
  where rownum &lt; 370)
where to_char(v_date,&#39;yyyy-iw&#39;) = &#39;2004-33&#39;
3.查询某周的日期
select min_date, to_char(min_date,&#39;day&#39;) day from
(select to_date(substr(&#39;2004-33&#39;,1,4)||&#39;001&#39;+rownum-1,&#39;yyyyddd&#39;) min_date
        from all_tables
  where rownum &lt;= decode(mod(to_number(substr(&#39;2004-33&#39;,1,4)),4),0,366,365)<br>  union
  select to_date(substr(&#39;2004-33&#39;,1,4)-1||
         decode(mod(to_number(substr(&#39;2004-33&#39;,1,4))-1,4),0,359,358)+rownum,&#39;yyyyddd&#39;) min_date
        from all_tables<br>          where rownum &lt;= 7
  union
  select to_date(substr(&#39;2004-33&#39;,1,4)+1||&#39;001&#39;+rownum-1,&#39;yyyyddd&#39;) min_date
        from all_tables<br>          where rownum &lt;= 7<br>)
where to_char(min_date,&#39;yyyy-iw&#39;) =&#39;2004-33&#39;</p>
<p><strong>oracle中时间运算
</strong>论坛中常常看到有对oracle中时间运算提问的问题，今天有时间，看了看以前各位兄弟的贴子，整理了一下，并作了个示例，希望会对大家有帮助。
首先感谢ern、eric.li及各版主还有热心的兄弟们
内容如下：
1、oracle支持对日期进行运算
2、日期运算时是以天为单位进行的
3、当需要以分秒等更小的单位算值时，按时间进制进行转换即可
4、进行时间进制转换时注意加括号（见示例中红色括号），否则会出问题
SQL&gt; alter session set nls_date_format=&#39;yyyy-mm-dd hh:mi:ss&#39;;
会话已更改。
SQL&gt; set serverout on
SQL&gt; declare
  2 DateValue date;
  3 begin
  4 select sysdate into DateValue from dual;
  5 dbms_output.put_line(&#39;源时间:&#39;||to_char(DateValue));
  6 dbms_output.put_line(&#39;源时间减1天:&#39;||to_char(DateValue-1));
  7 dbms_output.put_line(&#39;源时间减1天1小时:&#39;||to_char(DateValue-1-1/24));
  8 dbms_output.put_line(&#39;源时间减1天1小时1分:&#39;||to_char(DateValue-1-1/24-1/(24/<em>60)));
  9 dbms_output.put_line(&#39;源时间减1天1小时1分1秒:&#39;||to_char(DateValue-1-1/24-1/(24/</em>60)-1/(24/<em>60/</em>6
0)));
10 end;
11 /
源时间:2003-12-29 11:53:41
源时间减1天:2003-12-28 11:53:41
源时间减1天1小时:2003-12-28 10:53:41
源时间减1天1小时1分:2003-12-28 10:52:41
源时间减1天1小时1分1秒:2003-12-28 10:52:40
PL/SQL 过程已成功完成。
<a href="http://home.cnblogs.com/lizw/" target="_blank">东方新秀</a>
关注 - 0
粉丝 - 0</p>
<p><a href="">关注博主</a></p>
<p>0</p>
<p>0
0</p>
<p>(请您对文章做出评价)</p>
<p><a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714013.html" target="_blank">«</a>上一篇：<a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714013.html" title="发布于2007-04-15 12:05" target="_blank">Ubuntu实践之一</a>
<a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714338.html" target="_blank">»</a>下一篇：<a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714338.html" title="发布于2007-04-15 18:07" target="_blank">使用.NET开发Web应用程序时，数据库访问类定义</a>
posted on 2007-04-15 12:09 <a href="http://www.cnblogs.com/lizw/" target="_blank">东方新秀</a> 阅读(14275) <a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714015.html#commentform" target="_blank">评论(0)</a>  <a href="http://www.cnblogs.com/lizw/admin/EditPosts.aspx?postid=714015" target="_blank">编辑</a> <a href="http://www.cnblogs.com/lizw/archive/2007/04/15/714015.html#" target="_blank">收藏</a><img src="" alt=""></p>
<p>注册用户登录后才能发表评论，请 <a href="http://passport.cnblogs.com/login.aspx?ReturnUrl=http%3a%2f%2fwww.cnblogs.com%2flizw%2farchive%2f2007%2f04%2f15%2f714015.html%3flogin%3d1%23commentform" target="_blank">登录</a> 或 <a href="http://passport.cnblogs.com/register.aspx?ReturnUrl=http%3a%2f%2fwww.cnblogs.com%2flizw%2farchive%2f2007%2f04%2f15%2f714015.html%23Bottom2" target="_blank">注册</a> 。</p>
<p><a href="http://www.cnblogs.com/" target="_blank">返回博客园首页</a></p>
<p><a href="http://a4.yeshj.com/rd/35182/" target="_blank">有道难题开锣头奖8万！</a>
<a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>:
· <a href="http://news.cnblogs.com/n/64532/" target="_blank">.中国域名艰难国际化背后：3千专家曾无一支持</a>
· <a href="http://news.cnblogs.com/n/64531/" target="_blank">科技公司游说费用一览 苹果花费最少</a>
· <a href="http://news.cnblogs.com/n/64530/" target="_blank">谷歌本周I/O大会推云存储服务Google Storage 挑战亚马逊S3</a>
· <a href="http://news.cnblogs.com/n/64529/" target="_blank">Opera+各国国旗：粉丝制作图标秀</a>
· <a href="http://news.cnblogs.com/n/64528/" target="_blank">微软起诉Salesforce 称侵犯其9项专利权</a>
<a href="http://a4.yeshj.com/rd/34138/" target="_blank">每天10分钟，轻松学英语</a>  <a href="http://a4.yeshj.com/rd/35140/" target="_blank">沪江网校</a>
<a href="http://www.feifanit.com.cn/productFlow.htm" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://job.cnblogs.com/" target="_blank">推荐职位</a>:</p>
<p>网站导航：
<a href="http://www.cnblogs.com/" target="_blank">博客园首页</a>  <a href="http://news.cnblogs.com/" target="_blank">IT新闻</a>  <a href="http://home.cnblogs.com/" target="_blank">个人主页</a>  <a href="http://home.cnblogs.com/ing/" target="_blank">闪存</a>  <a href="http://job.cnblogs.com/" target="_blank">程序员招聘</a>  <a href="http://space.cnblogs.com/" target="_blank">社区</a>  <a href="http://space.cnblogs.com/q/" target="_blank">博问</a>
<a href="http://www.china-pub.com/STATIC07/0912/zh_ndcx_091212.asp" target="_blank"><img src="" alt=""></a>
<a href="http://www.china-pub.com/itbook/" target="_blank">China-pub 计算机图书网上专卖店！6.5万品种2-8折！</a>
<a href="http://www.china-pub.com/static07/0901/zh_jueba_090121.asp" target="_blank">China-Pub 计算机绝版图书按需印刷服务</a></p>
<p><strong>在知识库中查看：</strong>
<a href="http://kb.cnblogs.com/a/714015/" target="_blank">ORACLE中日期和时间函数汇总(转载)</a>
  <a href="http://www.cnblogs.com/" target="_blank"><img src="" alt=""></a> Copyright © 东方新秀 Powered by: <a href="http://www.cnblogs.com/" target="_blank">博客园</a> 模板提供：<a href="http://blog.hjenglish.com/" target="_blank">沪江博客</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/函数/">函数</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/函数/" class="label label-info">函数</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-函数--ORACLE中日期和时间函数汇总2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-函数--ORACLE中日期和时间函数汇总2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/127/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/125/">125</a></li><li><a class="page-number" href="/page/126/">126</a></li><li><a class="page-number" href="/page/127/">127</a></li><li class="active"><li><span class="page-number current">128</span></li><li><a class="page-number" href="/page/129/">129</a></li><li><a class="page-number" href="/page/130/">130</a></li><li><a class="page-number" href="/page/131/">131</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/129/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 16:01:37</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
