
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 65 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_多线程-内存--深入理解Java内存模型（七）——总结/">深入理解Java内存模型（七）——总结</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:41.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_多线程-内存--深入理解Java内存模型（七）——总结/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-java-">深入理解Java内存模型（七）——总结</h1>
<h3 id="-">分享到</h3>
<ul>
<li><a href="">一键分享</a></li>
<li><a href="">QQ空间</a></li>
<li><a href="">新浪微博</a></li>
<li><a href="">百度搜藏</a></li>
<li><a href="">人人网</a></li>
<li><a href="">腾讯微博</a></li>
<li><a href="">百度相册</a></li>
<li><a href="">开心网</a></li>
<li><a href="">腾讯朋友</a></li>
<li><a href="">百度贴吧</a></li>
<li><a href="">豆瓣网</a></li>
<li><a href="">搜狐微博</a></li>
<li><a href="">百度新首页</a></li>
<li><a href="">QQ好友</a></li>
<li><a href="">和讯微博</a></li>
<li><a href="">更多...</a></li>
</ul>
<p><a href="">百度分享</a></p>
<ul>
<li><a href="http://www.infoq.com/cn/aboutus" title="关于我们" target="_blank">关于我们</a></li>
<li><p><a href="http://www.infoq.com/cn/contribute" title="让大家在InfoQ上听见你的声音" target="_blank">让大家在InfoQ上听见你的声音</a></p>
</li>
<li><p>欢迎关注我们的：</p>
</li>
<li><a href="http://e.weibo.com/infoqchina" target="_blank"><img src="" alt=""></a></li>
<li><a href="http://www.infoq.com/cn/news/2013/02/infoq-wechat" target="_blank"><img src="" alt=""></a></li>
<li><a href="http://www.infoq.com/cn/rss/rss.action?token=AjlwmaWcwi5ejkcT6GcRk1pCqJ4K7ocs" target="_blank"><img src="" alt=""></a></li>
</ul>
<p>促进软件开发领域知识与创新的传播</p>
<p><a href="&quot;Login&quot;">登录</a>
<a href="http://www.infoq.com/cn/" target="_blank"><img src="" alt=""></a></p>
<ul>
<li><a href="http://www.infoq.com/" target="_blank">En</a> |</li>
<li><a href="&quot;InfoQ China&quot;">中文</a> |</li>
<li><a href="http://www.infoq.com/jp/" target="_blank">日本</a> |</li>
<li><a href="http://www.infoq.com/fr/" target="_blank">Fr</a> |</li>
<li><a href="http://www.infoq.com/br/" target="_blank">Br</a></li>
</ul>
<p>164,153 六月 独立访问用户</p>
<ul>
<li><p><a href="http://www.infoq.com/cn/development/" title="Development" target="_blank">语言 &amp; 开发</a></p>
</li>
<li><p><a href="http://www.infoq.com/cn/java/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Java" target="_blank">Java</a></p>
</li>
<li><a href="http://www.infoq.com/cn/dotnet/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title=".Net" target="_blank">.Net</a></li>
<li><a href="http://www.infoq.com/cn/cloud-computing/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="云计算" target="_blank">云计算</a></li>
<li><a href="http://www.infoq.com/cn/mobile/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="移动" target="_blank">移动</a></li>
<li><a href="http://www.infoq.com/cn/HTML5Topic/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="HTML 5" target="_blank">HTML 5</a></li>
<li><a href="http://www.infoq.com/cn/javascript/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="JavaScript" target="_blank">JavaScript</a></li>
<li><a href="http://www.infoq.com/cn/ruby/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Ruby" target="_blank">Ruby</a></li>
<li><a href="http://www.infoq.com/cn/dsl/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="DSLs" target="_blank">DSLs</a></li>
<li><a href="http://www.infoq.com/cn/python/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Python" target="_blank">Python</a></li>
<li><a href="http://www.infoq.com/cn/Topic_PHP/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="PHP" target="_blank">PHP</a></li>
<li><a href="http://www.infoq.com/cn/PaaS/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="PaaS" target="_blank">PaaS</a></li>
</ul>
<h2 id="-">特别专题语言 &amp; 开发</h2>
<h3 id="-juergen-fesslmeier-javascript-http-www-infoq-com-cn-interviews-end-to-end-javascript-"><a href="http://www.infoq.com/cn/interviews/end-to-end-javascript" target="_blank">Juergen Fesslmeier谈端到端的JavaScript开发</a></h3>
<p><img src="" alt=""> Juergen谈论了使用JavaScript进行端对端开发的好处和开发团队可能遇见的挑战。他还谈到了Wakanda Studio以及如何仅用JavaScript通过它来开发复杂的应用程序。
<a href="http://www.infoq.com/cn/development/" target="_blank">浏览所有<strong>语言 &amp; 开发</strong></a></p>
<ul>
<li><p><a href="http://www.infoq.com/cn/architecture-design/" title="Architecture &amp; Design" target="_blank">架构 &amp; 设计</a></p>
</li>
<li><p><a href="http://www.infoq.com/cn/Modeling/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="建模" target="_blank">建模</a></p>
</li>
<li><a href="http://www.infoq.com/cn/performance-scalability/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="性能和可伸缩性" target="_blank">性能和可伸缩性</a></li>
<li><a href="http://www.infoq.com/cn/domain-driven-design/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="领域驱动设计" target="_blank">领域驱动设计</a></li>
<li><a href="http://www.infoq.com/cn/AOP/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="AOP" target="_blank">AOP</a></li>
<li><a href="http://www.infoq.com/cn/DesignPattern/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="设计模式" target="_blank">设计模式</a></li>
<li><a href="http://www.infoq.com/cn/Security/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="安全" target="_blank">安全</a></li>
<li><a href="http://www.infoq.com/cn/cloud-computing/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="云计算" target="_blank">云计算</a></li>
<li><a href="http://www.infoq.com/cn/soa_platforms/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="SOA" target="_blank">SOA</a></li>
</ul>
<h2 id="-">特别专题架构 &amp; 设计</h2>
<h3 id="-http-www-infoq-com-cn-articles-design-pattern-automation-"><a href="http://www.infoq.com/cn/articles/Design-Pattern-Automation" target="_blank">设计模式自动化</a></h3>
<p><img src="" alt=""> 尽管维护每行代码的成本如此高昂，但我们仍然每天都在编写着大量的样板代码。如果我们有更智能的编译器，那其中很大一部分是可以避免的。实际上，多数模板代码只是重复地实现那些我们已理解透彻的设计模式，只要我们教会编译器一些技巧，有一些设计模式完全是可以自动实现的。
<a href="http://www.infoq.com/cn/architecture-design/" target="_blank">浏览所有<strong>架构 &amp; 设计</strong></a></p>
<ul>
<li><p><a href="http://www.infoq.com/cn/process-practices/" title="Process &amp; Practices" target="_blank">过程 &amp; 实践</a></p>
</li>
<li><p><a href="http://www.infoq.com/cn/agile/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Agile" target="_blank">Agile</a></p>
</li>
<li><a href="http://www.infoq.com/cn/Leadership/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="领导能力" target="_blank">领导能力</a></li>
<li><a href="http://www.infoq.com/cn/team-collaboration/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="团队协作" target="_blank">团队协作</a></li>
<li><a href="http://www.infoq.com/cn/agile_techniques/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="敏捷技术" target="_blank">敏捷技术</a></li>
<li><a href="http://www.infoq.com/cn/methodologies/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="方法论" target="_blank">方法论</a></li>
<li><a href="http://www.infoq.com/cn/continuous_integration/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="持续集成" target="_blank">持续集成</a></li>
<li><a href="http://www.infoq.com/cn/lean/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="精益" target="_blank">精益</a></li>
<li><a href="http://www.infoq.com/cn/cust_requirements/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="客户及需求" target="_blank">客户及需求</a></li>
</ul>
<h2 id="-">特别专题过程 &amp; 实践</h2>
<h3 id="-alm-http-www-infoq-com-cn-articles-integrated-alm-"><a href="http://www.infoq.com/cn/articles/Integrated-ALM" target="_blank">成功的根本—集成的ALM工具</a></h3>
<p><img src="" alt=""> 典型的软件交付项目会无数次地去获取需求，并在多个地方描述测试，但它们却与某一特定的构建里的具体内容并不相符合，因此项目往往需要大量分析来获知谁在做什么以及为什么做。Dave West深入研究造成该问题的原因，并致力研究一个整体的、集成的ALM方法。
<a href="http://www.infoq.com/cn/process-practices/" target="_blank">浏览所有<strong>过程 &amp; 实践</strong></a></p>
<ul>
<li><p><a href="http://www.infoq.com/cn/operations-infrastructure/" title="Operations &amp; Infrastructure" target="_blank">运维 &amp; 基础架构</a></p>
</li>
<li><p><a href="http://www.infoq.com/cn/performance-scalability/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="性能和可伸缩性" target="_blank">性能和可伸缩性</a></p>
</li>
<li><a href="http://www.infoq.com/cn/bigdata/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="大数据" target="_blank">大数据</a></li>
<li><a href="http://www.infoq.com/cn/devops/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="DevOps" target="_blank">DevOps</a></li>
<li><a href="http://www.infoq.com/cn/cloud-computing/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="云计算" target="_blank">云计算</a></li>
<li><a href="http://www.infoq.com/cn/virtualization/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="虚拟化" target="_blank">虚拟化</a></li>
<li><a href="http://www.infoq.com/cn/NoSQL/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="NoSQL" target="_blank">NoSQL</a></li>
<li><a href="http://www.infoq.com/cn/ApplicationServers/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="应用服务器" target="_blank">应用服务器</a></li>
<li><a href="http://www.infoq.com/cn/operations/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="运维" target="_blank">运维</a></li>
</ul>
<h2 id="-">特别专题运维 &amp; 基础架构</h2>
<h3 id="-http-www-infoq-com-cn-articles-atdd-by-example-book-"><a href="http://www.infoq.com/cn/articles/atdd-by-example-book" target="_blank">书评：验收测试驱动开发实践指南</a></h3>
<p><img src="" alt=""> 《验收测试驱动开发实践指南》一书的目的是作为一个介绍性使用指南指导那些从零开始的团队成功执行和应用验收测试驱动开发（ATDD）。尽管该书在指出及总结了成功敏捷测试人员应该掌握的多个测试相关实践上做了有效的工作，但该书最终并没有为它的各层读者提供他们所需要的信息。By Manuel Pais
<a href="http://www.infoq.com/cn/operations-infrastructure/" target="_blank">浏览所有<strong>运维 &amp; 基础架构</strong></a></p>
<ul>
<li><p><a href="http://www.infoq.com/cn/enterprise-architect/" title="Enterprise Architecture" target="_blank">企业架构</a></p>
</li>
<li><p><a href="http://www.infoq.com/cn/enterprise-architecture/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="企业架构" target="_blank">企业架构</a></p>
</li>
<li><a href="http://www.infoq.com/cn/bpm/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="业务流程建模" target="_blank">业务流程建模</a></li>
<li><a href="http://www.infoq.com/cn/business_it_alignment/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="业务/IT整合" target="_blank">业务/IT整合</a></li>
<li><a href="http://www.infoq.com/cn/EAI/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Integration (EAI)" target="_blank">Integration (EAI)</a></li>
<li><a href="http://www.infoq.com/cn/Governance/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="治理" target="_blank">治理</a></li>
<li><a href="http://www.infoq.com/cn/web20/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Web 2.0" target="_blank">Web 2.0</a></li>
<li><a href="http://www.infoq.com/cn/soa/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="SOA" target="_blank">SOA</a></li>
</ul>
<h2 id="-">特别专题企业架构</h2>
<h3 id="-http-www-infoq-com-cn-articles-designing-a-world-at-your-fingertips-mobile-user-interfaces-"><a href="http://www.infoq.com/cn/articles/designing-a-world-at-your-fingertips-mobile-user-interfaces" target="_blank">设计指尖上的世界：移动用户界面一瞥</a></h3>
<p><img src="" alt=""> 对任何成功的移动应用来说，用户界面（UI）是至关重要的组成部分。在这篇文章中，Forrest Skull展示了他与人机交互（HCI）研究者们进行的访谈与讨论，他们探讨了移动设备UI方面的原则，以及其它一些正在研究的领域，包括多设备、隐私、安全和语音。这篇文章还描述了开发移动设备用户界面过程中会面临的挑战。
<a href="http://www.infoq.com/cn/enterprise-architect/" target="_blank">浏览所有<strong>企业架构</strong></a>
<a href="http://www.qconshanghai.com/" title="New York 2013"><strong>QCon上海2013</strong>
11月1-3日
上海光大会展中心</a></p>
<ul>
<li><a href="http://www.infoq.com/cn/mobile/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="移动" target="_blank">移动</a></li>
<li><a href="http://www.infoq.com/cn/html-5/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="HTML 5" target="_blank">HTML 5</a></li>
<li><a href="http://www.infoq.com/cn/nodejs/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="Node.js" target="_blank">Node.js</a></li>
<li><a href="http://www.infoq.com/cn/cloud-computing/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="云计算" target="_blank">云计算</a></li>
<li><a href="http://www.infoq.com/cn/bigdata/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="大数据" target="_blank">大数据</a></li>
<li><a href="http://www.infoq.com/cn/operations/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="运维" target="_blank">运维</a></li>
<li><a href="http://www.infoq.com/cn/architect/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="架构师" target="_blank">架构师</a></li>
<li><a href="http://www.infoq.com/cn/baidu_cloud/?utm_source=infoq&amp;utm_medium=header_graybar&amp;utm_campaign=topic_clk" title="百度云" target="_blank">百度云</a>
<a href="http://www.infoq.com/cn/topics" target="_blank">全部话题</a></li>
</ul>
<p><a href="http://www.infoq.com/news/2013/04/infoq-redesign" target="_blank">New UI</a>
您目前处于： <a href="http://www.infoq.com/cn" title="InfoQ首页" target="_blank">InfoQ首页</a> <a href="http://www.infoq.com/cn/articles" title="文章" target="_blank">文章</a> 深入理解Java内存模型（七）——总结</p>
<h1 id="-java-">深入理解Java内存模型（七）——总结</h1>
<p>作者 <a href="http://www.infoq.com/cn/author/%E7%A8%8B%E6%99%93%E6%98%8E" target="_blank">程晓明</a> 发布于 三月 15, 2013 <em>|</em> <a href="">4 评论</a></p>
<ul>
<li><a href="&quot;分享到新浪微博&quot;">新浪微博</a> <a href="&quot;分享到腾讯微博&quot;">腾讯微博</a> <a href="&quot;分享到豆瓣网&quot;">豆瓣网</a> <a href="&quot;分享到Twitter&quot;">Twitter</a> <a href="&quot;分享到Facebook&quot;">Facebook</a> <a href="&quot;分享到linkedin&quot;">linkedin</a> <a href="&quot;分享到邮件分享&quot;">邮件分享</a> 更多 <a href="&quot;累计分享23次&quot;">23</a></li>
<li><a href="">稍后阅读</a></li>
<li><a href="http://www.infoq.com/cn/showbookmarks.action" target="_blank">我的阅读清单</a><h2 id="-">处理器内存模型</h2>
</li>
</ul>
<p>顺序一致性内存模型是一个理论参考模型，JMM和处理器内存模型在设计时通常会把顺序一致性内存模型作为参照。JMM和处理器内存模型在设计时会对顺序一致性模型做一些放松，因为如果完全按照顺序一致性模型来实现处理器和JMM，那么很多的处理器和编译器优化都要被禁止，这对执行性能将会有很大的影响。</p>
<p>根据对不同类型读/写操作组合的执行顺序的放松，可以把常见处理器的内存模型划分为下面几种类型：</p>
<ol>
<li>放松程序中写-读操作的顺序，由此产生了total store ordering内存模型（简称为TSO）。</li>
<li>在前面1的基础上，继续放松程序中写-写操作的顺序，由此产生了partial store order 内存模型（简称为PSO）。</li>
<li>在前面1和2的基础上，继续放松程序中读-写和读-读操作的顺序，由此产生了relaxed memory order内存模型（简称为RMO）和PowerPC内存模型。</li>
</ol>
<p>注意，这里处理器对读/写操作的放松，是以两个操作之间不存在数据依赖性为前提的（因为处理器要遵守as-if-serial语义，处理器不会对存在数据依赖性的两个内存操作做重排序）。</p>
<p>下面的表格展示了常见处理器内存模型的细节特征：
内存模型名称</p>
<p>对应的处理器
相关厂商内容</p>
<h3 id="-javaone-spring-java-ee-6-http-www-infoq-com-infoq-url-action-i-3379-t-f-"><a href="http://www.infoq.com/infoq/url.action?i=3379&amp;t=f" target="_blank">JavaOne上海：迁移Spring应用到Java EE 6</a></h3>
<h3 id="-javaone-http-www-infoq-com-infoq-url-action-i-3380-t-f-"><a href="http://www.infoq.com/infoq/url.action?i=3380&amp;t=f" target="_blank">JavaOne上海：淘宝的鹰眼分布式日志系统</a></h3>
<h3 id="-qcon-2013-http-www-infoq-com-cn-vendorcontent-show-action-vcr-2272-utm_source-infoq-utm_medium-vcr-utm_campaign-vcr_articles_click-"><a href="http://www.infoq.com/cn/vendorcontent/show.action?vcr=2272&amp;utm_source=infoq&amp;utm_medium=VCR&amp;utm_campaign=vcr_articles_click" target="_blank">豆瓣工程副总裁段念确认参与QCon上海2013，担任团队文化专题出品人</a></h3>
<h3 id="-html5-builder-web-http-www-infoq-com-cn-vendorcontent-show-action-vcr-2308-utm_source-infoq-utm_medium-vcr-utm_campaign-vcr_articles_click-"><a href="http://www.infoq.com/cn/vendorcontent/show.action?vcr=2308&amp;utm_source=infoq&amp;utm_medium=VCR&amp;utm_campaign=vcr_articles_click" target="_blank">白皮书下载：用HTML5 Builder构建单一代码库的Web/移动应用</a></h3>
<h3 id="-qcon-20-80-http-www-infoq-com-cn-vendorcontent-show-action-vcr-2311-utm_source-infoq-utm_medium-vcr-utm_campaign-vcr_articles_click-"><a href="http://www.infoq.com/cn/vendorcontent/show.action?vcr=2311&amp;utm_source=infoq&amp;utm_medium=VCR&amp;utm_campaign=vcr_articles_click" target="_blank">首届QCon上海20个专题确认，80余场分享，全面征集演讲主题</a></h3>
<p>相关赞助商
<a href="http://www.infoq.com/infoq/url.action?i=3367&amp;t=f" target="_blank"><img src="" alt=""></a></p>
<p>JavaOne大会独家社区合作，<a href="http://www.infoq.com/infoq/url.action?i=3511&amp;t=f" target="_blank">InfoQ用户享75折购票</a>。 
Store-Load 重排序</p>
<p>Store-Store重排序</p>
<p>Load-Load 和Load-Store重排序</p>
<p>可以更早读取到其它处理器的写</p>
<p>可以更早读取到当前处理器的写 TSO</p>
<p>sparc-TSO</p>
<p>X64</p>
<p>Y</p>
<p>Y PSO</p>
<p>sparc-PSO</p>
<p>Y</p>
<p>Y</p>
<p>Y RMO</p>
<p>ia64</p>
<p>Y</p>
<p>Y</p>
<p>Y</p>
<p>Y PowerPC</p>
<p>PowerPC</p>
<p>Y</p>
<p>Y</p>
<p>Y</p>
<p>Y</p>
<p>Y</p>
<p>在这个表格中，我们可以看到所有处理器内存模型都允许写-读重排序，原因在第一章以说明过：它们都使用了写缓存区，写缓存区可能导致写-读操作重排序。同时，我们可以看到这些处理器内存模型都允许更早读到当前处理器的写，原因同样是因为写缓存区：由于写缓存区仅对当前处理器可见，这个特性导致当前处理器可以比其他处理器先看到临时保存在自己的写缓存区中的写。</p>
<p>上面表格中的各种处理器内存模型，从上到下，模型由强变弱。越是追求性能的处理器，内存模型设计的会越弱。因为这些处理器希望内存模型对它们的束缚越少越好，这样它们就可以做尽可能多的优化来提高性能。</p>
<p>由于常见的处理器内存模型比JMM要弱，java编译器在生成字节码时，会在执行指令序列的适当位置插入内存屏障来限制处理器的重排序。同时，由于各种处理器内存模型的强弱并不相同，为了在不同的处理器平台向程序员展示一个一致的内存模型，JMM在不同的处理器中需要插入的内存屏障的数量和种类也不相同。下图展示了JMM在不同处理器内存模型中需要插入的内存屏障的示意图：</p>
<p><img src="" alt=""></p>
<p>如上图所示，JMM屏蔽了不同处理器内存模型的差异，它在不同的处理器平台之上为java程序员呈现了一个一致的内存模型。</p>
<h2 id="jmm-">JMM，处理器内存模型与顺序一致性内存模型之间的关系</h2>
<p>JMM是一个语言级的内存模型，处理器内存模型是硬件级的内存模型，顺序一致性内存模型是一个理论参考模型。下面是语言内存模型，处理器内存模型和顺序一致性内存模型的强弱对比示意图：</p>
<p><img src="" alt=""></p>
<p>从上图我们可以看出：常见的4种处理器内存模型比常用的3中语言内存模型要弱，处理器内存模型和语言内存模型都比顺序一致性内存模型要弱。同处理器内存模型一样，越是追求执行性能的语言，内存模型设计的会越弱。</p>
<h2 id="jmm-">JMM的设计</h2>
<p>从JMM设计者的角度来说，在设计JMM时，需要考虑两个关键因素：</p>
<ul>
<li>程序员对内存模型的使用。程序员希望内存模型易于理解，易于编程。程序员希望基于一个强内存模型来编写代码。</li>
<li>编译器和处理器对内存模型的实现。编译器和处理器希望内存模型对它们的束缚越少越好，这样它们就可以做尽可能多的优化来提高性能。编译器和处理器希望实现一个弱内存模型。</li>
</ul>
<p>由于这两个因素互相矛盾，所以JSR-133专家组在设计JMM时的核心目标就是找到一个好的平衡点：一方面要为程序员提供足够强的内存可见性保证；另一方面，对编译器和处理器的限制要尽可能的放松。下面让我们看看JSR-133是如何实现这一目标的。</p>
<p>为了具体说明，请看前面提到过的计算圆面积的示例代码：
double pi = 3.14; //A double r = 1.0; //B double area = pi /<em> r /</em> r; //C</p>
<p>上面计算圆的面积的示例代码存在三个happens- before关系：</p>
<ol>
<li>A happens- before B；</li>
<li>B happens- before C；</li>
<li>A happens- before C；</li>
</ol>
<p>由于A happens- before B，happens- before的定义会要求：A操作执行的结果要对B可见，且A操作的执行顺序排在B操作之前。 但是从程序语义的角度来说，对A和B做重排序即不会改变程序的执行结果，也还能提高程序的执行性能（允许这种重排序减少了对编译器和处理器优化的束缚）。也就是说，上面这3个happens- before关系中，虽然2和3是必需要的，但1是不必要的。因此，JMM把happens- before要求禁止的重排序分为了下面两类：</p>
<ul>
<li>会改变程序执行结果的重排序。</li>
<li>不会改变程序执行结果的重排序。</li>
</ul>
<p>JMM对这两种不同性质的重排序，采取了不同的策略：</p>
<ul>
<li>对于会改变程序执行结果的重排序，JMM要求编译器和处理器必须禁止这种重排序。</li>
<li>对于不会改变程序执行结果的重排序，JMM对编译器和处理器不作要求（JMM允许这种重排序）。</li>
</ul>
<p>下面是JMM的设计示意图：</p>
<p><img src="" alt=""></p>
<p>从上图可以看出两点：</p>
<ul>
<li>JMM向程序员提供的happens- before规则能满足程序员的需求。JMM的happens- before规则不但简单易懂，而且也向程序员提供了足够强的内存可见性保证（有些内存可见性保证其实并不一定真实存在，比如上面的A happens- before B）。</li>
<li>JMM对编译器和处理器的束缚已经尽可能的少。从上面的分析我们可以看出，JMM其实是在遵循一个基本原则：只要不改变程序的执行结果（指的是单线程程序和正确同步的多线程程序），编译器和处理器怎么优化都行。比如，如果编译器经过细致的分析后，认定一个锁只会被单个线程访问，那么这个锁可以被消除。再比如，如果编译器经过细致的分析后，认定一个volatile变量仅仅只会被单个线程访问，那么编译器可以把这个volatile变量当作一个普通变量来对待。这些优化既不会改变程序的执行结果，又能提高程序的执行效率。</li>
</ul>
<h2 id="jmm-">JMM的内存可见性保证</h2>
<p>Java程序的内存可见性保证按程序类型可以分为下列三类：</p>
<ol>
<li>单线程程序。单线程程序不会出现内存可见性问题。编译器，runtime和处理器会共同确保单线程程序的执行结果与该程序在顺序一致性模型中的执行结果相同。</li>
<li>正确同步的多线程程序。正确同步的多线程程序的执行将具有顺序一致性（程序的执行结果与该程序在顺序一致性内存模型中的执行结果相同）。这是JMM关注的重点，JMM通过限制编译器和处理器的重排序来为程序员提供内存可见性保证。</li>
<li>未同步/未正确同步的多线程程序。JMM为它们提供了最小安全性保障：线程执行时读取到的值，要么是之前某个线程写入的值，要么是默认值（0，null，false）。</li>
</ol>
<p>下图展示了这三类程序在JMM中与在顺序一致性内存模型中的执行结果的异同：</p>
<p><img src="" alt=""></p>
<p>只要多线程程序是正确同步的，JMM保证该程序在任意的处理器平台上的执行结果，与该程序在顺序一致性内存模型中的执行结果一致。</p>
<h2 id="jsr-133-">JSR-133对旧内存模型的修补</h2>
<p>JSR-133对JDK5之前的旧内存模型的修补主要有两个：</p>
<ul>
<li>增强volatile的内存语义。旧内存模型允许volatile变量与普通变量重排序。JSR-133严格限制volatile变量与普通变量的重排序，使volatile的写-读和锁的释放-获取具有相同的内存语义。</li>
<li>增强final的内存语义。在旧内存模型中，多次读取同一个final变量的值可能会不相同。为此，JSR-133为final增加了两个重排序规则。现在，final具有了初始化安全性。</li>
</ul>
<h2 id="-">参考文献</h2>
<ol>
<li><a href="http://www.amazon.com/Computer-Architecture-Fourth-Quantitative-Approach/dp/0123704901/ref=sr_1_10/102-0116773-7214567?ie=UTF8&amp;s=books&amp;qid=1188797467&amp;sr=1-10" target="_blank">Computer Architecture: A Quantitative Approach, 4th Edition</a></li>
<li><a href="http://www.hpl.hp.com/techreports/Compaq-DEC/WRL-95-7.pdf" target="_blank">Shared memory consistency models: A tutorial</a></li>
<li><a href="http://www.intel.com/content/dam/www/public/us/en/documents/manuals/itanium-architecture-software-developer-rev-2-3-vol-2-manual.pdf" target="_blank">Intel® Itanium® Architecture Software Developer’s Manual Volume 2: System Architecture</a></li>
<li><a href="http://www.amazon.com/Concurrent-Programming-Windows-Joe-Duffy/dp/032143482X/ref=sr_1_1?ie=UTF8&amp;s=books&amp;qid=1262571776&amp;sr=1-1" target="_blank">Concurrent Programming on Windows</a></li>
<li><a href="http://www.cs.umd.edu/users/pugh/java/memoryModel/jsr-133-faq.html" target="_blank">JSR 133 (Java Memory Model) FAQ</a></li>
<li><a href="http://gee.cs.oswego.edu/dl/jmm/cookbook.html" target="_blank">The JSR-133 Cookbook for Compiler Writers</a></li>
<li><a href="http://www.ibm.com/developerworks/java/library/j-jtp03304/index.html" target="_blank">Java theory and practice: Fixing the Java Memory Model, Part 2</a></li>
</ol>
<h2 id="-">关于作者</h2>
<p><strong>程晓明</strong>，Java软件工程师，国家认证的系统分析师、信息项目管理师。专注于并发编程，就职于富士通南大。个人邮箱：<a href="mailto:asst2003@163.com">asst2003@163.com</a>。</p>
<ul>
<li><a href="">Sections</a></li>
<li><a href="http://www.infoq.com/cn/architecture-design" target="_blank"><strong>架构 &amp; 设计</strong></a></li>
<li><a href="http://www.infoq.com/cn/development" target="_blank"><strong>语言 &amp; 开发</strong></a></li>
<li><a href="">Topics</a></li>
<li><a href="http://www.infoq.com/cn/Multi-threading" target="_blank">多线程</a></li>
<li><a href="http://www.infoq.com/cn/memory-model" target="_blank">内存模型</a></li>
<li><a href="http://www.infoq.com/cn/concurrency" target="_blank">并发</a></li>
<li><a href="http://www.infoq.com/cn/java" target="_blank">Java</a></li>
<li><a href="http://www.infoq.com/cn/special-column" target="_blank">专栏</a></li>
</ul>
<p>相关内容</p>
<h3 id="-java-final-http-www-infoq-com-cn-articles-java-memory-model-6-utm_source-infoq-utm_medium-related_content_link-utm_campaign-relatedcontent_articles_clk-"><a href="http://www.infoq.com/cn/articles/java-memory-model-6?utm_source=infoq&amp;utm_medium=related_content_link&amp;utm_campaign=relatedContent_articles_clk" target="_blank">深入理解Java内存模型（六）——final</a></h3>
<h3 id="-java-http-www-infoq-com-cn-articles-java-memory-model-5-utm_source-infoq-utm_medium-related_content_link-utm_campaign-relatedcontent_articles_clk-"><a href="http://www.infoq.com/cn/articles/java-memory-model-5?utm_source=infoq&amp;utm_medium=related_content_link&amp;utm_campaign=relatedContent_articles_clk" target="_blank">深入理解Java内存模型（五）——锁</a></h3>
<h3 id="-java-volatile-http-www-infoq-com-cn-articles-java-memory-model-4-utm_source-infoq-utm_medium-related_content_link-utm_campaign-relatedcontent_articles_clk-"><a href="http://www.infoq.com/cn/articles/java-memory-model-4?utm_source=infoq&amp;utm_medium=related_content_link&amp;utm_campaign=relatedContent_articles_clk" target="_blank">深入理解Java内存模型（四）——volatile</a></h3>
<h3 id="-java-http-www-infoq-com-cn-articles-java-memory-model-3-utm_source-infoq-utm_medium-related_content_link-utm_campaign-relatedcontent_articles_clk-"><a href="http://www.infoq.com/cn/articles/java-memory-model-3?utm_source=infoq&amp;utm_medium=related_content_link&amp;utm_campaign=relatedContent_articles_clk" target="_blank">深入理解Java内存模型（三）——顺序一致性</a></h3>
<h3 id="-java-http-www-infoq-com-cn-articles-java-memory-model-2-utm_source-infoq-utm_medium-related_content_link-utm_campaign-relatedcontent_articles_clk-"><a href="http://www.infoq.com/cn/articles/java-memory-model-2?utm_source=infoq&amp;utm_medium=related_content_link&amp;utm_campaign=relatedContent_articles_clk" target="_blank">深入理解Java内存模型（二）——重排序</a></h3>
<h2 id="-">您好，陌生人！</h2>
<p>您需要 <a href="http://www.infoq.com/reginit.action" target="_blank">注册一个InfoQ账号</a> 或者 <a href="">登录</a> 才能进行评论。在您完成注册后还需要进行一些设置。</p>
<h2 id="-infoq-">获得来自InfoQ的更多体验。 <a href=""></a></h2>
<h3 id="-">告诉我们您的想法</h3>
<p>允许的HTML标签: a,b,br,blockquote,i,li,pre,u,ul,p
当有人回复此评论时请E-mail通知我</p>
<p>社区评论  <a href="">Watch Thread</a></p>
<p><a href=""><strong>看完后有两点疑问，请教一下：</strong>  by Z CS Posted 21/03/2013 07:37</a>
<a href=""><strong>Re: 看完后有两点疑问，请教一下：</strong>  by 程 晓明 Posted 23/03/2013 12:50</a></p>
<p><a href=""><strong>编译器什么时候插入内存屏障？</strong>  by 黄 春 Posted 10/04/2013 12:49</a>
<a href=""><strong>Re: 编译器什么时候插入内存屏障？</strong>  by 程 晓明 Posted 14/04/2013 11:01</a>
<a href=""></a></p>
<p><strong>看完后有两点疑问，请教一下：</strong>  21/03/2013 07:37 by Z CS</p>
<ol>
<li>文中所写的 “未同步/未正确同步的多线程程序。JMM为它们提供了最小安全性保障：线程执行时读取到的值，要么是之前某个线程写入的值，要么是默认值（0，null，false）。”，JSR-133 真的做到这样了么? 那 么 long和double的 读写 的非原子性是怎么回事啊？是不是矛盾啊？</li>
<li>关于本文中最后“JSR-133为final增加了两个重排序规则。现在，final具有了初始化安全性。”，这句话，是不是也还要加上那个 前提“保证final引用不从构造函数内逸出”，final才能具有“初始化安全性”啊？</li>
</ol>
<ul>
<li><a href="">回复</a></li>
<li><a href="">回到顶部</a></li>
</ul>
<p><a href=""></a></p>
<p><strong>Re: 看完后有两点疑问，请教一下：</strong>  23/03/2013 12:50 by 程 晓明</p>
<p>谢谢您的关注。
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
问题1
最小安全性与64位数据的非原子性读/写并不矛盾。
它们是两个不同的概念，它们“发生”的时间点也不同。
最小安全性保证对象默认初始化之后（设置成员域为0，null或false），才会被任意线程使用。
最小安全性“发生”在对象被任意线程使用之前。
64位数据的非原子性读/写“发生”在对象被多个线程使用的过程中（读/写共享变量）。
当发生《本文三》末尾的那种问题时（处理器B看到仅仅被处理器A“写了一半“的无效值），
这里虽然处理器B读取到一个被写了一半的无效值，但这个值任然是处理器A写入的，只不过处理器A还没有写完而已。
最小安全性保证线程读取到的值，要么是之前某个线程写入的值，要么是默认值（0，null，false）。
但最小安全性并不保证线程读取到的共享变量的值，一定是某个线程写完后的值。
最小安全性保证线程读取到的值不会无中生有的冒出来，但并不保证线程读取到的值一定是正确的。
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/*
问题2
是的，你的理解是对的。
这句话也要加上那个前提：“保证final引用不从构造函数内逸出”，final才能具有“初始化安全性”。</p>
<ul>
<li><a href="">回复</a></li>
<li><a href="">回到顶部</a>
<a href=""></a></li>
</ul>
<p><strong>编译器什么时候插入内存屏障？</strong>  10/04/2013 12:49 by 黄 春</p>
<p>厚积薄发之做。 明白了很多不解的地方。 这里有个问题想问下。 文中说“java编译器在生成字节码时，会在执行指令序列的适当位置插入内存屏障来限制处理器的重排序”。 这里有个问题请教。
插入内存屏障， 是在编译成字节码的时候完成， 还是在JIT执行的时候重新调整指令生成的？ 或者JIT只生产本地代码， 跟插入内存屏障之类的没关系？</p>
<ul>
<li><a href="">回复</a></li>
<li><a href="">回到顶部</a></li>
</ul>
<p><a href=""></a></p>
<p><strong>Re: 编译器什么时候插入内存屏障？</strong>  14/04/2013 11:01 by 程 晓明</p>
<p>Doug Lea在《The JSR-133 Cookbook for Compiler Writers》中，并没有明确指定插入内存屏障的时机。
个人估计，应该是取决于具体的JVM实现。</p>
<ul>
<li><a href="">回复</a></li>
<li><a href="">回到顶部</a></li>
</ul>
<p><a href="">关闭</a></p>
<h3 id="-by"><em>**</em> by</h3>
<p>发布于</p>
<ul>
<li><a href="">查看</a></li>
<li><a href="">回复</a></li>
<li><a href="">回到顶部</a>
<a href="">关闭</a>  主题   您的回复 <a href="">引用原消息</a></li>
</ul>
<p>允许的HTML标签: a,b,br,blockquote,i,li,pre,u,ul,p
当有人回复此评论时请E-mail通知我</p>
<p><a href="">关闭</a>  主题  您的回复</p>
<p>允许的HTML标签: a,b,br,blockquote,i,li,pre,u,ul,p
当有人回复此评论时请E-mail通知我
<a href="">关闭</a></p>
<ul>
<li>热点内容</li>
<li><a href="">本周</a></li>
<li><a href="">本月</a></li>
<li><a href="">近6个月</a><h3 id="-32-http-www-infoq-com-cn-news-2012-08-32-most-important-algorithms-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2012/08/32-most-important-algorithms?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">计算机科学中最重要的32个算法</a></h3>
</li>
</ul>
<h3 id="-thoughtworks-2013-5-http-www-infoq-com-cn-articles-thoughtworks-technology-radar-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/thoughtWorks-technology-radar?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">ThoughtWorks技术雷达（2013年5月）</a></h3>
<h3 id="-1-5-http-www-infoq-com-cn-articles-iqiyi-cloud-push-practices-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/iqiyi-cloud-push-practices?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">让1.5亿移动端用户第一时间获取消息</a></h3>
<h3 id="-thoughtworks-ceo-http-www-infoq-com-cn-news-2013-06-tw-guoxiao-on-talents-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/tw-guoxiao-on-talents?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">ThoughtWorks全球CEO郭晓谈软件人才的招聘与培养</a></h3>
<h3 id="-http-www-infoq-com-cn-news-2013-06-10-sins-for-scalability-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/10-sins-for-scalability?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">影响可扩展性的十宗罪</a></h3>
<h3 id="-6-http-www-infoq-com-cn-minibooks-architect-jun-10-2013-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/architect-jun-10-2013?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">架构师（6月刊）</a></h3>
<h3 id="-http-www-infoq-com-cn-articles-function-switch-realize-better-continuous-implementations-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/function-switch-realize-better-continuous-implementations?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">使用功能开关更好地实现持续部署</a></h3>
<h3 id="-eclipse-github-http-www-infoq-com-cn-news-2013-06-eclipse-github-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/eclipse-github?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">Eclipse迁移到GitHub</a></h3>
<h3 id="-newegg-com-http-www-infoq-com-cn-presentations-newegg-big-data-practice-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/presentations/newegg-big-data-practice?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">Newegg.com大数据实践</a></h3>
<h3 id="-http-www-infoq-com-cn-minibooks-software-sys-architect-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/software-sys-architect?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">软件系统架构：使用视点和视角与利益相关者合作</a></h3>
<h3 id="-32-http-www-infoq-com-cn-news-2012-08-32-most-important-algorithms-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2012/08/32-most-important-algorithms?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">计算机科学中最重要的32个算法</a></h3>
<h3 id="-6-http-www-infoq-com-cn-minibooks-architect-jun-10-2013-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/architect-jun-10-2013?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">架构师（6月刊）</a></h3>
<h3 id="-rest-http-www-infoq-com-cn-news-2013-06-rest-drawbacks-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/rest-drawbacks?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">REST的缺点是什么？</a></h3>
<h3 id="-google-web-ui-polymer-http-www-infoq-com-cn-news-2013-06-webcomponents-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/webcomponents?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">Google 发布新一代Web UI库Polymer</a></h3>
<h3 id="-http-www-infoq-com-cn-news-2013-06-dianping-xinnet-hacked-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/dianping-xinnet-hacked?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">大众点评网域名劫持事件概述</a></h3>
<h3 id="-node-js-grunt-js-http-www-infoq-com-cn-articles-gruntjs-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/GruntJs?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">基于Node.js的自动化构建工具Grunt.js</a></h3>
<h3 id="-node-js-node-js-http-www-infoq-com-cn-articles-what-is-nodejs-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/what-is-nodejs?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">深入浅出Node.js（一）：什么是Node.js</a></h3>
<h3 id="-http-www-infoq-com-cn-minibooks-i-m-wrights-hard-code-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/i-m-wrights-hard-code?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">代码之殇·第二版</a></h3>
<h3 id="-http-www-infoq-com-cn-minibooks-software-sys-architect-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/software-sys-architect?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">软件系统架构：使用视点和视角与利益相关者合作</a></h3>
<h3 id="-18-java-http-www-infoq-com-cn-news-2013-06-zhuhong-on-java-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/06/zhuhong-on-java?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">大家谈18岁的Java——朱鸿：开过跑车后再去开大巴车总是有点不爽的</a></h3>
<h3 id="-32-http-www-infoq-com-cn-news-2012-08-32-most-important-algorithms-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2012/08/32-most-important-algorithms?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">计算机科学中最重要的32个算法</a></h3>
<h3 id="-java-http-www-infoq-com-cn-articles-java-memory-model-1-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/java-memory-model-1?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">深入理解Java内存模型（一）——基础</a></h3>
<h3 id="-node-js-node-js-http-www-infoq-com-cn-articles-what-is-nodejs-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/what-is-nodejs?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">深入浅出Node.js（一）：什么是Node.js</a></h3>
<h3 id="-node-js-node-js-npm-http-www-infoq-com-cn-articles-nodejs-npm-install-config-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/nodejs-npm-install-config?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">深入浅出Node.js（二）：Node.js&amp;NPM的安装与配置</a></h3>
<h3 id="-3-http-www-infoq-com-cn-minibooks-architect-mar-10-2013-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/architect-mar-10-2013?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">架构师（3月刊）</a></h3>
<h3 id="-1-http-www-infoq-com-cn-minibooks-architect-jan-10-2013-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/architect-jan-10-2013?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">架构师（1月刊）</a></h3>
<h3 id="-4-http-www-infoq-com-cn-minibooks-architect-apr-10-2013-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/architect-apr-10-2013?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">架构师（4月刊）</a></h3>
<h3 id="-java-http-www-infoq-com-cn-articles-java-threadpool-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/articles/java-threadPool?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">聊聊并发（三）——JAVA线程池的分析和使用</a></h3>
<h3 id="-2-http-www-infoq-com-cn-minibooks-architect-feb-10-2013-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/minibooks/architect-feb-10-2013?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">架构师（2月刊）</a></h3>
<h3 id="-12306-github-http-www-infoq-com-cn-news-2013-01-12306-plugin-ddos-github-utm_source-infoq-utm_medium-popular_links_homepage-"><a href="http://www.infoq.com/cn/news/2013/01/12306-plugin-ddos-github?utm_source=infoq&amp;utm_medium=popular_links_homepage" target="_blank">12306订票助手插件拖垮GitHub事件原因始末</a></h3>
<h2 id="-">深度内容</h2>
<ul>
<li><a href="">全部</a></li>
<li><a href="">文章</a></li>
<li><a href="">演讲</a></li>
<li><a href="">访谈</a></li>
<li><a href="">迷你书</a><h2 id="-juergen-fesslmeier-javascript-http-www-infoq-com-cn-interviews-end-to-end-javascript-juergen-fesslmeier-javascript-"><a href="http://www.infoq.com/cn/interviews/end-to-end-javascript" title="Juergen Fesslmeier谈端到端的JavaScript开发" target="_blank">Juergen Fesslmeier谈端到端的JavaScript开发</a></h2>
</li>
</ul>
<p><a href="http://www.infoq.com/cn/author/Juergen-Fesslmeier" title="Juergen Fesslmeier" target="_blank">Juergen Fesslmeier</a> 七月 02, 2013</p>
<p><a href="http://www.infoq.com/cn/interviews/end-to-end-javascript" title="Juergen Fesslmeier谈端到端的JavaScript开发" target="_blank"><img src="" alt=""></a></p>
<h2 id="-http-www-infoq-com-cn-articles-design-pattern-automation-"><a href="http://www.infoq.com/cn/articles/Design-Pattern-Automation" title="设计模式自动化" target="_blank">设计模式自动化</a></h2>
<p><a href="http://www.infoq.com/cn/author/Gael-Fraiteur-and-Yan-Cui" title="Gael Fraiteur and Yan Cui" target="_blank">Gael Fraiteur and Yan Cui</a> 七月 01, 2013</p>
<p><a href="http://www.infoq.com/cn/articles/Design-Pattern-Automation" title="设计模式自动化" target="_blank"><img src="" alt=""></a></p>
<h2 id="-http-www-infoq-com-cn-articles-designing-a-world-at-your-fingertips-mobile-user-interfaces-"><a href="http://www.infoq.com/cn/articles/designing-a-world-at-your-fingertips-mobile-user-interfaces" title="设计指尖上的世界：移动用户界面一瞥" target="_blank">设计指尖上的世界：移动用户界面一瞥</a></h2>
<p><a href="http://www.infoq.com/cn/author/Forrest-Shull" title="Forrest Shull" target="_blank">Forrest Shull</a> 六月 28, 2013</p>
<p><a href="http://www.infoq.com/cn/articles/designing-a-world-at-your-fingertips-mobile-user-interfaces" title="设计指尖上的世界：移动用户界面一瞥" target="_blank"><img src="" alt=""></a></p>
<h2 id="-alm-http-www-infoq-com-cn-articles-integrated-alm-alm-"><a href="http://www.infoq.com/cn/articles/Integrated-ALM" title="成功的根本—集成的ALM工具" target="_blank">成功的根本—集成的ALM工具</a></h2>
<p><a href="http://www.infoq.com/cn/author/Dave-West" title="Dave West" target="_blank">Dave West</a> 六月 28, 2013</p>
<p><a href="http://www.infoq.com/cn/articles/Integrated-ALM" title="成功的根本—集成的ALM工具" target="_blank"><img src="" alt=""></a></p>
<h2 id="-http-www-infoq-com-cn-articles-atdd-by-example-book-"><a href="http://www.infoq.com/cn/articles/atdd-by-example-book" title="书评：验收测试驱动开发实践指南" target="_blank">书评：验收测试驱动开发实践指南</a></h2>
<p><a href="http://www.infoq.com/cn/author/Manuel-Pais" title="Manuel Pais" target="_blank">Manuel Pais</a> 六月 26, 2013</p>
<p><a href="http://www.infoq.com/cn/articles/atdd-by-example-book" title="书评：验收测试驱动开发实践指南" target="_blank"><img src="" alt=""></a></p>
<h2 id="-web-http-www-infoq-com-cn-presentations-across-device-web-web-"><a href="http://www.infoq.com/cn/presentations/across-device-web" title="跨终端的web" target="_blank">跨终端的web</a></h2>
<p><a href="http://www.infoq.com/cn/author/%E8%88%92%E6%96%87%E4%BA%AE" title="舒文亮" target="_blank">舒文亮</a> 六月 26, 2013</p>
<p><a href="http://www.infoq.com/cn/presentations/across-device-web" title="跨终端的web" target="_blank"><img src="" alt=""></a></p>
<ul>
<li><a href="">更早的 &gt;</a></li>
</ul>
<p>赞助商链接</p>
<h3 id="infoq-">InfoQ每周精要</h3>
<p>通过个性化定制的新闻邮件、RSS Feeds和InfoQ业界邮件通知，保持您对感兴趣的社区内容的时刻关注。
<a href="http://www.infoq.com/cn/newsletter_sample.html" target="_blank"><img src="" alt=""></a></p>
<p>语言 &amp; 开发</p>
<p><a href="http://www.infoq.com/cn/interviews/end-to-end-javascript" title="Juergen Fesslmeier谈端到端的JavaScript开发" target="_blank">Juergen Fesslmeier谈端到端的JavaScript开发</a></p>
<p><a href="http://www.infoq.com/cn/news/2013/07/mobilecloud-tfs" title="MobileCloud for TFS支持测试Windows Phone,Android,iOS及BlackBerry应用" target="_blank">MobileCloud for TFS支持测试Windows Phone,Android,iOS及BlackBerry应用</a></p>
<p><a href="http://www.infoq.com/cn/news/2013/07/baidu-salon39-summary" title="百度技术沙龙第39期回顾：前端快速开发实践（含资料下载）" target="_blank">百度技术沙龙第39期回顾：前端快速开发实践（含资料下载）</a></p>
<p>架构 &amp; 设计</p>
<p><a href="http://www.infoq.com/cn/news/2013/07/Native-Performance" title="内存与本机代码的性能" target="_blank">内存与本机代码的性能</a></p>
<p><a href="http://www.infoq.com/cn/articles/Design-Pattern-Automation" title="设计模式自动化" target="_blank">设计模式自动化</a></p>
<p><a href="http://www.infoq.com/cn/news/2013/07/WinRT-Devices" title="连接设备编程" target="_blank">连接设备编程</a>
过程 &amp; 实践</p>
<p><a href="http://www.infoq.com/cn/articles/Integrated-ALM" title="成功的根本—集成的ALM工具" target="_blank">成功的根本—集成的ALM工具</a></p>
<p><a href="http://www.infoq.com/cn/news/2013/06/tw-guoxiao-on-talents" title="ThoughtWorks全球CEO郭晓谈软件人才的招聘与培养" target="_blank">ThoughtWorks全球CEO郭晓谈软件人才的招聘与培养</a></p>
<p><a href="http://www.infoq.com/cn/articles/atdd-by-example-book" title="书评：验收测试驱动开发实践指南" target="_blank">书评：验收测试驱动开发实践指南</a></p>
<p>运维 &amp; 基础架构</p>
<p><a href="http://www.infoq.com/cn/news/2013/06/devops-in-traditional-enterprise" title="在传统企业中引入DevOps" target="_blank">在传统企业中引入DevOps</a></p>
<p><a href="http://www.infoq.com/cn/news/2013/06/dod-ams-day1-s-is-for-security" title="安全性——“DevOpS”中的S" target="_blank">安全性——“DevOpS”中的S</a></p>
<p><a href="http://www.infoq.com/cn/articles/atdd-by-example-book" title="书评：验收测试驱动开发实践指南" target="_blank">书评：验收测试驱动开发实践指南</a>
企业架构</p>
<p><a href="http://www.infoq.com/cn/articles/designing-a-world-at-your-fingertips-mobile-user-interfaces" title="设计指尖上的世界：移动用户界面一瞥" target="_blank">设计指尖上的世界：移动用户界面一瞥</a></p>
<p><a href="http://www.infoq.com/cn/news/2013/06/stratos-2" title="Stratos 2.0已发布，支持所有运行时环境和30个IaaS" target="_blank">Stratos 2.0已发布，支持所有运行时环境和30个IaaS</a></p>
<p><a href="http://www.infoq.com/cn/articles/iqiyi-cloud-push-practices" title="让1.5亿移动端用户第一时间获取消息" target="_blank">让1.5亿移动端用户第一时间获取消息</a></p>
<ul>
<li><a href="http://www.infoq.com/cn/" title="首页" target="_blank">首页</a></li>
<li><a href="http://www.infoq.com/cn/topics" title="全部话题" target="_blank">全部话题</a></li>
<li><a href="http://www.qconferences.com/" title="QCon全球软件开发大会" target="_blank">QCon全球软件开发大会</a></li>
<li><a href="http://www.infoq.com/cn/aboutus" title="关于我们" target="_blank">关于我们</a></li>
<li><a href="http://www.infoq.com/cn/contribute" title="让大家在InfoQ上听见你的声音" target="_blank">让大家在InfoQ上听见你的声音</a></li>
<li><a href="http://www.infoq.com/cn/reginit.action" title="创建账号" target="_blank">创建账号</a></li>
<li><p><a href="&quot;登录&quot;">登录</a></p>
</li>
<li><p><strong>会议</strong></p>
</li>
<li><a href="http://www.qconshanghai.com/" title="技术大会：QCon上海2013，11月1-3日 " target="_blank">QCon全球软件开发大会（上海站）2013，11月1-3日</a><h3 id="infoq-">InfoQ每周精要</h3>
</li>
</ul>
<p>通过个性化定制的新闻邮件、RSS Feeds和InfoQ业界邮件通知，保持您对感兴趣的社区内容的时刻关注。</p>
<p><a href="http://www.infoq.com/cn/newsletter_sample.html" target="_blank"><img src="" alt=""></a></p>
<ul>
<li><a href="http://www.infoq.com/cn/rss/rss.action?token=AjlwmaWcwi5ejkcT6GcRk1pCqJ4K7ocs" target="_blank">属于您的个性化RSS</a></li>
<li><a href="http://weibo.com/infoqchina" target="_blank">新浪微博</a></li>
<li><a href="http://www.facebook.com/InfoQ" target="_blank">社区新闻和热点</a></li>
</ul>
<p>特别专题</p>
<ul>
<li><a href="http://www.infoq.com/cn/chinaitevents" target="_blank"><strong>技术社区活动日历</strong></a></li>
<li><a href="http://www.infoq.com/cn/zones/baidu-salon/" target="_blank"><strong>百度技术沙龙</strong></a></li>
<li><a href="http://www.infoq.com/cn/scrum/" target="_blank"><strong>Scrum开发</strong></a></li>
<li><a href="http://www.infoq.com/cn/architect/" target="_blank"><strong>月刊：《架构师》</strong></a></li>
<li><a href="http://www.infoq.com/cn/qclub/" target="_blank"><strong>线下活动：QClub</strong></a>
定制您感兴趣的技术领域</li>
</ul>
<p>语言 &amp; 开发 架构 &amp; 设计 过程 &amp; 实践 运维 &amp; 基础架构 企业架构
提供反馈</p>
<p><a href="mailto:feedback@cn.infoq.com">feedback@cn.infoq.com</a>
 错误报告</p>
<p><a href="mailto:bugs@cn.infoq.com">bugs@cn.infoq.com</a>
 商务合作</p>
<p><a href="mailto:sales@cn.infoq.com">sales@cn.infoq.com</a>
 内容合作</p>
<p><a href="mailto:editors@cn.infoq.com">editors@cn.infoq.com</a>
 InfoQ.com及所有内容，版权所有 © 2006-2013 C4Media Inc. InfoQ.com 服务器由 <a href="http://www.contegix.com/" target="_blank">Contegix</a>提供, 我们最信赖的ISP合作伙伴。
<a href="http://www.infoq.com/cn/privacypolicy" target="_blank">隐私政策</a></p>
<p><a href="">Close</a>  E-mail  密码</p>
<p><a href="http://www.infoq.com/cn/social/googleLogin.action?fl=login" title="使用Google账号登录" target="_blank">使用Google账号登录</a>  <a href="http://www.infoq.com/cn/social/liveLogin.action?fl=login" title="使用Microsoft账号登录" target="_blank">使用Microsoft账号登录</a>
<a href="">忘记密码？</a>
   InfoQ账号使用的E-mail  发送邮件</p>
<p><a href="">重新登录</a>
重新发送激活信息  重新发送</p>
<p><a href="">重新登录</a>
<a href="http://www.infoq.com/cn/reginit.action" target="_blank">没有用户名？</a></p>
<p><a href="http://www.infoq.com/cn/reginit.action" target="_blank">点击注册</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_多线程/">Java_多线程</a></li><li><a href="/categories/Java&J2EE/Java_多线程/内存/">内存</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_多线程/" class="label label-success">Java_多线程</a><a href="/tags/内存/" class="label label-info">内存</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:41"datetime="2014-03-07 09:54:41"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_多线程-内存--深入理解Java内存模型（七）——总结/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_多线程-内存--深入理解Java内存模型（七）——总结" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--13_7_5key可以重复的Map集合：IdentityHashMap/">13_7_5 key可以重复的Map集合：IdentityHashMap</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--13_7_5key可以重复的Map集合：IdentityHashMap/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="13_7_5-key-map-identityhashmap">13_7_5 key可以重复的Map集合：IdentityHashMap</h1>
<p><a href="http://www.51cto.com/" target="_blank">51CTO首页</a> | <a href="http://news.51cto.com/" target="_blank">新闻</a> | <a href="http://www.51cto.com/col/35" target="_blank">专题</a> | <a href="http://bbs.51cto.com/" target="_blank">论坛</a> | <a href="http://blog.51cto.com/" target="_blank">博客</a> | <a href="http://g.51cto.com/" target="_blank">技术圈</a> | <a href="http://book.51cto.com/" target="_blank">读书</a> | <a href="http://www.51cto.com/col/35/" target="_blank">技术频道</a>| <a href="http://www.cioage.com/" target="_blank">CIO</a>| <a href="http://www.watchstor.com/" target="_blank">存储</a>| <a href="http://www.51cto.com/about/map.htm" target="_blank">地图</a> | <a href="http://www.51cto.com/about/aboutus_e.html" target="_blank">English</a></p>
<ul>
<li><a href="http://network.51cto.com/" target="_blank">组网建网</a></li>
<li><a href="http://netsecurity.51cto.com/" target="_blank">网络安全</a></li>
<li><a href="http://server.51cto.com/" target="_blank">服务器</a></li>
<li><a href="http://os.51cto.com/" target="_blank">操作系统</a></li>
<li><a href="http://virtual.51cto.com/" target="_blank">虚拟化</a></li>
<li><a href="http://developer.51cto.com/" target="_blank">开发</a></li>
<li><a href="http://www.cioage.com/news" target="_blank">资讯前沿</a></li>
<li><a href="http://www.cioage.com/insight" target="_blank">业界观察</a></li>
<li><a href="http://www.cioage.com/exp" target="_blank">应用体验</a></li>
<li><p><a href="http://www.cioage.com/tech" target="_blank">杀手技术</a></p>
</li>
<li><p><a href="http://news.watchstor.com/" target="_blank">新闻资讯</a></p>
</li>
<li><a href="http://tech.watchstor.com/" target="_blank">技术中心</a></li>
<li><a href="http://video.watchstor.com/" target="_blank">互动视频</a></li>
<li><a href="http://special.watchstor.com/" target="_blank">专题汇聚</a>
您所在的位置： <a href="http://www.51cto.com/" target="_blank">首页</a> &gt; <a href="http://book.51cto.com/" target="_blank">读书频道</a> &gt; <a href="http://book.51cto.com/col/1221/" target="_blank">设计开发</a> &gt; <a href="http://book.51cto.com/col/1223/" target="_blank">Java系列</a> &gt;</li>
</ul>
<h3 id="13-7-5-key-map-identityhashmap">13.7.5 key可以重复的Map集合：IdentityHashMap</h3>
<p><a href="http://book.51cto.com/" target="_blank"><a href="http://book.51cto.com/">http://book.51cto.com/</a></a>  2009-08-03 09:31  李兴华  清华大学出版社  <a href="http://www.51cto.com/php/feedbackt.php?id=141100" target="_blank">我要评论(0)</a></p>
<ul>
<li>摘要：《Java开发实战经典》第13章Java类集，本章将对Java类集进行完整的介绍，针对于一些较为常用的操作也将进行深入的讲解。本节为大家介绍key可以重复的Map集合：IdentityHashMap。</li>
<li>标签：<a href="http://www.51cto.com/php/search.php?keyword=IdentityHashMap" target="_blank">IdentityHashMap</a>  <a href="http://www.51cto.com/php/search.php?keyword=Java" target="_blank">Java</a>  <a href="http://www.51cto.com/php/search.php?keyword=Java%BF%AA%B7%A2%CA%B5%D5%BD%BE%AD%B5%E4" target="_blank">Java开发实战经典</a>
*</li>
</ul>
<p><strong>13.7.5  key可以重复的Map集合：IdentityHashMap</strong></p>
<p>之前所讲解的所有Map操作中key的值是不能重复的，例如，HashMap操作时key是不能重复的，如果重复则肯定会覆盖之前的内容，如下代码所示。</p>
<p>范例：Map中的key不允许重复，重复就是覆盖</p>
<ol>
<li>package org.lxh.demo13.mapdemo;  </li>
<li>import java.util.HashMap;  </li>
<li>import java.util.Iterator;  </li>
<li>import java.util.Map;  </li>
<li>import java.util.Set;  </li>
<li>class Person {<br>// 定义Person类  </li>
<li>private String name;<br>// 定义name属性  </li>
<li>private int age;<br>// 定义age属性  </li>
<li>public Person(String name, int age) {<br>// 通过构造方法为属性赋值  </li>
<li>this.name = name;<br>// 为name属性赋值  </li>
<li>this.age = age;<br>// 为age属性赋值  </li>
<li>}  </li>
<li>public boolean equals(Object obj) {<br>// 覆写equals()方法  </li>
<li>if (this == obj) {<br>// 判断地址是否相等  </li>
<li>return true;<br>// 返回true表示同一对象  </li>
<li>}  </li>
<li>if (!(obj instanceof Person)) {<br>// 传递进来的不是本类的对象  </li>
<li>return false;<br>// 返回false表示不是同一对象  </li>
<li>}  </li>
<li>Person p = (Person) obj;<br>// 进行向下转型  </li>
<li>if (this.name.equals(p.name) &amp;&amp;
this.age == p.age) {  </li>
<li>return true ;<br>// 属性依次比较，相等返回true  </li>
<li>}else{  </li>
<li>return false ;<br>// 属性内容不相等，返回false  </li>
<li>}  </li>
<li>}  </li>
<li>public int hashCode(){<br>// 覆写hashCode()方法  </li>
<li>return this.name.hashCode() /* this.age ;<br>// 计算公式  </li>
<li>}  </li>
<li>public String toString() {<br>// 覆写toString()方法  </li>
<li>return &quot;姓名：&quot; + this.name + &quot;；年龄：&quot; </li>
</ol>
<ul>
<li>this.age;   // 返回信息  </li>
</ul>
<ol>
<li>}  </li>
<li>}   </li>
<li>public class IdentityHashMapDemo01 {  </li>
<li>public static void main(String[] args) {  </li>
<li>Map<Person, String> map = null;<br>// 声明Map对象，指定  </li>
<li>泛型类型  </li>
<li>map = new HashMap<Person, String>();<br>// 实例化Map对象  </li>
<li>map.put(new Person(&quot;张三&quot;, 30), &quot;zhangsan_1&quot;);<br>// 增加内容  </li>
<li>map.put(new Person(&quot;张三&quot;, 30), &quot;zhangsan_2&quot;);<br>// 增加内容，key重复  </li>
<li>map.put(new Person(&quot;李四&quot;, 31), &quot;lisi&quot;);<br>// 增加内容  </li>
<li>Set<Map.Entry<Person, String>&gt; allSet = null;<br>// 声明一个Set集合  </li>
<li>allSet = map.entrySet();<br>// 将Map接口实例变为  </li>
<li>Set接口实例  </li>
<li>Iterator<Map.Entry<Person, String>&gt; 
iter = null;    // 声明Iterator  </li>
<li>对象  </li>
<li>iter = allSet.iterator();<br>// 实例化Iterator  </li>
<li>对象  </li>
<li>while (iter.hasNext()) {<br>// 迭代输出  </li>
<li>Map.Entry<Person, String> me = 
iter.next();// 每个对象都是Map.   </li>
<li>Entry实例  </li>
<li>System.out.println(me.getKey()   </li>
<li><ul>
<li>&quot; --&gt; &quot; + me.getValue());<br>// 输出key和value  </li>
</ul>
</li>
<li>}  </li>
<li>}  </li>
<li>} </li>
</ol>
<p>程序运行结果：</p>
<ol>
<li>姓名：李四；年龄：31 --&gt; lisi  </li>
<li>姓名：张三；年龄：30 --&gt; zhangsan_2 </li>
</ol>
<p>从程序的运行结果中可以发现，第二个内容覆盖了第一个内容，所以此时可以使用Identity HashMap。使用此类时只要地址不相等（key1！=key2），就表示不是重复的key，可以添加到集合中。</p>
<p>范例：使用IdentityHashMap修改程序</p>
<ol>
<li>package org.lxh.demo13.mapdemo;  </li>
<li>import java.util.IdentityHashMap;  </li>
<li>import java.util.Iterator;  </li>
<li>import java.util.Map;  </li>
<li>import java.util.Set;  </li>
<li>class Person {  </li>
<li>// 此类与之前定义一样，此处不再列出  </li>
<li>}  </li>
<li>public class IdentityHashMapDemo02 {  </li>
<li>public static void main(String[] args) {  </li>
<li>Map<Person, String> map = null;<br>// 声明Map对象，指定  </li>
<li>泛型类型  </li>
<li>map = new IdentityHashMap<Person, String>(); 
// 实例化Map对象  </li>
<li>map.put(new Person(&quot;张三&quot;, 30), &quot;zhangsan_1&quot;); 
// 增加内容  </li>
<li>map.put(new Person(&quot;张三&quot;, 30), &quot;zhangsan_2&quot;);<br>// 增加内容，key重复  </li>
<li>map.put(new Person(&quot;李四&quot;, 31), &quot;lisi&quot;);<br>// 增加内容  </li>
<li>Set<Map.Entry<Person, String>&gt; allSet = 
null;   // 声明一个Set集合  </li>
<li>allSet = map.entrySet();<br>// 将Map接口实例变为  </li>
<li>Set接口实例  </li>
<li>Iterator<Map.Entry<Person, String>&gt; 
iter = null;// 声明Iterator对象  </li>
<li>iter = allSet.iterator();<br>// 实例化Iterator  </li>
<li>对象  </li>
<li>while (iter.hasNext()) {<br>// 迭代输出  </li>
<li>Map.Entry<Person, String> me = 
iter.next();// 每个对象都是Map.  </li>
<li>Entry实例  </li>
<li>System.out.println(me.getKey()   </li>
<li><ul>
<li>&quot; --&gt; &quot; + me.getValue());<br>// 输出key和value  </li>
</ul>
</li>
<li>}  </li>
<li>}  </li>
<li>} </li>
</ol>
<p>程序运行结果：</p>
<ol>
<li>姓名：张三；年龄：30 --&gt; zhangsan_2  </li>
<li>姓名：张三；年龄：30 --&gt; zhangsan_1  </li>
<li>姓名：李四；年龄：31 --&gt; lisi </li>
</ol>
<p>从程序的运行结果中可以发现，现在的key允许重复，只要两个对象的地址不相等即可。</p>
<p>【责任编辑：<a href="mailto:limian@51cto.com">云霞</a> TEL：（010）68476606】
<a href="http://book.51cto.com/art/200907/140657.htm" target="_blank"><strong>回书目</strong></a>   <a href="http://book.51cto.com/art/200908/141099.htm" target="_blank"><strong>上一节</strong></a>   <a href="http://book.51cto.com/art/200908/141101.htm" target="_blank"><strong>下一节</strong></a>
上一篇： <a href="http://book.51cto.com/art/200908/141099.htm" target="_blank">13.7.4 Map接口的使用注意事项（2）</a> 下一篇： <a href="http://book.51cto.com/art/200908/141101.htm" target="_blank">13.8 SortedMap接口</a></p>
<h2 id="-http-book-51cto-com-click-1223-"><a href="http://book.51cto.com/click/1223" target="_blank">频道推荐</a></h2>
<p><a href="http://book.51cto.com/click/1223" target="_blank">更多&gt;&gt;</a></p>
<ul>
<li>·<a href="http://book.51cto.com/art/200910/159525.htm" title="自己动手写搜索引擎" target="_blank">自己动手写搜索引擎</a></li>
<li>·<a href="http://book.51cto.com/art/200910/159539.htm" title="1.1.2  编写代码（15分钟）" target="_blank">1.1.2 编写代码（15分钟）</a></li>
<li>·<a href="http://book.51cto.com/art/200910/159538.htm" title="1.1.1  准备工作环境（10分钟）" target="_blank">1.1.1 准备工作环境（10分钟）</a><h2 id="-http-www-51cto-com-"><a href="http://www.51cto.com/" target="_blank">热点标签</a></h2>
</li>
</ul>
<p><a href="http://server.51cto.com/Blade" title="刀片服务器专区" target="_blank">刀片服务器</a>   <a href="http://cloud.51cto.com/" title="云计算频道全新上线" target="_blank">云计算</a>   <a href="http://netsecurity.51cto.com/art/200609/31897.htm" title="ARP攻击与防御" target="_blank">ARP攻防</a>   <a href="http://training.51cto.com/cisco" title="思科培训技术专区" target="_blank">思科培训</a>  </p>
<h2 id="-http-www-51cto-com-"><a href="http://www.51cto.com/" target="_blank">全站热点</a></h2>
<p><a href="http://www.51cto.com/" target="_blank">更多&gt;&gt;</a></p>
<p><a href="http://netsecurity.51cto.com/art/200609/31897.htm" title="ARP攻击防范与解决方案"></a></p>
<p><a href="http://netsecurity.51cto.com/art/200609/31897.htm" title="ARP攻击防范与解决方案" target="_blank">ARP攻击防范与..</a></p>
<p><a href="http://training.51cto.com/art/200804/71335.htm" title="2009年下半年软考最新试题与答案"></a></p>
<p><a href="http://training.51cto.com/art/200804/71335.htm" title="2009年下半年软考最新试题与答案" target="_blank">2009年下半年..</a></p>
<ul>
<li>·<a href="http://network.51cto.com/art/200910/159165.htm" title="网络工程师须知：30个经典的路由问题" target="_blank">网络工程师须知：30个经典的路由问题</a></li>
<li>·<a href="http://server.51cto.com/server-159912.htm" title="图解天河一号 中国最快的计算机" target="_blank">图解天河一号 中国最快的计算机</a></li>
<li>·<a href="http://os.51cto.com/art/200910/159488.htm" title="Ubuntu 9.10 功能截图" target="_blank">Ubuntu 9.10 功能截图</a></li>
<li>·<a href="http://developer.51cto.com/art/200910/159138.htm" title="Google网页工具包(GWT)是Web开发的未来？" target="_blank">Google网页工具包(GWT)是Web开发的未来？</a></li>
<li>·<a href="http://os.51cto.com/art/200910/159486.htm" title="Ubuntu 9.10 桌面版发布 今日开始下载" target="_blank">Ubuntu 9.10 桌面版发布 今日开始下载</a></li>
</ul>
<h2 id="-http-fellow-51cto-com-"><a href="http://fellow.51cto.com/" target="_blank">技术人</a></h2>
<p><a href="http://fellow.51cto.com/" target="_blank">更多&gt;&gt;</a>
<a href="http://fellow.51cto.com/art/200907/140965.htm" title="IT十大死对头：Linux单挑Windows 谷歌对抗所有人" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://fellow.51cto.com/art/200907/140965.htm" title="IT十大死对头：Linux单挑Windows 谷歌对抗所有人" target="_blank">IT十大死对头：L..</a></p>
<p><a href="http://job.51cto.com/art/200907/140484.htm" title="程序员面试技巧：全程大揭秘" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://job.51cto.com/art/200907/140484.htm" title="程序员面试技巧：全程大揭秘" target="_blank">程序员面试技巧..</a></p>
<ul>
<li>·<a href="http://job.51cto.com/art/200910/159867.htm" title="腾讯“小三”事件追踪" target="_blank">腾讯“小三”事件追踪</a></li>
<li>·<a href="http://job.51cto.com/art/200910/159848.htm" title="反盗版联盟逼宫迅雷:两阵营险些大打出手" target="_blank">反盗版联盟逼宫迅雷:两阵营险些大打出手</a></li>
<li>·<a href="http://training.51cto.com/art/200911/160298.htm" title="网管技能水平考试教材发布 开启网管人才培养新篇章" target="_blank">网管技能水平考试教材发布 开启网管人才培养新..</a></li>
<li>·<a href="http://fellow.51cto.com/art/200911/160116.htm" title="没有技术怎么办 任正非的人才技术兼收之道" target="_blank">没有技术怎么办 任正非的人才技术兼收之道</a></li>
<li>·<a href="http://job.51cto.com/art/200910/159521.htm" title="开心网起诉千橡不正当竞争庭审文字记录" target="_blank">开心网起诉千橡不正当竞争庭审文字记录</a><h2 id="-http-book-51cto-com-"><a href="http://book.51cto.com/" target="_blank">读书</a></h2>
</li>
</ul>
<p><a href="http://book.51cto.com/" target="_blank">更多&gt;&gt;</a></p>
<ul>
<li>·<a href="http://book.51cto.com/art/200910/157013.htm" title="监控" target="_blank">监控</a></li>
<li>·<a href="http://book.51cto.com/art/200910/156835.htm" title="Python在Unix和Linux系统管理中的应用" target="_blank">Python在Unix和Linux系统管理中的应用</a></li>
<li>·<a href="http://book.51cto.com/art/200910/155790.htm" title="锦绣蓝图：怎样规划令人流连忘返的网站（第2版）" target="_blank">锦绣蓝图：怎样规划令人流连忘返的网站（第2版）</a></li>
<li>·<a href="http://book.51cto.com/art/200910/156006.htm" title="Scala编程" target="_blank">Scala编程</a><h2 id="-http-blog-51cto-com-"><a href="http://blog.51cto.com/" target="_blank">优秀博文</a></h2>
</li>
</ul>
<p><a href="http://blog.51cto.com/" target="_blank">更多&gt;&gt;</a></p>
<h2 id="-http-bbs-51cto-com-hotthreads-php-"><a href="http://bbs.51cto.com/hotthreads.php" target="_blank">最新热帖</a></h2>
<p><a href="http://bbs.51cto.com/hotthreads.php" target="_blank">更多&gt;&gt;</a></p>
<p>Copyright©2005-2009 51CTO.COM 版权所有</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_集合/">Java_集合</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_集合/" class="label label-success">Java_集合</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--13_7_5key可以重复的Map集合：IdentityHashMap/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_集合--13_7_5key可以重复的Map集合：IdentityHashMap" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--DWR如何获得返回对象listMapSetlist/">DWR如何获得返回对象 list Map Set list</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--DWR如何获得返回对象listMapSetlist/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="dwr-list-map-set-list">DWR如何获得返回对象 list Map Set list</h1>
<p><strong>DWR**</strong>如何获得返回对象<strong>**list Map Set list.add(JavaBean)</strong></p>
<p><strong>1**</strong>、调用没有返回值和参数的JAVA方法**</p>
<p>1.1、dwr.xml的配置</p>
<p><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod1"/>
</create>
</allow>
</dwr></p>
<p><allow>标签中包括可以暴露给javascript访问的东西。</p>
<p><create>标签中指定javascript中可以访问的java类，并定义DWR应当如何获得要进行远程的类的实例。creator=&quot;new&quot;属性指定java类实例的生成方式，new意味着DWR应当调用类的默认构造函数来获得实例，其他的还有spring方式，通过与IOC容器Spring进行集成来获得实例等等。javascript=&quot; testClass &quot;属性指定javascript代码访问对象时使用的名称。</p>
<p><param>标签指定要公开给javascript的java类名。</p>
<p><include>标签指定要公开给javascript的方法。不指定的话就公开所有方法。</p>
<p><exclude>标签指定要防止被访问的方法。
1.2、javascript中调用
首先，引入javascript脚本</p>
<p><script src='dwr/interface/ testClass.js'></script></p>
<p><script src="/dwr/engine.js"></script></p>
<p><script src="/dwr/util.js"></script>
其中TestClass.js是dwr根据配置文件自动生成的，engine.js和util.js是dwr自带的脚本文件。
其次，编写调用java方法的javascript函数
Function callTestMethod1(){
       testClass.testMethod1();
}
<strong>2**</strong>、调用有简单返回值的java方法**</p>
<p><strong>2.1**</strong>、dwr.xml的配置<strong><em>**</em></strong>配置同1.1</p>
<p><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod2"/>
</create>
</allow>
</dwr>
2.2、javascript中调用
首先，引入javascript脚本
其次，编写调用java方法的javascript函数和接收返回值的回调函数
Function callTestMethod2(){
       testClass.testMethod2(callBackFortestMethod2);
}
Function callBackFortestMethod2(data){
      //其中date接收方法的返回值
      //可以在这里对返回值进行处理和显示等等
alert(&quot;the return value is &quot; + data);
}
其中callBackFortestMethod2是接收返回值的回调函数**</p>
<p><strong>3**</strong>、调用有简单参数的java方法**</p>
<p><strong>3.1**</strong>、dwr.xml的配置<strong><em>**</em></strong>配置同1.1</p>
<p><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod3"/>
</create>
</allow>
</dwr>
3.2、javascript中调用
首先，引入javascript脚本
其次，编写调用java方法的javascript函数
Function callTestMethod3(){
                  //定义要传到java方法中的参数
       var data;
       //构造参数
       data = “test String”;
       testClass.testMethod3(data);
}**</p>
<p><strong>4**</strong>、调用返回JavaBean的java方法<strong><strong>4.1</strong></strong>、dwr.xml的配置<em>**</em><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod4"/>
</create></p>
<p>&lt;convert converter=&quot;bean&quot; match=&quot;&quot;com.dwr.TestBean&quot;&gt;
                   <param name="include" value="username,password" />
</convert>
</allow>
</dwr></p>
<p><creator><strong>**标签负责公开用于Web远程的类和类的方法，<convertor>标签则负责这些方法的参数和返回类型。convert元素的作用是告诉DWR在服务器端Java 对象表示和序列化的JavaScript之间如何转换数据类型。DWR自动地在Java和JavaScript表示之间调整简单数据类型。这些类型包括Java原生类型和它们各自的封装类表示，还有String、Date、数组和集合类型。DWR也能把JavaBean转换成JavaScript 表示，但是出于安全性的原因，要求显式的配置，<convertor>标签就是完成此功能的。converter=&quot;bean&quot;属性指定转换的方式采用JavaBean命名规范，match=&quot;&quot;com.dwr.TestBean&quot;属性指定要转换的javabean名称，<param>标签指定要转换的JavaBean属性。
4.2、javascript中调用
首先，引入javascript脚本
其次，编写调用java方法的javascript函数和接收返回值的回调函数
Function callTestMethod4(){
       testClass.testMethod4(callBackFortestMethod4);
}
Function callBackFortestMethod4(data){
      //其中date接收方法的返回值
//对于JavaBean返回值，有两种方式处理
              //不知道属性名称时，使用如下方法
            for(var property in data){
               alert(&quot;property:&quot;+property);
               alert(property+&quot;:&quot;+data[property]);
            }
//知道属性名称时，使用如下方法
            alert(data.username);
            alert(data.password);
}
其中callBackFortestMethod4是接收返回值的回调函数</strong></p>
<p><strong>5**</strong>、调用有JavaBean参数的java方法<strong><strong>5.1</strong></strong>、dwr.xml的配置
<em>**</em>配置同4.1</p>
<p><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod5"/>
</create></p>
<p><convert converter="bean" match="com.dwr.TestBean">
                   <param name="include" value="username,password" />
</convert>
</allow>
</dwr>
5.2、javascript中调用
首先，引入javascript脚本
其次，编写调用java方法的javascript函数
Function callTestMethod5(){
                  //定义要传到java方法中的参数
       var data;
       //构造参数，date实际上是一个object
       data = { username:&quot;user&quot;, password:&quot;password&quot; }
       testClass.testMethod5(data);
}**</p>
<p><strong>6**</strong>、调用返回List、Set或者Map的java方法<strong><strong>6.1</strong></strong>、dwr.xml的配置<strong><em>**</em></strong>配置同4.1</p>
<p><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod6"/>
</create></p>
<p><convert converter="bean" match="com.dwr.TestBean"></p>
<p><param name="include" value="username,password" />
</convert>
</allow>
</dwr>
注意：如果List、Set或者Map中的元素均为简单类型（包括其封装类）或String、Date、数组和集合类型，则不需要<convert>标签。
6.2、javascript中调用(以返回List为例，List的元素为TestBean)
首先，引入javascript脚本
其次，编写调用java方法的javascript函数和接收返回值的回调函数
Function callTestMethod6(){
       testClass.testMethod6(callBackFortestMethod6);
}
Function callBackFortestMethod6(data){
      //其中date接收方法的返回值
//对于JavaBean返回值，有两种方式处理
              //不知道属性名称时，使用如下方法
            for(var i=0;i&lt;data.length;i++){
for(var property in data){
                   alert(&quot;property:&quot;+property);
                   alert(property+&quot;:&quot;+data[property]);
                }
}
//知道属性名称时，使用如下方法
for(var i=0;i&lt;data.length;i++){
                alert(data.username);
                alert(data.password);
}
}**</p>
<p><strong>7**</strong>、调用有List、Set或者Map参数的java方法**</p>
<p><strong>7.1**</strong>、dwr.xml的配置<em>**</em><dwr></p>
<p><allow></p>
<p><create creator="new" javascript="testClass" ></p>
<p><param name="class" value="/com.dwr.TestClass" /></p>
<p><include method="testMethod7"/>
</create></p>
<p><convert converter="bean" match="com.dwr.TestBean"></p>
<p><param name="include" value="username,password" />
</convert>
</allow></p>
<p><signatures>
&lt;![CDATA[
import java.util.List;
import com.dwr.TestClass;
import com.dwr.TestBean;
TestClass.testMethod7(List<TestBean>);
]]&gt;
</signatures>
</dwr></p>
<p><signatures><em>**</em>标签是用来声明java方法中List、Set或者Map参数所包含的确切类，以便java代码作出判断。
7.2、javascript中调用(以返回List为例，List的元素为TestBean)
首先，引入javascript脚本
其次，编写调用java方法的javascript函数
Function callTestMethod7(){
//定义要传到java方法中的参数
       var data;
       //构造参数，date实际上是一个object数组，即数组的每个元素均为object
data = [
                       {
                          username:&quot;user1&quot;,
                          password:&quot;password2&quot;
                       },
                       {
                          username:&quot;user2&quot;,
                          password:&quot; password2&quot;
                       }
                   ];
       testClass.testMethod7(data);
}
注意：
1、对于第6种情况，如果java方法的返回值为Map，则在接收该返回值的javascript回调函数中如下处理：
function callBackFortestMethod(data){
            //其中date接收方法的返回值
            for(var property in data){
                   var bean = data[property];
                   alert(bean.username);
                   alert(bean.password);
               }
}
2、对于第7种情况，如果java的方法的参数为Map（假设其key为String，value为TestBean），则在调用该方法的javascript函数中用如下方法构造要传递的参数：
function callTestMethod (){
               //定义要传到java方法中的参数
               var data;
               //构造参数，date实际上是一个object，其属性名为Map的key，属性值为Map的value
               data = {
                          &quot;key1&quot;:{
                              username:&quot;user1&quot;,
                             password:&quot;password2&quot;
                          },
                          &quot;key2&quot;:{
                             username:&quot;user2&quot;,
                             password:&quot; password2&quot;
                          }
                      };
               testClass.testMethod(data);
}
并且在dwr.xml中增加如下的配置段</p>
<p><signatures>
&lt;![CDATA[
import java.util.List;
import com.dwr.TestClass;
import com.dwr.TestBean;
TestClass.testMethod7(Map<String,TestBean>);
]]&gt;
</signatures>
3、由以上可以发现，对于java方法的返回值为List(Set)的情况，DWR将其转化为Object数组，传递个javascript；对于java方法的返回值为Map的情况，DWR将其转化为一个Object，其中Object的属性为原Map的key值，属性值为原Map相应的value值。
4、如果java方法的参数为List(Set)和Map的情况，javascript中也要根据3种所说，构造相应的javascript数据来传递到java中。**</p>
<p><strong>======================================================================================</strong></p>
<p><a href=""></a><strong>Scripting Introduction</strong></p>
<p><strong>DWR**</strong>根据dwr.xml生成和Java代码类似的Javascript代码。**</p>
<p><strong>相对而言Java同步调用，创建与Java代码匹配的Ajax远程调用接口的最大挑战来至与实现Ajax的异步调用特性。</strong></p>
<p><strong>DWR**</strong>通过引入回调函数来解决这个问题，当结果被返回时，DWR会调用这个函数。**</p>
<p><strong>有两种推荐的方式来使用DWR实现远程方法调用。可以通过把回调函数放在参数列表里，也可以把回调函数放到元数据对象里。</strong></p>
<p><strong>当然也可以把回调函数做为第一个参数，但是不建议使用这种方法。因为这种方法在处理</strong><a href="http://wiki.javascud.org/display/dwrcn/Accessing+Servlet+Objects" title="Accessing Servlet Objects" target="_blank">自动处理http对象</a><strong>时(查看&quot;Alternative Method&quot;)上会有问题。这个方法主要是为向下兼容而存在的。</strong></p>
<p><a href=""></a><strong>简单的回调函数</strong></p>
<p><strong>假设你有一个这样的Java方法：</strong></p>
<p><strong>public class Remote {    public String getData(int index) { ... }}</strong></p>
<p><strong>我们可以在Javascript中这样使用：</strong></p>
<p><strong><script type="text/javascript"    src="[WEBAPP]/dwr/interface/Remote.js"> </script><script type="text/javascript"    src="[WEBAPP]/dwr/engine.js"> </script>...function handleGetData(str) {  alert(str);}Remote.getData(42, handleGetData);</strong></p>
<p><strong>42**</strong>是Java方法getData()的一个参数。**</p>
<p><strong>此外你也可以使用这种减缩格式：</strong></p>
<p><strong>Remote.getData**</strong>(42, function(str) { alert(str); });**</p>
<p><a href=""></a><strong>调用元数据对象(Meta-Data)</strong></p>
<p><strong>另外一种语法时使用&quot;调用元数据对象&quot;来指定回调函数和其他的选项。上面的例子可以写成这样：</strong></p>
<p><strong>Remote.getData**</strong>(42, {  callback:function(str) { alert(str); }});**</p>
<p><strong>这种方法有很多优点：易于阅读，更重要的指定额外的调用选项。</strong></p>
<p><a href=""></a><strong>超时和错误处理</strong></p>
<p><strong>在回调函数的元数据中你可以指定超时和错误的处理方式。例如：</strong></p>
<p><strong>Remote.getData**</strong>(42, {  callback:function(str) { alert(str); },  timeout:5000,  errorHandler:function(message) { alert(&quot;Oops: &quot; + message); }});**</p>
<p><a href=""></a><strong>查找回调函数</strong></p>
<p><strong>有些情况下我们很难区分各种回调选项(记住，Javascript是不支持函数重载的)。例如：</strong></p>
<p><strong>Remote.method**</strong>({ timeout:3 }, { errorHandler:somefunc });**</p>
<p><strong>这两个参数之一是bean的参数，另一个是元数据对象，但是我们不能清楚的告诉DWR哪个是哪个。为了可以跨浏览器，我们假定null == undefined。 所以当前的情况，规则是：</strong></p>
<ul>
<li><strong>如果第一个或最后一个是一个函数，那么它就是回调函数，没有元数据对象，并且其他参数都是Java的方法参数。</strong></li>
<li><strong>另外，如果最后一个参数是一个对象，这个对象中有一个callback成员，并且它是个函数，那么这个对象就是元数据对象，其他的都是Java方法参数。</strong></li>
<li><strong>另外，如果第一个参数是 null ，我们就假设没有回调函数，并且其他的都是Java方法参数。尽管如此，我们会检查最后一个参数是不是null，如果是就发出警告。</strong></li>
<li><strong>最后如果最后一个参数是null，那么就没有callback函数。</strong></li>
<li><strong>另外，发出错误信号是个糟糕的请求格式。</strong></li>
</ul>
<p><a href=""></a><strong>创造一个与Java对象匹配的Javascript对象</strong></p>
<p><strong>假设你有这样的Java方法：</strong></p>
<p><strong>public class Remote {  public void setPerson(Person p) {    this.person = p;  }}</strong></p>
<p><strong>Person**</strong>对象的结构是这样的：**</p>
<p><strong>public Person {  private String name;  private int age;  private Date[] appointments;  // getters and setters ...}</strong></p>
<p><strong>那么你可以在Javascript中这样写：</strong></p>
<p><strong>var**</strong>p = {  name:&quot;Fred Bloggs&quot;,  age:42,  appointments:[ new Date(), new Date(&quot;1 Jan 2008&quot;) ]};Remote.setPerson(p);**</p>
<p><strong>在Javascript没有出现的字段，在Java中就不会被设置。</strong></p>
<p><strong>因为setter都是返回&#39;void&#39;，我们就不需要使用callback函数了。如果你想要一个返回void的服务端方法的完整版，你也可以加上callback函数。很明显DWR不会向它传递任何参数。</strong></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_集合/">Java_集合</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_集合/" class="label label-success">Java_集合</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--DWR如何获得返回对象listMapSetlist/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_集合--DWR如何获得返回对象listMapSetlist" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--Hash表分析以及Java实现/">Hash表分析以及Java实现</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--Hash表分析以及Java实现/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="hash-java-">Hash表分析以及Java实现</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">新闻</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/job" target="_blank">招聘</a> <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.iteye.com/wiki" target="_blank">专栏</a>  <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://java-mzd.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.iteye.com/all" target="_blank">我的应用</a> <a href="http://java-mzd.iteye.com/login" target="_blank">登录</a> <a href="http://java-mzd.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-java-mzd-http-java-mzd-iteye-com-"><a href="http://java-mzd.iteye.com/" target="_blank">java-mzd</a></h1>
<p>永久域名 <a href="http://java-mzd.iteye.com/" target="_blank"><a href="http://java-mzd.iteye.com">http://java-mzd.iteye.com</a></a></p>
<p><a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">8顶</a>
<a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">3踩</a></p>
<p><a href="http://java-mzd.iteye.com/blog/829890" title="简单Spring容器实现" target="_blank">简单Spring容器实现</a> | <a href="http://java-mzd.iteye.com/blog/826692" title="查找表分析（总论）" target="_blank">查找表分析（总论）</a></p>
<p>2010-11-29</p>
<h3 id="-hash-java-"><a href="">Hash表分析以及Java实现</a></h3>
<p><strong>文章分类:<a href="http://www.iteye.com/blogs/category/tech" target="_blank">综合技术</a></strong>
       这篇博客主要探讨<strong>Hash表</strong>中的一些原理/概念，及根据这些原理/概念，自己设计一个用来存放/查找数据的Hash表，并且与JDK中的HashMap类进行比较。</p>
<p>我们分一下七个步骤来进行。 </p>
<p><strong>一。    **</strong>Hash<strong>**表概念</strong></p>
<hr>
<p><strong>二 .      **</strong>Hash<strong>**构造函数的方法，及适用范围</strong></p>
<hr>
<p><strong>三.**</strong>      <strong><strong>Hash</strong></strong>处理冲突方法，各自特征**</p>
<hr>
<p><strong>四.**</strong>      <strong><strong>Hash</strong></strong>查找过程**</p>
<hr>
<p><strong>五.**</strong>      <strong><strong>实现一个使用</strong></strong>Hash<strong><strong>存数据的场景</strong></strong>-------Hash<strong>**查找算法，插入算法</strong></p>
<hr>
<p><strong>六.**</strong>      <strong><strong>JDK</strong></strong>中<strong><strong>HashMap</strong></strong>的实现**</p>
<hr>
<p><strong>七.**</strong>      <strong><strong>Hash</strong></strong>表与<strong><strong>HashMap</strong></strong>的对比，性能分析**</p>
<p> <strong>一。    **</strong>Hash<strong>**表概念 </strong></p>
<pre><code>           在查找表中我们已经说过，在Hash表中，**记录在表中的位置和其关键字之间存在着一种确定的关系**。这样       我们就能预先知道所查关键字在表中的位置，从而直接通过下标找到记录。使ASL趋近与0.



          1) ** **哈希(Hash)函数是一个映象，即： 将关键字的集合映射到某个地址集合上，它的设置很灵活，只要这个地       址集合的大小不超出允许范围即可；

         2)  由于哈希函数是一个压缩映象，因此，在一般情况下，很容易产生“冲突”现象，即： key1¹ key2，而  f            (key1) = f(key2)。

          3).  只能尽量减少冲突而不能完全避免冲突，这是因为通常关键字集合比较大，其元素包括所有可能的关键字，       而地址集合的元素仅为哈希表中的地址值



   在构造这种特殊的“查找表” 时，除了需要选择一个**“好”(尽可能少产生冲突)**的哈希函数之外；还需要找到一      种**“处理冲突”** 的方法。
</code></pre><p><strong>二 .    **</strong>Hash<strong>**构造函数的方法，及适用范围</strong></p>
<ul>
<li><strong>直接定址法</strong></li>
<li><strong>数字分析法</strong></li>
<li><strong>平方取中法</strong></li>
<li><strong>折叠法</strong></li>
<li><strong>除留余数法</strong></li>
<li><strong>随机数法</strong>      </li>
</ul>
<pre><code>  （1）直接定址法：

            哈希函数为关键字的线性函数，H(key) = key 或者 H(key) = a ´ key + b

          **此法仅适合于**：地址集合的大小 = = 关键字集合的大小，其中a和b为常数。

 （2）数字分析法：

         假设关键字集合中的每个关键字都是由 s 位数字组成 (u1, u2, …, us)，分析关键字集中的全体，                  并从中提取分布均匀的若干位或它们的组合作为地址。

         **此法适于:**能预先估计出全体关键字的每一位上各种数字出现的频度。

 （3）平方取中法：

           以关键字的平方值的中间几位作为存储地址。求“关键字的平方值” 的目的是“扩大差别” ，同                    时平方值的中间各位又能受到整个关键字中各位的影响。

         **此法适于:**关键字中的每一位都有某些数字重复出现频度很高的现象。

 （4）折叠法：

        将关键字分割成若干部分，然后取它们的叠加和为哈希地址。两种叠加处理的方法：移位叠加:将分                割后的几部分低位对齐相加；间界叠加:从一端沿分割界来回折叠，然后对齐相加。

        **此法适于：**关键字的数字位数特别多。

 （5）除留余数法：

         设定哈希函数为:H(key) = key MOD p   ( p≤m )，其中， m为表长，p 为不大于 m 的素数，或                 是不含 20 以下的质因子

 （6）随机数法：

       设定哈希函数为:H(key) = Random(key)其中，Random 为伪随机函数

       **此法适于：**对长度不等的关键字构造哈希函数。



     实际造表时，采用何种构造哈希函数的方法取决于建表的关键字集合的情况(包括关键字的范围和形态)，以及哈希表    长度（哈希地址范围），**总的原则是使产生冲突的可能性降到尽可能地小。**
</code></pre><p><strong>三.**</strong>      <strong><strong>Hash</strong></strong>处理冲突方法，各自特征**</p>
<p> <strong>“**</strong>处理冲突”<strong><strong>的实际含义是：</strong></strong>为产生冲突的关键字寻找下一个哈希地址。**</p>
<ul>
<li><strong> **</strong>开放定址法**</li>
<li><strong> **</strong>再哈希法**</li>
<li><strong> **</strong>链地址法**</li>
</ul>
<hr>
<pre><code>  （1）开放定址法：

           为产生冲突的关键字地址 H(key) 求得一个地址序列： H0, H1, H2, …, Hs  1≤s≤m-1，Hi = ( H(key)                  +di  ) MOD m，其中： i=1, 2, …, s，H(key)为哈希函数;m为哈希表长;



  （2）链地址法：
</code></pre><p><img src="" alt=""></p>
<pre><code>         将所有哈希地址相同的记录都链接在同一链表中。



  （3）再哈希法：

           方法：构造若干个哈希函数，当发生冲突时，根据另一个哈希函数计算下一个哈希地址，直到冲突不再发                  生。即：Hi=Rhi(key)     i=1,2,……k，其中：Rhi——不同的哈希函数，特点：计算时间增加****
</code></pre><p> <strong>四.**</strong>      <strong><strong>Hash</strong></strong>查找过程**</p>
<p><img src="" alt=""></p>
<p><strong> </strong>      对于给定值 K,计算哈希地址 i = H(K)，若 r[i] = NULL  则查找不成功，若 r[i].key = K  则查找成功， 否则 “求     下一地址 Hi” ，直至r[Hi] = NULL  (查找不成功)  或r[Hi].key = K  (查找成功) 为止。</p>
<p> <strong>五.**</strong>      <strong><strong>实现一个使用</strong></strong>Hash<strong><strong>存数据的场景</strong></strong>-------Hash<strong>**查找算法，插入算法</strong></p>
<pre><code>     假设我们要设计的是一个用来保存中南大学所有在校学生个人信息的数据表。因为在校学生数量也不是特别巨大(8W?)，每个学生的学号是唯一的,因此，我们可以简单的应用直接定址法，声明一个10W大小的数组，每个学生的学号作为主键。然后每次要添加或者查找学生，只需要根据需要去操作即可。

  但是，显然这样做是**很脑残**的。这样做系统的可拓展性和复用性就非常差了，比如有一天人数超过10W了？如果是用来保存别的数据呢？或者我只需要保存20条记录呢？声明大小为10W的数组显然是太浪费了的。



 如果我们是用来保存大数据量（比如银行的用户数，4大的用户数都应该有3-5亿了吧？），这时候我们计算出来的HashCode就很可能会有冲突了， 我们的系统应该有“处理冲突”的能力，此处我们**通过挂链法“处理冲突”**。



 如果我们的数据量非常巨大，并且还持续在增加，如果我们仅仅只是通过挂链法来处理冲突，可能我们的链上挂了上万个数据后，这个时候再通过静态搜索来查找链表，显然性能也是非常低的。所以我们的系统应该还能实现自动扩容，**当容量达到某比例后，即自动扩容，使装载因子保存在一个固定的水平上**。
</code></pre><p>综上所述，我们对这个Hash容器的基本要求应该有如下几点：</p>
<pre><code>         **满足Hash表的查找要求（废话）**
</code></pre><hr>
<p><strong>             能支持从小数据量到大数据量的自动转变（自动扩容）</strong></p>
<hr>
<p><strong>             使用挂链法解决冲突</strong></p>
<p>好了，既然都分析到这一步了，咱就闲话少叙，直接开始上代码吧。</p>
<p>Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>package cn.javamzd.collection.search;  </li>
<li></li>
<li>public class MyMap<K, V> {  </li>
<li>private int size;// 当前容量  </li>
<li>private static int INIT_CAPACITY = 16;// 默认容量  </li>
<li>private Entry<K, V>[] container;// 实际存储数据的数组对象  </li>
<li>private static float LOAD_FACTOR = 0.75f;// 装载因子  </li>
<li>private int max;// 能存的最大的数=capacity/*factor  </li>
<li></li>
<li>// 自己设置容量和装载因子的构造器  </li>
<li>public MyMap(int init_Capaticy, float load_factor) {  </li>
<li>if (init_Capaticy &lt; 0)  </li>
<li>throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot;  </li>
<li><ul>
<li>init_Capaticy);  </li>
</ul>
</li>
<li>if (load_factor &lt;= 0 || Float.isNaN(load_factor))  </li>
<li>throw new IllegalArgumentException(&quot;Illegal load factor: &quot;  </li>
<li><ul>
<li>load_factor);  </li>
</ul>
</li>
<li>this.LOAD_FACTOR = load_factor;  </li>
<li>max = (int) (init_Capaticy /* load_factor);  </li>
<li>container = new Entry[init_Capaticy];  </li>
<li>}  </li>
<li></li>
<li>// 使用默认参数的构造器  </li>
<li>public MyMap() {  </li>
<li>this(INIT_CAPACITY, LOAD_FACTOR);  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 存 </li>
<li>/*  </li>
<li>/* @param k </li>
<li>/* @param v </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public boolean put(K k, V v) {  </li>
<li>// 1.计算K的hash值  </li>
<li>// 因为自己很难写出对不同的类型都适用的Hash算法，故调用JDK给出的hashCode()方法来计算hash值  </li>
<li>int hash = k.hashCode();  </li>
<li>//将所有信息封装为一个Entry  </li>
<li>Entry<K,V> temp=new Entry(k,v,hash);  </li>
<li>if(setEntry(temp, container)){  </li>
<li>// 大小加一  </li>
<li>size++;  </li>
<li>return true;  </li>
<li>}  </li>
<li>return false;  </li>
<li>}  </li>
<li></li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 扩容的方法 </li>
<li>/*  </li>
<li>/* @param newSize </li>
<li>/*            新的容器大小 </li>
<li>/*/  </li>
<li>private void reSize(int newSize) {  </li>
<li>// 1.声明新数组  </li>
<li>Entry<K, V>[] newTable = new Entry[newSize];  </li>
<li>max = (int) (newSize /* LOAD_FACTOR);  </li>
<li>// 2.复制已有元素,即遍历所有元素，每个元素再存一遍  </li>
<li>for (int j = 0; j &lt; container.length; j++) {  </li>
<li>Entry<K, V> entry = container[j];  </li>
<li>//因为每个数组元素其实为链表，所以…………  </li>
<li>while (null != entry) {  </li>
<li>setEntry(entry, newTable);  </li>
<li>entry = entry.next;  </li>
<li>}  </li>
<li>}  </li>
<li>// 3.改变指向  </li>
<li>container = newTable;  </li>
<li></li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/*将指定的结点temp添加到指定的hash表table当中 </li>
<li>/* 添加时判断该结点是否已经存在 </li>
<li>/* 如果已经存在，返回false </li>
<li>/* 添加成功返回true </li>
<li>/* @param temp </li>
<li>/* @param table </li>
<li>/* @return </li>
<li>/*/  </li>
<li>private boolean setEntry(Entry<K,V> temp,Entry[] table){  </li>
<li>// 根据hash值找到下标  </li>
<li>int index = indexFor(temp.hash, table.length);  </li>
<li>//根据下标找到对应元素  </li>
<li>Entry<K, V> entry = table[index];  </li>
<li>// 3.若存在  </li>
<li>if (null != entry) {  </li>
<li>// 3.1遍历整个链表，判断是否相等  </li>
<li>while (null != entry) {  </li>
<li>//判断相等的条件时应该注意，除了比较地址相同外，引用传递的相等用equals()方法比较  </li>
<li>//相等则不存，返回false  </li>
<li>if ((temp.key == entry.key||temp.key.equals(entry.key)) &amp;&amp; temp.hash == entry.hash&amp;&amp;(temp.value==entry.value||temp.value.equals(entry.value))) {  </li>
<li>return false;  </li>
<li>}  </li>
<li>//不相等则比较下一个元素  </li>
<li>else if (temp.key != entry.key &amp;&amp; temp.value != entry.value) {  </li>
<li>//到达队尾，中断循环  </li>
<li>if(null==entry.next){  </li>
<li>break;  </li>
<li>}  </li>
<li>// 没有到达队尾，继续遍历下一个元素  </li>
<li>entry = entry.next;  </li>
<li>}  </li>
<li>}  </li>
<li>// 3.2当遍历到了队尾，如果都没有相同的元素，则将该元素挂在队尾  </li>
<li>addEntry2Last(entry,temp);  </li>
<li></li>
<li>}  </li>
<li>// 4.若不存在,直接设置初始化元素  </li>
<li>setFirstEntry(temp,index,table);  </li>
<li>return true;  </li>
<li>}  </li>
<li></li>
<li>private void addEntry2Last(Entry<K, V> entry, Entry<K, V> temp) {  </li>
<li>if (size &gt; max) {  </li>
<li>reSize(container.length /* 4);  </li>
<li>}  </li>
<li>entry.next=temp;  </li>
<li></li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 将指定结点temp，添加到指定的hash表table的指定下标index中 </li>
<li>/* @param temp </li>
<li>/* @param index </li>
<li>/* @param table </li>
<li>/*/  </li>
<li>private void setFirstEntry(Entry<K, V> temp, int index, Entry[] table) {  </li>
<li>// 1.判断当前容量是否超标，如果超标，调用扩容方法  </li>
<li>if (size &gt; max) {  </li>
<li>reSize(table.length /* 4);  </li>
<li>}  </li>
<li>// 2.不超标，或者扩容以后，设置元素  </li>
<li>table[index] = temp;  </li>
<li>//！！！！！！！！！！！！！！！  </li>
<li>//因为每次设置后都是新的链表，需要将其后接的结点都去掉  </li>
<li>//NND，少这一行代码卡了哥哥7个小时（代码重构）  </li>
<li>temp.next=null;  </li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 取 </li>
<li>/*  </li>
<li>/* @param k </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public V get(K k) {  </li>
<li>Entry<K, V> entry = null;  </li>
<li>// 1.计算K的hash值  </li>
<li>int hash = k.hashCode();  </li>
<li>// 2.根据hash值找到下标  </li>
<li>int index = indexFor(hash, container.length);  </li>
<li>// 3。根据index找到链表  </li>
<li>entry = container[index];  </li>
<li>// 3。若链表为空，返回null  </li>
<li>if (null == entry) {  </li>
<li>return null;  </li>
<li>}  </li>
<li>// 4。若不为空，遍历链表，比较k是否相等,如果k相等，则返回该value  </li>
<li>while (null != entry) {  </li>
<li>if (k == entry.key||entry.key.equals(k)) {  </li>
<li>return entry.value;  </li>
<li>}  </li>
<li>entry = entry.next;  </li>
<li>}  </li>
<li>// 如果遍历完了不相等，则返回空  </li>
<li>return null;  </li>
<li></li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 根据hash码，容器数组的长度,计算该哈希码在容器数组中的下标值 </li>
<li>/*  </li>
<li>/* @param hashcode </li>
<li>/* @param containerLength </li>
<li>/* @return </li>
<li>/*/  </li>
<li>public int indexFor(int hashcode, int containerLength) {  </li>
<li>return hashcode &amp; (containerLength - 1);  </li>
<li></li>
<li>}  </li>
<li></li>
<li>//<em>/</em> </li>
<li>/* 用来实际保存数据的内部类,因为采用挂链法解决冲突，此内部类设计为链表形式 </li>
<li>/*  </li>
<li>/* @param <K>key </li>
<li>/* @param <V> </li>
<li>/*            value </li>
<li>/*/  </li>
<li>class Entry<K, V> {  </li>
<li>Entry<K, V> next;// 下一个结点  </li>
<li>K key;// key  </li>
<li>V value;// value  </li>
<li>int hash;// 这个key对应的hash码，作为一个成员变量，当下次需要用的时候可以不用重新计算  </li>
<li></li>
<li>// 构造方法  </li>
<li>Entry(K k, V v, int hash) {  </li>
<li>this.key = k;  </li>
<li>this.value = v;  </li>
<li>this.hash = hash;  </li>
<li></li>
<li>}  </li>
<li></li>
<li>//相应的getter()方法  </li>
<li></li>
<li>}  </li>
<li>}<br>package cn.javamzd.collection.search; public class MyMap<K, V> { private int size;// 当前容量 private static int INIT_CAPACITY = 16;// 默认容量 private Entry<K, V>[] container;// 实际存储数据的数组对象 private static float LOAD_FACTOR = 0.75f;// 装载因子 private int max;// 能存的最大的数=capacity/<em>factor // 自己设置容量和装载因子的构造器 public MyMap(int init_Capaticy, float load_factor) { if (init_Capaticy &lt; 0) throw new IllegalArgumentException(&quot;Illegal initial capacity: &quot; + init_Capaticy); if (load_factor &lt;= 0 || Float.isNaN(load_factor)) throw new IllegalArgumentException(&quot;Illegal load factor: &quot; + load_factor); this.LOAD_FACTOR = load_factor; max = (int) (init_Capaticy /</em> load_factor); container = new Entry[init_Capaticy]; } // 使用默认参数的构造器 public MyMap() { this(INIT_CAPACITY, LOAD_FACTOR); } //<em>/</em> /<em> 存 /</em> /<em> @param k /</em> @param v /<em> @return /</em>/ public boolean put(K k, V v) { // 1.计算K的hash值 // 因为自己很难写出对不同的类型都适用的Hash算法，故调用JDK给出的hashCode()方法来计算hash值 int hash = k.hashCode(); //将所有信息封装为一个Entry Entry<K,V> temp=new Entry(k,v,hash); if(setEntry(temp, container)){ // 大小加一 size++; return true; } return false; } //<em>/</em> /<em> 扩容的方法 /</em> /<em> @param newSize /</em> 新的容器大小 /<em>/ private void reSize(int newSize) { // 1.声明新数组 Entry<K, V>[] newTable = new Entry[newSize]; max = (int) (newSize /</em> LOAD_FACTOR); // 2.复制已有元素,即遍历所有元素，每个元素再存一遍 for (int j = 0; j &lt; container.length; j++) { Entry<K, V> entry = container[j]; //因为每个数组元素其实为链表，所以………… while (null != entry) { setEntry(entry, newTable); entry = entry.next; } } // 3.改变指向 container = newTable; } //<em>/</em> /<em>将指定的结点temp添加到指定的hash表table当中 /</em> 添加时判断该结点是否已经存在 /<em> 如果已经存在，返回false /</em> 添加成功返回true /<em> @param temp /</em> @param table /<em> @return /</em>/ private boolean setEntry(Entry<K,V> temp,Entry[] table){ // 根据hash值找到下标 int index = indexFor(temp.hash, table.length); //根据下标找到对应元素 Entry<K, V> entry = table[index]; // 3.若存在 if (null != entry) { // 3.1遍历整个链表，判断是否相等 while (null != entry) { //判断相等的条件时应该注意，除了比较地址相同外，引用传递的相等用equals()方法比较 //相等则不存，返回false if ((temp.key == entry.key||temp.key.equals(entry.key)) &amp;&amp; temp.hash == entry.hash&amp;&amp;(temp.value==entry.value||temp.value.equals(entry.value))) { return false; } //不相等则比较下一个元素 else if (temp.key != entry.key &amp;&amp; temp.value != entry.value) { //到达队尾，中断循环 if(null==entry.next){ break; } // 没有到达队尾，继续遍历下一个元素 entry = entry.next; } } // 3.2当遍历到了队尾，如果都没有相同的元素，则将该元素挂在队尾 addEntry2Last(entry,temp); } // 4.若不存在,直接设置初始化元素 setFirstEntry(temp,index,table); return true; } private void addEntry2Last(Entry<K, V> entry, Entry<K, V> temp) { if (size &gt; max) { reSize(container.length /<em> 4); } entry.next=temp; } //</em>/<em> /</em> 将指定结点temp，添加到指定的hash表table的指定下标index中 /<em> @param temp /</em> @param index /<em> @param table /</em>/ private void setFirstEntry(Entry<K, V> temp, int index, Entry[] table) { // 1.判断当前容量是否超标，如果超标，调用扩容方法 if (size &gt; max) { reSize(table.length /<em> 4); } // 2.不超标，或者扩容以后，设置元素 table[index] = temp; //！！！！！！！！！！！！！！！ //因为每次设置后都是新的链表，需要将其后接的结点都去掉 //NND，少这一行代码卡了哥哥7个小时（代码重构） temp.next=null; } //</em>/<em> /</em> 取 /<em> /</em> @param k /<em> @return /</em>/ public V get(K k) { Entry<K, V> entry = null; // 1.计算K的hash值 int hash = k.hashCode(); // 2.根据hash值找到下标 int index = indexFor(hash, container.length); // 3。根据index找到链表 entry = container[index]; // 3。若链表为空，返回null if (null == entry) { return null; } // 4。若不为空，遍历链表，比较k是否相等,如果k相等，则返回该value while (null != entry) { if (k == entry.key||entry.key.equals(k)) { return entry.value; } entry = entry.next; } // 如果遍历完了不相等，则返回空 return null; } //<em>/</em> /<em> 根据hash码，容器数组的长度,计算该哈希码在容器数组中的下标值 /</em> /<em> @param hashcode /</em> @param containerLength /<em> @return /</em>/ public int indexFor(int hashcode, int containerLength) { return hashcode &amp; (containerLength - 1); } //<em>/</em> /<em> 用来实际保存数据的内部类,因为采用挂链法解决冲突，此内部类设计为链表形式 /</em> /<em> @param <K>key /</em> @param <V> /<em> value /</em>/ class Entry<K, V> { Entry<K, V> next;// 下一个结点 K key;// key V value;// value int hash;// 这个key对应的hash码，作为一个成员变量，当下次需要用的时候可以不用重新计算 // 构造方法 Entry(K k, V v, int hash) { this.key = k; this.value = v; this.hash = hash; } //相应的getter()方法 } }</li>
</ol>
<p> 代码中有相当清楚的注释了</p>
<p>在文章的最后这里，我要强烈的宣泄下感情</p>
<p>MLGBD，本来以为分析的挺到位了，写出这个东西也就最多需要个把小时吧</p>
<p>结果因为通宵作业，脑袋运转不灵</p>
<p>硬是花了哥三个小时才写出了</p>
<p>好不容易些出来了</p>
<p>我日</p>
<p>看着代码比较混乱</p>
<p>然后就对代码重构了下</p>
<p>把逻辑抽象清楚，进行重构就花了个多小时</p>
<p>好不容易构造好了</p>
<p>就开始了TMD的一直报错了----------大数据量测试时到大概5000就死循环了</p>
<p>各种调试，各种分析都觉得没错误</p>
<p> 最后花了哥7个小时终于找出来了</p>
<p>我擦</p>
<p>第一次初始化加的时候，因为每个元素的next都是空的</p>
<p>而扩充容量resize()时，因为冲突处理是链式结构的</p>
<p>当将他们重新hash添加的时候，重复的这些鸟元素的next是有元素的</p>
<p>一定要设置为null</p>
<p><strong>七.性能分析：</strong></p>
<pre><code>  1.因为冲突的存在，其查找长度不可能达到O(1)

  2哈希表的平均查找长度是装载因子a 的函数，而不是 n 的函数。

  3.用哈希表构造查找表时，可以选择一个适当的装填因子  ，使得平均查找长度限定在某个范围内。
</code></pre><p>   最后给出我们这个HashMap的性能</p>
<p>  测试代码
Java代码  <a href="&quot;收藏这段代码&quot;"><img src="" alt="收藏代码"><img src="" alt=""></a></p>
<ol>
<li>public class Test {  </li>
<li></li>
<li>public static void main(String[] args) {  </li>
<li>MyMap<String, String> mm = new MyMap<String, String>();   </li>
<li>Long aBeginTime=System.currentTimeMillis();//记录BeginTime  </li>
<li>for(int i=0;i&lt;1000000;i++){  </li>
<li>mm.put(&quot;&quot;+i, &quot;&quot;+i/*100);  </li>
<li>}  </li>
<li>Long aEndTime=System.currentTimeMillis();//记录EndTime  </li>
<li>System.out.println(&quot;insert time--&gt;&quot;+(aEndTime-aBeginTime));  </li>
<li></li>
<li>Long lBeginTime=System.currentTimeMillis();//记录BeginTime  </li>
<li>mm.get(&quot;&quot;+100000);  </li>
<li>Long lEndTime=System.currentTimeMillis();//记录EndTime  </li>
<li>System.out.println(&quot;seach time---&gt;&quot;+(lEndTime-lBeginTime));  </li>
<li>}  </li>
<li><p>}<br>public class Test { public static void main(String[] args) { MyMap<String, String> mm = new MyMap<String, String>(); Long aBeginTime=System.currentTimeMillis();//记录BeginTime for(int i=0;i&lt;1000000;i++){ mm.put(&quot;&quot;+i, &quot;&quot;+i/*100); } Long aEndTime=System.currentTimeMillis();//记录EndTime System.out.println(&quot;insert time--&gt;&quot;+(aEndTime-aBeginTime)); Long lBeginTime=System.currentTimeMillis();//记录BeginTime mm.get(&quot;&quot;+100000); Long lEndTime=System.currentTimeMillis();//记录EndTime System.out.println(&quot;seach time---&gt;&quot;+(lEndTime-lBeginTime)); } }</p>
<p>100W个数据时，全部存储时间为1S多一点，而<strong>搜寻时间为0 </strong></p>
</li>
</ol>
<p>insert time--&gt;1536
seach time---&gt;0</p>
<p>好了，牢骚发完了</p>
<p>本来今天想写个<strong>有关大访问量处理的一些基本概念</strong>的文章</p>
<p>全泡汤了,明天写吧</p>
<p><a href="http://java-mzd.iteye.com/blog/827523#"><strong>8</strong>
顶</a><a href="http://java-mzd.iteye.com/blog/827523#"><strong>3</strong>
踩</a>
<a href="http://java-mzd.iteye.com/blog/829890" title="简单Spring容器实现" target="_blank">简单Spring容器实现</a> | <a href="http://java-mzd.iteye.com/blog/826692" title="查找表分析（总论）" target="_blank">查找表分析（总论）</a></p>
<ul>
<li>01:46</li>
<li>浏览 (854)</li>
<li><a href="http://java-mzd.iteye.com/blog/827523#comments" target="_blank">评论</a> (8)</li>
<li>分类: <a href="http://java-mzd.iteye.com/category/133623" target="_blank">数据结构----------JAVA类集</a></li>
<li><a href="http://www.iteye.com/wiki/topic/827523" target="_blank">相关推荐</a><h3 id="-">评论</h3>
</li>
</ul>
<p><a href=""></a></p>
<p>8 楼 <a href="http://dengyi04405.iteye.com/" target="_blank">dengyi04405</a> 2010-12-16   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>错了...是mm.get(&quot;&quot;+36309) 为null，在最后resize的时候挂在9的一起，然后丢失了。
setEntry(entry, newTable);   ----entry在first时next=null
entry = entry.next;---永远是null
7 楼 <a href="http://dengyi04405.iteye.com/" target="_blank">dengyi04405</a> 2010-12-16   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>resize()好像还是有bug，挂在一个链地址下的数据resize时只能取出第一个，后面的数据就丢失了。
for(int i=0;i&lt;90000;i++) 循环后mm.get(&quot;&quot;+100000)   是null
不知道是不是，楼主看看<img src="" alt="">  </p>
<p>6 楼 <a href="http://java-mzd.iteye.com/" target="_blank">java_mzd</a> 2010-12-01   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>heng_aa 写道</p>
<p>无聊又测了一下，死循环是因为while没有这种情况的判断，我是加上这些代码的：
else if(temp.key == entry.key &amp;&amp; temp.value != entry.value) {
entry.value = temp.value;
return true;
}
还有我查找不到数据，应该是在109行那里少加了这句吧，return true;因为没有这句下面的setFirstEntry(temp,index,table); 还会执行。<br>看看是不是这样！！！
恩~~确实需要加上这个判断~
不然当传入相同的key不同的value的时候，不会覆盖掉原理的value
这时候linked里面就会有相同的key，不同的value，后面那个value就没意义了。
  只是，这样还是没有死循环吖。。囧
恩，无论如何，这个BUG是确实需要改进的。
5 楼 <a href="http://heng-aa.iteye.com/" target="_blank">heng_aa</a> 2010-11-30   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>无聊又测了一下，死循环是因为while没有这种情况的判断，我是加上这些代码的：
else if(temp.key == entry.key &amp;&amp; temp.value != entry.value) {
entry.value = temp.value;
return true;
}
还有我查找不到数据，应该是在109行那里少加了这句吧，return true;因为没有这句下面的setFirstEntry(temp,index,table); 还会执行。<br>看看是不是这样！！！</p>
<p>4 楼 <a href="http://java-mzd.iteye.com/" target="_blank">java_mzd</a> 2010-11-30   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>heng_aa 写道</p>
<p>我测试了一下，发现几个问题。如果放入相同的key不同的value,程序就死循环了！还有扩容后，indexFor（）的算值就不同了，也就是说通过这个算法查找不到值了。无聊试一下而已，不过我也学到了不少东西，看这些问题能不能改进？？
谢谢提醒哦
分几点分析吧
扩容后，通过indexFor()计算的值肯定是需要变化的啊，因为这个时候计算规则变了啊
需要把每个元素重新散列到数组里去啊，这时候通过get()再取的时候，计算的时候，indexFor()是按照新的数组大小来的，所以肯定还是能找到的啊
至于死循环的问题，在重构代码前我测试是正常的，重构后忘了测试这个问题了。。
囧。。。等晚上再测试下再回答你吧。
3 楼 <a href="http://heng-aa.iteye.com/" target="_blank">heng_aa</a> 2010-11-30   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>我测试了一下，发现几个问题。如果放入相同的key不同的value,程序就死循环了！还有扩容后，indexFor（）的算值就不同了，也就是说通过这个算法查找不到值了。无聊试一下而已，不过我也学到了不少东西，看这些问题能不能改进？？</p>
<p>2 楼 <a href="http://java-mzd.iteye.com/" target="_blank">java_mzd</a> 2010-11-29   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>smithfox 写道</p>
<p>好文，对动态大数据量的Hash处理很有用.
幸苦了，注意身体呀!
多谢关照~~
1 楼 <a href="http://smithfox.iteye.com/" target="_blank">smithfox</a> 2010-11-29   <a href="http://java-mzd.iteye.com/blog/827523#" target="_blank">引用</a></p>
<p>好文，对动态大数据量的Hash处理很有用.
幸苦了，注意身体呀!</p>
<h3 id="-">发表评论</h3>
<h3 id="-">表情图标</h3>
<p><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""></p>
<p>字体颜色: 标准深红红色橙色棕色黄色绿色橄榄青色蓝色深蓝靛蓝紫色灰色白色黑色 字体大小: 标准1 (xx-small)2 (x-small)3 (small)4 (medium)5 (large)6 (x-large)7 (xx-large) 对齐: 标准居左居中居右</p>
<p>提示：选择您需要装饰的文字, 按上列按钮即可添加上相应的标签</p>
<p>您还没有登录，请<a href="http://java-mzd.iteye.com/login" target="_blank">登录</a>后发表评论(快捷键 Alt+S / Ctrl+Enter)</p>
<p><a href="http://java-mzd.iteye.com/" target="_blank"><img src="&quot;java_mzd的博客: &quot;" alt="java_mzd的博客"></a></p>
<p>java_mzd</p>
<ul>
<li>浏览: 70475 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 长沙</li>
<li><img src="" alt=""></li>
<li><a href="http://java-mzd.iteye.com/blog/profile" target="_blank">详细资料</a> <a href="http://java-mzd.iteye.com/blog/guest_book" target="_blank">留言簿</a></li>
</ul>
<h3 id="-">搜索本博客</h3>
<h3 id="-http-java-mzd-iteye-com-blog-user_visits-">最近访客 <a href="http://java-mzd.iteye.com/blog/user_visits" target="_blank">&gt;&gt;更多访客</a></h3>
<p><a href="http://msnvip.iteye.com/" target="_blank"><img src="&quot;msnvip的博客: msnvip&quot;" alt="msnvip的博客"></a></p>
<p><a href="http://msnvip.iteye.com/" target="_blank">msnvip</a></p>
<p><a href="http://kai2008.iteye.com/" target="_blank"><img src="&quot;qinjingkai的博客: 开门见山&quot;" alt="qinjingkai的博客"></a></p>
<p><a href="http://kai2008.iteye.com/" target="_blank">qinjingkai</a>
<a href="http://yanxd.iteye.com/" target="_blank"><img src="&quot;yanxd的博客: &quot;" alt="yanxd的博客"></a></p>
<p><a href="http://yanxd.iteye.com/" target="_blank">yanxd</a></p>
<p><a href="http://luwei-yinzhijie-com.iteye.com/" target="_blank"><img src="&quot;_bulrush的博客: &quot;" alt="_bulrush的博客"></a></p>
<p><a href="http://luwei-yinzhijie-com.iteye.com/" target="_blank">_bulrush</a></p>
<h3 id="-">博客分类</h3>
<ul>
<li><a href="http://java-mzd.iteye.com/" target="_blank">全部博客 (43)</a></li>
<li><a href="http://java-mzd.iteye.com/category/133623" target="_blank">数据结构----------JAVA类集 (5)</a></li>
<li><p><a href="http://java-mzd.iteye.com/category/153171" target="_blank">TCP/IP (7)</a></p>
<h3 id="-http-java-mzd-iteye-com-blog-guest_book-">我的留言簿 <a href="http://java-mzd.iteye.com/blog/guest_book" target="_blank">&gt;&gt;更多留言</a></h3>
</li>
<li><p>楼主 你工作多久了。。。。
-- by <a href="http://java-mzd.iteye.com/blog/guest_book#39913" target="_blank">fanmingxing</a></p>
</li>
<li>写的不错，学习，谢谢！
-- by <a href="http://java-mzd.iteye.com/blog/guest_book#39693" target="_blank">chenge2k</a></li>
<li>看了LZ的文章，发现工作快两年的我，就像是一块浮起来的木头，真的很惭愧！也不怪我拿 ...
-- by <a href="http://java-mzd.iteye.com/blog/guest_book#39618" target="_blank">GoTiger</a></li>
</ul>
<h3 id="-">其他分类</h3>
<ul>
<li><a href="http://java-mzd.iteye.com/blog/favorite" target="_blank">我的收藏</a> (23)</li>
<li><a href="http://java-mzd.iteye.com/blog/code_favorite" target="_blank">我的代码</a> (0)</li>
<li><a href="http://java-mzd.iteye.com/blog/topic" target="_blank">我的论坛主题帖</a> (3)</li>
<li><a href="http://java-mzd.iteye.com/blog/post" target="_blank">我的所有论坛帖</a> (34)</li>
<li><p><a href="http://java-mzd.iteye.com/blog/article" target="_blank">我的精华良好帖</a> (0)</p>
<h3 id="-">最近加入群组</h3>
</li>
<li><p><a href="http://android.group.iteye.com/" target="_blank">Android</a></p>
</li>
</ul>
<h3 id="-">存档</h3>
<ul>
<li><a href="http://java-mzd.iteye.com/blog/monthblog/2011-05" target="_blank">2011-05</a> (2)</li>
<li><a href="http://java-mzd.iteye.com/blog/monthblog/2011-04" target="_blank">2011-04</a> (7)</li>
<li><a href="http://java-mzd.iteye.com/blog/monthblog/2011-03" target="_blank">2011-03</a> (2)</li>
<li><p><a href="http://java-mzd.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">评论排行榜</h3>
</li>
<li><p><a href="http://java-mzd.iteye.com/blog/1050043" title="腾讯、淘宝、金山网络，实习生我该何去何从" target="_blank">腾讯、淘宝、金山网络，实习生我该何去何从</a></p>
</li>
<li><a href="http://java-mzd.iteye.com/blog/1007577" title="TCP/IP传输层，你懂多少？" target="_blank">TCP/IP传输层，你懂多少？</a></li>
<li><a href="http://java-mzd.iteye.com/blog/1004784" title="淘宝武汉*面试归来" target="_blank">淘宝武汉/*面试归来</a></li>
<li><a href="http://java-mzd.iteye.com/blog/1050926" title="淘宝、金山网络，百感交集" target="_blank">淘宝、金山网络，百感交集</a></li>
<li><p><a href="http://java-mzd.iteye.com/blog/862787" title="开源软件？自由软件？免费软件？你了解多少？" target="_blank">开源软件？自由软件？免费软件？你了解多少 ...</a></p>
</li>
<li><p><a href="http://java-mzd.iteye.com/rss" target="_blank"><img src="" alt="Rss"></a></p>
</li>
<li><a href="http://fusion.google.com/add?feedurl=http://java-mzd.iteye.com/rss" target="_blank"><img src="" alt="Rss_google"></a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2011 ITeye.com. All rights reserved. [ 京ICP证110151号 ]
<img src="" alt=""></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_集合/">Java_集合</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_集合/" class="label label-success">Java_集合</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--Hash表分析以及Java实现/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_集合--Hash表分析以及Java实现" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--JAVA集合小结/">JAVA集合小结</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:40.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--JAVA集合小结/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java-">JAVA集合小结</h1>
<pre><code>[首页](http://www.blogjava.net/EvanLiu/)    [新随笔](http://www.blogjava.net/EvanLiu/admin/EditPosts.aspx?opt=1)    [联系](http://www.blogjava.net/EvanLiu/contact.aspx?id=1)    [聚合](http://www.blogjava.net/EvanLiu/rss)[![]()](http://www.blogjava.net/EvanLiu/rss)    [管理](http://www.blogjava.net/EvanLiu/admin/EditPosts.aspx)
</code></pre><p>随笔 - 37  文章 - 11  trackbacks - 0</p>
<h3 id="-">常用链接</h3>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/MyPosts.html" target="_blank">我的随笔</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/MyComments.html" target="_blank">我的评论</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/OtherPosts.html" target="_blank">我的参与</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/RecentComments.html" target="_blank">最新评论</a></li>
</ul>
<h3 id="-2-">留言簿(2)</h3>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/Contact.aspx?id=1" target="_blank">给我留言</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/default.aspx?opt=msg" target="_blank">查看公开留言</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/admin/MyMessages.aspx" target="_blank">查看私人留言</a></li>
</ul>
<h1 id="-">随笔分类</h1>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/category/28081.html" target="_blank">CSS(3)</a><a href="http://www.blogjava.net/EvanLiu/category/28081.html/rss" title="Subscribe to CSS(3)" target="_blank"><img src="&quot;Subscribe to CSS(3" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/30287.html" target="_blank">DB(3)</a><a href="http://www.blogjava.net/EvanLiu/category/30287.html/rss" title="Subscribe to DB(3)" target="_blank"><img src="&quot;Subscribe to DB(3" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/32587.html" target="_blank">EJB</a><a href="http://www.blogjava.net/EvanLiu/category/32587.html/rss" title="Subscribe to EJB" target="_blank"><img src="&quot;Subscribe to EJB&quot;" alt=""></a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/39491.html" target="_blank">Hibernate</a><a href="http://www.blogjava.net/EvanLiu/category/39491.html/rss" title="Subscribe to Hibernate" target="_blank"><img src="&quot;Subscribe to Hibernate&quot;" alt=""></a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/27635.html" target="_blank">HTML(3)</a><a href="http://www.blogjava.net/EvanLiu/category/27635.html/rss" title="Subscribe to HTML(3)" target="_blank"><img src="&quot;Subscribe to HTML(3" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/39492.html" target="_blank">ibatis</a><a href="http://www.blogjava.net/EvanLiu/category/39492.html/rss" title="Subscribe to ibatis" target="_blank"><img src="&quot;Subscribe to ibatis&quot;" alt=""></a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/27270.html" target="_blank">Java基础(11)</a><a href="http://www.blogjava.net/EvanLiu/category/27270.html/rss" title="Subscribe to Java基础(11)" target="_blank"><img src="&quot;Subscribe to Java基础(11" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/27535.html" target="_blank">JS(3)</a><a href="http://www.blogjava.net/EvanLiu/category/27535.html/rss" title="Subscribe to JS(3)" target="_blank"><img src="&quot;Subscribe to JS(3" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/27568.html" target="_blank">JSP(1)</a><a href="http://www.blogjava.net/EvanLiu/category/27568.html/rss" title="Subscribe to JSP(1)" target="_blank"><img src="&quot;Subscribe to JSP(1" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/26865.html" target="_blank">Spring(1)</a><a href="http://www.blogjava.net/EvanLiu/category/26865.html/rss" title="Subscribe to Spring(1)" target="_blank"><img src="&quot;Subscribe to Spring(1" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/26866.html" target="_blank">Struts(2)</a><a href="http://www.blogjava.net/EvanLiu/category/26866.html/rss" title="Subscribe to Struts(2)" target="_blank"><img src="&quot;Subscribe to Struts(2" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/26867.html" target="_blank">Struts2(1)</a><a href="http://www.blogjava.net/EvanLiu/category/26867.html/rss" title="Subscribe to Struts2(1)" target="_blank"><img src="&quot;Subscribe to Struts2(1" alt="">&quot;)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/32696.html" target="_blank">Swing</a><a href="http://www.blogjava.net/EvanLiu/category/32696.html/rss" title="Subscribe to Swing" target="_blank"><img src="&quot;Subscribe to Swing&quot;" alt=""></a></li>
<li><a href="http://www.blogjava.net/EvanLiu/category/29139.html" target="_blank">设计模式(7)</a><a href="http://www.blogjava.net/EvanLiu/category/29139.html/rss" title="Subscribe to 设计模式(7)" target="_blank"><img src="&quot;Subscribe to 设计模式(7" alt="">&quot;)</a></li>
</ul>
<h1 id="-">随笔档案</h1>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/03.html" target="_blank">2009年3月 (1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/02.html" target="_blank">2009年2月 (1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/08.html" target="_blank">2008年8月 (5)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/06.html" target="_blank">2008年6月 (2)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/05.html" target="_blank">2008年5月 (1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/04.html" target="_blank">2008年4月 (1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/03.html" target="_blank">2008年3月 (1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/02.html" target="_blank">2008年2月 (2)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/01.html" target="_blank">2008年1月 (7)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2007/12.html" target="_blank">2007年12月 (1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2007/11.html" target="_blank">2007年11月 (4)</a></li>
</ul>
<h3 id="-http-www-blogjava-net-evanliu-commentsrss-aspx-">最新评论 <a href="http://www.blogjava.net/EvanLiu/CommentsRSS.aspx" target="_blank"><img src="" alt=""></a></h3>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/11/17/188042.html#302714" target="_blank">1. re: Oracle分页SQL[未登录]</a></li>
<li>@aegean
select /* from bill_account_book where rownum &gt; 10 这个是明显的错误</li>
<li>--test</li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/11/16/188042.html#302607" target="_blank">2. re: Oracle分页SQL</a></li>
<li>我觉得你现在的第一条语句没什么错误啊</li>
<li>--aegean</li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/08/22/162799.html#292193" target="_blank">3. re: 一个失败了的需求--button模拟file提交数据</a></li>
<li>grdgvf</li>
<li>--htf</li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/04/27/188042.html#267749" target="_blank">4. re: Oracle分页SQL</a></li>
<li>收下了 正在愁人呢 不错 谢啦</li>
<li>--路人甲</li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/03/04/255272.html#257900" target="_blank">5. re: ThreadLocal学习</a></li>
<li>ThreadLocal的文章小弟这是第一次看到...
之前学hibernate的时候, myeclipse自动生成的SessionFactory里也看到这个方法, 呵 学习学习</li>
<li>--gouflv</li>
</ul>
<h3 id="-">阅读排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/08/31/224453.html" target="_blank">1. java.util.ConcurrentModificationException(5307)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/03/23/188042.html" target="_blank">2. Oracle分页SQL(3697)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/159884.html" target="_blank">3. JAVA集合小结(2831)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/06/15/207964.html" target="_blank">4. struts validate之ValidatorActionForm(709)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/06/16/208276.html" target="_blank">5. struts validate之ApplicationResources.properties内容读取乱码(570)</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/03/23/188042.html" target="_blank">1. Oracle分页SQL(6)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2008/04/08/189602.html" target="_blank">2. String StringBuffer(2)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2007/11/24/162799.html" target="_blank">3. 一个失败了的需求--button模拟file提交数据(1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/159884.html" target="_blank">4. JAVA集合小结(1)</a></li>
<li><a href="http://www.blogjava.net/EvanLiu/archive/2009/02/18/255272.html" target="_blank">5. ThreadLocal学习(1)</a>
<a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/159884.html" target="_blank">JAVA集合小结</a></li>
</ul>
<p><img src="" alt="">
<img src="" alt=""></p>
<p>下面是我自己画的，关系画得没上面好，但我自己看着清楚些</p>
<p><img src="" alt="">
还有一张下载来的：
<img src="" alt="">
有序否</p>
<p>允许元素重复否 Collection</p>
<p>否</p>
<p>是 List</p>
<p>是</p>
<p>是 Set</p>
<p>AbstractSet</p>
<p>否</p>
<p>否 HashSet TreeSet</p>
<p>是（用二叉树排序） Map</p>
<p>AbstractMap</p>
<p>否</p>
<p>使用key-value来映射和存储数据，Key必须惟一，value可以重复 HashMap TreeMap</p>
<p>是（用二叉树排序）</p>
<p>几个面试常见问题：
1.Q:ArrayList和Vector有什么区别？HashMap和HashTable有什么区别？
   A:Vector和HashTable是线程同步的（synchronized）。性能上，ArrayList和HashMap分别比Vector和Hashtable要好。
2.Q:大致讲解java集合的体系结构
   A:List、Set、Map是这个集合体系中最主要的三个接口。
      其中List和Set继承自Collection接口。
      Set不允许元素重复。HashSet和TreeSet是两个主要的实现类。
      List有序且允许元素重复。ArrayList、LinkedList和Vector是三个主要的实现类。
      Map也属于集合系统，但和Collection接口不同。Map是key对value的映射集合，其中key列就是一个集合。key不能重复，但是value可以重复。HashMap、TreeMap和Hashtable是三个主要的实现类。
      SortedSet和SortedMap接口对元素按指定规则排序，SortedMap是对key列进行排序。
3.Q：Comparable和Comparator区别
    A:调用java.util.Collections.sort(List list)方法来进行排序的时候，List内的Object都必须实现了Comparable接口。
        java.util.Collections.sort(List list，Comparator c)，可以临时声明一个Comparator 来实现排序。
        Collections.sort(imageList, new Comparator() {
            public int compare(Object a, Object b) {
                int orderA = Integer.parseInt( ( (Image) a).getSequence());
                int orderB = Integer.parseInt( ( (Image) b).getSequence());
                return orderA - orderB;
           }
        });
        如果需要改变排列顺序
        改成return orderb - orderA 即可。
4.Q:简述equals()和hashCode()
    A:...不知道。下回分解
public interface
Collection
            extends Iterable
public interface
List
            extends Collection
public abstract class
AbstractList
            extends AbstractCollection
            implements List
public class
Vector
            extends AbstractList
            implements List,
                                   RandomAccess,
                                   java.lang.Cloneable,
                                   java.io.Serializable
<strong>基于Array</strong>
<strong>是“sychronized”的
public class
ArrayList
       </strong>extends <strong>AbstractList
       </strong>implements <strong>List,
                          RandomAccess,
                          Cloneable,
                          java.io.Serializable
**</strong>基于Array<strong>
</strong>ArrayList是非同步的。所以在性能上要比Vector优越一些
public class
LinkedList
        extends AbstractSequentialList
        implements List,
                          Queue,
                          Cloneable,
                          java.io.Serializable
不基于Array
<strong><strong>基于Array的List（Vector，ArrayList）适合查询，而LinkedList（链表）适合添加，删除操作
</strong></strong>List基本上都是以Array为基础。但是Set则是在HashMap的基础上来实现的，这个就是Set和List的根本区别<strong>
</strong>public abstract class AbstractSet
    extends AbstractCollection
    implements Set
<strong><strong>public class HashSet
    extends AbstractSet
    implements Set, Cloneable, java.io.Serializable
</strong></strong>HashSet的存储方式是把HashMap中的Key作为Set的对应存储项<strong>
</strong>public class LinkedHashSet
    extends HashSet
    implements Set, Cloneable, java.io.Serializable
public class TreeSet
    extends AbstractSet
    implements SortedSet, Cloneable, java.io.Serializable
<strong>**它是通过SortedMap来实现的</strong>
<strong>public interface Map<K,V>
public abstract class AbstractMap<K,V>
    implements Map<K,V>
public class HashMap<K,V>
    extends AbstractMap<K,V>
    implements Map<K,V>, Cloneable, Serializable
public class TreeMap<K,V>
    extends AbstractMap<K,V>
    implements SortedMap<K,V>, Cloneable, java.io.Serializable
</strong>HashMap通过hashcode对其内容进行快速查找，而TreeMap中所有的元素都保持着某种固定的顺序，如果你需要得到一个有序的结果你就应该使用TreeMap（HashMap中元素的排列顺序是不固定的）
<strong>**</strong>更详细的可以看：
<a href="http://www.frontfree.net/view/article_695.html" target="_blank"><a href="http://www.frontfree.net/view/article_695.html">http://www.frontfree.net/view/article_695.html</a></a>
<a href="http://blog.csdn.net/happyzhm5/archive/2007/03/17/1532101.aspx" target="_blank"><a href="http://blog.csdn.net/happyzhm5/archive/2007/03/17/1532101.aspx">http://blog.csdn.net/happyzhm5/archive/2007/03/17/1532101.aspx</a></a>
<a href="http://blog.csdn.net/Java_apprentice/archive/2007/07/20/1700351.aspx" target="_blank"><a href="http://blog.csdn.net/Java_apprentice/archive/2007/07/20/1700351.aspx">http://blog.csdn.net/Java_apprentice/archive/2007/07/20/1700351.aspx</a></a>
**</p>
<h1 id="-java-equals-hashcode-http-www-blogjava-net-evanliu-archive-2007-11-12-tmsoft-lsxy-com-index-php-id-82-load-read-http-www-blogjava-net-evanliu-archive-2007-11-12-tmsoft-lsxy-com-index-php-id-82-load-read-"><strong>**</strong>解析Java对象的equals()和hashCode()的使用: <a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/tmsoft.lsxy.com/index.php?id=82&amp;load=read" target="_blank"><a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/tmsoft.lsxy.com/index.php?id=82&amp;load=read">http://www.blogjava.net/EvanLiu/archive/2007/11/12/tmsoft.lsxy.com/index.php?id=82&amp;load=read</a></a>**</h1>
<hr>
<p>posted on 2007-11-12 10:06 <a href="http://www.blogjava.net/EvanLiu/" target="_blank">EvanLiu</a> 阅读(2831) <a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/159884.html#Post" target="_blank">评论(1)</a>  <a href="http://www.blogjava.net/EvanLiu/admin/EditPosts.aspx?postid=159884" target="_blank">编辑</a>  <a href="http://www.blogjava.net/EvanLiu/AddToFavorite.aspx?id=159884" target="_blank">收藏</a> 所属分类: <a href="http://www.blogjava.net/EvanLiu/category/27270.html" target="_blank">Java基础</a><img src="" alt=""></p>
<p><a href=""></a>
<strong>FeedBack:</strong></p>
<p><a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/159884.html#188079" title="permalink: re: JAVA集合小结" target="_blank">/#</a> <a href=""></a>re: JAVA集合小结<a href=""></a> 2008-03-23 20:49 <a href="http://www.blogjava.net/zhukuanglong/" target="_blank">矿矿</a></p>
<p>不 大 懂
我是新手！！  <a href="http://www.blogjava.net/EvanLiu/archive/2007/11/12/159884.html#post" target="_blank">回复</a>  <a href="http://www.blogjava.net/comment?author=%e7%9f%bf%e7%9f%bf" title="查看该作者发表过的评论" target="_blank">更多评论</a>
<a href=""></a>  <a href=""></a>
Copyright ©2010 EvanLiu Powered by: <a href="http://www.cnblogs.com/" target="_blank">博客园</a> 模板提供：<a href="http://blog.hjenglish.com/" target="_blank">沪江博客</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_集合/">Java_集合</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_集合/" class="label label-success">Java_集合</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:40"datetime="2014-03-07 09:54:40"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_集合--JAVA集合小结/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_集合--JAVA集合小结" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/64/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/62/">62</a></li><li><a class="page-number" href="/page/63/">63</a></li><li><a class="page-number" href="/page/64/">64</a></li><li class="active"><li><span class="page-number current">65</span></li><li><a class="page-number" href="/page/66/">66</a></li><li><a class="page-number" href="/page/67/">67</a></li><li><a class="page-number" href="/page/68/">68</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/66/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 17:26:53</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
