
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 119 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分区--oracle分区表的建立方法2/">oracle 分区表的建立方法 (2)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分区--oracle分区表的建立方法2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-2-">oracle 分区表的建立方法 (2)</h1>
<p><img src="" alt="">  <img src="" alt="">登陆论坛 <a href="http://www.xxlinux.com/bbs/register.php" target="_blank"></a> | <a href="http://www.xxlinux.com/bbs/register.php">论坛注册</a>| <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#ecms" target="_blank">加入收藏</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#ecms" target="_blank">设为首页</a>| <a href="http://www.xxlinux.com/linux/e/web/?type=rss2&amp;classid=11" target="_blank">RSS<img src="" alt=""></a> <a href="http://www.xxlinux.com/linux/" target="_blank"><img src="" alt=""></a> * <a href="http://www.xxlinux.com/linux/" target="_blank">首页</a></p>
<ul>
<li><a href="http://www.xxlinux.com/linux/article/" target="_blank">Linux频道</a></li>
<li><a href="http://www.xxlinux.com/linux/download/" target="_blank">软件下载</a></li>
<li><a href="http://www.xxlinux.com/linux/dev/" target="_blank">开发语言</a></li>
<li><a href="http://www.xxlinux.com/linux/embed/" target="_blank">嵌入式频道</a></li>
<li><a href="http://bbs.xxlinux.com/" target="_blank">开源论坛</a> | <a href="http://www.xxlinux.com/linux/article/development/database/" target="_blank">数据库开发</a> | <a href="http://www.xxlinux.com/linux/article/development/web/" target="_blank">WEB开发</a> | <a href="http://www.xxlinux.com/linux/article/development/soft/" target="_blank">软件开发</a> | <a href="http://www.xxlinux.com/linux/article/development/embed/" target="_blank">嵌入应用</a> | <a href="http://www.xxlinux.com/linux/article/development/kernel/" target="_blank">内核研究</a> | <a href="http://www.xxlinux.com/linux/article/development/shell/" target="_blank">SHELL</a> | <a href="http://www.google.com/" target="_blank"><img src="" alt="Google"></a> 输入您的搜索字词  提交搜索表单 您当前的位置：<a href="http://www.xxlinux.com/linux/" target="_blank">首页</a> &gt; <a href="http://www.xxlinux.com/linux/article/" target="_blank">Linux频道</a> &gt; <a href="http://www.xxlinux.com/linux/article/development/" target="_blank">Linux开发区</a> &gt; <a href="http://www.xxlinux.com/linux/article/development/database/" target="_blank">数据库开发</a> # oracle 分区表的建立方法 时间：2007-04-10 11:23:03  来源：<a href="http://www.xxlinux.com/" target="_blank">Linux联盟收集整理</a>  作者： Oracle提供了分区技术以支持VLDB(Very Large DataBase)。分区表通过对分区列的判断，把分区列不同的记录，放到不同的分区中。分区完全对应用透明。</li>
</ul>
<p>Oracle的分区表可以包括多个分区，每个分区都是一个独立的段（SEGMENT），可以存放到不同的表空间中。查询时可以通过查询表来访问各个分区中的数据，也可以通过在查询时直接指定分区的方法来进行查询。</p>
<p>分区提供以下优点： </p>
<p>由于将数据分散到各个分区中，减少了数据损坏的可能性； </p>
<p>可以对单独的分区进行备份和恢复； </p>
<p>可以将分区映射到不同的物理磁盘上，来分散IO；</p>
<p>提高可管理性、可用性和性能。 </p>
<p>Oracle提供了以下几种分区类型：</p>
<p>范围分区（range）；</p>
<p>哈希分区（hash）；</p>
<p>列表分区（list）；</p>
<p>范围－哈希复合分区（range-hash）；</p>
<p>范围－列表复合分区（range-list）。</p>
<p>Oracle的普通表没有办法通过修改属性的方式直接转化为分区表，必须通过重建的方式进行转变，下面介绍三种效率比较高的方法，并说明它们各自的特点。</p>
<p>方法一：利用原表重建分区表。 </p>
<p>步骤： </p>
<p>SQL&gt; CREATE TABLE T (ID NUMBER PRIMARY KEY, TIME DATE);</p>
<p>表已创建。 </p>
<p>SQL&gt; INSERT INTO T SELECT ROWNUM, CREATED FROM DBA_OBJECTS;</p>
<p>已创建6264行。</p>
<p>SQL&gt; COMMIT;</p>
<p>提交完成。</p>
<p>SQL&gt; CREATE TABLE T_NEW (ID, TIME) PARTITION BY RANGE (TIME)
  2  (PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2004-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  3  PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2005-1-1&#39;, &#39;YYYY-MM-DD&#39;)),
  4  PARTITION P3 VALUES LESS THAN (TO_DATE(&#39;2005-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  5  PARTITION P4 VALUES LESS THAN (MAXVALUE))
  6  AS SELECT ID, TIME FROM T;</p>
<p>表已创建。 </p>
<p>SQL&gt; RENAME T TO T_OLD;</p>
<p>表已重命名。 </p>
<p>SQL&gt; RENAME T_NEW TO T;</p>
<p>表已重命名。 </p>
<p>SQL&gt; SELECT COUNT(/*) FROM T;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6264
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P1);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>     0
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P2);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6246
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P3);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>    18
</code></pre><p>优点：方法简单易用，由于采用DDL语句，不会产生UNDO，且只产生少量REDO，效率相对较高，而且建表完成后数据已经在分布到各个分区中了。</p>
<p>不足：对于数据的一致性方面还需要额外的考虑。由于几乎没有办法通过手工锁定T表的方式保证一致性，在执行CREATE TABLE语句和RENAME T_NEW TO T语句直接的修改可能会丢失，如果要保证一致性，需要在执行完语句后对数据进行检查，而这个代价是比较大的。另外在执行两个RENAME语句之间执行的对T的访问会失败。</p>
<p>适用于修改不频繁的表，在闲时进行操作，表的数据量不宜太大。 </p>
<p>方法二：使用交换分区的方法。 </p>
<p>步骤： </p>
<p>SQL&gt; CREATE TABLE T (ID NUMBER PRIMARY KEY, TIME DATE);</p>
<p>表已创建。 </p>
<p>SQL&gt; INSERT INTO T SELECT ROWNUM, CREATED FROM DBA_OBJECTS;</p>
<p>已创建6264行。</p>
<p>SQL&gt; COMMIT;</p>
<p>提交完成。 </p>
<p>SQL&gt; CREATE TABLE T_NEW (ID NUMBER PRIMARY KEY, TIME DATE) PARTITION BY RANGE (TIME)
  2  (PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2005-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  3  PARTITION P2 VALUES LESS THAN (MAXVALUE));</p>
<p>表已创建。 </p>
<p>SQL&gt; ALTER TABLE T_NEW EXCHANGE PARTITION P1 WITH TABLE T;</p>
<p>表已更改。 </p>
<p>SQL&gt; RENAME T TO T_OLD;</p>
<p>表已重命名。 </p>
<p>SQL&gt; RENAME T_NEW TO T;</p>
<p>表已重命名。 </p>
<p>SQL&gt; SELECT COUNT(/*) FROM T;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6264
</code></pre><p>优点：只是对数据字典中分区和表的定义进行了修改，没有数据的修改或复制，效率最高。如果对数据在分区中的分布没有进一步要求的话，实现比较简单。在执行完RENAME操作后，可以检查T_OLD中是否存在数据，如果存在的话，直接将这些数据插入到T中，可以保证对T插入的操作不会丢失。</p>
<p>不足：仍然存在一致性问题，交换分区之后RENAME T_NEW TO T之前，查询、更新和删除会出现错误或访问不到数据。如果要求数据分布到多个分区中，则需要进行分区的SPLIT操作，会增加操作的复杂度，效率也会降低。</p>
<p>适用于包含大数据量的表转到分区表中的一个分区的操作。应尽量在闲时进行操作。 </p>
<p>方法三：Oracle9i以上版本，利用在线重定义功能</p>
<p>步骤： </p>
<p>SQL&gt; CREATE TABLE T (ID NUMBER PRIMARY KEY, TIME DATE);</p>
<p>表已创建。 </p>
<p>SQL&gt; INSERT INTO T SELECT ROWNUM, CREATED FROM DBA_OBJECTS;</p>
<p>已创建6264行。</p>
<p>SQL&gt; COMMIT;</p>
<p>提交完成。 </p>
<p>SQL&gt; EXEC DBMS_REDEFINITION.CAN_REDEF_TABLE(USER, &#39;T&#39;, DBMS_REDEFINITION.CONS_USE_PK);</p>
<p>PL/SQL 过程已成功完成。</p>
<p>SQL&gt; CREATE TABLE T_NEW (ID NUMBER PRIMARY KEY, TIME DATE) PARTITION BY RANGE (TIME)
  2  (PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2004-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  3  PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2005-1-1&#39;, &#39;YYYY-MM-DD&#39;)),
  4  PARTITION P3 VALUES LESS THAN (TO_DATE(&#39;2005-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  5  PARTITION P4 VALUES LESS THAN (MAXVALUE));</p>
<p>表已创建。 </p>
<p>SQL&gt; EXEC DBMS_REDEFINITION.START_REDEF_TABLE(USER, &#39;T&#39;, &#39;T_NEW&#39;, -</p>
<blockquote>
<p>&#39;ID ID, TIME TIME&#39;, DBMS_REDEFINITION.CONS_USE_PK);</p>
</blockquote>
<p>PL/SQL 过程已成功完成。</p>
<p>SQL&gt; EXEC DBMS_REDEFINITION.FINISH_REDEF_TABLE(&#39;YANGTK&#39;, &#39;T&#39;, &#39;T_NEW&#39;);</p>
<p>PL/SQL 过程已成功完成。</p>
<p>SQL&gt; SELECT COUNT(/*) FROM T;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6264
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P2);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6246
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P3);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>    18
</code></pre><p>优点：保证数据的一致性，在大部分时间内，表T都可以正常进行DML操作。只在切换的瞬间锁表，具有很高的可用性。这种方法具有很强的灵活性，对各种不同的需要都能满足。而且，可以在切换前进行相应的授权并建立各种约束，可以做到切换完成后不再需要任何额外的管理操作。</p>
<p>不足：实现上比上面两种略显复杂。 </p>
<p>适用于各种情况。 </p>
<p>这里只给出了在线重定义表的一个最简单的例子，详细的描述和例子可以参考下面两篇文章。 </p>
<p>Oracle的在线重定义表功能：<a href="http://blog.itpub.net/post/468/12855" target="_blank"><a href="http://blog.itpub.net/post/468/12855">http://blog.itpub.net/post/468/12855</a></a></p>
<p>Oracle的在线重定义表功能（二）：<a href="http://blog.itpub.net/post/468/12962" target="_blank"><a href="http://blog.itpub.net/post/468/12962">http://blog.itpub.net/post/468/12962</a></a></p>
<p>索引也可以进行分区，分区索引有两种类型：global和local。对于local索引，每一个表分区对应一个索引分区，当表的分区发生变化时，索引的维护由Oracle自动进行。对于global索引，可以选择是否分区，而且索引的分区可以不与表分区相对应。当对分区进行维护操作时，通常会导致全局索引的INVALDED，必须在执行完操作后REBUILD。Oracle9i提供了UPDATE GLOBAL INDEXES语句，可以使在进行分区维护的同时重建全局索引。</p>
<p>全局索引可以包含多个分区的值 局部索引比全局索引容易管理,而全局索引比较快
注意:不能为散列分区 或者 子分区创建全局索引</p>
<p>Oracle的分区功能十分强大。不过用起来发现有两点不大方便：</p>
<p>第一是已经存在的表没有方法可以直接转化为分区表。不过Oracle提供了在线重定义表的功能，可以通过这种方式来完成普通表到分区表的转化。可以参考这个例子：<a href="http://blog.itpub.net/post/468/13091" target="_blank"><a href="http://blog.itpub.net/post/468/13091">http://blog.itpub.net/post/468/13091</a></a></p>
<p>第二点是如果采用了local分区索引，那么在增加表分区的时候，索引分区的表空间是不可控制的。如果希望将表和索引的分区分开到不同的表空间且不同索引分区也分散到不同的表空间中，那么只能在增加分区后，对新增的分区索引单独rebuild。</p>
<p>Oracle最大允许存在多少个分区呢?</p>
<p>我们可以从Oracle的<a href="http://tahiti.oracle.com/" target="_blank">Concepts手册</a>上找到这个信息，对于Oracle9iR2:
Tables can be partitioned into up to <strong>64,000</strong> separate partitions.</p>
<p>对于Oracle10gR2，Oracle增强了分区特性：</p>
<p>Tables can be partitioned into up to <strong>1024K-1</strong> separate partitions.</p>
<p>关于何时应该进行分区,Oracle有如下建议:</p>
<p>■ Tables greater than 2GB should always be considered for partitioning.
■ Tables containing historical data, in which new data is added into the newest partition. A typical example is a historical table where only the current month&#39;s data is updatable and the other 11 months are read only. <strong>** <a href="">来顶一下</a> </strong><a href="http://www.xxlinux.com/linux/" target="_blank"><img src="" alt="近回首页"></a><strong> <a href="http://www.xxlinux.com/linux/" target="_blank">返回首页</a>   </strong>发表评论<strong> <a href="http://www.xxlinux.com/linux/e/pl?classid=11&amp;id=8140" target="_blank">共有  条评论</a> 用户名: 密码: 验证码:  <img src="" alt=""> 匿名发表<a href=""></a> </strong>相关文章<em>* </em> <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8139.html" title="Oracle数据库应用程序性能优化探究">Oracle数据库应用程序性能优化探</a></p>
<ul>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8138.html" title="Oracle 9i中自动撤销管理的优点分析" target="_blank">Oracle 9i中自动撤销管理的优点分</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8137.html" title="Oracle 9i数据库中动态重配置深入分析" target="_blank">Oracle 9i数据库中动态重配置深入</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8136.html" title="Oracle数据库编写PL/SQL代码经验谈" target="_blank">Oracle数据库编写PL/SQL代码经验</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8135.html" title="教你Oracle的数据缓冲区是如何工作" target="_blank">教你Oracle的数据缓冲区是如何工</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8127.html" title="redhat 9 上安装oracle" target="_blank">redhat 9 上安装oracle</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8121.html" title="关于Oracle 9i数据库密码重用规则分析" target="_blank">关于Oracle 9i数据库密码重用规则</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8120.html" title="Oracle的恢复管理器及DBMS_JOB包分析" target="_blank">Oracle的恢复管理器及DBMS_JOB包</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8119.html" title="利用Oracle执行计划机制提高查询性能" target="_blank">利用Oracle执行计划机制提高查询</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070406/8110.html" title="Unix环境下Oracle数据库优化心得介绍" target="_blank">Unix环境下Oracle数据库优化心得</a> <strong>栏目更新</strong>  <strong>栏目热门</strong> <strong>站内搜索：</strong>     Linux频道 下载频道 图库 商品 嵌入式频道 <a href=""></a> <a href="http://www.xxlinux.com/linux/search/">高级搜索</a> <a href="http://www.xxlinux.com/linux/" target="_blank">网站首页</a> | <a href="http://www.xxlinux.com/linux/article/news/dt/2009-01-06/14778.html" target="_blank">栏目导航</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">服务条款</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">广告服务</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">联系我们</a> | <a href="http://www.xxlinux.com/linux/article/news/dt/2006-05-31/1076.html" target="_blank">网站大全</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">免责声明</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">返回顶部</a> Copyright © 2007-2008 xxlinux.com, All rights reserved. Powered by linux联盟 <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备05012402号</a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分区/">分区</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分区/" class="label label-success">分区</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分区--oracle分区表的建立方法2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分区--oracle分区表的建立方法2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分区--Oracle数据库中分区表的操作方法2/">Oracle数据库中分区表的操作方法2</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分区--Oracle数据库中分区表的操作方法2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-2">Oracle数据库中分区表的操作方法2</h1>
<p><a href="http://reg.163.com/" target="_blank">通行证</a>：用户名  密码 <a href="http://mail.163.com/" target="_blank"></a><a href="http://www.163.com/">首页</a> - <a href="http://news.163.com/" target="_blank">新闻</a> - <a href="http://www.126.com/" target="_blank">免费邮箱</a> - <a href="http://sms.163.com/" target="_blank">短信</a> - <a href="http://popo.163.com/" target="_blank">POPO</a> - <a href="http://photo.163.com/" target="_blank">相册</a> - <a href="http://so.163.com/" target="_blank">搜索</a> - <a href="http://love.163.com/" target="_blank">交友</a> - <a href="http://adfarm.mediaplex.com/ad/ck/4080-25846-9511-15?cn=netease;textlink;hp" target="_blank">拍卖</a> <a href="http://www.163.com/" target="_blank"><img src="" alt="NetEase"></a>
 <a href="http://news.163.com/" target="_blank">新闻</a> | <a href="http://sports.163.com/" target="_blank">体育</a> | <a href="http://finance.163.com/" target="_blank">财经</a> | <a href="http://ent.163.com/" target="_blank">娱乐</a> | <a href="http://biz.163.com/" target="_blank">商业</a>| <a href="http://tech.163.com/" target="_blank"><strong>科技</strong></a> | <a href="http://auto.163.com/" target="_blank">汽车</a> | <a href="http://digi.163.com/" target="_blank">数码</a> | <a href="http://lady.163.com/" target="_blank">女人</a> | <a href="http://travel.163.com/" target="_blank">旅游</a> | <a href="http://education.163.com/" target="_blank">教育</a> | <a href="http://culture.163.com/" target="_blank">文化</a> | <a href="http://gz.163.com/" target="_blank">广州</a> | <a href="http://news.163.com/war/" target="_blank">军事</a> | <a href="http://bulo.163.com/" target="_blank">部落</a>
<a href="http://talk.163.com/" target="_blank">评论</a> | <a href="http://sports.163.com/nba/" target="_blank">NBA</a> | <a href="http://ent.163.com/people/" target="_blank">明星</a> | <a href="http://stock.163.com/" target="_blank">证券</a> | <a href="http://fund.163.com/" target="_blank">基金</a> | <a href="http://tech.163.com/discover/" target="_blank">探索</a> | <a href="http://soufun.163.com/" target="_blank">房产</a> | <a href="http://mobile.163.com/" target="_blank">手机</a> | <a href="http://health.163.com/sex/" target="_blank">两性</a> | <a href="http://health.163.com/" target="_blank">健康</a> | <a href="http://px.163.com/" target="_blank">培训</a> | <a href="http://ent.163.com/ent/level1/movie.html" target="_blank">电影</a> | <a href="http://game.163.com/" target="_blank">游戏</a>| <a href="http://adfarm.mediaplex.com/ad/ck/4080-25838-9511-9?cn=netease;2word;hp" target="_blank">拍卖</a> | <a href="http://bbs.163.com/" target="_blank">论坛</a>  <a href="http://tech.163.com/school/" target="_blank"><img src="" alt="网易学院·教程"></a> ·<a href="http://tech.163.com/special/t/000915AD/tools.html" target="_blank">工具软件</a>·<a href="http://tech.163.com/special/o/000915A6/officetool.html" target="_blank">办公软件</a>·<a href="http://tech.163.com/special/O/000915A0/OS.html" target="_blank">操作系统</a>·<a href="http://tech.163.com/special/p/0009158A/photos.html" target="_blank">图形图像</a>·<a href="http://tech.163.com/special/w/0009158K/website.html" target="_blank">网站建设</a>·<a href="http://tech.163.com/special/d/0009159F/developer.html" target="_blank">编程开发</a>·<a href="http://tech.163.com/special/m/0009158R/multimedia.html" target="_blank">多媒体</a>·<a href="http://tech.163.com/special/n/000917GE/net.html" target="_blank">网络</a>·<a href="http://tech.163.com/special/d/000917GF/du.html" target="_blank">病毒</a> ·<a href="http://tech.163.com/school" target="_blank">学院首页</a>·<a href="http://tech.163.com/special/S/000915SN/S_Special.html" target="_blank">精选专题</a>·<a href="http://tech.163.com/special/A/00091593/Arts1.html" target="_blank">艺术设计</a>·<a href="http://tech.163.com/special/E/00091ESS/Ebook.html" target="_blank">电子杂志</a>·<a href="http://tech.163.com/special/S/000915AH/S_InterView.html" target="_blank">教授视点</a>·<a href="http://tech.163.com/special/A/000915AH/AllPro1.html" target="_blank">教授名录</a>·<a href="http://tech.163.com/special/s/000915AS/softnews.html" target="_blank">软件新闻</a>·<a href="http://tech.163.com/special/s/000917D5/schoolbbs.html" target="_blank">论坛</a></p>
<p>你现在的位置是： <a href="http://www.163.com/" target="_blank">网易</a> &gt; <a href="http://tech.163.com/" target="_blank">网易科技</a> &gt; <a href="http://tech.163.com/school" target="_blank">网易学院·教程</a></p>
<h1 id="oracle-">Oracle数据库中分区表的操作方法</h1>
<p><a href="http://tech.163.com/school" target="_blank">http://tech.163.com/school</a> · 2005-06-16 11:44:19 · 来源: blog</p>
<p>第1页：Oracle数据库中分区表的操作方法 第2页：Oracle数据库中分区表的操作方法
1.2.2. 查询分区表记录：</p>
<p>SQL&gt; select /<em> from dinya_test partition(part_01);    TRANSACTION_ID ITEM_ID ITEM_DESCRIPTION TRANSACTION_DATE    --------------------------------------------------------------------------------    1 12 BOOKS 2005-1-14 14:19:    2 12 BOOKS 2005-2-13 14:19:    SQL&gt;    SQL&gt; select /</em> from dinya_test partition(part_02);    TRANSACTION_ID ITEM_ID ITEM_DESCRIPTION TRANSACTION_DATE    --------------------------------------------------------------------------------    3 12 BOOKS 2006-5-30    4 12 BOOKS 2007-6-23    SQL&gt;    SQL&gt; select /<em> from dinya_test partition(part_03);    TRANSACTION_ID ITEM_ID ITEM_DESCRIPTION TRANSACTION_DATE    --------------------------------------------------------------------------------    5 12 BOOKS 2011-2-26    6 12 BOOKS 2011-4-30    SQL&gt;
从查询的结果可以看出，插入的数据已经根据交易时间范围存储在不同的分区中。这里是指定了分区的查询，当然也可以不指定分区，直接执行select /</em> from dinya_test查询全部记录。
在也检索的数据量很大的时候，指定分区会大大提高检索速度。
1.2.3. 更新分区表的记录：</p>
<p>SQL&gt; update dinya_test partition(part_01) t set t.item_description=’DESK’ where    t.transaction_id=1;    1 row updated.    SQL&gt; commit;    Commit complete.    SQL&gt;
这里将第一个分区中的交易ID=1的记录中的item_description字段更新为“DESK”，可以看到已经成功更新了一条记录。但是当更新的时候指定了分区，而根据查询的记录不在该分区中时，将不会更新数据，请看下面的例子：</p>
<p>SQL&gt; update dinya_test partition(part_01) t set t.item_description=’DESK’ where    t.transaction_id=6;    0 rows updated.    SQL&gt; commit;    Commit complete.    SQL&gt;
指定了在第一个分区中更新记录，但是条件中限制交易ID为6，而查询全表，交易ID为6的记录在第三个分区中，这样该条语句将不会更新记录。
1.2.4. 删除分区表记录：</p>
<p>SQL&gt; delete from dinya_test partition(part_02) t where t.transaction_id=4;    1 row deleted.    SQL&gt; commit;    Commit complete.    SQL&gt;
上面例子删除了第二个分区part_02中的交易记录ID为4的一条记录，和更新数据相同，如果指定了分区，而条件中的数据又不在该分区中时，将不会删除任何数据。
<strong>1.3. 分区表索引的使用：</strong>
分区表和一般表一样可以建立索引，分区表可以创建局部索引和全局索引。当分区中出现许多事务并且要保证所有分区中的数据记录的唯一性时采用全局索引。
1.3.1. 局部索引分区的建立：</p>
<p>SQL&gt; create index dinya_idx_t on dinya_test(item_id)    2 local    3 (    4 partition idx_1 tablespace dinya_space01,    5 partition idx_2 tablespace dinya_space02,    6 partition idx_3 tablespace dinya_space03    7 );    Index created.    SQL&gt;
看查询的执行计划，从下面的执行计划可以看出，系统已经使用了索引：</p>
<p>SQL&gt; select /<em> from dinya_test partition(part_01) t where t.item_id=12;    Execution Plan    ----------------------------------------------------------    0 SELECT STATEMENT Optimizer=CHOOSE (Cost=2 Card=1 Bytes=187)    1 0 TABLE ACCESS (BY LOCAL INDEX ROWID) OF ’DINYA_TEST’ (Cost=    2 Card=1 Bytes=187)    2 1 INDEX (RANGE SCAN) OF ’DINYA_IDX_T’ (NON-UNIQUE) (Cost=1    Card=1)    Statistics    ----------------------------------------------------------    0 recursive calls    0 db block gets    4 consistent gets    0 physical reads    0 redo size    334 bytes sent via SQL/</em>Net to client    309 bytes received via SQL/<em>Net from client    2 SQL/</em>Net roundtrips to/from client    1 sorts (memory)    0 sorts (disk)    2 rows processed    SQL&gt;
1.3.2. 全局索引分区的建立
全局索引建立时global 子句允许指定索引的范围值，这个范围值为索引字段的范围值：</p>
<p>SQL&gt; create index dinya_idx_t on dinya_test(item_id)    2 global partition by range(item_id)    3 (    4 partition idx_1 values less than (1000) tablespace dinya_space01,    5 partition idx_2 values less than (10000) tablespace dinya_space02,    6 partition idx_3 values less than (maxvalue) tablespace dinya_space03    7 );    Index created.    SQL&gt;
本例中对表的item_id字段建立索引分区，当然也可以不指定索引分区名直接对整个表建立索引，如：</p>
<p>SQL&gt; create index dinya_idx_t on dinya_test(item_id);    Index created.    SQL&gt;
同样的，对全局索引根据执行计划可以看出索引已经可以使用：</p>
<p>SQL&gt; select /<em> from dinya_test t where t.item_id=12;    Execution Plan    ----------------------------------------------------------    0 SELECT STATEMENT Optimizer=CHOOSE (Cost=2 Card=3 Bytes=561)    1 0 TABLE ACCESS (BY GLOBAL INDEX ROWID) OF ’DINYA_TEST’ (Cost    =2 Card=3 Bytes=561)    2 1 INDEX (RANGE SCAN) OF ’DINYA_IDX_T’ (NON-UNIQUE) (Cost=1    Card=3)    Statistics    ----------------------------------------------------------    5 recursive calls    0 db block gets    10 consistent gets    0 physical reads    0 redo size    420 bytes sent via SQL/</em>Net to client    309 bytes received via SQL/<em>Net from client    2 SQL/</em>Net roundtrips to/from client    3 sorts (memory)    0 sorts (disk)    5 rows processed    SQL&gt;
<strong>1.4. 分区表的维护：</strong>
了解了分区表的建立、索引的建立、表和索引的使用后，在应用的还要经常对分区进行维护和管理。日常维护和管理的内容包括：增加一个分区，合并一个分区及删除分区等等。下面以范围分区为例说明增加、合并、删除分区的一般操作：
1.4.1. 增加一个分区:</p>
<p>SQL&gt; alter table dinya_test    2 add partition part_04 values less than(to_date(’2012-01-01’,’yyyy-mm-dd’))    tablespace dinya_spa    ce03;    Table altered.    SQL&gt;
增加一个分区的时候，增加的分区的条件必须大于现有分区的最大值，否则系统将提示ORA-14074 partition bound must collate higher than that of the last partition 错误。
1.4.2. 合并一个分区：</p>
<p>SQL&gt; alter table dinya_test merge partitions part_01,part_02 into partition part_02;    Table altered.    SQL&gt;
在本例中将原有的表的part_01分区和part_02分区进行了合并，合并后的分区为part_02,如果在合并的时候把合并后的分区定为part_01的时候，系统将提示ORA-14275 cannot reuse lower-bound partition as resulting partition 错误。
1.4.3. 删除分区：</p>
<p>SQL&gt; alter table dinya_test drop partition part_01;    Table altered.    SQL&gt;
删除分区表的一个分区后，查询该表的数据时显示，该分区中的数据已全部丢失，所以执行删除分区动作时要慎重，确保先备份数据后再执行，或将分区合并。
<strong>1.5. 总结：</strong>
需要说明的是，本文在举例说名分区表事务操作的时候，都指定了分区，因为指定了分区，系统在执行的时候则只操作该分区的记录，提高了数据处理的速度。不要指定分区直接操作数据也是可以的。在分区表上建索引及多索引的使用和非分区表一样。此外，因为在维护分区的时候可能对分区的索引会产生一定的影响，可能需要在维护之后重建索引，相关内容请参考分区表索引部分的文档</p>
<p><img src="" alt="落叶秋客"> <a href="http://tech.163.com/" target="_blank">[返回首页]</a></p>
<p><a href="http://tech.163.com/05/0616/11/1MC8AUT900091589.html" target="_blank"><img src="" alt=""></a> [<a href="http://tech.163.com/05/0616/11/1MC8AUT900091589.html" target="_blank">1</a>] [2] <a href="http://tech.163.com/05/0616/11/1MC8AUT900091589.html" target="_blank"><img src="" alt=""></a>
<strong>相关文章：</strong></p>
<ul>
<li>·<a href="http://tech.163.com/05/0610/11/1LSQ9ANG00091589.html" target="_blank">Oracle数据库集中复制方法浅议</a>(2005-06-10 11:50:09)</li>
<li>·<a href="http://tech.163.com/05/0608/11/1LNJOGMA00091589.html" target="_blank">Oracle中使用PL/SQL操作COM对象</a>(2005-06-08 11:19:55)</li>
<li>·<a href="http://tech.163.com/05/0607/15/1LLF6ODF00091589.html" target="_blank">Oracle平台应用数据库系统的设计与开发</a>(2005-06-07 15:21:49)</li>
<li>·<a href="http://tech.163.com/05/0606/10/1LIAGLN000091589.html" target="_blank">Oracle与SQL Server在企业应用中的比较</a>(2005-06-06 10:02:08)</li>
<li>·<a href="http://tech.163.com/05/0420/08/1HP5LHI6000915DD.html" target="_blank">SUN与Oracle牵手对抗SAP和IBM信息化巨头</a>(2005-04-20 08:49:19)</li>
</ul>
<p><strong>推荐文章：</strong></p>
<p>·<a href="http://tech.163.com/08/0117/13/42DNAAL500091589.html" target="_blank">赢在2007赛迪网年度企业人物榜单揭晓</a> ·<a href="http://tech.163.com/08/0111/14/41UC892E00091589.html" target="_blank">你最需要哪种类型的视频教程</a> ·<a href="http://tech.163.com/07/1206/14/3V1M3KJA00091589.html" target="_blank">不用网银也网上购物 三步自助开通</a> ·<a href="http://tech.163.com/07/1204/09/3US0INJ500091589.html" target="_blank">2007年UPA用户体验大会成功闭幕</a> ·<a href="http://tech.163.com/07/1124/10/3U2B680L00091589.html" target="_blank">2007中国青年设计节暨用户体验年会在京开幕</a> ·<a href="http://tech.163.com/07/1123/14/3U07BF3000091589.html" target="_blank">User Friendly 2007现场图片</a> ·<a href="http://tech.163.com/07/1120/15/3TOJAKSS00091589.html" target="_blank">手机畅游互联网 空中Opera 2.0实测</a> ·<a href="http://tech.163.com/07/1120/10/3TO3Q38200091589.html" target="_blank">动易软件即将全面开源和免费</a> ·<a href="http://tech.163.com/07/0830/17/3N5MP1KG000917GR.html" target="_blank">搜图有“道” 图片达人的搜索秘籍</a> ·<a href="http://tech.163.com/07/0827/15/3MTMJAC60009159C.html" target="_blank">数字水墙 08年世博会亮相</a> ·<a href="http://tech.163.com/07/0827/14/3MTLTCQM00091599.html" target="_blank">RabbitAir MinusA2空气净化器设计</a> ·<a href="http://tech.163.com/07/0827/14/3MTL6T860009159B.html" target="_blank">Oscar Bjarnason 平面设计</a> ·<a href="http://tech.163.com/07/0827/12/3MTDSFIV00091JFM.html" target="_blank">国产杀毒软件半个月内勇夺两项国际权威认证</a> ·<a href="http://tech.163.com/07/0827/11/3MT9FRH900092A5O.html" target="_blank">美化你的博客-推荐多个博客图标下载网站</a> ·<a href="http://tech.163.com/07/0827/11/3MT8N9K6000920O4.html" target="_blank">微软回应Vista用户遇到的网络问题“设计如此”</a> ·<a href="http://tech.163.com/07/0827/10/3MT8ALLD000918BL.html" target="_blank">eBay改进用户体验 借鉴亚马逊页面设计搜索功能</a> ·<a href="http://tech.163.com/07/0827/10/3MT86E56000915AS.html" target="_blank">极点五笔6.0正式版发布</a> ·<a href="http://tech.163.com/07/0827/10/3MT5KT0J000915AC.html" target="_blank">WPS Office 2007抢先试用</a> ·<a href="http://tech.163.com/07/0827/10/3MT5A8I4000915AS.html" target="_blank">报告称Google Apps功能远不及微软Office</a> ·<a href="http://tech.163.com/07/0827/10/3MT55K55000917GE.html" target="_blank">什么是SOCK5代理，什么是HTTP代理</a>
<a href=""></a> 最新评论<a href=""></a> <a href="http://comment.news.163.com/reply/post.jsp?board=tech_bbs&amp;threadid=1MC8AUT900091589" target="_blank"><img src="" alt=""></a>   <img src="" alt=""> <strong><a href="http://comment.news.163.com/reply/post.jsp?type=re&amp;board=tech_bbs&amp;threadid=1MC8AUT900091589" target="_blank">更多评论</a></strong> 共 <strong><em>0</em></strong>条评论 网易通行证：  　 密码：  　 　      参与评论   您的发表的评论将在5分钟内被审核，请耐心等待</p>
<p>网易学院联系电话：020-61210163-560 合作/投稿邮箱：NeteaseSchool(at)126.com</p>
<p>合作媒体：<a href="http://www.isblog.cn/" target="_blank">结绳记事</a> <a href="http://www.arthtml.com/" target="_blank">艺网</a> <a href="http://www.pc120.net.cn/" target="_blank">中国电脑救援中心</a> <a href="http://www.ad110.com/" target="_blank">ad110.com</a> <a href="http://www.jcwcn.com/" target="_blank">中国教程网</a> <a href="http://fif.hlw.cn/" target="_blank">FIF多媒体制作组</a> <a href="http://www.xjke.com/" target="_blank">金鹰电脑教程网</a> <a href="http://www.cybermagics.com/" target="_blank">时代光魔</a> <a href="http://www.ttup.cn/" target="_blank">好好学习 天天向上</a>
<a href="http://tech.163.com/special/d/00091M9L/draftad1.html" target="_blank">主编信箱</a>　热线:020-　<a href="http://bbs3.news.163.com/board/postlist.jsp?b=idea" target="_blank">给网易提意见</a>　<a href="http://corp.163.com/" target="_blank">About NetEase</a> - <a href="http://gb.corp.163.com/gb/about/overview.html" target="_blank">公司简介</a> - <a href="http://gb.corp.163.com/gb/contactus.html" target="_blank">联系方法</a> - <a href="http://corp.163.com/gb/job/job.html" target="_blank">招聘信息</a> - <a href="http://gb.corp.163.com/gb/cs.html" target="_blank">客户服务</a> - <a href="http://gb.corp.163.com/gb/legal.html" target="_blank">相关法律</a> - <a href="http://emarketing.biz.163.com/" target="_blank">网络营销</a> - <a href="http://help.163.com/" target="_blank">帮助中心</a>
网易公司版权所有
©1997-2009</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分区/">分区</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分区/" class="label label-success">分区</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分区--Oracle数据库中分区表的操作方法2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分区--Oracle数据库中分区表的操作方法2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分区--oracle分区表的建立方法/">oracle 分区表的建立方法</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分区--oracle分区表的建立方法/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-">oracle 分区表的建立方法</h1>
<p><img src="" alt="">  <img src="" alt="">登陆论坛 <a href="http://www.xxlinux.com/bbs/register.php" target="_blank"></a> | <a href="http://www.xxlinux.com/bbs/register.php">论坛注册</a>| <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#ecms" target="_blank">加入收藏</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#ecms" target="_blank">设为首页</a>| <a href="http://www.xxlinux.com/linux/e/web/?type=rss2&amp;classid=11" target="_blank">RSS<img src="" alt=""></a> <a href="http://www.xxlinux.com/linux/" target="_blank"><img src="" alt=""></a> * <a href="http://www.xxlinux.com/linux/" target="_blank">首页</a></p>
<ul>
<li><a href="http://www.xxlinux.com/linux/article/" target="_blank">Linux频道</a></li>
<li><a href="http://www.xxlinux.com/linux/download/" target="_blank">软件下载</a></li>
<li><a href="http://www.xxlinux.com/linux/dev/" target="_blank">开发语言</a></li>
<li><a href="http://www.xxlinux.com/linux/embed/" target="_blank">嵌入式频道</a></li>
<li><a href="http://bbs.xxlinux.com/" target="_blank">开源论坛</a> | <a href="http://www.xxlinux.com/linux/article/development/database/" target="_blank">数据库开发</a> | <a href="http://www.xxlinux.com/linux/article/development/web/" target="_blank">WEB开发</a> | <a href="http://www.xxlinux.com/linux/article/development/soft/" target="_blank">软件开发</a> | <a href="http://www.xxlinux.com/linux/article/development/embed/" target="_blank">嵌入应用</a> | <a href="http://www.xxlinux.com/linux/article/development/kernel/" target="_blank">内核研究</a> | <a href="http://www.xxlinux.com/linux/article/development/shell/" target="_blank">SHELL</a> | <a href="http://www.google.com/" target="_blank"><img src="" alt="Google"></a> 输入您的搜索字词  提交搜索表单 您当前的位置：<a href="http://www.xxlinux.com/linux/" target="_blank">首页</a> &gt; <a href="http://www.xxlinux.com/linux/article/" target="_blank">Linux频道</a> &gt; <a href="http://www.xxlinux.com/linux/article/development/" target="_blank">Linux开发区</a> &gt; <a href="http://www.xxlinux.com/linux/article/development/database/" target="_blank">数据库开发</a> # oracle 分区表的建立方法 时间：2007-04-10 11:23:03  来源：<a href="http://www.xxlinux.com/" target="_blank">Linux联盟收集整理</a>  作者： Oracle提供了分区技术以支持VLDB(Very Large DataBase)。分区表通过对分区列的判断，把分区列不同的记录，放到不同的分区中。分区完全对应用透明。</li>
</ul>
<p>Oracle的分区表可以包括多个分区，每个分区都是一个独立的段（SEGMENT），可以存放到不同的表空间中。查询时可以通过查询表来访问各个分区中的数据，也可以通过在查询时直接指定分区的方法来进行查询。</p>
<p>分区提供以下优点： </p>
<p>由于将数据分散到各个分区中，减少了数据损坏的可能性； </p>
<p>可以对单独的分区进行备份和恢复； </p>
<p>可以将分区映射到不同的物理磁盘上，来分散IO；</p>
<p>提高可管理性、可用性和性能。 </p>
<p>Oracle提供了以下几种分区类型：</p>
<p>范围分区（range）；</p>
<p>哈希分区（hash）；</p>
<p>列表分区（list）；</p>
<p>范围－哈希复合分区（range-hash）；</p>
<p>范围－列表复合分区（range-list）。</p>
<p>Oracle的普通表没有办法通过修改属性的方式直接转化为分区表，必须通过重建的方式进行转变，下面介绍三种效率比较高的方法，并说明它们各自的特点。</p>
<p>方法一：利用原表重建分区表。 </p>
<p>步骤： </p>
<p>SQL&gt; CREATE TABLE T (ID NUMBER PRIMARY KEY, TIME DATE);</p>
<p>表已创建。 </p>
<p>SQL&gt; INSERT INTO T SELECT ROWNUM, CREATED FROM DBA_OBJECTS;</p>
<p>已创建6264行。</p>
<p>SQL&gt; COMMIT;</p>
<p>提交完成。</p>
<p>SQL&gt; CREATE TABLE T_NEW (ID, TIME) PARTITION BY RANGE (TIME)
  2  (PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2004-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  3  PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2005-1-1&#39;, &#39;YYYY-MM-DD&#39;)),
  4  PARTITION P3 VALUES LESS THAN (TO_DATE(&#39;2005-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  5  PARTITION P4 VALUES LESS THAN (MAXVALUE))
  6  AS SELECT ID, TIME FROM T;</p>
<p>表已创建。 </p>
<p>SQL&gt; RENAME T TO T_OLD;</p>
<p>表已重命名。 </p>
<p>SQL&gt; RENAME T_NEW TO T;</p>
<p>表已重命名。 </p>
<p>SQL&gt; SELECT COUNT(/*) FROM T;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6264
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P1);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>     0
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P2);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6246
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P3);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>    18
</code></pre><p>优点：方法简单易用，由于采用DDL语句，不会产生UNDO，且只产生少量REDO，效率相对较高，而且建表完成后数据已经在分布到各个分区中了。</p>
<p>不足：对于数据的一致性方面还需要额外的考虑。由于几乎没有办法通过手工锁定T表的方式保证一致性，在执行CREATE TABLE语句和RENAME T_NEW TO T语句直接的修改可能会丢失，如果要保证一致性，需要在执行完语句后对数据进行检查，而这个代价是比较大的。另外在执行两个RENAME语句之间执行的对T的访问会失败。</p>
<p>适用于修改不频繁的表，在闲时进行操作，表的数据量不宜太大。 </p>
<p>方法二：使用交换分区的方法。 </p>
<p>步骤： </p>
<p>SQL&gt; CREATE TABLE T (ID NUMBER PRIMARY KEY, TIME DATE);</p>
<p>表已创建。 </p>
<p>SQL&gt; INSERT INTO T SELECT ROWNUM, CREATED FROM DBA_OBJECTS;</p>
<p>已创建6264行。</p>
<p>SQL&gt; COMMIT;</p>
<p>提交完成。 </p>
<p>SQL&gt; CREATE TABLE T_NEW (ID NUMBER PRIMARY KEY, TIME DATE) PARTITION BY RANGE (TIME)
  2  (PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2005-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  3  PARTITION P2 VALUES LESS THAN (MAXVALUE));</p>
<p>表已创建。 </p>
<p>SQL&gt; ALTER TABLE T_NEW EXCHANGE PARTITION P1 WITH TABLE T;</p>
<p>表已更改。 </p>
<p>SQL&gt; RENAME T TO T_OLD;</p>
<p>表已重命名。 </p>
<p>SQL&gt; RENAME T_NEW TO T;</p>
<p>表已重命名。 </p>
<p>SQL&gt; SELECT COUNT(/*) FROM T;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6264
</code></pre><p>优点：只是对数据字典中分区和表的定义进行了修改，没有数据的修改或复制，效率最高。如果对数据在分区中的分布没有进一步要求的话，实现比较简单。在执行完RENAME操作后，可以检查T_OLD中是否存在数据，如果存在的话，直接将这些数据插入到T中，可以保证对T插入的操作不会丢失。</p>
<p>不足：仍然存在一致性问题，交换分区之后RENAME T_NEW TO T之前，查询、更新和删除会出现错误或访问不到数据。如果要求数据分布到多个分区中，则需要进行分区的SPLIT操作，会增加操作的复杂度，效率也会降低。</p>
<p>适用于包含大数据量的表转到分区表中的一个分区的操作。应尽量在闲时进行操作。 </p>
<p>方法三：Oracle9i以上版本，利用在线重定义功能</p>
<p>步骤： </p>
<p>SQL&gt; CREATE TABLE T (ID NUMBER PRIMARY KEY, TIME DATE);</p>
<p>表已创建。 </p>
<p>SQL&gt; INSERT INTO T SELECT ROWNUM, CREATED FROM DBA_OBJECTS;</p>
<p>已创建6264行。</p>
<p>SQL&gt; COMMIT;</p>
<p>提交完成。 </p>
<p>SQL&gt; EXEC DBMS_REDEFINITION.CAN_REDEF_TABLE(USER, &#39;T&#39;, DBMS_REDEFINITION.CONS_USE_PK);</p>
<p>PL/SQL 过程已成功完成。</p>
<p>SQL&gt; CREATE TABLE T_NEW (ID NUMBER PRIMARY KEY, TIME DATE) PARTITION BY RANGE (TIME)
  2  (PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2004-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  3  PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2005-1-1&#39;, &#39;YYYY-MM-DD&#39;)),
  4  PARTITION P3 VALUES LESS THAN (TO_DATE(&#39;2005-7-1&#39;, &#39;YYYY-MM-DD&#39;)),
  5  PARTITION P4 VALUES LESS THAN (MAXVALUE));</p>
<p>表已创建。 </p>
<p>SQL&gt; EXEC DBMS_REDEFINITION.START_REDEF_TABLE(USER, &#39;T&#39;, &#39;T_NEW&#39;, -</p>
<blockquote>
<p>&#39;ID ID, TIME TIME&#39;, DBMS_REDEFINITION.CONS_USE_PK);</p>
</blockquote>
<p>PL/SQL 过程已成功完成。</p>
<p>SQL&gt; EXEC DBMS_REDEFINITION.FINISH_REDEF_TABLE(&#39;YANGTK&#39;, &#39;T&#39;, &#39;T_NEW&#39;);</p>
<p>PL/SQL 过程已成功完成。</p>
<p>SQL&gt; SELECT COUNT(/*) FROM T;</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6264
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P2);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>  6246
</code></pre><p>SQL&gt; SELECT COUNT(/*) FROM T PARTITION (P3);</p>
<h2 id="-count-">  COUNT(/*)</h2>
<pre><code>    18
</code></pre><p>优点：保证数据的一致性，在大部分时间内，表T都可以正常进行DML操作。只在切换的瞬间锁表，具有很高的可用性。这种方法具有很强的灵活性，对各种不同的需要都能满足。而且，可以在切换前进行相应的授权并建立各种约束，可以做到切换完成后不再需要任何额外的管理操作。</p>
<p>不足：实现上比上面两种略显复杂。 </p>
<p>适用于各种情况。 </p>
<p>这里只给出了在线重定义表的一个最简单的例子，详细的描述和例子可以参考下面两篇文章。 </p>
<p>Oracle的在线重定义表功能：<a href="http://blog.itpub.net/post/468/12855" target="_blank"><a href="http://blog.itpub.net/post/468/12855">http://blog.itpub.net/post/468/12855</a></a></p>
<p>Oracle的在线重定义表功能（二）：<a href="http://blog.itpub.net/post/468/12962" target="_blank"><a href="http://blog.itpub.net/post/468/12962">http://blog.itpub.net/post/468/12962</a></a></p>
<p>索引也可以进行分区，分区索引有两种类型：global和local。对于local索引，每一个表分区对应一个索引分区，当表的分区发生变化时，索引的维护由Oracle自动进行。对于global索引，可以选择是否分区，而且索引的分区可以不与表分区相对应。当对分区进行维护操作时，通常会导致全局索引的INVALDED，必须在执行完操作后REBUILD。Oracle9i提供了UPDATE GLOBAL INDEXES语句，可以使在进行分区维护的同时重建全局索引。</p>
<p>全局索引可以包含多个分区的值 局部索引比全局索引容易管理,而全局索引比较快
注意:不能为散列分区 或者 子分区创建全局索引</p>
<p>Oracle的分区功能十分强大。不过用起来发现有两点不大方便：</p>
<p>第一是已经存在的表没有方法可以直接转化为分区表。不过Oracle提供了在线重定义表的功能，可以通过这种方式来完成普通表到分区表的转化。可以参考这个例子：<a href="http://blog.itpub.net/post/468/13091" target="_blank"><a href="http://blog.itpub.net/post/468/13091">http://blog.itpub.net/post/468/13091</a></a></p>
<p>第二点是如果采用了local分区索引，那么在增加表分区的时候，索引分区的表空间是不可控制的。如果希望将表和索引的分区分开到不同的表空间且不同索引分区也分散到不同的表空间中，那么只能在增加分区后，对新增的分区索引单独rebuild。</p>
<p>Oracle最大允许存在多少个分区呢?</p>
<p>我们可以从Oracle的<a href="http://tahiti.oracle.com/" target="_blank">Concepts手册</a>上找到这个信息，对于Oracle9iR2:
Tables can be partitioned into up to <strong>64,000</strong> separate partitions.</p>
<p>对于Oracle10gR2，Oracle增强了分区特性：</p>
<p>Tables can be partitioned into up to <strong>1024K-1</strong> separate partitions.</p>
<p>关于何时应该进行分区,Oracle有如下建议:</p>
<p>■ Tables greater than 2GB should always be considered for partitioning.
■ Tables containing historical data, in which new data is added into the newest partition. A typical example is a historical table where only the current month&#39;s data is updatable and the other 11 months are read only. <strong>** <a href="">来顶一下</a> </strong><a href="http://www.xxlinux.com/linux/" target="_blank"><img src="" alt="近回首页"></a><strong> <a href="http://www.xxlinux.com/linux/" target="_blank">返回首页</a>   </strong>发表评论<strong> <a href="http://www.xxlinux.com/linux/e/pl?classid=11&amp;id=8140" target="_blank">共有  条评论</a> 用户名: 密码: 验证码:  <img src="" alt=""> 匿名发表<a href=""></a> </strong>相关文章<em>* </em> <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8139.html" title="Oracle数据库应用程序性能优化探究">Oracle数据库应用程序性能优化探</a></p>
<ul>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8138.html" title="Oracle 9i中自动撤销管理的优点分析" target="_blank">Oracle 9i中自动撤销管理的优点分</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8137.html" title="Oracle 9i数据库中动态重配置深入分析" target="_blank">Oracle 9i数据库中动态重配置深入</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8136.html" title="Oracle数据库编写PL/SQL代码经验谈" target="_blank">Oracle数据库编写PL/SQL代码经验</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070410/8135.html" title="教你Oracle的数据缓冲区是如何工作" target="_blank">教你Oracle的数据缓冲区是如何工</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8127.html" title="redhat 9 上安装oracle" target="_blank">redhat 9 上安装oracle</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8121.html" title="关于Oracle 9i数据库密码重用规则分析" target="_blank">关于Oracle 9i数据库密码重用规则</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8120.html" title="Oracle的恢复管理器及DBMS_JOB包分析" target="_blank">Oracle的恢复管理器及DBMS_JOB包</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070409/8119.html" title="利用Oracle执行计划机制提高查询性能" target="_blank">利用Oracle执行计划机制提高查询</a></li>
<li><a href="http://www.xxlinux.com/linux/article/development/database/20070406/8110.html" title="Unix环境下Oracle数据库优化心得介绍" target="_blank">Unix环境下Oracle数据库优化心得</a> <strong>栏目更新</strong>  <strong>栏目热门</strong> <strong>站内搜索：</strong>     Linux频道 下载频道 图库 商品 嵌入式频道 <a href=""></a> <a href="http://www.xxlinux.com/linux/search/">高级搜索</a> <a href="http://www.xxlinux.com/linux/" target="_blank">网站首页</a> | <a href="http://www.xxlinux.com/linux/article/news/dt/2009-01-06/14778.html" target="_blank">栏目导航</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">服务条款</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">广告服务</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">联系我们</a> | <a href="http://www.xxlinux.com/linux/article/news/dt/2006-05-31/1076.html" target="_blank">网站大全</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">免责声明</a> | <a href="http://www.xxlinux.com/linux/article/development/database/20070410/8140.html#" target="_blank">返回顶部</a> Copyright © 2007-2008 xxlinux.com, All rights reserved. Powered by linux联盟 <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP备05012402号</a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分区/">分区</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分区/" class="label label-success">分区</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分区--oracle分区表的建立方法/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分区--oracle分区表的建立方法" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区/">如何写这个sql语句 _Oracle数据库管理_ITPUB论坛</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-sql-_oracle-_itpub-it168-">如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区</h1>
<ul>
<li>用户名</li>
<li>UID</li>
<li>Email</li>
</ul>
<p>请 <a href=""><strong>登录</strong></a> 后使用快捷导航
没有帐号？<a href="http://www.itpub.net/member.php?mod=register.php" target="_blank">注册</a></p>
<h2 id="-itpub-http-sql-_oracle-_itpub-it168-_files-logo-png-http-www-itpub-net-forum-php-itpub-"><a href="http://www.itpub.net/forum.php" title="ITPUB论坛" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/logo.png" alt="ITPUB论坛"></a></h2>
<p><a href="">用户名</a>  自动登录    <a href="http://sso.itpub.net/ForgotPassword?return_url=http%3A%2F%2Fwww.itpub.net%2Fhome.php%3Fmod%3Dspacecp" target="_blank">找回密码</a> 密码  <em>登录</em>  <a href="http://www.itpub.net/member.php?mod=register.php" target="_blank">注册</a></p>
<p><a href="http://www.itpub.net/connect.php?mod=login&amp;op=init&amp;referer=forum.php%3Fmod%3Dviewthread%26tid%3D96851&amp;statfrom=login_simple" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/qq_login.gif" alt="QQ登录"></a></p>
<p>只需一步，快速开始</p>
<p><a href="">快捷导航</a></p>
<ul>
<li><a href="http://tech.it168.com/" target="_blank">门户</a></li>
<li><a href="http://www.itpub.net/forum.php" title="BBS" target="_blank">论坛BBS</a></li>
<li><a href="http://space.itpub.net/" target="_blank">空间</a></li>
<li><a href="http://www.itpub.net/pubtree/index.htm" target="_blank">索引树</a></li>
<li><a href="http://www.itpub.net/misc.php?mod=mobile" target="_blank">手机版</a></li>
<li><a href="http://book.itpub.net/" target="_blank">读书</a></li>
<li><a href="http://wenku.it168.com/" target="_blank">文库</a></li>
<li><a href="http://www.itpub.net/plugin.php?id=auction" title="Auction" target="_blank">竞拍Auction</a></li>
<li><a href="http://www.itpub.net/plugin.php?id=itpub_medal:medal_shop" target="_blank">商店</a></li>
<li><a href="http://www.itpub.net/misc.php?mod=ranklist" title="Ranklist" target="_blank">排行榜Ranklist</a></li>
<li><a href="http://www.itpub.net/portal.php?mod=topic&amp;topicid=1" target="_blank">版主团</a></li>
<li><p><a href="http://www.itpub.net/itpub2011/" target="_blank">十周年专题</a></p>
</li>
<li><p><a href="http://www.itpub.net/pubtree/?node=1" target="_blank">Oracle索引树</a></p>
</li>
<li><a href="http://www.itpub.net/pubtree/?node=51" target="_blank">DB2索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=95" target="_blank">MS Sql Sever索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=166" target="_blank">Mysql索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=343" target="_blank">Sybase索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=339" target="_blank">BI索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=137" target="_blank">项目管理索引树</a></li>
<li><p><a href="http://www.itpub.net/pubtree/?node=207" target="_blank">Java索引树</a>
<a href="">本版</a> <strong>搜索</strong> <a href="http://www.itpub.net/search.php?mod=forum&amp;adv=yes" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/gj_search.png" alt=""></a> <strong>热搜:</strong><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=ITPUB%CB%F7%D2%FD%CA%F7&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">ITPUB索引树</a><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=ITPUB%CA%AE%D6%DC%C4%EA&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">ITPUB十周年</a><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=Oracle&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">Oracle</a><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=%D0%D4%C4%DC%D3%C5%BB%AF&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">性能优化</a></p>
</li>
<li><p><a href="">本版</a></p>
</li>
<li><a href="">帖子</a></li>
<li><a href="">用户</a></li>
</ul>
<p><a href="http://www.itpub.net/forum.php" title="首页" target="_blank">ITPUB论坛</a> <em>›</em> <a href="http://www.itpub.net/forum.php" target="_blank">论坛</a> <em>›</em> <a href="http://www.itpub.net/forum.php?gid=1" target="_blank">≡ 数据库技术 ≡</a> <em>›</em> <a href="http://www.itpub.net/forum-2-1.html" target="_blank">Oracle数据库管理</a> <em>›</em> <a href="http://www.itpub.net/thread-96851-1-1.html" target="_blank">如何写这个sql语句?</a></p>
<ul>
<li><a href="http://www.itpub.net/pubtree/index.htm" target="_blank"><strong>ITPUB知识索引树 隆重上线</strong></a></li>
<li><a href="http://www.itpub.net/thread-1557539-1-1.html" target="_blank"><strong>优中选优，ITPUB精彩技术贴推荐有奖</strong></a></li>
<li><a href="http://www.itpub.net/thread-1505518-1-1.html" target="_blank"><strong>ITPUB十城沙龙巡展演讲PPT下载</strong></a></li>
<li><a href="http://www.xuexizu.com/training_centre/content/77026?nid=30538" target="_blank"><strong>OCM集训营-认证直通车正在招募</strong></a>
<strong>1</strong><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">2</a><a href="http://www.itpub.net/thread-96851-3-1.html" target="_blank">3</a><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">下一页</a> <a href="http://www.itpub.net/forum-2-1.html" target="_blank">返回列表</a> <a href="&quot;发新帖&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/pn_post.png" alt="发新帖"></a></li>
</ul>
<p>分享到  <a href="&quot;转发到新浪微博&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/sina.gif" alt="转发到新浪微博"></a> <a href="&quot;转发到腾讯微博&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/weiboicon16.png" alt=""></a> <a href="&quot;转贴到开心网&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/kaixin.gif" alt="转贴到开心网"></a> <a href="&quot;推荐给豆瓣&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/douban.gif" alt=""></a> <a href="&quot;转贴到淘宝&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/taobao.gif" alt="转贴到淘宝"></a> <a href=""><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/favicon-rr.gif" alt="转帖到人人网"></a> <a href="&quot;转贴到推特&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/twiitericon.gif" alt="转贴到推特"></a> <a href=""><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/facebook_share_icon.gif" alt="转贴到Facebook"></a>    </p>
<p>查看: 9463|回复: 26 <a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=favorite&amp;type=thread&amp;id=96851" target="_blank">收藏</a>  <a href="http://www.itpub.net/forum.php?mod=viewthread&amp;action=printable&amp;tid=96851" title="打印" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/print.png" alt="打印"></a> <a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=nextoldset&amp;tid=96851" title="上一主题" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/thread-prev.png" alt="上一主题"></a> <a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=nextnewset&amp;tid=96851" title="下一主题" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/thread-next.png" alt="下一主题"></a></p>
<h1 id="-sql-http-www-itpub-net-thread-96851-1-1-html-http-www-itpub-net-thread-96851-1-1-html-"><a href="http://www.itpub.net/thread-96851-1-1.html" target="_blank">如何写这个sql语句?</a>  <a href="http://www.itpub.net/thread-96851-1-1.html" title="您的朋友访问此链接后，您将获得相应的积分奖励" target="_blank">[复制链接]</a></h1>
<p><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=538556&amp;tid=96851" title="发消息" target="_blank">发消息</a>
电梯直达  <a href="&quot;跳转到指定楼层&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/fj_btn.png" alt="跳转到指定楼层"></a> <strong><a href="http://www.itpub.net/thread-96851-1-1.html" target="_blank"><em>1</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-20 22:06:25</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;extra=&amp;ordertype=1" target="_blank">倒序浏览</a></p>
<p>表dept, emp
要得到如下结果</p>
<h2 id="deptno-dname-employees">deptno, dname, employees</h2>
<p>10, accounting, clark;king;miller
20, research, smith;adams;ford;scott;jones
30, sales, allen;blake;martin;james;turners
也就是，每个dept的employee串起来作为一条记录返回。
怎么用一条sql语句完成?
3x <a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=favorite&amp;type=thread&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/fav.gif" alt="收藏">收藏0</a> <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=bump&amp;idtype=tid&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/bump.small.gif" alt="">提升卡</a></li>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=stick&amp;idtype=tid&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/stick.small.gif" alt="">置顶卡</a></li>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=highlight&amp;idtype=tid&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/highlight.small.gif" alt="">变色卡</a></li>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538556:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-7292.html" target="_blank">jaunt</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-7292.html" target="_blank">jaunt</a></strong> <em>当前离线</em> UID7292阅读权限100帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">12195</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术排名68技术积分22560社区排名1177社区积分1370注册时间2002-2-27</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=jaunt" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=jaunt" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-7292.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=34" target="_blank">版主</a></em></p>
<p>版主</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术积分22560社区积分1370注册时间2002-2-27 论坛徽章:13</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_1_small.gif" alt="ITPUB元老
日期:2005-02-28 12:57:00" title="ITPUB元老
日期:2005-02-28 12:57:00"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:56" title="2011新春纪念徽章
日期:2011-01-25 15:42:56"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:33" title="2011新春纪念徽章
日期:2011-01-25 15:42:33"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:15" title="2011新春纪念徽章
日期:2011-01-25 15:42:15"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:50" title="2011新春纪念徽章
日期:2011-01-25 15:41:50"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:01" title="2011新春纪念徽章
日期:2011-01-25 15:41:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_31_small.gif" alt="会员2006贡献徽章
日期:2006-04-17 13:46:34" title="会员2006贡献徽章
日期:2006-04-17 13:46:34"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_30_small.gif" alt="管理团队2006纪念徽章
日期:2006-04-16 22:44:45" title="管理团队2006纪念徽章
日期:2006-04-16 22:44:45"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_13_small.gif" alt="管理团队成员
日期:2011-05-07 01:45:08" title="管理团队成员
日期:2011-05-07 01:45:08"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=7292&amp;handlekey=addfriendhk_7292" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_7292&amp;touid=7292&amp;pmid=0&amp;daterange=2&amp;pid=538776&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=538776" target="_blank"><em>2</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_moderator.gif" alt=""> <em>发表于 2003-2-21 08:45:37</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=7292" target="_blank">只看该作者</a></p>
<p>Sorry，没看清题目，给了个错答案。:P  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538776:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=538829&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=538829" target="_blank"><em>3</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 09:00:29</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a></p>
<p>我想到了一个办法，用function，可以解决这个问题。但是，如果只用sql，是不是无法实现这种功能?  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538829:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-14302.html" target="_blank">riosinph</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-14302.html" target="_blank">riosinph</a></strong> <em>当前离线</em> UID14302阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">4898</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">1</a>技术排名1505技术积分1661社区排名519社区积分4324注册时间2002-6-21</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=riosinph" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=riosinph" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-14302.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/02_avatar_middle.jpg" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>New Human</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">1</a>技术积分1661社区积分4324注册时间2002-6-21 论坛徽章:2</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_31_small.gif" alt="会员2006贡献徽章
日期:2006-04-17 13:46:34" title="会员2006贡献徽章
日期:2006-04-17 13:46:34"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=14302&amp;handlekey=addfriendhk_14302" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_14302&amp;touid=14302&amp;pmid=0&amp;daterange=2&amp;pid=538914&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=538914" target="_blank"><em>4</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 09:26:47</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=14302" target="_blank">只看该作者</a></p>
<p>select dept.deptno, dept.dname, emp.employee
from dept,emp
where  instr(dept.employees,emp.employee)&gt;0
.........  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538914:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=539279&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539279" target="_blank"><em>5</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 11:27:20</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a></p>
<p>不能不承认，还是老外厉害。
我在otn上也问了同样的问题。
很快有人说用plsql写个存储过程，后来我又问纯粹用sql行不行，有个牛人很快回答了：
Well if you have a thoretical maximum, which I would assume you would given the legibility of listing hundreds of employees in the way you describe then yes. But the SQL needs to use the LAG function for each employee, hence a hundred emps a hundred LAGs, so kind of bulky.
This example uses a max of 6, and would need more cut n pasting to do more than that.
SQL&gt; select deptno, dname, emps
  2  from (
  3  select d.deptno, d.dname, rtrim(e.ename ||&#39;, &#39;||
  4     lead(e.ename,1) over (partition by d.deptno
  5             order by e.ename) ||&#39;, &#39;||
  6     lead(e.ename,2) over (partition by d.deptno
  7             order by e.ename) ||&#39;, &#39;||
  8     lead(e.ename,3) over (partition by d.deptno
  9             order by e.ename) ||&#39;, &#39;||
10     lead(e.ename,4) over (partition by d.deptno
11             order by e.ename) ||&#39;, &#39;||
12     lead(e.ename,5) over (partition by d.deptno
13             order by e.ename),&#39;, &#39;) emps,
14     row_number () over (partition by d.deptno
15             order by e.ename) x
16  from emp e, dept d
17  where d.deptno = e.deptno
18  )
19  where x = 1
20  /
DEPTNO DNAME       EMPS</p>
<hr>
<pre><code> 10 ACCOUNTING  CLARK, KING, MILLER
 20 RESEARCH    ADAMS, FORD, JONES, ROONEY, SCOTT, SMITH
 30 SALES       ALLEN, BLAKE, JAMES, MARTIN, TURNER, WARD
</code></pre><hr>
<p>打算踏踏实实看看书.  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539279:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-15894.html" target="_blank">rain11er</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-15894.html" target="_blank">rain11er</a></strong> <em>当前离线</em> UID15894阅读权限100帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">872</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术排名915技术积分2504社区排名3702社区积分186注册时间2002-7-9</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=rain11er" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=rain11er" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-15894.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/94_avatar_middle.jpg" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=34" target="_blank">版主</a></em></p>
<p>无头衔</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术积分2504社区积分186注册时间2002-7-9 论坛徽章:44</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd3s.gif" alt="咸鸭蛋
日期:2011-09-14 08:46:37" title="咸鸭蛋
日期:2011-09-14 08:46:37"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:01" title="2011新春纪念徽章
日期:2011-01-25 15:41:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/Cycling_small.gif" alt="2010广州亚运会纪念徽章:自行车
日期:2011-01-05 12:55:01" title="2010广州亚运会纪念徽章:自行车
日期:2011-01-05 12:55:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/Taekwondo_small.gif" alt="2010广州亚运会纪念徽章:跆拳道
日期:2010-11-16 19:05:23" title="2010广州亚运会纪念徽章:跆拳道
日期:2010-11-16 19:05:23"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/Handball_small.gif" alt="2010广州亚运会纪念徽章:手球
日期:2010-10-19 22:02:34" title="2010广州亚运会纪念徽章:手球
日期:2010-10-19 22:02:34"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/haibao_small.gif" alt="2010世博会纪念徽章
日期:2010-10-05 15:10:58" title="2010世博会纪念徽章
日期:2010-10-05 15:10:58"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/haibao_small.gif" alt="2010世博会纪念徽章
日期:2010-08-08 20:44:57" title="2010世博会纪念徽章
日期:2010-08-08 20:44:57"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010Denmark_small.gif" alt="2010年世界杯参赛球队：丹麦
日期:2010-08-05 21:25:40" title="2010年世界杯参赛球队：丹麦
日期:2010-08-05 21:25:40"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010Serbia_small.gif" alt="2010年世界杯参赛球队：塞尔维亚
日期:2010-06-11 15:41:58" title="2010年世界杯参赛球队：塞尔维亚
日期:2010-06-11 15:41:58"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010Argentina_small.gif" alt="2010年世界杯参赛球队：阿根廷
日期:2010-06-07 12:53:08" title="2010年世界杯参赛球队：阿根廷
日期:2010-06-07 12:53:08"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:50" title="2011新春纪念徽章
日期:2011-01-25 15:41:50"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:15" title="2011新春纪念徽章
日期:2011-01-25 15:42:15"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=15894&amp;handlekey=addfriendhk_15894" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_15894&amp;touid=15894&amp;pmid=0&amp;daterange=2&amp;pid=539463&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539463" target="_blank"><em>6</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_moderator.gif" alt=""> <em>发表于 2003-2-21 12:38:26</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=15894" target="_blank">只看该作者</a></p>
<p>peifu,peifu  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539463:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-4613.html" target="_blank">nyfor</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4613.html" target="_blank">nyfor</a></strong> <em>当前离线</em> UID4613阅读权限100帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">5403</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">8</a>技术排名168技术积分10935社区排名1592社区积分824注册时间2002-1-6</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=nyfor" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=nyfor" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4613.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/13_avatar_middle.jpg" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=34" target="_blank">版主</a></em></p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">8</a>技术积分10935社区积分824注册时间2002-1-6 论坛徽章:57</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/sx2007-08small.gif" alt="生肖徽章2007版:羊
日期:2008-11-14 14:42:19" title="生肖徽章2007版:羊
日期:2008-11-14 14:42:19"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd5s.gif" alt="鲜花蛋
日期:2011-05-10 13:02:48" title="鲜花蛋
日期:2011-05-10 13:02:48"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd6s.gif" alt="紫蛋头
日期:2011-05-10 13:03:01" title="紫蛋头
日期:2011-05-10 13:03:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd7s.gif" alt="灰彻蛋
日期:2011-05-10 13:03:12" title="灰彻蛋
日期:2011-05-10 13:03:12"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd8s.gif" alt="迷宫蛋
日期:2011-05-10 13:03:40" title="迷宫蛋
日期:2011-05-10 13:03:40"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd9s.gif" alt="蛋疼蛋
日期:2011-05-10 13:03:56" title="蛋疼蛋
日期:2011-05-10 13:03:56"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd10s.gif" alt="复活蛋
日期:2011-05-10 13:04:09" title="复活蛋
日期:2011-05-10 13:04:09"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/triathlon_small.gif" alt="2010广州亚运会纪念徽章:三项全能
日期:2011-05-19 21:32:30" title="2010广州亚运会纪念徽章:三项全能
日期:2011-05-19 21:32:30"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd10s.gif" alt="复活蛋
日期:2011-08-06 08:59:05" title="复活蛋
日期:2011-08-06 08:59:05"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd4s.gif" alt="茶鸡蛋
日期:2011-05-10 13:02:38" title="茶鸡蛋
日期:2011-05-10 13:02:38"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd3s.gif" alt="咸鸭蛋
日期:2011-05-10 13:02:27" title="咸鸭蛋
日期:2011-05-10 13:02:27"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/sx2007-02small.gif" alt="生肖徽章2007版:牛
日期:2009-03-02 15:43:25" title="生肖徽章2007版:牛
日期:2009-03-02 15:43:25"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4613&amp;handlekey=addfriendhk_4613" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4613&amp;touid=4613&amp;pmid=0&amp;daterange=2&amp;pid=539537&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539537" target="_blank"><em>7</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_moderator.gif" alt=""> <em>发表于 2003-2-21 13:01:54</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4613" target="_blank">只看该作者</a></p>
<p>参见此帖做法，使用PL/SQL代码实现：
<a href="http://www.itpub.net/showthread.php?threadid=96853" target="_blank"><a href="http://www.itpub.net/showthread.php?threadid=96853">http://www.itpub.net/showthread.php?threadid=96853</a></a>  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539537:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=539603&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539603" target="_blank"><em>8</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 13:27:24</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a></p>
<p>是的，写个function比较简单也挺好用。我最后也是用的function，而没有用那个lead函数，但他们还是挺牛。  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539603:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-33612.html" target="_blank">xizi812</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-33612.html" target="_blank">xizi812</a></strong> <em>当前离线</em> UID33612阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">37</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名18274技术积分128社区排名30307社区积分3注册时间2003-1-3</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xizi812" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xizi812" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-33612.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分128社区积分3注册时间2003-1-3 论坛徽章:0</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=33612&amp;handlekey=addfriendhk_33612" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_33612&amp;touid=33612&amp;pmid=0&amp;daterange=2&amp;pid=541053&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=541053" target="_blank"><em>9</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-22 10:07:58</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=33612" target="_blank">只看该作者</a></p>
<p>佩服！！牛！！  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=541053:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-10589.html" target="_blank">snowsun</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-10589.html" target="_blank">snowsun</a></strong> <em>当前离线</em> UID10589阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">297</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名4121技术积分650社区排名5739社区积分80注册时间2002-4-26</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=snowsun" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=snowsun" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-10589.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>笨牛</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分650社区积分80注册时间2002-4-26 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=10589&amp;handlekey=addfriendhk_10589" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_10589&amp;touid=10589&amp;pmid=0&amp;daterange=2&amp;pid=541293&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=541293" target="_blank"><em>10</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-22 13:24:11</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=10589" target="_blank">只看该作者</a></p>
<p>谢天谢地，我正在为这个东东老火，没有想到楼主也遇到了.
扎扎实实的学了一招.  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=541293:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
IT168文库精选文档推荐 <a href="http://wenku.it168.com/d_000088434.shtml" title="一条SQL语句的优化过程.doc" target="_blank">一条SQL语句的优化过程.doc</a>    <a href="http://wenku.it168.com/d_000086681.shtml" title="VC++6.0访问Oracle数据库技术.pdf" target="_blank">VC++6.0访问Oracle数据库技术.pdf</a>    <a href="http://wenku.it168.com/d_000090952.shtml" title="oracle新手必备17.ppt" target="_blank">oracle新手必备17.ppt</a>    <a href="http://wenku.it168.com/d_000091415.shtml" title="用DBMSDDL包重新编译PL.doc" target="_blank">用DBMSDDL包重新编译PL.doc</a>    <a href="http://wenku.it168.com/d_000087843.shtml" title="第十四章 数据库管理员.pdf" target="_blank">第十四章 数据库管理员.pdf</a>    </li>
</ul>
<p><strong>1</strong><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">2</a><a href="http://www.itpub.net/thread-96851-3-1.html" target="_blank">3</a><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">下一页</a><a href="http://www.itpub.net/forum-2-1.html" target="_blank">返回列表</a> <a href="&quot;发新帖&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/pn_post.png" alt="发新帖"></a>
<a href="http://www.itpub.net/forum.php?mod=post&amp;action=reply&amp;fid=2&amp;tid=96851" target="_blank">高级模式</a></p>
<p><a href="&quot;文字加粗&quot;">B</a> <a href="&quot;设置文字颜色&quot;">Color</a> <a href="&quot;图片&quot;">Image</a> <a href="&quot;添加链接&quot;">Link</a> <a href="&quot;引用&quot;">Quote</a> <a href="&quot;代码&quot;">Code</a> <a href="">Smilies</a></p>
<p>您需要登录后才可以回帖 <a href="http://www.itpub.net/member.php?mod=logging&amp;action=login" target="_blank">登录</a> | <a href="http://www.itpub.net/member.php?mod=register.php" target="_blank">注册</a> <a href="http://www.itpub.net/connect.php?mod=login&amp;op=init&amp;referer=forum.php%3Fmod%3Dviewthread%26tid%3D96851&amp;statfrom=login" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/qq_login.gif" alt=""></a></p>
<p><strong>发表回复</strong> 回帖后跳转到最后一页</p>
<h3 id="-">浏览过的版块</h3>
<ul>
<li><a href="http://www.itpub.net/forum-3-1.html" target="_blank">Oracle开发</a>
<a href="">TOP</a><a href="http://www.itpub.net/techmatch.php" target="_blank">技术积分榜</a> <a href="http://www.itpub.net/forummatch.php" target="_blank">社区积分榜</a> <a href="http://www.itpub.net/plugin.php?id=itpub_medal:medal_list" target="_blank">徽章</a> <a href="http://epub.itpub.net/" target="_blank">电子杂志</a> <a href="http://www.itpub.net/misc.php?mod=stat&amp;op=team" target="_blank">团队</a> <a href="http://www.itpub.net/misc.php?mod=stat" target="_blank">统计</a> <a href="http://email.itpub.net/" target="_blank">邮箱</a> <a href="http://www.tigerbar.net/" target="_blank">虎吧</a> <a href="http://weblog.itpub.net/" target="_blank">老博客</a> <a href="http://www.itpub.net/archiver/" target="_blank">文本模式</a> <a href="http://www.itpub.net/misc.php?mod=faq" target="_blank">帮助</a></li>
</ul>
<p>CopyRight 1999-2011 itpub.net All Right Reserved. 北京皓辰网域网络信息技术有限公司版权所有　<a href="http://www.itpub.net/contactus.php" target="_blank">联系我们</a>　<a href="http://www.itpub.net/footer_wzls.php" target="_blank">网站律师</a>　<a href="http://www.itpub.net/footer_ys.php" target="_blank">隐私政策</a>　<a href="http://www.itpub.net/footer_zscq.php" target="_blank">知识产权声明</a>
<a href="http://www.it168.com/images/icp.jpg" target="_blank">京ICP证:060528号</a>　北京市公安局海淀分局网监中心备案编号：1101082001　广播电视节目制作经营许可证：编号（京）字第1149号<br>积分 0, 距离下一级还需 积分  回顶部</p>
<p><a href="http://www.itpub.net/forum.php?gid=1" target="_blank">≡ 数据库技术 ≡</a></p>
<ul>
<li><a href="http://www.itpub.net/forum-2-1.html" target="_blank">Oracle数据库管理</a></li>
<li><a href="http://www.itpub.net/forum-205-1.html" target="_blank">Oracle高可用</a></li>
<li><a href="http://www.itpub.net/forum-3-1.html" target="_blank">Oracle开发</a></li>
<li><a href="http://www.itpub.net/forum-4-1.html" target="_blank">Oracle入门与认证</a></li>
<li><a href="http://www.itpub.net/forum-67-1.html" target="_blank">Oracle专题深入讨论</a></li>
<li><a href="http://www.itpub.net/forum-70-1.html" target="_blank">Oracle新技术/11gR2</a></li>
<li><a href="http://www.itpub.net/forum-72-1.html" target="_blank">Oracle电子文档</a></li>
<li><a href="http://www.itpub.net/forum-69-1.html" target="_blank">Oracle Fusion中间件</a></li>
<li><a href="http://www.itpub.net/forum-143-1.html" target="_blank">IBM DB2数据库管理与开发</a></li>
<li><a href="http://www.itpub.net/forum-40-1.html" target="_blank">MS SQL Server</a></li>
<li><a href="http://www.itpub.net/forum-98-1.html" target="_blank">Sybase管理与开发</a></li>
<li><a href="http://www.itpub.net/forum-73-1.html" target="_blank">MySQL及其它开源数据库</a></li>
<li><a href="http://www.itpub.net/forum-237-1.html" target="_blank">国内数据库产品</a></li>
<li><a href="http://www.itpub.net/forum-234-1.html" target="_blank">NoSQL</a></li>
<li><a href="http://www.itpub.net/forum-162-1.html" target="_blank">内存数据库</a></li>
<li><a href="http://www.itpub.net/forum-238-1.html" target="_blank">列式数据库</a></li>
<li><a href="http://www.itpub.net/forum-43-1.html" target="_blank">数据仓库与数据挖掘</a></li>
<li><a href="http://www.itpub.net/forum-148-1.html" target="_blank">移动及嵌入式数据库</a></li>
<li><a href="http://www.itpub.net/forum-239-1.html" target="_blank">Hadoop与分布式数据处理</a><a href="http://www.itpub.net/forum.php?gid=71" target="_blank">≡ 企业信息化 ≡</a></li>
<li><a href="http://www.itpub.net/forum-5-1.html" target="_blank">ERP产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-83-1.html" target="_blank">CRM产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-89-1.html" target="_blank">HR产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-228-1.html" target="_blank">PLM/PDM产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-214-1.html" target="_blank">云计算和SaaS产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-116-1.html" target="_blank">物流</a></li>
<li><a href="http://www.itpub.net/forum-65-1.html" target="_blank">供应链</a></li>
<li><a href="http://www.itpub.net/forum-93-1.html" target="_blank">供应链建模与仿真</a></li>
<li><a href="http://www.itpub.net/forum-106-1.html" target="_blank">物流设备与系统工程</a></li>
<li><a href="http://www.itpub.net/forum-137-1.html" target="_blank">企业管理咨询</a></li>
<li><a href="http://www.itpub.net/forum-138-1.html" target="_blank">管理协同与办公自动化</a></li>
<li><a href="http://www.itpub.net/forum-139-1.html" target="_blank">IT服务管理</a></li>
<li><a href="http://www.itpub.net/forum-169-1.html" target="_blank">数据中心建设与设备采购</a></li>
<li><a href="http://www.itpub.net/forum-56-1.html" target="_blank">ERP二次开发</a></li>
<li><a href="http://www.itpub.net/forum-46-1.html" target="_blank">Oracle ERP</a></li>
<li><a href="http://www.itpub.net/forum-204-1.html" target="_blank">Oracle EBS R12</a></li>
<li><a href="http://www.itpub.net/forum-130-1.html" target="_blank">PeopleSoft与JDE</a></li>
<li><a href="http://www.itpub.net/forum-163-1.html" target="_blank">EBS相关文档</a></li>
<li><a href="http://www.itpub.net/forum-236-1.html" target="_blank">Oracle EBS DBA</a></li>
<li><a href="http://www.itpub.net/forum-45-1.html" target="_blank">SAP R/3</a></li>
<li><a href="http://www.itpub.net/forum-105-1.html" target="_blank">SAP Business One开发与快速实施</a></li>
<li><a href="http://www.itpub.net/forum-155-1.html" target="_blank">SAP财务及CRM</a></li>
<li><a href="http://www.itpub.net/forum-154-1.html" target="_blank">SAP后勤及HR</a></li>
<li><a href="http://www.itpub.net/forum-157-1.html" target="_blank">mySAP ERP</a></li>
<li><a href="http://www.itpub.net/forum-156-1.html" target="_blank">系统开发及跨应用设置</a></li>
<li><a href="http://www.itpub.net/forum-113-1.html" target="_blank">SAP相关文档</a></li>
<li><a href="http://www.itpub.net/forum-166-1.html" target="_blank">国外其它ERP产品</a></li>
<li><a href="http://www.itpub.net/forum-109-1.html" target="_blank">国内ERP产品</a><a href="http://www.itpub.net/forum.php?gid=33" target="_blank">≡ 开发技术 ≡</a></li>
<li><a href="http://www.itpub.net/forum-128-1.html" target="_blank">Java入门与认证版</a></li>
<li><a href="http://www.itpub.net/forum-123-1.html" target="_blank">Java web开发及框架技术</a></li>
<li><a href="http://www.itpub.net/forum-32-1.html" target="_blank">Java企业开发</a></li>
<li><a href="http://www.itpub.net/forum-76-1.html" target="_blank">WEB程序开发</a></li>
<li><a href="http://www.itpub.net/forum-118-1.html" target="_blank">WEB 2.0技术</a></li>
<li><a href="http://www.itpub.net/forum-119-1.html" target="_blank">动态语言</a></li>
<li><a href="http://www.itpub.net/forum-91-1.html" target="_blank">移动与游戏开发</a><a href="http://www.itpub.net/forum.php?gid=170" target="_blank">≡ 微软技术 ≡</a></li>
<li><a href="http://www.itpub.net/forum-176-1.html" target="_blank">微软产品用户交流区</a></li>
<li><a href="http://www.itpub.net/forum-201-1.html" target="_blank">.Net人才交流</a></li>
<li><a href="http://www.itpub.net/forum-200-1.html" target="_blank">.Net电子书籍&amp;&amp;书籍介绍</a></li>
<li><a href="http://www.itpub.net/forum-171-1.html" target="_blank">开发工具和语言</a></li>
<li><a href="http://www.itpub.net/forum-177-1.html" target="_blank">.NET Framework 相关</a></li>
<li><a href="http://www.itpub.net/forum-181-1.html" target="_blank">Visual Basic/VB.net</a></li>
<li><a href="http://www.itpub.net/forum-179-1.html" target="_blank">Visual C/#</a></li>
<li><a href="http://www.itpub.net/forum-180-1.html" target="_blank">Visual C++/vc.net</a></li>
<li><a href="http://www.itpub.net/forum-183-1.html" target="_blank">Visual Studio</a></li>
<li><a href="http://www.itpub.net/forum-108-1.html" target="_blank">.NET软件架构与模式</a></li>
<li><a href="http://www.itpub.net/forum-187-1.html" target="_blank">.NET开发辅助工具及框架</a></li>
<li><a href="http://www.itpub.net/forum-172-1.html" target="_blank">Web开发</a></li>
<li><a href="http://www.itpub.net/forum-135-1.html" target="_blank">ASP.NET与AJAX</a></li>
<li><a href="http://www.itpub.net/forum-190-1.html" target="_blank">Web相关技术讨论(IIS等)</a></li>
<li><a href="http://www.itpub.net/forum-189-1.html" target="_blank">Silverlight 技术</a></li>
<li><a href="http://www.itpub.net/forum-174-1.html" target="_blank">微软企业级产品技术</a></li>
<li><a href="http://www.itpub.net/forum-196-1.html" target="_blank">Exchange Server</a></li>
<li><a href="http://www.itpub.net/forum-202-1.html" target="_blank">windows server</a></li>
<li><a href="http://www.itpub.net/forum-203-1.html" target="_blank">SQL Server</a></li>
<li><a href="http://www.itpub.net/forum-195-1.html" target="_blank">SharePoint</a></li>
<li><a href="http://www.itpub.net/forum-197-1.html" target="_blank">Biztalk</a></li>
<li><a href="http://www.itpub.net/forum-175-1.html" target="_blank">嵌入式及移动开发</a></li>
<li><a href="http://www.itpub.net/forum-198-1.html" target="_blank">Windows Embedded 嵌入式技术</a></li>
<li><a href="http://www.itpub.net/forum-199-1.html" target="_blank">Windows 移动设备</a></li>
<li><a href="http://www.itpub.net/forum-173-1.html" target="_blank">Office开发</a></li>
<li><a href="http://www.itpub.net/forum-191-1.html" target="_blank">Microsoft office system</a></li>
<li><a href="http://www.itpub.net/forum-193-1.html" target="_blank">Office Business Application</a><a href="http://www.itpub.net/forum.php?gid=121" target="_blank">≡ 软件工程与项目管理 ≡</a></li>
<li><a href="http://www.itpub.net/forum-16-1.html" target="_blank">系统设计与建模</a></li>
<li><a href="http://www.itpub.net/forum-20-1.html" target="_blank">数据建模</a></li>
<li><a href="http://www.itpub.net/forum-44-1.html" target="_blank">项目管理</a></li>
<li><a href="http://www.itpub.net/forum-216-1.html" target="_blank">项目管理文档资源</a></li>
<li><a href="http://www.itpub.net/forum-215-1.html" target="_blank">PMP认证</a></li>
<li><a href="http://www.itpub.net/forum-117-1.html" target="_blank">项目过程</a></li>
<li><a href="http://www.itpub.net/forum-160-1.html" target="_blank">软件测试</a></li>
<li><a href="http://www.itpub.net/forum-110-1.html" target="_blank">算法讨论与研究</a><a href="http://www.itpub.net/forum.php?gid=140" target="_blank">≡ IBM软件技术园地 ≡</a></li>
<li><a href="http://www.itpub.net/forum-39-1.html" target="_blank">IBM信息管理</a></li>
<li><a href="http://www.itpub.net/forum-144-1.html" target="_blank">Lotus</a></li>
<li><a href="http://www.itpub.net/forum-232-1.html" target="_blank">Mashup技术</a></li>
<li><a href="http://www.itpub.net/forum-151-1.html" target="_blank">Tivoli</a></li>
<li><a href="http://www.itpub.net/forum-149-1.html" target="_blank">Websphere</a></li>
<li><a href="http://www.itpub.net/forum-150-1.html" target="_blank">Rational</a></li>
<li><a href="http://www.itpub.net/forum-224-1.html" target="_blank">Jazz大赛专区</a></li>
<li><a href="http://www.itpub.net/forum-152-1.html" target="_blank">与SOA相关的IBM产品与技术</a></li>
<li><a href="http://www.itpub.net/forum-213-1.html" target="_blank">IBM蓝色之路</a></li>
<li><a href="http://www.itpub.net/forum-141-1.html" target="_blank">IBM软件技术精英协会</a></li>
<li><a href="http://www.itpub.net/forum-142-1.html" target="_blank">软件技术精英活动专版</a><a href="http://www.itpub.net/forum.php?gid=27" target="_blank">≡ 操作系统与硬件 ≡</a><a href="http://www.itpub.net/forum.php?gid=50" target="_blank">≡ 行业纵向讨论区 ≡</a></li>
<li><a href="http://www.itpub.net/forum-112-1.html" target="_blank">IT业界评论与展望</a></li>
<li><a href="http://www.itpub.net/forum-86-1.html" target="_blank">政府与教育事业</a></li>
<li><a href="http://www.itpub.net/forum-167-1.html" target="_blank">中国政府信息主管联盟</a></li>
<li><a href="http://www.itpub.net/forum-66-1.html" target="_blank">电信行业</a></li>
<li><a href="http://www.itpub.net/forum-68-1.html" target="_blank">金融行业</a></li>
<li><a href="http://www.itpub.net/forum-85-1.html" target="_blank">医卫行业</a></li>
<li><a href="http://www.itpub.net/forum-87-1.html" target="_blank">制造行业</a></li>
<li><a href="http://www.itpub.net/forum-159-1.html" target="_blank">电力行业</a></li>
<li><a href="http://www.itpub.net/forum-51-1.html" target="_blank">信息安全与审计</a><a href="http://www.itpub.net/forum.php?gid=7" target="_blank">≡ 会员交流 ≡</a></li>
<li><a href="http://www.itpub.net/forum-146-1.html" target="_blank">IT职业生涯</a></li>
<li><a href="http://www.itpub.net/forum-11-1.html" target="_blank">招聘求职商务信息</a></li>
<li><a href="http://www.itpub.net/forum-147-1.html" target="_blank">投资理财</a></li>
<li><a href="http://www.itpub.net/forum-41-1.html" target="_blank">体育世界</a></li>
<li><a href="http://www.itpub.net/forum-131-1.html" target="_blank">体育博彩专版</a></li>
<li><a href="http://www.itpub.net/forum-165-1.html" target="_blank">汽车世界</a></li>
<li><a href="http://www.itpub.net/forum-114-1.html" target="_blank">旅游，驴友</a></li>
<li><a href="http://www.itpub.net/forum-82-1.html" target="_blank">外语角</a></li>
<li><a href="http://www.itpub.net/forum-115-1.html" target="_blank">数码摄影</a></li>
<li><a href="http://www.itpub.net/forum-61-1.html" target="_blank">电子图书与IT文档资料</a></li>
<li><a href="http://www.itpub.net/forum-10-1.html" target="_blank">软件交流</a></li>
<li><a href="http://www.itpub.net/forum-22-1.html" target="_blank">软件交流精华区</a><a href="http://www.itpub.net/forum.php?gid=102" target="_blank">≡ ITPUB产品与服务 ≡</a></li>
<li><a href="http://www.itpub.net/forum-134-1.html" target="_blank">ITPUB地面活动专版</a></li>
<li><a href="http://www.itpub.net/forum-84-1.html" target="_blank">BLOG天地</a></li>
<li><a href="http://www.itpub.net/forum-15-1.html" target="_blank">授权用户区</a></li>
<li><a href="http://www.itpub.net/forum-9-1.html" target="_blank">站务管理</a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/oracle-/">oracle-</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/oracle-/" class="label label-info">oracle-</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-分区--oracle表分区详解/">oracle表分区详解</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-分区--oracle表分区详解/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-">oracle表分区详解</h1>
<p><strong>博客登录</strong><a href="http://tianzt.blog.51cto.com/" target="_blank"><img src="" alt=""></a></p>
<p>用户名：
密　码：  <a href="http://blog.51cto.com/" title="IT BLOG" target="_blank"><img src="" alt="网络技术博客"></a> <a href="http://ucenter.51cto.com/reg_01.php?reback=http://blog.51cto.com" target="_blank">注册</a> | <a href="http://blog.51cto.com/login.php" target="_blank">登录</a> <a href="http://ucenter.51cto.com/getpass.php" target="_blank">忘记密码？</a> <a href="http://www.51cto.com/" target="_blank">51cto首页</a> | <a href="http://blog.51cto.com/" target="_blank">博客</a> | <a href="http://bbs.51cto.com/" target="_blank">论坛</a> | <a href="http://down.51cto.com/" target="_blank">下载</a> <strong>热点文章</strong> <a href="http://sery.blog.51cto.com/10037/327691" title="开荒之作《开源运营技术精髓》一书即将付梓" target="_blank">开荒之作《开源运营技术..</a> <a href=""></a> <a href="http://51ctoblog.blog.51cto.com/all/26414/4">帮助</a></p>
<p><a href="http://tianzt.blog.51cto.com/459544/c" title="察看ttzztt所有转载文章" target="_blank">转载</a>:10  </p>
<p><a href="http://tianzt.blog.51cto.com/459544/t" title="察看ttzztt所有翻译文章" target="_blank">翻译</a>:0
<a href="http://tianzt.blog.51cto.com/459544/o" title="察看ttzztt所有原创文章" target="_blank">原创</a>:46</p>
<h1 id="-http-blog-51cto-com-blogcommend-http-tianzt-blog-51cto-com-http-tianzt-blog-51cto-com-rss-php-uid-459544-"><a href="http://blog.51cto.com/blogcommend" target="_blank"><img src="" alt="推荐博客"></a> <a href="http://tianzt.blog.51cto.com/" target="_blank">天知道的技术博客</a>  <a href="http://tianzt.blog.51cto.com/rss.php?uid=459544" target="_blank"><img src="" alt=""></a></h1>
<p><a href="http://tianzt.blog.51cto.com/" target="_blank"><a href="http://tianzt.blog.51cto.com/">http://tianzt.blog.51cto.com/</a></a> &gt; <a href="http://tianzt.blog.51cto.com/" target="_blank">复制链接</a> <a href="http://g.51cto.com/addgroup.php?uid=459544" target="_blank">邀请加入技术圈</a>
<a href="http://tianzt.blog.51cto.com/" target="_blank">加友情链接</a></p>
<p><a href="">发短消息</a>
<a href="http://tianzt.blog.51cto.com/pic/" target="_blank">相册</a></p>
<p><a href="http://tianzt.blog.51cto.com/mygroup.php" target="_blank">技术圈</a>
<a href="http://tianzt.blog.51cto.com/" target="_blank">博客</a></p>
<p><a href="http://www.51cto.com/" target="_blank">首页</a> | <a href="http://down.51cto.com/" target="_blank">下载</a> | <a href="http://bbs.51cto.com/" target="_blank">技术论坛</a> | <a href="">短消息</a></p>
<p><img src="" alt=""></p>
<p><a href="http://blog.51cto.com/" target="_blank">博 客</a></p>
<ul>
<li><a href="http://.blog.51cto.com/" target="_blank">我的博客</a></li>
<li><a href="http://.blog.51cto.com/addblog.php" target="_blank">发表文章</a></li>
<li><a href="http://blog.51cto.com/user_index.php" target="_blank">管理博客</a></li>
</ul>
<p><a href="http://g.51cto.com/" target="_blank">技术圈</a></p>
<ul>
<li><a href="http://blog.51cto.com/user_index.php?action=creategroup" target="_blank">创建圈子</a></li>
<li><a href="http://.blog.51cto.com/mygroup.php" target="_blank">我的圈子</a></li>
<li><p><a href="http://g.51cto.com/grouptag.php" target="_blank">寻找圈子</a>
<a href="http://.blog.51cto.com/pic/" target="_blank">相 册</a></p>
</li>
<li><p><a href="http://.blog.51cto.com/pic/" target="_blank">我的相册</a></p>
</li>
<li><a href="http://.blog.51cto.com/pic/uploadphoto.php" target="_blank">上传图片</a></li>
<li><a href="http://.blog.51cto.com/pic/manage_album.php?uid=459544" target="_blank">管理相册</a>
<a href="http://tianzt.blog.51cto.com/" target="_blank">首页</a> | <a href="http://tianzt.blog.51cto.com/459544/d-1" target="_blank">WINDOWS</a> | <a href="http://tianzt.blog.51cto.com/459544/d-2" target="_blank">SQL SERVER</a> | <a href="http://tianzt.blog.51cto.com/459544/d-3" target="_blank">ORACLE</a> | <a href="http://tianzt.blog.51cto.com/459544/d-6" target="_blank">Exchange</a> | <a href="http://tianzt.blog.51cto.com/459544/d-7" target="_blank">ISA/forefont</a> | <a href="http://tianzt.blog.51cto.com/459544/d-8" target="_blank">LINUX/UNIX</a> | <a href="http://tianzt.blog.51cto.com/459544/d-4" target="_blank">其它</a></li>
</ul>
<p><a href="http://bbs.51cto.com/thread-712054-1.html" target="_blank">51CTO广东省午饭第二届线下聚会</a>    <a href="http://yaqinzhang.blog.51cto.com/" target="_blank">微软公司全球副总裁张亚勤51CTO开博</a> <a href="http://tianzt.blog.51cto.com/all/459544" target="_blank">博主的更多文章&gt;&gt;</a></p>
<h1 id="-oracle-"><strong><img src="" alt=""> oracle表分区详解</strong></h1>
<p>2009-07-01 14:24:23</p>
<p>标签：<a href="http://blog.51cto.com/tagindex.php?keyword=oracle" target="_blank">oracle</a> <a href="http://blog.51cto.com/tagindex.php?keyword=%D5%FB%C0%ED" target="_blank">整理</a> <a href="http://blog.51cto.com/tagindex.php?keyword=%B1%ED%B7%D6%C7%F8" target="_blank">表分区</a>　　　[<a href="http://tianzt.blog.51cto.com/#" target="_blank">推送到技术圈</a>]</p>
<p><strong>版权声明：</strong>原创作品，如需转载，请与作者联系。否则将追究法律责任。 此文从以下几个方面来整理关于分区表的概念及操作:</p>
<pre><code>    1.表空间及分区表的概念
    2.表分区的具体作用

    3.表分区的优缺点
    4.表分区的几种类型及操作方法

    5.对表分区的维护性操作.
</code></pre><p>(1.) 表空间及分区表的概念</p>
<p>表空间：
是一个或多个数据文件的集合，所有的数据对象都存放在指定的表空间中，但主要存放的是表， 所以称作表空间。</p>
<p>分区表：
当表中的数据量不断增大，查询数据的速度就会变慢，应用程序的性能就会下降，这时就应该考虑对表进行分区。表进行分区后，逻辑上表仍然是一张完整的表，只是将表中的数据在物理上存放到多个表空间(物理文件上)，这样查询数据时，不至于每次都扫描整张表。</p>
<p>( 2).表分区的具体作用
Oracle的表分区功能通过改善可管理性、性能和可用性，从而为各式应用程序带来了极大的好处。通常，分区可以使某些查询以及维护操作的性能大大提高。此外,分区还可以极大简化常见的管理任务，分区是构建千兆字节数据系统或超高可用性系统的关键工具。</p>
<p>分区功能能够将表、索引或索引组织表进一步细分为段，这些数据库对象的段叫做分区。每个分区有自己的名称，还可以选择自己的存储特性。从数据库管理员的角度来看，一个分区后的对象具有多个段，这些段既可进行集体管理，也可单独管理，这就使数据库管理员在管理分区后的对象时有相当大的灵活性。但是，从应用程序的角度来看，分区后的表与非分区表完全相同，使用 SQL DML 命令访问分区后的表时，无需任何修改。</p>
<p>什么时候使用分区表：
1、表的大小超过2GB。</p>
<p>2、表中包含历史数据，新的数据被增加都新的分区中。</p>
<p> (3).表分区的优缺点
表分区有以下优点：
1、改善查询性能：对分区对象的查询可以仅搜索自己关心的分区，提高检索速度。</p>
<p>2、增强可用性：如果表的某个分区出现故障，表在其他分区的数据仍然可用；
3、维护方便：如果表的某个分区出现故障，需要修复数据，只修复该分区即可；</p>
<p>4、均衡I/O：可以把不同的分区映射到磁盘以平衡I/O，改善整个系统性能。</p>
<p>缺点：
分区表相关：已经存在的表没有方法可以直接转化为分区表。不过 Oracle 提供了在线重定义表的功能。</p>
<p>(4).表分区的几种类型及操作方法
 一.范围分区：
范围分区将数据基于范围映射到每一个分区，这个范围是你在创建分区时指定的分区键决定的。这种分区方式是最为常用的，并且分区键经常采用日期。举个例子：你可能会将销售数据按照月份进行分区。</p>
<p>当使用范围分区时，请考虑以下几个规则：
1、每一个分区都必须有一个VALUES LESS THEN子句，它指定了一个不包括在该分区中的上限值。分区键的任何值等于或者大于这个上限值的记录都会被加入到下一个高一些的分区中。</p>
<p>2、所有分区，除了第一个，都会有一个隐式的下限值，这个值就是此分区的前一个分区的上限值。
3、在最高的分区中，MAXVALUE被定义。MAXVALUE代表了一个不确定的值。这个值高于其它分区中的任何分区键的值，也可以理解为高于任何分区中指定的VALUE LESS THEN的值，同时包括空值。</p>
<p>例一：
假设有一个CUSTOMER表，表中有数据200000行，我们将此表通过CUSTOMER_ID进行分区，每个分区存储100000行，我们将每个分区保存到单独的表空间中，这样数据文件就可以跨越多个物理磁盘。下面是创建表和分区的代码，如下：</p>
<p>CREATE TABLE CUSTOMER
(
    CUSTOMER_ID NUMBER NOT NULL PRIMARY KEY,
    FIRST_NAME  VARCHAR2(30) NOT NULL,
    LAST_NAME   VARCHAR2(30) NOT NULL,
    PHONE        VARCHAR2(15) NOT NULL,
    EMAIL        VARCHAR2(80),
    STATUS       CHAR(1)
)
PARTITION BY RANGE (CUSTOMER_ID)
(
    PARTITION CUS_PART1 VALUES LESS THAN (100000) TABLESPACE CUS_TS01,
    PARTITION CUS_PART2 VALUES LESS THAN (200000) TABLESPACE CUS_TS02
)
例二：按时间划分</p>
<p>CREATE TABLE ORDER_ACTIVITIES
(
    ORDER_ID      NUMBER(7) NOT NULL,
    ORDER_DATE    DATE,
    TOTAL_AMOUNT NUMBER,
    CUSTOTMER_ID NUMBER(7),
    PAID           CHAR(1)
)
PARTITION BY RANGE (ORDER_DATE)
(
  PARTITION ORD_ACT_PART01 VALUES LESS THAN (TO_DATE(&#39;01- MAY -2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACEORD_TS01,</p>
<p>  PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUN-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS02,
  PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUL-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS03</p>
<p>)
例三：MAXVALUE</p>
<p>CREATE TABLE RangeTable
(
  idd   INT PRIMARY KEY ,
  iNAME VARCHAR(10),
  grade INT 
)
PARTITION  BY  RANGE (grade)
(
      PARTITION  part1 VALUES  LESS  THEN (1000) TABLESPACE  Part1_tb,
      PARTITION  part2 VALUES  LESS  THEN (MAXVALUE) TABLESPACE  Part2_tb
);</p>
<p>二.列表分区：
该分区的特点是某列的值只有几个，基于这样的特点我们可以采用列表分区。</p>
<p>例一
CREATE TABLE PROBLEM_TICKETS
(
    PROBLEM_ID   NUMBER(7) NOT NULL PRIMARY KEY,
    DESCRIPTION  VARCHAR2(2000),
    CUSTOMER_ID  NUMBER(7) NOT NULL,
    DATE_ENTERED DATE NOT NULL,
    STATUS       VARCHAR2(20)
)
PARTITION BY LIST (STATUS)
(
      PARTITION PROB_ACTIVE   VALUES (&#39;ACTIVE&#39;) TABLESPACE PROB_TS01,
      PARTITION PROB_INACTIVE VALUES (&#39;INACTIVE&#39;) TABLESPACE PROB_TS02</p>
<p>例二
CREATE  TABLE  ListTable
(
    id    INT  PRIMARY  KEY ,
    name  VARCHAR (20),
    area  VARCHAR (10)
)
PARTITION  BY  LIST (area)
(
    PARTITION  part1 VALUES (&#39;guangdong&#39;,&#39;beijing&#39;) TABLESPACE  Part1_tb,
    PARTITION  part2 VALUES (&#39;shanghai&#39;,&#39;nanjing&#39;)  TABLESPACE  Part2_tb
);</p>
<p>)</p>
<p>三.散列分区：
这类分区是在列值上使用散列算法，以确定将行放入哪个分区中。当列的值没有合适的条件时，建议使用散列分区。
散列分区为通过指定分区编号来均匀分布数据的一种分区类型，因为通过在I/O设备上进行散列分区，使得这些分区大小一致。</p>
<p>例一：
CREATE TABLE HASH_TABLE
(
  COL NUMBER(8),
  INF VARCHAR2(100)
)
PARTITION BY HASH (COL)
(
  PARTITION PART01 TABLESPACE HASH_TS01,
  PARTITION PART02 TABLESPACE HASH_TS02,
  PARTITION PART03 TABLESPACE HASH_TS03
)</p>
<p>简写：
CREATE TABLE emp
(
    empno NUMBER (4),
    ename VARCHAR2 (30),
    sal   NUMBER
)
PARTITION BY  HASH (empno) PARTITIONS 8
STORE IN (emp1,emp2,emp3,emp4,emp5,emp6,emp7,emp8);</p>
<p>hash分区最主要的机制是根据hash算法来计算具体某条纪录应该插入到哪个分区中,hash算法中最重要的是hash函数，Oracle中如果你要使用hash分区，只需指定分区的数量即可。建议分区的数量采用2的n次方，这样可以使得各个分区间数据分布更加均匀。</p>
<p>四.组合范围散列分区
这种分区是基于范围分区和列表分区，表首先按某列进行范围分区，然后再按某列进行列表分区，分区之中的分区被称为子分区。</p>
<p>CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),</p>
<p>SALES_DATE DATE,
SALES_COST NUMBER(10),</p>
<p>STATUS VARCHAR2(20)
)</p>
<p>PARTITION BY RANGE(SALES_DATE) SUBPARTITION BY LIST (STATUS)
(</p>
<p>   PARTITION P1 VALUES LESS THAN(TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;))TABLESPACE rptfact2009
          (
              SUBPARTITION P1SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE rptfact2009,
              SUBPARTITION P1SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE rptfact2009
          ),
   PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE rptfact2009
          (
              SUBPARTITION P2SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE rptfact2009,
              SUBPARTITION P2SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE rptfact2009
          )
)</p>
<p>五.复合范围散列分区：
这种分区是基于范围分区和散列分区，表首先按某列进行范围分区，然后再按某列进行散列分区。</p>
<p>create table dinya_test
 (
 transaction_id number primary key,
 item_id number(8) not null,
 item_description varchar2(300),
 transaction_date date
 )
 partition by range(transaction_date)subpartition by hash(transaction_id)  subpartitions 3 store in (dinya_space01,dinya_space02,dinya_space03)
 (
     partition part_01 values less than(to_date(‘2006-01-01’,’yyyy-mm-dd’)),
     partition part_02 values less than(to_date(‘2010-01-01’,’yyyy-mm-dd’)),
     partition part_03 values less than(maxvalue)
 );</p>
<p>(5).有关表分区的一些维护性操作：
一、添加分区
以下代码给SALES表添加了一个P3分区
ALTER TABLE SALES ADD PARTITION P3 VALUES LESS THAN(TO_DATE(&#39;2003-06-01&#39;,&#39;YYYY-MM-DD&#39;));</p>
<p>注意：以上添加的分区界限应该高于最后一个分区界限。
以下代码给SALES表的P3分区添加了一个P3SUB1子分区</p>
<p>ALTER TABLE SALES MODIFY PARTITION P3 ADD SUBPARTITION P3SUB1 VALUES(&#39;COMPLETE&#39;);
二、删除分区
以下代码删除了P3表分区：</p>
<p>ALTER TABLE SALES DROP PARTITION P3;
在以下代码删除了P4SUB1子分区：</p>
<p>ALTER TABLE SALES DROP SUBPARTITION P4SUB1;
注意：如果删除的分区是表中唯一的分区，那么此分区将不能被删除，要想删除此分区，必须删除表。</p>
<p>三、截断分区
截断某个分区是指删除某个分区中的数据，并不会删除分区，也不会删除其它分区中的数据。当表中即使只有一个分区时，也可以截断该分区。通过以下代码截断分区：
ALTER TABLE SALES TRUNCATE PARTITION P2;</p>
<p>通过以下代码截断子分区：
ALTER TABLE SALES TRUNCATE SUBPARTITION P2SUB2;</p>
<p>四、合并分区
合并分区是将相邻的分区合并成一个分区，结果分区将采用较高分区的界限，值得注意的是，不能将分区合并到界限较低的分区。以下代码实现了P1 P2分区的合并：
ALTER TABLE SALES MERGE PARTITIONS P1,P2 INTO PARTITION P2;</p>
<p>五、拆分分区
拆分分区将一个分区拆分两个新分区，拆分后原来分区不再存在。注意不能对HASH类型的分区进行拆分。
ALTER TABLE SALES SBLIT PARTITION P2 AT(TO_DATE(&#39;2003-02-01&#39;,&#39;YYYY-MM-DD&#39;)) INTO (PARTITION P21,PARTITION P22);</p>
<p>六、接合分区(coalesca)
结合分区是将散列分区中的数据接合到其它分区中，当散列分区中的数据比较大时，可以增加散列分区，然后进行接合，值得注意的是，接合分区只能用于散列分区中。通过以下代码进行接合分区：
ALTER TABLE SALES COALESCA PARTITION;</p>
<p>七、重命名表分区
以下代码将P21更改为P2
ALTER TABLE SALES RENAME PARTITION P21 TO P2;</p>
<p>八、相关查询
跨分区查询
select sum( /*) from</p>
<p>(select count(/*) cn from t_table_SS PARTITION (P200709_1)
union all</p>
<p>select count(/*) cn from t_table_SS PARTITION (P200709_2)
);</p>
<p>查询表上有多少分区
SELECT /* FROM useR_TAB_PARTITIONS WHERE TABLE_NAME=&#39;tableName&#39;</p>
<p>查询索引信息
select object_name,object_type,tablespace_name,sum(value)</p>
<p>from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;</p>
<p>group by object_name,object_type,tablespace_name
order by 4 desc</p>
<p>--显示数据库所有分区表的信息：</p>
<p>select /* from DBA_PART_TABLES</p>
<p>--显示当前用户可访问的所有分区表信息:
select /* from ALL_PART_TABLES</p>
<p>--显示当前用户所有分区表的信息：</p>
<p>select /* from USER_PART_TABLES</p>
<p>--显示表分区信息 显示数据库所有分区表的详细分区信息：
select /* from DBA_TAB_PARTITIONS</p>
<p>--显示当前用户可访问的所有分区表的详细分区信息：</p>
<p>select /* from ALL_TAB_PARTITIONS</p>
<p>--显示当前用户所有分区表的详细分区信息：
select /* from USER_TAB_PARTITIONS</p>
<p>--显示子分区信息 显示数据库所有组合分区表的子分区信息：</p>
<p>select /* from DBA_TAB_SUBPARTITIONS</p>
<p>--显示当前用户可访问的所有组合分区表的子分区信息：
select /* from ALL_TAB_SUBPARTITIONS</p>
<p>--显示当前用户所有组合分区表的子分区信息：</p>
<p>select /* from USER_TAB_SUBPARTITIONS</p>
<p>--显示分区列 显示数据库所有分区表的分区列信息：
select /* from DBA_PART_KEY_COLUMNS</p>
<p>--显示当前用户可访问的所有分区表的分区列信息：</p>
<p>select /* from ALL_PART_KEY_COLUMNS</p>
<p>--显示当前用户所有分区表的分区列信息：
select /* from USER_PART_KEY_COLUMNS</p>
<p>--显示子分区列 显示数据库所有分区表的子分区列信息：</p>
<p>select /* from DBA_SUBPART_KEY_COLUMNS</p>
<p>--显示当前用户可访问的所有分区表的子分区列信息：
select /* from ALL_SUBPART_KEY_COLUMNS</p>
<p>--显示当前用户所有分区表的子分区列信息：</p>
<p>select /* from USER_SUBPART_KEY_COLUMNS</p>
<p>--怎样查询出oracle数据库中所有的的分区表
select /* from user_tables a where a.partitioned=&#39;YES&#39;</p>
<p>--删除一个表的数据是</p>
<p>truncate table table_name;</p>
<p>--删除分区表一个分区的数据是
alter table table_name truncate partition p5;</p>
<p>本文出自 “<a href="http://tianzt.blog.51cto.com/" target="_blank">天知道的技术博客</a>” 博客，转载请与作者联系！</p>
<p><a href="http://tianzt.blog.51cto.com/459544/171759" target="_blank">本文出自 51CTO.COM技术博客</a>
上一篇 <a href="http://tianzt.blog.51cto.com/459544/165988" title="WINDOWS 2008 AD权限管理服务(ADRMS)完全攻略" target="_blank">WINDOWS 2008 AD权限管理服务(ADRMS)完全攻略</a>　　下一篇 <a href="http://tianzt.blog.51cto.com/459544/172718" title="windows 2008 AD 操作主机完全攻略" target="_blank">windows 2008 AD 操作主机完全攻略</a></p>
<p><a href="http://tianzt.blog.51cto.com/459544/d-3" target="_blank">类别：ORACLE</a> ┆ <a href="http://tianzt.blog.51cto.com/#" target="_blank">技术圈(  )</a> ┆ 阅读(  ) ┆ 评论(  ) ┆<a href="http://tianzt.blog.51cto.com/#" target="_blank">推送到技术圈</a> ┆<a href="http://tianzt.blog.51cto.com/" target="_blank">返回首页</a>  </p>
<pre><code>**相关文章**
</code></pre><p><a href="http://mibon.blog.51cto.com/709621/159288" title="oracle碎片整理" target="_blank">oracle碎片整理</a></p>
<p><a href="http://26767.blog.51cto.com/16767/49353" title="Oracle 9i在AIX上的性能调整 -- 内存篇" target="_blank">Oracle 9i在AIX上的性能调整 -- 内存篇</a>
<a href="http://xu20cn.blog.51cto.com/274020/90339" title="第一篇 Oracle体系结构总览（整理）" target="_blank">第一篇 Oracle体系结构总览（整理）</a></p>
<p><a href="http://blueicer.blog.51cto.com/395686/88336" title="登录oracle数据库时常用的操作命令整理" target="_blank">登录oracle数据库时常用的操作命令整理</a>
<a href="http://lijichao.blog.51cto.com/67487/169821" title="ORACLE公司传奇" target="_blank">ORACLE公司传奇</a></p>
<p><a href="http://brucewong.blog.51cto.com/486015/166331" title="Oracle 收购Sun" target="_blank">Oracle 收购Sun</a>
<a href="http://2024486.blog.51cto.com/339445/71395" title="Oracle系统中用户权限的赋予,查看" target="_blank">Oracle系统中用户权限的赋予,查看</a></p>
<p><a href="http://gghhgame51333.blog.51cto.com/138362/36468" title="Oracle数据库字符集" target="_blank">Oracle数据库字符集</a>
<a href="http://orajc.blog.51cto.com/458434/94819" title="《从实践中学习oracle/SQL》读书笔记 2" target="_blank">《从实践中学习oracle/SQL》读书笔记 2</a></p>
<p><a href="http://yuwenhu.blog.51cto.com/672091/146260" title="Oracle 数据类型及存储方式" target="_blank">Oracle 数据类型及存储方式</a>
    <strong>文章评论</strong></p>
<p>[1楼]    <img src="" alt="">  <a href="http://ciorg.blog.51cto.com/" target="_blank"><strong>ciorg</strong></a></p>
<p>2009-07-02 14:53:55
写的算是非常详尽了。不错不错。</p>
<p>短消息通知评论者
[2楼]    <img src="" alt="">  [匿名]wangbaoqin</p>
<p>2010-02-02 15:14:03
good!</p>
<p>短消息通知评论者
 <a href="http://tianzt.blog.51cto.com/"></a></p>
<p><a href=""></a>    <strong>发表评论</strong></p>
<p><a href=""></a>
昵   称：验证码：   <img src="" alt="">　点击图片可刷新验证码请点击后输入验证码　<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客过2级，无需填写验证码</a> 内   容：</p>
<p><img src="" alt=""> <strong>ttzztt</strong></p>
<p><img src="" alt=""> <strong>博客统计信息</strong></p>
<p><a href="http://blog.51cto.com/blogcommend" target="_blank"><strong>51cto推荐博客</strong></a>
用户名：ttzztt
文章数：56
评论数：77
访问量：39073
无忧币：656
<a href="http://51ctoblog.blog.51cto.com/26414/5591" target="_blank">博客积分</a>：1101
博客等级：5
注册日期：2008-08-24
<a href="http://blog.51cto.com/active/no1/ing.html" target="_blank">距离博客争夺赛结束还有13 天</a>
<img src="" alt=""> <strong>热门文章</strong></p>
<ul>
<li><a href="http://tianzt.blog.51cto.com/459544/171759" target="_blank">oracle表分区详解</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/159080" target="_blank">windows环境下xplanner安..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/163800" target="_blank">WINDOWS2008网络负载平衡..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/172718" target="_blank">windows 2008 AD 操作主..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/203699" target="_blank">ORA-12516 解决方法</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/165988" target="_blank">WINDOWS 2008 AD权限管理..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/251239" target="_blank">ORACLE 11G DATA GUARD配..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/160952" target="_blank">windows 2008 DNS中的Glo..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/156847" target="_blank">SQLSERVER 2005架构详解</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/212606" target="_blank">ORACLE 11G安装全过程</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/157734" target="_blank">HYPER-V布署多台虚拟服务..</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/234565" target="_blank">ORACEL使用RMAN备份详解</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/165436" target="_blank">windows 2008 中的远程协助</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/157149" target="_blank">SQL SERVER 2005 远程查询</a></li>
<li><a href="http://tianzt.blog.51cto.com/459544/222395" target="_blank">Oracle使用透明网关访问S..</a></li>
</ul>
<p><img src="" alt=""> <strong>搜索本博客内文章</strong>
<img src="" alt=""> <strong>最新评论</strong></p>
<p><strong>[</strong>ttzztt<strong>](<a href="http://tianzt.blog.51cto.com/)：" target="_blank">http://tianzt.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/263522" target="_blank">逻辑的DG是以物理的为基础的，做好..</a></p>
<p><strong>[</strong>wiliiwin<strong>](<a href="http://wiliiwin.blog.51cto.com/)：" target="_blank">http://wiliiwin.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/263522" target="_blank">哦原来是这样 明白了 最近做了rac集..</a>
<strong>[</strong>ttzztt<strong>](<a href="http://tianzt.blog.51cto.com/)：" target="_blank">http://tianzt.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/263522" target="_blank">这个实验的目的就是摸拟主从切换，..</a></p>
<p><strong>[</strong>wiliiwin<strong>](<a href="http://wiliiwin.blog.51cto.com/)：" target="_blank">http://wiliiwin.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/263522" target="_blank">我就问下了 你文章都说主库都当机了..</a>
<strong>[</strong>lqlaps169<strong>](<a href="http://lqlaps169.blog.51cto.com/)：" target="_blank">http://lqlaps169.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/172718" target="_blank">顶一下</a></p>
<p><strong>[</strong>lqlaps169<strong>](<a href="http://lqlaps169.blog.51cto.com/)：" target="_blank">http://lqlaps169.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/165988" target="_blank">顶一下</a>
<strong>[</strong>lqlaps169<strong>](<a href="http://lqlaps169.blog.51cto.com/)：" target="_blank">http://lqlaps169.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/163800" target="_blank">Good,有很好的参考价值。</a></p>
<p><strong>[</strong>hepanming007<strong>](<a href="http://xiaomaweb.blog.51cto.com/)：" target="_blank">http://xiaomaweb.blog.51cto.com/)：</a></strong><a href="http://tianzt.blog.51cto.com/459544/191663" target="_blank">thanks very much!</a></p>
<p><img src="" alt=""> <a href="http://blog.51cto.com/artcommend" target="_blank"><strong>51CTO推荐博文</strong></a></p>
<ul>
<li><a href="http://useway.blog.51cto.com/736087/326200" title="VB无所不能之：VB的多线程" target="_blank">VB无所不能之：VB的多线程</a></li>
<li><a href="http://shenzhoulong.blog.51cto.com/1191789/326199" title="数据展现Repeater控件" target="_blank">数据展现Repeater控件</a></li>
<li><a href="http://ketqi.blog.51cto.com/1130608/325255" title="Java 获取资源路径的3种方法与区别" target="_blank">Java 获取资源路径的3..</a></li>
<li><a href="http://cbncz2008.blog.51cto.com/651764/324006" title="用户登录功能" target="_blank">用户登录功能</a></li>
<li><a href="http://yofee.blog.51cto.com/122922/324898" title="Oracle_loader将警告文件导入到表里面" target="_blank">Oracle_loader将警告文..</a></li>
<li><a href="http://devbean.blog.51cto.com/448512/322343" title="Qt源码剖析: 寻找 QObject 的源代码" target="_blank">Qt源码剖析: 寻找 QObj..</a></li>
<li><a href="http://frankxulei.blog.51cto.com/1596834/318538" title=".NET深入学习笔记(4):深拷贝与浅拷贝" target="_blank">.NET深入学习笔记(4):..</a></li>
<li><a href="http://kevinfan.blog.51cto.com/1037293/325175" title="【写在Blend 4发布前】快速学习Expression Blend开发三要素" target="_blank">【写在Blend 4发布前】..</a></li>
<li><a href="http://yunli.blog.51cto.com/831344/325623" title="软件质量保证需要系统性的方法论" target="_blank">软件质量保证需要系统..</a></li>
<li><a href="http://beniao.blog.51cto.com/389148/325850" title="【Silverlight】Bing Maps开发应用与技巧" target="_blank">【Silverlight】Bing M..</a></li>
<li><p><a href="http://yfsoft.blog.51cto.com/1635641/321218" title=".Net PortingKit 移植总结（兼谈MF未来发展）" target="_blank">.Net PortingKit 移植..</a>
<img src="" alt=""> <strong>友情链接</strong></p>
<p><a href="http://smartlife.blog.51cto.com/" title="灵动生活" target="_blank">灵动生活</a></p>
<p><a href="http://yuelei.blog.51cto.com/" title="岳雷的微软网络课堂" target="_blank">岳雷的微软网络课堂</a>
<a href="http://simeon.blog.51cto.com/" title="simeon技术专栏" target="_blank">simeon技术专栏</a></p>
<p><a href="http://conanhan.blog.51cto.com/" title="conanhan" target="_blank">conanhan</a>
<a href="http://jiayi.blog.51cto.com/" title="我的网络世界" target="_blank">我的网络世界</a></p>
<p><a href="http://xiaomiaoer.blog.51cto.com/" title="蜕变" target="_blank">蜕变</a> <img src="" alt="本周内更新">
<a href="http://xgcto.blog.51cto.com/" title="执行者" target="_blank">执行者</a></p>
<p><a href="http://yejunjian.blog.51cto.com/" title="叶俊坚" target="_blank">叶俊坚</a>
<a href="http://xinying.blog.51cto.com/" title="新颖" target="_blank">新颖</a> <img src="" alt="本周内更新"></p>
<p><a href="http://51ctoblog.blog.51cto.com/" title="51CTO博客开发" target="_blank">51CTO博客开发</a></p>
</li>
</ul>
<p>Copyright By 51CTO.COM 版权所有
<a href="http://www.51cto.com/" target="_blank"><img src="" alt=""></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/分区/">分区</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/分区/" class="label label-success">分区</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-分区--oracle表分区详解/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-分区--oracle表分区详解" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/118/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/116/">116</a></li><li><a class="page-number" href="/page/117/">117</a></li><li><a class="page-number" href="/page/118/">118</a></li><li class="active"><li><span class="page-number current">119</span></li><li><a class="page-number" href="/page/120/">120</a></li><li><a class="page-number" href="/page/121/">121</a></li><li><a class="page-number" href="/page/122/">122</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/120/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 17:26:53</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
