
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 125 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区/">如何写这个sql语句 _Oracle数据库管理_ITPUB论坛</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-sql-_oracle-_itpub-it168-">如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区</h1>
<ul>
<li>用户名</li>
<li>UID</li>
<li>Email</li>
</ul>
<p>请 <a href=""><strong>登录</strong></a> 后使用快捷导航
没有帐号？<a href="http://www.itpub.net/member.php?mod=register.php" target="_blank">注册</a></p>
<h2 id="-itpub-http-sql-_oracle-_itpub-it168-_files-logo-png-http-www-itpub-net-forum-php-itpub-"><a href="http://www.itpub.net/forum.php" title="ITPUB论坛" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/logo.png" alt="ITPUB论坛"></a></h2>
<p><a href="">用户名</a>  自动登录    <a href="http://sso.itpub.net/ForgotPassword?return_url=http%3A%2F%2Fwww.itpub.net%2Fhome.php%3Fmod%3Dspacecp" target="_blank">找回密码</a> 密码  <em>登录</em>  <a href="http://www.itpub.net/member.php?mod=register.php" target="_blank">注册</a></p>
<p><a href="http://www.itpub.net/connect.php?mod=login&amp;op=init&amp;referer=forum.php%3Fmod%3Dviewthread%26tid%3D96851&amp;statfrom=login_simple" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/qq_login.gif" alt="QQ登录"></a></p>
<p>只需一步，快速开始</p>
<p><a href="">快捷导航</a></p>
<ul>
<li><a href="http://tech.it168.com/" target="_blank">门户</a></li>
<li><a href="http://www.itpub.net/forum.php" title="BBS" target="_blank">论坛BBS</a></li>
<li><a href="http://space.itpub.net/" target="_blank">空间</a></li>
<li><a href="http://www.itpub.net/pubtree/index.htm" target="_blank">索引树</a></li>
<li><a href="http://www.itpub.net/misc.php?mod=mobile" target="_blank">手机版</a></li>
<li><a href="http://book.itpub.net/" target="_blank">读书</a></li>
<li><a href="http://wenku.it168.com/" target="_blank">文库</a></li>
<li><a href="http://www.itpub.net/plugin.php?id=auction" title="Auction" target="_blank">竞拍Auction</a></li>
<li><a href="http://www.itpub.net/plugin.php?id=itpub_medal:medal_shop" target="_blank">商店</a></li>
<li><a href="http://www.itpub.net/misc.php?mod=ranklist" title="Ranklist" target="_blank">排行榜Ranklist</a></li>
<li><a href="http://www.itpub.net/portal.php?mod=topic&amp;topicid=1" target="_blank">版主团</a></li>
<li><p><a href="http://www.itpub.net/itpub2011/" target="_blank">十周年专题</a></p>
</li>
<li><p><a href="http://www.itpub.net/pubtree/?node=1" target="_blank">Oracle索引树</a></p>
</li>
<li><a href="http://www.itpub.net/pubtree/?node=51" target="_blank">DB2索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=95" target="_blank">MS Sql Sever索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=166" target="_blank">Mysql索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=343" target="_blank">Sybase索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=339" target="_blank">BI索引树</a></li>
<li><a href="http://www.itpub.net/pubtree/?node=137" target="_blank">项目管理索引树</a></li>
<li><p><a href="http://www.itpub.net/pubtree/?node=207" target="_blank">Java索引树</a>
<a href="">本版</a> <strong>搜索</strong> <a href="http://www.itpub.net/search.php?mod=forum&amp;adv=yes" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/gj_search.png" alt=""></a> <strong>热搜:</strong><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=ITPUB%CB%F7%D2%FD%CA%F7&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">ITPUB索引树</a><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=ITPUB%CA%AE%D6%DC%C4%EA&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">ITPUB十周年</a><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=Oracle&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">Oracle</a><a href="http://www.itpub.net/search.php?mod=forum&amp;srchtxt=%D0%D4%C4%DC%D3%C5%BB%AF&amp;formhash=f7e57c72&amp;searchsubmit=true&amp;source=hotsearch" target="_blank">性能优化</a></p>
</li>
<li><p><a href="">本版</a></p>
</li>
<li><a href="">帖子</a></li>
<li><a href="">用户</a></li>
</ul>
<p><a href="http://www.itpub.net/forum.php" title="首页" target="_blank">ITPUB论坛</a> <em>›</em> <a href="http://www.itpub.net/forum.php" target="_blank">论坛</a> <em>›</em> <a href="http://www.itpub.net/forum.php?gid=1" target="_blank">≡ 数据库技术 ≡</a> <em>›</em> <a href="http://www.itpub.net/forum-2-1.html" target="_blank">Oracle数据库管理</a> <em>›</em> <a href="http://www.itpub.net/thread-96851-1-1.html" target="_blank">如何写这个sql语句?</a></p>
<ul>
<li><a href="http://www.itpub.net/pubtree/index.htm" target="_blank"><strong>ITPUB知识索引树 隆重上线</strong></a></li>
<li><a href="http://www.itpub.net/thread-1557539-1-1.html" target="_blank"><strong>优中选优，ITPUB精彩技术贴推荐有奖</strong></a></li>
<li><a href="http://www.itpub.net/thread-1505518-1-1.html" target="_blank"><strong>ITPUB十城沙龙巡展演讲PPT下载</strong></a></li>
<li><a href="http://www.xuexizu.com/training_centre/content/77026?nid=30538" target="_blank"><strong>OCM集训营-认证直通车正在招募</strong></a>
<strong>1</strong><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">2</a><a href="http://www.itpub.net/thread-96851-3-1.html" target="_blank">3</a><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">下一页</a> <a href="http://www.itpub.net/forum-2-1.html" target="_blank">返回列表</a> <a href="&quot;发新帖&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/pn_post.png" alt="发新帖"></a></li>
</ul>
<p>分享到  <a href="&quot;转发到新浪微博&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/sina.gif" alt="转发到新浪微博"></a> <a href="&quot;转发到腾讯微博&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/weiboicon16.png" alt=""></a> <a href="&quot;转贴到开心网&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/kaixin.gif" alt="转贴到开心网"></a> <a href="&quot;推荐给豆瓣&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/douban.gif" alt=""></a> <a href="&quot;转贴到淘宝&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/taobao.gif" alt="转贴到淘宝"></a> <a href=""><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/favicon-rr.gif" alt="转帖到人人网"></a> <a href="&quot;转贴到推特&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/twiitericon.gif" alt="转贴到推特"></a> <a href=""><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/facebook_share_icon.gif" alt="转贴到Facebook"></a>    </p>
<p>查看: 9463|回复: 26 <a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=favorite&amp;type=thread&amp;id=96851" target="_blank">收藏</a>  <a href="http://www.itpub.net/forum.php?mod=viewthread&amp;action=printable&amp;tid=96851" title="打印" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/print.png" alt="打印"></a> <a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=nextoldset&amp;tid=96851" title="上一主题" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/thread-prev.png" alt="上一主题"></a> <a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=nextnewset&amp;tid=96851" title="下一主题" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/thread-next.png" alt="下一主题"></a></p>
<h1 id="-sql-http-www-itpub-net-thread-96851-1-1-html-http-www-itpub-net-thread-96851-1-1-html-"><a href="http://www.itpub.net/thread-96851-1-1.html" target="_blank">如何写这个sql语句?</a>  <a href="http://www.itpub.net/thread-96851-1-1.html" title="您的朋友访问此链接后，您将获得相应的积分奖励" target="_blank">[复制链接]</a></h1>
<p><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=538556&amp;tid=96851" title="发消息" target="_blank">发消息</a>
电梯直达  <a href="&quot;跳转到指定楼层&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/fj_btn.png" alt="跳转到指定楼层"></a> <strong><a href="http://www.itpub.net/thread-96851-1-1.html" target="_blank"><em>1</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-20 22:06:25</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;extra=&amp;ordertype=1" target="_blank">倒序浏览</a></p>
<p>表dept, emp
要得到如下结果</p>
<h2 id="deptno-dname-employees">deptno, dname, employees</h2>
<p>10, accounting, clark;king;miller
20, research, smith;adams;ford;scott;jones
30, sales, allen;blake;martin;james;turners
也就是，每个dept的employee串起来作为一条记录返回。
怎么用一条sql语句完成?
3x <a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=favorite&amp;type=thread&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/fav.gif" alt="收藏">收藏0</a> <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=bump&amp;idtype=tid&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/bump.small.gif" alt="">提升卡</a></li>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=stick&amp;idtype=tid&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/stick.small.gif" alt="">置顶卡</a></li>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=highlight&amp;idtype=tid&amp;id=96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/highlight.small.gif" alt="">变色卡</a></li>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538556:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-7292.html" target="_blank">jaunt</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-7292.html" target="_blank">jaunt</a></strong> <em>当前离线</em> UID7292阅读权限100帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">12195</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术排名68技术积分22560社区排名1177社区积分1370注册时间2002-2-27</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=jaunt" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=jaunt" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-7292.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=34" target="_blank">版主</a></em></p>
<p>版主</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=7292&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术积分22560社区积分1370注册时间2002-2-27 论坛徽章:13</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_1_small.gif" alt="ITPUB元老
日期:2005-02-28 12:57:00" title="ITPUB元老
日期:2005-02-28 12:57:00"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:56" title="2011新春纪念徽章
日期:2011-01-25 15:42:56"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:33" title="2011新春纪念徽章
日期:2011-01-25 15:42:33"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:15" title="2011新春纪念徽章
日期:2011-01-25 15:42:15"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:50" title="2011新春纪念徽章
日期:2011-01-25 15:41:50"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:01" title="2011新春纪念徽章
日期:2011-01-25 15:41:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_31_small.gif" alt="会员2006贡献徽章
日期:2006-04-17 13:46:34" title="会员2006贡献徽章
日期:2006-04-17 13:46:34"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_30_small.gif" alt="管理团队2006纪念徽章
日期:2006-04-16 22:44:45" title="管理团队2006纪念徽章
日期:2006-04-16 22:44:45"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_13_small.gif" alt="管理团队成员
日期:2011-05-07 01:45:08" title="管理团队成员
日期:2011-05-07 01:45:08"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=7292&amp;handlekey=addfriendhk_7292" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_7292&amp;touid=7292&amp;pmid=0&amp;daterange=2&amp;pid=538776&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=538776" target="_blank"><em>2</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_moderator.gif" alt=""> <em>发表于 2003-2-21 08:45:37</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=7292" target="_blank">只看该作者</a></p>
<p>Sorry，没看清题目，给了个错答案。:P  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538776:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=538829&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=538829" target="_blank"><em>3</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 09:00:29</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a></p>
<p>我想到了一个办法，用function，可以解决这个问题。但是，如果只用sql，是不是无法实现这种功能?  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538829:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-14302.html" target="_blank">riosinph</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-14302.html" target="_blank">riosinph</a></strong> <em>当前离线</em> UID14302阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">4898</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">1</a>技术排名1505技术积分1661社区排名519社区积分4324注册时间2002-6-21</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=riosinph" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=riosinph" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-14302.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/02_avatar_middle.jpg" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>New Human</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=14302&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">1</a>技术积分1661社区积分4324注册时间2002-6-21 论坛徽章:2</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_31_small.gif" alt="会员2006贡献徽章
日期:2006-04-17 13:46:34" title="会员2006贡献徽章
日期:2006-04-17 13:46:34"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=14302&amp;handlekey=addfriendhk_14302" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_14302&amp;touid=14302&amp;pmid=0&amp;daterange=2&amp;pid=538914&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=538914" target="_blank"><em>4</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 09:26:47</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=14302" target="_blank">只看该作者</a></p>
<p>select dept.deptno, dept.dname, emp.employee
from dept,emp
where  instr(dept.employees,emp.employee)&gt;0
.........  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=538914:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=539279&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539279" target="_blank"><em>5</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 11:27:20</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a></p>
<p>不能不承认，还是老外厉害。
我在otn上也问了同样的问题。
很快有人说用plsql写个存储过程，后来我又问纯粹用sql行不行，有个牛人很快回答了：
Well if you have a thoretical maximum, which I would assume you would given the legibility of listing hundreds of employees in the way you describe then yes. But the SQL needs to use the LAG function for each employee, hence a hundred emps a hundred LAGs, so kind of bulky.
This example uses a max of 6, and would need more cut n pasting to do more than that.
SQL&gt; select deptno, dname, emps
  2  from (
  3  select d.deptno, d.dname, rtrim(e.ename ||&#39;, &#39;||
  4     lead(e.ename,1) over (partition by d.deptno
  5             order by e.ename) ||&#39;, &#39;||
  6     lead(e.ename,2) over (partition by d.deptno
  7             order by e.ename) ||&#39;, &#39;||
  8     lead(e.ename,3) over (partition by d.deptno
  9             order by e.ename) ||&#39;, &#39;||
10     lead(e.ename,4) over (partition by d.deptno
11             order by e.ename) ||&#39;, &#39;||
12     lead(e.ename,5) over (partition by d.deptno
13             order by e.ename),&#39;, &#39;) emps,
14     row_number () over (partition by d.deptno
15             order by e.ename) x
16  from emp e, dept d
17  where d.deptno = e.deptno
18  )
19  where x = 1
20  /
DEPTNO DNAME       EMPS</p>
<hr>
<pre><code> 10 ACCOUNTING  CLARK, KING, MILLER
 20 RESEARCH    ADAMS, FORD, JONES, ROONEY, SCOTT, SMITH
 30 SALES       ALLEN, BLAKE, JAMES, MARTIN, TURNER, WARD
</code></pre><hr>
<p>打算踏踏实实看看书.  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539279:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-15894.html" target="_blank">rain11er</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-15894.html" target="_blank">rain11er</a></strong> <em>当前离线</em> UID15894阅读权限100帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">872</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术排名915技术积分2504社区排名3702社区积分186注册时间2002-7-9</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=rain11er" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=rain11er" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-15894.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/94_avatar_middle.jpg" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=34" target="_blank">版主</a></em></p>
<p>无头衔</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=15894&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">4</a>技术积分2504社区积分186注册时间2002-7-9 论坛徽章:44</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd3s.gif" alt="咸鸭蛋
日期:2011-09-14 08:46:37" title="咸鸭蛋
日期:2011-09-14 08:46:37"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:01" title="2011新春纪念徽章
日期:2011-01-25 15:41:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/Cycling_small.gif" alt="2010广州亚运会纪念徽章:自行车
日期:2011-01-05 12:55:01" title="2010广州亚运会纪念徽章:自行车
日期:2011-01-05 12:55:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/Taekwondo_small.gif" alt="2010广州亚运会纪念徽章:跆拳道
日期:2010-11-16 19:05:23" title="2010广州亚运会纪念徽章:跆拳道
日期:2010-11-16 19:05:23"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/Handball_small.gif" alt="2010广州亚运会纪念徽章:手球
日期:2010-10-19 22:02:34" title="2010广州亚运会纪念徽章:手球
日期:2010-10-19 22:02:34"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/haibao_small.gif" alt="2010世博会纪念徽章
日期:2010-10-05 15:10:58" title="2010世博会纪念徽章
日期:2010-10-05 15:10:58"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/haibao_small.gif" alt="2010世博会纪念徽章
日期:2010-08-08 20:44:57" title="2010世博会纪念徽章
日期:2010-08-08 20:44:57"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010Denmark_small.gif" alt="2010年世界杯参赛球队：丹麦
日期:2010-08-05 21:25:40" title="2010年世界杯参赛球队：丹麦
日期:2010-08-05 21:25:40"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010Serbia_small.gif" alt="2010年世界杯参赛球队：塞尔维亚
日期:2010-06-11 15:41:58" title="2010年世界杯参赛球队：塞尔维亚
日期:2010-06-11 15:41:58"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010Argentina_small.gif" alt="2010年世界杯参赛球队：阿根廷
日期:2010-06-07 12:53:08" title="2010年世界杯参赛球队：阿根廷
日期:2010-06-07 12:53:08"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:41:50" title="2011新春纪念徽章
日期:2011-01-25 15:41:50"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/2010fu_small.gif" alt="2011新春纪念徽章
日期:2011-01-25 15:42:15" title="2011新春纪念徽章
日期:2011-01-25 15:42:15"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=15894&amp;handlekey=addfriendhk_15894" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_15894&amp;touid=15894&amp;pmid=0&amp;daterange=2&amp;pid=539463&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539463" target="_blank"><em>6</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_moderator.gif" alt=""> <em>发表于 2003-2-21 12:38:26</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=15894" target="_blank">只看该作者</a></p>
<p>peifu,peifu  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539463:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-4613.html" target="_blank">nyfor</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-4613.html" target="_blank">nyfor</a></strong> <em>当前离线</em> UID4613阅读权限100帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">5403</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">8</a>技术排名168技术积分10935社区排名1592社区积分824注册时间2002-1-6</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=nyfor" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=nyfor" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4613.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/13_avatar_middle.jpg" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=34" target="_blank">版主</a></em></p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4613&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">8</a>技术积分10935社区积分824注册时间2002-1-6 论坛徽章:57</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/sx2007-08small.gif" alt="生肖徽章2007版:羊
日期:2008-11-14 14:42:19" title="生肖徽章2007版:羊
日期:2008-11-14 14:42:19"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd5s.gif" alt="鲜花蛋
日期:2011-05-10 13:02:48" title="鲜花蛋
日期:2011-05-10 13:02:48"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd6s.gif" alt="紫蛋头
日期:2011-05-10 13:03:01" title="紫蛋头
日期:2011-05-10 13:03:01"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd7s.gif" alt="灰彻蛋
日期:2011-05-10 13:03:12" title="灰彻蛋
日期:2011-05-10 13:03:12"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd8s.gif" alt="迷宫蛋
日期:2011-05-10 13:03:40" title="迷宫蛋
日期:2011-05-10 13:03:40"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd9s.gif" alt="蛋疼蛋
日期:2011-05-10 13:03:56" title="蛋疼蛋
日期:2011-05-10 13:03:56"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd10s.gif" alt="复活蛋
日期:2011-05-10 13:04:09" title="复活蛋
日期:2011-05-10 13:04:09"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/triathlon_small.gif" alt="2010广州亚运会纪念徽章:三项全能
日期:2011-05-19 21:32:30" title="2010广州亚运会纪念徽章:三项全能
日期:2011-05-19 21:32:30"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd10s.gif" alt="复活蛋
日期:2011-08-06 08:59:05" title="复活蛋
日期:2011-08-06 08:59:05"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd4s.gif" alt="茶鸡蛋
日期:2011-05-10 13:02:38" title="茶鸡蛋
日期:2011-05-10 13:02:38"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/cd3s.gif" alt="咸鸭蛋
日期:2011-05-10 13:02:27" title="咸鸭蛋
日期:2011-05-10 13:02:27"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/sx2007-02small.gif" alt="生肖徽章2007版:牛
日期:2009-03-02 15:43:25" title="生肖徽章2007版:牛
日期:2009-03-02 15:43:25"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4613&amp;handlekey=addfriendhk_4613" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4613&amp;touid=4613&amp;pmid=0&amp;daterange=2&amp;pid=539537&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539537" target="_blank"><em>7</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_moderator.gif" alt=""> <em>发表于 2003-2-21 13:01:54</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4613" target="_blank">只看该作者</a></p>
<p>参见此帖做法，使用PL/SQL代码实现：
<a href="http://www.itpub.net/showthread.php?threadid=96853" target="_blank"><a href="http://www.itpub.net/showthread.php?threadid=96853">http://www.itpub.net/showthread.php?threadid=96853</a></a>  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539537:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-4218.html" target="_blank">xallan</a></strong> <em>当前离线</em> UID4218阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">79</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名12897技术积分194社区排名20989社区积分6注册时间2001-12-28</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xallan" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-4218.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=4218&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分194社区积分6注册时间2001-12-28 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=4218&amp;handlekey=addfriendhk_4218" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_4218&amp;touid=4218&amp;pmid=0&amp;daterange=2&amp;pid=539603&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=539603" target="_blank"><em>8</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-21 13:27:24</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=4218" target="_blank">只看该作者</a></p>
<p>是的，写个function比较简单也挺好用。我最后也是用的function，而没有用那个lead函数，但他们还是挺牛。  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=539603:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*</li>
</ul>
<p><a href="http://www.itpub.net/space-uid-33612.html" target="_blank">xizi812</a></p>
<p><strong><a href="http://www.itpub.net/space-uid-33612.html" target="_blank">xizi812</a></strong> <em>当前离线</em> UID33612阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">37</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名18274技术积分128社区排名30307社区积分3注册时间2003-1-3</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=xizi812" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=xizi812" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-33612.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>一般会员</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=33612&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分128社区积分3注册时间2003-1-3 论坛徽章:0</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=33612&amp;handlekey=addfriendhk_33612" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_33612&amp;touid=33612&amp;pmid=0&amp;daterange=2&amp;pid=541053&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=541053" target="_blank"><em>9</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-22 10:07:58</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=33612" target="_blank">只看该作者</a></p>
<p>佩服！！牛！！  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=541053:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
<a href="http://www.itpub.net/space-uid-10589.html" target="_blank">snowsun</a></li>
</ul>
<p><strong><a href="http://www.itpub.net/space-uid-10589.html" target="_blank">snowsun</a></strong> <em>当前离线</em> UID10589阅读权限10帖子<a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=thread&amp;type=reply&amp;view=me&amp;from=space" target="_blank">297</a>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术排名4121技术积分650社区排名5739社区积分80注册时间2002-4-26</p>
<p><a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=profile" title="查看详细资料" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/userinfo.gif" alt="查看详细资料"></a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=showip&amp;idtype=user&amp;id=snowsun" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/showip.small.gif" alt=""> IP卡</a> <a href="http://www.itpub.net/home.php?mod=magic&amp;mid=checkonline&amp;idtype=user&amp;id=snowsun" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/checkonline.small.gif" alt=""> 狗仔卡</a>
<a href="http://www.itpub.net/space-uid-10589.html" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/noavatar_middle.gif" alt=""></a></p>
<p><em><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=usergroup&amp;gid=29" target="_blank">注册会员</a></em></p>
<p>笨牛</p>
<p>精华贴数<a href="http://www.itpub.net/home.php?mod=space&amp;uid=10589&amp;do=thread&amp;type=digest&amp;view=me&amp;from=space" target="_blank">0</a>技术积分650社区积分80注册时间2002-4-26 论坛徽章:1</p>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/medal_14_small.gif" alt="授权会员
日期:2005-10-30 17:05:33" title="授权会员
日期:2005-10-30 17:05:33"></p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=friend&amp;op=add&amp;uid=10589&amp;handlekey=addfriendhk_10589" title="加好友" target="_blank">加好友</a></li>
<li><a href="http://www.itpub.net/home.php?mod=spacecp&amp;ac=pm&amp;op=showmsg&amp;handlekey=showmsg_10589&amp;touid=10589&amp;pmid=0&amp;daterange=2&amp;pid=541293&amp;tid=96851" title="发消息" target="_blank">发消息</a>
<strong><a href="http://www.itpub.net/forum.php?mod=redirect&amp;goto=findpost&amp;ptid=96851&amp;pid=541293" target="_blank"><em>10</em>/#</a></strong></li>
</ul>
<p><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/online_member.gif" alt=""> <em>发表于 2003-2-22 13:24:11</em> |<a href="http://www.itpub.net/forum.php?mod=viewthread&amp;tid=96851&amp;page=1&amp;authorid=10589" target="_blank">只看该作者</a></p>
<p>谢天谢地，我正在为这个东东老火，没有想到楼主也遇到了.
扎扎实实的学了一招.  <a href="">使用道具</a> <a href="">举报</a>
**</p>
<ul>
<li><a href="http://www.itpub.net/home.php?mod=magic&amp;mid=namepost&amp;idtype=pid&amp;id=541293:96851" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/namepost.small.gif" alt="">显身卡</a>
*
IT168文库精选文档推荐 <a href="http://wenku.it168.com/d_000088434.shtml" title="一条SQL语句的优化过程.doc" target="_blank">一条SQL语句的优化过程.doc</a>    <a href="http://wenku.it168.com/d_000086681.shtml" title="VC++6.0访问Oracle数据库技术.pdf" target="_blank">VC++6.0访问Oracle数据库技术.pdf</a>    <a href="http://wenku.it168.com/d_000090952.shtml" title="oracle新手必备17.ppt" target="_blank">oracle新手必备17.ppt</a>    <a href="http://wenku.it168.com/d_000091415.shtml" title="用DBMSDDL包重新编译PL.doc" target="_blank">用DBMSDDL包重新编译PL.doc</a>    <a href="http://wenku.it168.com/d_000087843.shtml" title="第十四章 数据库管理员.pdf" target="_blank">第十四章 数据库管理员.pdf</a>    </li>
</ul>
<p><strong>1</strong><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">2</a><a href="http://www.itpub.net/thread-96851-3-1.html" target="_blank">3</a><a href="http://www.itpub.net/thread-96851-2-1.html" target="_blank">下一页</a><a href="http://www.itpub.net/forum-2-1.html" target="_blank">返回列表</a> <a href="&quot;发新帖&quot;"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/pn_post.png" alt="发新帖"></a>
<a href="http://www.itpub.net/forum.php?mod=post&amp;action=reply&amp;fid=2&amp;tid=96851" target="_blank">高级模式</a></p>
<p><a href="&quot;文字加粗&quot;">B</a> <a href="&quot;设置文字颜色&quot;">Color</a> <a href="&quot;图片&quot;">Image</a> <a href="&quot;添加链接&quot;">Link</a> <a href="&quot;引用&quot;">Quote</a> <a href="&quot;代码&quot;">Code</a> <a href="">Smilies</a></p>
<p>您需要登录后才可以回帖 <a href="http://www.itpub.net/member.php?mod=logging&amp;action=login" target="_blank">登录</a> | <a href="http://www.itpub.net/member.php?mod=register.php" target="_blank">注册</a> <a href="http://www.itpub.net/connect.php?mod=login&amp;op=init&amp;referer=forum.php%3Fmod%3Dviewthread%26tid%3D96851&amp;statfrom=login" target="_blank"><img src="http://./如何写这个sql语句 _Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区_files/qq_login.gif" alt=""></a></p>
<p><strong>发表回复</strong> 回帖后跳转到最后一页</p>
<h3 id="-">浏览过的版块</h3>
<ul>
<li><a href="http://www.itpub.net/forum-3-1.html" target="_blank">Oracle开发</a>
<a href="">TOP</a><a href="http://www.itpub.net/techmatch.php" target="_blank">技术积分榜</a> <a href="http://www.itpub.net/forummatch.php" target="_blank">社区积分榜</a> <a href="http://www.itpub.net/plugin.php?id=itpub_medal:medal_list" target="_blank">徽章</a> <a href="http://epub.itpub.net/" target="_blank">电子杂志</a> <a href="http://www.itpub.net/misc.php?mod=stat&amp;op=team" target="_blank">团队</a> <a href="http://www.itpub.net/misc.php?mod=stat" target="_blank">统计</a> <a href="http://email.itpub.net/" target="_blank">邮箱</a> <a href="http://www.tigerbar.net/" target="_blank">虎吧</a> <a href="http://weblog.itpub.net/" target="_blank">老博客</a> <a href="http://www.itpub.net/archiver/" target="_blank">文本模式</a> <a href="http://www.itpub.net/misc.php?mod=faq" target="_blank">帮助</a></li>
</ul>
<p>CopyRight 1999-2011 itpub.net All Right Reserved. 北京皓辰网域网络信息技术有限公司版权所有　<a href="http://www.itpub.net/contactus.php" target="_blank">联系我们</a>　<a href="http://www.itpub.net/footer_wzls.php" target="_blank">网站律师</a>　<a href="http://www.itpub.net/footer_ys.php" target="_blank">隐私政策</a>　<a href="http://www.itpub.net/footer_zscq.php" target="_blank">知识产权声明</a>
<a href="http://www.it168.com/images/icp.jpg" target="_blank">京ICP证:060528号</a>　北京市公安局海淀分局网监中心备案编号：1101082001　广播电视节目制作经营许可证：编号（京）字第1149号<br>积分 0, 距离下一级还需 积分  回顶部</p>
<p><a href="http://www.itpub.net/forum.php?gid=1" target="_blank">≡ 数据库技术 ≡</a></p>
<ul>
<li><a href="http://www.itpub.net/forum-2-1.html" target="_blank">Oracle数据库管理</a></li>
<li><a href="http://www.itpub.net/forum-205-1.html" target="_blank">Oracle高可用</a></li>
<li><a href="http://www.itpub.net/forum-3-1.html" target="_blank">Oracle开发</a></li>
<li><a href="http://www.itpub.net/forum-4-1.html" target="_blank">Oracle入门与认证</a></li>
<li><a href="http://www.itpub.net/forum-67-1.html" target="_blank">Oracle专题深入讨论</a></li>
<li><a href="http://www.itpub.net/forum-70-1.html" target="_blank">Oracle新技术/11gR2</a></li>
<li><a href="http://www.itpub.net/forum-72-1.html" target="_blank">Oracle电子文档</a></li>
<li><a href="http://www.itpub.net/forum-69-1.html" target="_blank">Oracle Fusion中间件</a></li>
<li><a href="http://www.itpub.net/forum-143-1.html" target="_blank">IBM DB2数据库管理与开发</a></li>
<li><a href="http://www.itpub.net/forum-40-1.html" target="_blank">MS SQL Server</a></li>
<li><a href="http://www.itpub.net/forum-98-1.html" target="_blank">Sybase管理与开发</a></li>
<li><a href="http://www.itpub.net/forum-73-1.html" target="_blank">MySQL及其它开源数据库</a></li>
<li><a href="http://www.itpub.net/forum-237-1.html" target="_blank">国内数据库产品</a></li>
<li><a href="http://www.itpub.net/forum-234-1.html" target="_blank">NoSQL</a></li>
<li><a href="http://www.itpub.net/forum-162-1.html" target="_blank">内存数据库</a></li>
<li><a href="http://www.itpub.net/forum-238-1.html" target="_blank">列式数据库</a></li>
<li><a href="http://www.itpub.net/forum-43-1.html" target="_blank">数据仓库与数据挖掘</a></li>
<li><a href="http://www.itpub.net/forum-148-1.html" target="_blank">移动及嵌入式数据库</a></li>
<li><a href="http://www.itpub.net/forum-239-1.html" target="_blank">Hadoop与分布式数据处理</a><a href="http://www.itpub.net/forum.php?gid=71" target="_blank">≡ 企业信息化 ≡</a></li>
<li><a href="http://www.itpub.net/forum-5-1.html" target="_blank">ERP产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-83-1.html" target="_blank">CRM产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-89-1.html" target="_blank">HR产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-228-1.html" target="_blank">PLM/PDM产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-214-1.html" target="_blank">云计算和SaaS产品与实践</a></li>
<li><a href="http://www.itpub.net/forum-116-1.html" target="_blank">物流</a></li>
<li><a href="http://www.itpub.net/forum-65-1.html" target="_blank">供应链</a></li>
<li><a href="http://www.itpub.net/forum-93-1.html" target="_blank">供应链建模与仿真</a></li>
<li><a href="http://www.itpub.net/forum-106-1.html" target="_blank">物流设备与系统工程</a></li>
<li><a href="http://www.itpub.net/forum-137-1.html" target="_blank">企业管理咨询</a></li>
<li><a href="http://www.itpub.net/forum-138-1.html" target="_blank">管理协同与办公自动化</a></li>
<li><a href="http://www.itpub.net/forum-139-1.html" target="_blank">IT服务管理</a></li>
<li><a href="http://www.itpub.net/forum-169-1.html" target="_blank">数据中心建设与设备采购</a></li>
<li><a href="http://www.itpub.net/forum-56-1.html" target="_blank">ERP二次开发</a></li>
<li><a href="http://www.itpub.net/forum-46-1.html" target="_blank">Oracle ERP</a></li>
<li><a href="http://www.itpub.net/forum-204-1.html" target="_blank">Oracle EBS R12</a></li>
<li><a href="http://www.itpub.net/forum-130-1.html" target="_blank">PeopleSoft与JDE</a></li>
<li><a href="http://www.itpub.net/forum-163-1.html" target="_blank">EBS相关文档</a></li>
<li><a href="http://www.itpub.net/forum-236-1.html" target="_blank">Oracle EBS DBA</a></li>
<li><a href="http://www.itpub.net/forum-45-1.html" target="_blank">SAP R/3</a></li>
<li><a href="http://www.itpub.net/forum-105-1.html" target="_blank">SAP Business One开发与快速实施</a></li>
<li><a href="http://www.itpub.net/forum-155-1.html" target="_blank">SAP财务及CRM</a></li>
<li><a href="http://www.itpub.net/forum-154-1.html" target="_blank">SAP后勤及HR</a></li>
<li><a href="http://www.itpub.net/forum-157-1.html" target="_blank">mySAP ERP</a></li>
<li><a href="http://www.itpub.net/forum-156-1.html" target="_blank">系统开发及跨应用设置</a></li>
<li><a href="http://www.itpub.net/forum-113-1.html" target="_blank">SAP相关文档</a></li>
<li><a href="http://www.itpub.net/forum-166-1.html" target="_blank">国外其它ERP产品</a></li>
<li><a href="http://www.itpub.net/forum-109-1.html" target="_blank">国内ERP产品</a><a href="http://www.itpub.net/forum.php?gid=33" target="_blank">≡ 开发技术 ≡</a></li>
<li><a href="http://www.itpub.net/forum-128-1.html" target="_blank">Java入门与认证版</a></li>
<li><a href="http://www.itpub.net/forum-123-1.html" target="_blank">Java web开发及框架技术</a></li>
<li><a href="http://www.itpub.net/forum-32-1.html" target="_blank">Java企业开发</a></li>
<li><a href="http://www.itpub.net/forum-76-1.html" target="_blank">WEB程序开发</a></li>
<li><a href="http://www.itpub.net/forum-118-1.html" target="_blank">WEB 2.0技术</a></li>
<li><a href="http://www.itpub.net/forum-119-1.html" target="_blank">动态语言</a></li>
<li><a href="http://www.itpub.net/forum-91-1.html" target="_blank">移动与游戏开发</a><a href="http://www.itpub.net/forum.php?gid=170" target="_blank">≡ 微软技术 ≡</a></li>
<li><a href="http://www.itpub.net/forum-176-1.html" target="_blank">微软产品用户交流区</a></li>
<li><a href="http://www.itpub.net/forum-201-1.html" target="_blank">.Net人才交流</a></li>
<li><a href="http://www.itpub.net/forum-200-1.html" target="_blank">.Net电子书籍&amp;&amp;书籍介绍</a></li>
<li><a href="http://www.itpub.net/forum-171-1.html" target="_blank">开发工具和语言</a></li>
<li><a href="http://www.itpub.net/forum-177-1.html" target="_blank">.NET Framework 相关</a></li>
<li><a href="http://www.itpub.net/forum-181-1.html" target="_blank">Visual Basic/VB.net</a></li>
<li><a href="http://www.itpub.net/forum-179-1.html" target="_blank">Visual C/#</a></li>
<li><a href="http://www.itpub.net/forum-180-1.html" target="_blank">Visual C++/vc.net</a></li>
<li><a href="http://www.itpub.net/forum-183-1.html" target="_blank">Visual Studio</a></li>
<li><a href="http://www.itpub.net/forum-108-1.html" target="_blank">.NET软件架构与模式</a></li>
<li><a href="http://www.itpub.net/forum-187-1.html" target="_blank">.NET开发辅助工具及框架</a></li>
<li><a href="http://www.itpub.net/forum-172-1.html" target="_blank">Web开发</a></li>
<li><a href="http://www.itpub.net/forum-135-1.html" target="_blank">ASP.NET与AJAX</a></li>
<li><a href="http://www.itpub.net/forum-190-1.html" target="_blank">Web相关技术讨论(IIS等)</a></li>
<li><a href="http://www.itpub.net/forum-189-1.html" target="_blank">Silverlight 技术</a></li>
<li><a href="http://www.itpub.net/forum-174-1.html" target="_blank">微软企业级产品技术</a></li>
<li><a href="http://www.itpub.net/forum-196-1.html" target="_blank">Exchange Server</a></li>
<li><a href="http://www.itpub.net/forum-202-1.html" target="_blank">windows server</a></li>
<li><a href="http://www.itpub.net/forum-203-1.html" target="_blank">SQL Server</a></li>
<li><a href="http://www.itpub.net/forum-195-1.html" target="_blank">SharePoint</a></li>
<li><a href="http://www.itpub.net/forum-197-1.html" target="_blank">Biztalk</a></li>
<li><a href="http://www.itpub.net/forum-175-1.html" target="_blank">嵌入式及移动开发</a></li>
<li><a href="http://www.itpub.net/forum-198-1.html" target="_blank">Windows Embedded 嵌入式技术</a></li>
<li><a href="http://www.itpub.net/forum-199-1.html" target="_blank">Windows 移动设备</a></li>
<li><a href="http://www.itpub.net/forum-173-1.html" target="_blank">Office开发</a></li>
<li><a href="http://www.itpub.net/forum-191-1.html" target="_blank">Microsoft office system</a></li>
<li><a href="http://www.itpub.net/forum-193-1.html" target="_blank">Office Business Application</a><a href="http://www.itpub.net/forum.php?gid=121" target="_blank">≡ 软件工程与项目管理 ≡</a></li>
<li><a href="http://www.itpub.net/forum-16-1.html" target="_blank">系统设计与建模</a></li>
<li><a href="http://www.itpub.net/forum-20-1.html" target="_blank">数据建模</a></li>
<li><a href="http://www.itpub.net/forum-44-1.html" target="_blank">项目管理</a></li>
<li><a href="http://www.itpub.net/forum-216-1.html" target="_blank">项目管理文档资源</a></li>
<li><a href="http://www.itpub.net/forum-215-1.html" target="_blank">PMP认证</a></li>
<li><a href="http://www.itpub.net/forum-117-1.html" target="_blank">项目过程</a></li>
<li><a href="http://www.itpub.net/forum-160-1.html" target="_blank">软件测试</a></li>
<li><a href="http://www.itpub.net/forum-110-1.html" target="_blank">算法讨论与研究</a><a href="http://www.itpub.net/forum.php?gid=140" target="_blank">≡ IBM软件技术园地 ≡</a></li>
<li><a href="http://www.itpub.net/forum-39-1.html" target="_blank">IBM信息管理</a></li>
<li><a href="http://www.itpub.net/forum-144-1.html" target="_blank">Lotus</a></li>
<li><a href="http://www.itpub.net/forum-232-1.html" target="_blank">Mashup技术</a></li>
<li><a href="http://www.itpub.net/forum-151-1.html" target="_blank">Tivoli</a></li>
<li><a href="http://www.itpub.net/forum-149-1.html" target="_blank">Websphere</a></li>
<li><a href="http://www.itpub.net/forum-150-1.html" target="_blank">Rational</a></li>
<li><a href="http://www.itpub.net/forum-224-1.html" target="_blank">Jazz大赛专区</a></li>
<li><a href="http://www.itpub.net/forum-152-1.html" target="_blank">与SOA相关的IBM产品与技术</a></li>
<li><a href="http://www.itpub.net/forum-213-1.html" target="_blank">IBM蓝色之路</a></li>
<li><a href="http://www.itpub.net/forum-141-1.html" target="_blank">IBM软件技术精英协会</a></li>
<li><a href="http://www.itpub.net/forum-142-1.html" target="_blank">软件技术精英活动专版</a><a href="http://www.itpub.net/forum.php?gid=27" target="_blank">≡ 操作系统与硬件 ≡</a><a href="http://www.itpub.net/forum.php?gid=50" target="_blank">≡ 行业纵向讨论区 ≡</a></li>
<li><a href="http://www.itpub.net/forum-112-1.html" target="_blank">IT业界评论与展望</a></li>
<li><a href="http://www.itpub.net/forum-86-1.html" target="_blank">政府与教育事业</a></li>
<li><a href="http://www.itpub.net/forum-167-1.html" target="_blank">中国政府信息主管联盟</a></li>
<li><a href="http://www.itpub.net/forum-66-1.html" target="_blank">电信行业</a></li>
<li><a href="http://www.itpub.net/forum-68-1.html" target="_blank">金融行业</a></li>
<li><a href="http://www.itpub.net/forum-85-1.html" target="_blank">医卫行业</a></li>
<li><a href="http://www.itpub.net/forum-87-1.html" target="_blank">制造行业</a></li>
<li><a href="http://www.itpub.net/forum-159-1.html" target="_blank">电力行业</a></li>
<li><a href="http://www.itpub.net/forum-51-1.html" target="_blank">信息安全与审计</a><a href="http://www.itpub.net/forum.php?gid=7" target="_blank">≡ 会员交流 ≡</a></li>
<li><a href="http://www.itpub.net/forum-146-1.html" target="_blank">IT职业生涯</a></li>
<li><a href="http://www.itpub.net/forum-11-1.html" target="_blank">招聘求职商务信息</a></li>
<li><a href="http://www.itpub.net/forum-147-1.html" target="_blank">投资理财</a></li>
<li><a href="http://www.itpub.net/forum-41-1.html" target="_blank">体育世界</a></li>
<li><a href="http://www.itpub.net/forum-131-1.html" target="_blank">体育博彩专版</a></li>
<li><a href="http://www.itpub.net/forum-165-1.html" target="_blank">汽车世界</a></li>
<li><a href="http://www.itpub.net/forum-114-1.html" target="_blank">旅游，驴友</a></li>
<li><a href="http://www.itpub.net/forum-82-1.html" target="_blank">外语角</a></li>
<li><a href="http://www.itpub.net/forum-115-1.html" target="_blank">数码摄影</a></li>
<li><a href="http://www.itpub.net/forum-61-1.html" target="_blank">电子图书与IT文档资料</a></li>
<li><a href="http://www.itpub.net/forum-10-1.html" target="_blank">软件交流</a></li>
<li><a href="http://www.itpub.net/forum-22-1.html" target="_blank">软件交流精华区</a><a href="http://www.itpub.net/forum.php?gid=102" target="_blank">≡ ITPUB产品与服务 ≡</a></li>
<li><a href="http://www.itpub.net/forum-134-1.html" target="_blank">ITPUB地面活动专版</a></li>
<li><a href="http://www.itpub.net/forum-84-1.html" target="_blank">BLOG天地</a></li>
<li><a href="http://www.itpub.net/forum-15-1.html" target="_blank">授权用户区</a></li>
<li><a href="http://www.itpub.net/forum-9-1.html" target="_blank">站务管理</a></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li><li><a href="/categories/DB/oracle/oracle-/">oracle-</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a><a href="/tags/oracle-/" class="label label-info">oracle-</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle-oracle---如何写这个sql语句_Oracle数据库管理_ITPUB论坛-it168旗下专业技术社区" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-linux-redhat--CentOS60下安装NVIDIA显卡驱动/">CentOS6.0+下安装NVIDIA显卡驱动</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-linux-redhat--CentOS60下安装NVIDIA显卡驱动/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="centos6-0-nvidia-">CentOS6.0+下安装NVIDIA显卡驱动</h1>
<p>‍linux（CentOS6.0+）下安装NVIDIA显卡驱动，disable The Nouveau kernel driver</p>
<p>(2013-03-31 13:49:23)</p>
<p>安装动因：安装本驱动程序之前，my pc 显卡风扇声音较大。最近实在忍不住了，才从师兄哪里找到了原因。原来是centos系统内核中用的是nouveau驱动程序（而my pc 的显卡是nvidia的GT 220），此驱动与nvidia完全无关。</p>
<p>开始安装时，按照网上的博客的说明，退出x-window界面，进入文本终端模式。运行 /# sh nvidia-driver-version.run可是出现了如下错误：</p>
<p>ERROR: The Nouveau kernel driver is currently in use by your system. This</p>
<p>  driver is incompatible with the NVIDIA driver, and must be disabled</p>
<p>  before proceeding. Please consult the NVIDIA driver README and your</p>
<p>  Linux distribution&#39;s documentation for details on how to correctly</p>
<p>  disable the Nouveau kernel driver.</p>
<p>WARNING: The modprobe configuration file to disable Nouveau,</p>
<p>  /etc/modprobe.d/nvidia-installer-disable-nouveau.conf, is already</p>
<p>  present. Please be sure you have rebooted your system since that file</p>
<p>  was written. If you have rebooted, then Nouveau may be enabled for</p>
<p>  other reasons, such as being included in the system initial ramdisk or</p>
<p>  in your X configuration file. Please consult the NVIDIA driver README</p>
<p>  and your Linux distribution&#39;s documentation for details on how to</p>
<p>  correctly disable the Nouveau kernel driver.</p>
<p>ERROR: Installation has failed. Please see the file</p>
<p>  &#39;/var/log/nvidia-installer.log&#39; for details. You may find suggestions</p>
<p>  on fixing installation problems in the README available on the Linux.</p>
<p> 解决的办法是：先禁用nouveau kernel driver，再安装NVIDIA驱动。</p>
<p>在安装之前，到nvidia官方网站下载相应的驱动程序。</p>
<p>我的是：NVIDIA-Linux-x86_64-310.40.run</p>
<p>一、关闭nouveau</p>
<pre><code>   1. 把nouveau kernel driver加入黑名单：

       /# vi  /etc/modprobe.d/blacklist.conf  在后面追加 blacklist nouveau

   2. 重新建立initramfs image file：

       首先备份initramfs image file

           /# mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak

       其次重新建立initramfs image file

           /# dracut -v /boot/initramfs-$(uname -r).img $(uname -r)

   3. 重启系统至文本终端模式

       /# vi /etc/inittab

       最后一行“id:5:initdefault:”，将5修改成3

       （5代表系统启动时默认进入x-window图形界面，3代表默认进入终端模式。我的是CentOS6.4系统）

       /# reboot

   4. 输入root和password，进入根用户模式下

       /# lsmod | grep nouveau        确保nouveau kernel driver没有被加载
</code></pre><p>二、安装NVIDIA驱动</p>
<pre><code>   1. /# ./path/to/NVIDIA-Linux-x86_64-310.40.run

       或

       /# sh NVIDIA-Linux-x86_64-310.40.run

       根据提示选择accept，yes 或 OK，即可完成安装！

   2. 修改配置文件，默认进入x-window模式

       /# vi /etc/inittab

       最后一行id:3:initdefault:     将前面修改后的3，改回5，保存退出。
</code></pre>
      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/linux/">linux</a></li></span><span class="breadcrumb"><li><a href="/categories/linux/">linux</a></li><li><a href="/categories/linux/redhat/">redhat</a></li></span></span> | <span class="tags">Tagged <a href="/tags/linux/" class="label label-primary">linux</a><a href="/tags/redhat/" class="label label-success">redhat</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-linux-redhat--CentOS60下安装NVIDIA显卡驱动/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-linux-redhat--CentOS60下安装NVIDIA显卡驱动" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间/">oracle的表空间，分区表，以及索引的总结_开拓者_百度空间</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:35.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-_-_-">oracle的表空间，分区表，以及索引的总结<em>开拓者</em>百度空间</h1>
<h3 id="-">分享到</h3>
<ul>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">QQ空间</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">新浪微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度搜藏</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">人人网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">腾讯微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">开心网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">腾讯朋友</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度空间</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">豆瓣网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">搜狐微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度新首页</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">QQ收藏</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">和讯微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">我的淘宝</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度贴吧</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">更多...</a></li>
</ul>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度分享</a></p>
<p><a href="http://hi.baidu.com/"></a></p>
<ul>
<li><a href="http://hi.baidu.com/index" target="_blank">广场</a></li>
<li><a href="https://passport.baidu.com/center" target="_blank">jywv</a>
*</li>
<li><a href="https://passport.baidu.com/?logout&amp;bdstoken=aa9855a9aad4216b27441b12182ad1a7&amp;u=http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3" target="_blank">退出</a>
<a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">关注此空间</a><h1 id="-http-hi-baidu-com-new-cnbxj-"><a href="http://hi.baidu.com/new/cnbxj" target="_blank">开拓者</a></h1>
</li>
</ul>
<p>开拓者</p>
<p>2008-06-02 22:46</p>
<h2 id="oracle-">oracle的表空间，分区表，以及索引的总结</h2>
<p>表空间：
Oracle的UNDOTBS01.DBF文件太大的解决办法
1、.禁止undo tablespace自动增长
alter database datafile &#39;full_path\undotbs01.dbf&#39; autoextend off;
2.-- 创建一个新的小空间的undo tablespace
create undo tablespace undotBS2 datafile &#39;full_path\UNDOTBS02.DBF&#39; size 100m;
-- 设置新的表空间为系统undo_tablespace
alter system set undo_tablespace=undotBS2;
-- Drop 旧的表空间
drop tablespace undotbs1 including contents;
--查看所有表空间的情况
select /<em> from dba_tablespaces
--创建表空间
create tablespace HRPM0
datafile &#39;/oradata/misdb/HRPM0.DBF&#39; size 5m autoextend on next 10m maxsize unlimited
--删除表空间
DROP TABLESPACE data01 INCLUDING CONTENTS AND DATAFILES;
--修改表空间大小
alter database datafile &#39;/path/NADDate05.dbf&#39; resize 100M
分区表：
当表中的数据量不断增大，查询数据的速度就会变慢，应用程序的性能就会下降，这时就应该考虑对表进行分区。表进行分区后，逻辑上表仍然是一张完整的表，只是将表中的数据在物理上存放到多个表空间(物理文件上)，这样查询数据时，不至于每次都扫描整张表。
Oracle中提供了以下几种表分区：
一、范围分区：这种类型的分区是使用列的一组值，通常将该列成为分区键。
示例1：假设有一个CUSTOMER表，表中有数据200000行，我们将此表通过CUSTOMER_ID进行分区，每个分区存储100000行，我们将每个分区保存到单独的表空间中，这样数据文件就可以跨越多个物理磁盘。下面是创建表和分区的代码，如下：
CREATE TABLE CUSTOMER
(
CUSTOMER_ID NUMBER NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR2(30) NOT NULL,
LAST_NAME VARCHAR2(30) NOT NULL,
PHONE VARCHAR2(15) NOT NULL,
EMAIL VARCHAR2(80),
STATUS CHAR(1)
)
PARTITION BY RANGE (CUSTOMER_ID)
(
PARTITION CUS_PART1 VALUES LESS THAN (100000) TABLESPACE CUS_TS01,
PARTITION CUS_PART2 VALUES LESS THAN (200000) TABLESPACE CUS_TS02
)
注意：在创建表进行分区时，表空间必须先存在，而且建议将不同的分区放入不同的表空间中。
示例2：假设有ORDER_ACTIVITIES表，每6个月对订单进行清理，我们可以按月份对表进行分区，分区代码如下：
CREATE TABLE ORDER_ACTIVITIES
(
ORDER_ID NUMBER(7) NOT NULL,
ORDER_DATE DATE,
TOTAL_AMOUNT NUMBER,
CUSTOTMER_ID NUMBER(7),
PAID CHAR(1)
)
PARTITION BY RANGE (ORDER_DATE)
(
PARTITION ORD_ACT_PART01 VALUES LESS THAN (TO_DATE(&#39;01-MAY-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS01,
PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUN-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS02,
PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUL-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS03
)
二、列表分区：该分区的特点是某列的值只有几个，基于这样的特点我们可以采用列表分区。
示例1：
CREATE TABLE PROBLEM_TICKETS
(
PROBLEM_ID NUMBER(7) NOT NULL PRIMARY KEY,
DESCRIPTION VARCHAR2(2000),
CUSTOMER_ID NUMBER(7) NOT NULL,
DATE_ENTERED DATE NOT NULL,
STATUS VARCHAR2(20)
)
PARTITION BY LIST (STATUS)
(
PARTITION PROB_ACTIVE VALUES (&#39;ACTIVE&#39;) TABLESPACE PROB_TS01,
PARTITION PROB_INACTIVE VALUES (&#39;INACTIVE&#39;) TABLESPACE PROB_TS02
)
三、散列分区：这类分区是在列值上使用散列算法，以确定将行放入哪个分区中。当列的值没有合适的条件时，建议使用散列分区。请看下列示例：
示例1：
CREATE TABLE HASH_TABLE
(
COL NUMBER(8),
INF VARCHAR2(100)
)
PARTITION BY HASH (COL)
(
PARTITION PART01 TABLESPACE HASH_TS01,
PARTITION PART02 TABLESPACE HASH_TS02,
PARTITION PART03 TABLESPACE HASH_TS03
)
四、复合范围列表分区：这种分区是基于范围分区和列表分区，表首先按某列进行范围分区，然后再按某列进行列表分区，分区之中的分区被称为子分区。
示例1：
CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),
SALES_DATE DATE,
SALES_COST NUMBER(10),
STATUS VARCHAR2(20)
)
PARTITION BY RANGE(SALES_DATE)
SUBPARTITION BY LIST (STATUS)
(
PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P1_TS
(
SUBPARTITION P1SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP1_TS1,
SUBPARTITION P1SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP1_TS2
),
PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P2_TS
(
SUBPARTITION P2SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP2_TS1,
SUBPARTITION P2SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP2_TS2
)
)
示例2：使用TEMPLATE模板
CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),
SALES_DATE DATE,
SALES_COST NUMBER(10),
STATUS VARCHAR2(20)
)
PARTITION BY RANGE(SALES_DATE)
SUBPARTITION BY LIST (STATUS)
SUBPARTITION TEMPLATE
(
SUBPARTITION SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP1_TS1,
SUBPARTITION SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP2_TS2
)
(
PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P1_TS,
PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P2_TS
)
五、复合范围散列分区：这种分区是基于范围分区和散列分区，表首先按某列进行范围分区，然后再按某列进行散列分区。与上面的定义方式非常的类似，在此不单独举例。
表分区对于用户来说是透明的，我们在插入数据时Oracle会自动判断插入的数据，然后放入相应的表分区中。但有时我们想单独查询某个分区中的数据时，就必须手工指定分区的名称。
示例1：(此示例基于：四、复合范围列表分区的示例一)
向SALES表插入记录，不必指定表分区。
INSERT INTO SALES VALUES(&#39;00001&#39;,&#39;01-1月-02&#39;,100,&#39;ACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00002&#39;,&#39;01-1月-01&#39;,200,&#39;ACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00003&#39;,&#39;01-2月-03&#39;,300,&#39;INACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00004&#39;,&#39;04-2月-03&#39;,300,&#39;INACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00005&#39;,&#39;04-2月-02&#39;,300,&#39;INACTIVE&#39;)
/
不指定表分区查看SALES表信息：
SELECT /</em> FROM SALES; 结果如下所示：
指定P1表分区查询SALES表信息：
SELECT /<em> FROM SALES PARTITION(P1); 结果如下所示：
指定P1SUB1子分区查询SALES表信息:
SELECT /</em> FROM SALES SUBPARTITION(P1SUB1); 结果如下所示：
示例2：(此示例基于：四、复合范围列表分区的示例二)
示例2基于TEMPLATE模板的表分区，查询稍稍烦琐一点。
指定P1表分区查询SALES表信息：
SELECT /<em> FROM SALES PARTITION(P1); 结果如下所示,和刚才查询一致。
指定SUB1子分区查询SALES表信息:
SELECT /</em> FROM SALES SUBPARTITION(SUB1); 出现如下错误信息：
怎么解决以上问题呢？我们通过sys模式查看分区信息的数据字典,如下：
可以看出子分区不叫SUB1，而是P1_SUB1,重新查询信息，如下图所示：
有关表分区的一些维护性操作：
一、添加分区
以下代码给SALES表添加了一个P3分区
ALTER TABLE SALES ADD PARTITION P3 VALUES LESS THAN(TO_DATE(&#39;2003-06-01&#39;,&#39;YYYY-MM-DD&#39;));
注意：以上添加的分区界限应该高于最后一个分区界限。
以下代码给SALES表的P3分区添加了一个P3SUB1子分区
ALTER TABLE SALES MODIFY PARTITION P3 ADD SUBPARTITION P3SUB1 VALUES(&#39;COMPLETE&#39;);
二、删除分区
以下代码删除了P3表分区：
ALTER TABLE SALES DROP PARTITION P3;
在以下代码删除了P4SUB1子分区：
ALTER TABLE SALES DROP SUBPARTITION P4SUB1;
注意：如果删除的分区是表中唯一的分区，那么此分区将不能被删除，要想删除此分区，必须删除表。
三、截断分区
截断某个分区是指删除某个分区中的数据，并不会删除分区，也不会删除其它分区中的数据。当表中即使只有一个分区时，也可以截断该分区。通过以下代码截断分区：
ALTER TABLE SALES TRUNCATE PARTITION P2;
通过以下代码截断子分区：
ALTER TABLE SALES TRUNCATE SUBPARTITION P2SUB2;
四、合并分区
合并分区是将相邻的分区合并成一个分区，结果分区将采用较高分区的界限，值得注意的是，不能将分区合并到界限较低的分区。以下代码实现了P1 P2分区的合并：
ALTER TABLE SALES MERGE PARTITIONS P1,P2 INTO PARTITION P2;
五、拆分分区
拆分分区将一个分区拆分两个新分区，拆分后原来分区不再存在。注意不能对HASH类型的分区进行拆分。
ALTER TABLE SALES SBLIT PARTITION P2 AT(TO_DATE(&#39;2003-02-01&#39;,&#39;YYYY-MM-DD&#39;))
INTO (PARTITION P21,PARTITION P22);
六、接合分区(coalesca)
结合分区是将散列分区中的数据接合到其它分区中，当散列分区中的数据比较大时，可以增加散列分区，然后进行接合，值得注意的是，接合分区只能用于散列分区中。通过以下代码进行接合分区：
ALTER TABLE SALES COALESCA PARTITION;
七、重命名表分区
以下代码将P21更改为P2
ALTER TABLE SALES RENAME PARTITION P21 TO P2;
九、跨分区查询
select sum( /<em>) from (
(select count(/</em>) cn from t_table_SS PARTITION (P200709_1)
union all
select count(/<em>) cn from t_table_SS PARTITION (P200709_2));
十、查询表上有多少分区
SELECT /</em> FROM useR_TAB_PARTITIONS WHERE TABLE_NAME=&#39;tableName&#39;
十一、查询索引信息
select object_name,object_type,tablespace_name,sum(value)
from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;
group by object_name,object_type,tablespace_name
order by 4 desc
--显示数据库所有分区表的信息：
select /<em> from DBA_PART_TABLES
--显示当前用户可访问的所有分区表信息:
select /</em> from ALL_PART_TABLES
--显示当前用户所有分区表的信息：
select /<em> from USER_PART_TABLES
--显示表分区信息 显示数据库所有分区表的详细分区信息：
select /</em> from DBA_TAB_PARTITIONS
--显示当前用户可访问的所有分区表的详细分区信息：
select /<em> from ALL_TAB_PARTITIONS
--显示当前用户所有分区表的详细分区信息：
select /</em> from USER_TAB_PARTITIONS
--显示子分区信息 显示数据库所有组合分区表的子分区信息：
select /<em> from DBA_TAB_SUBPARTITIONS
--显示当前用户可访问的所有组合分区表的子分区信息：
select /</em> from ALL_TAB_SUBPARTITIONS
--显示当前用户所有组合分区表的子分区信息：
select /<em> from USER_TAB_SUBPARTITIONS
--显示分区列 显示数据库所有分区表的分区列信息：
select /</em> from DBA_PART_KEY_COLUMNS
--显示当前用户可访问的所有分区表的分区列信息：
select /<em> from ALL_PART_KEY_COLUMNS
--显示当前用户所有分区表的分区列信息：
select /</em> from USER_PART_KEY_COLUMNS
--显示子分区列 显示数据库所有分区表的子分区列信息：
select /<em> from DBA_SUBPART_KEY_COLUMNS
--显示当前用户可访问的所有分区表的子分区列信息：
select /</em> from ALL_SUBPART_KEY_COLUMNS
--显示当前用户所有分区表的子分区列信息：
select /<em> from USER_SUBPART_KEY_COLUMNS
--怎样查询出oracle数据库中所有的的分区表
select /</em> from user_tables a where a.partitioned=&#39;YES&#39;
--删除一个表的数据是
truncate table table_name;
--删除分区表一个分区的数据是
alter table table_name truncate partition p5;
注：分区根据具体情况选择。
表分区有以下优点：
1、数据查询：数据被存储到多个文件上，减少了I/O负载，查询速度提高。
2、数据修剪：保存历史数据非常的理想。
3、备份：将大表的数据分成多个文件，方便备份和恢复。</p>
<h1 id="4-dml-">4、并行性：可以同时向表中进行DML操作，并行性性能提高。</h1>
<p>索引：
1、一般索引：
create index index_name on table(col_name);
2、Oracle 分区索引详解
语法：Table Index
CREATE [UNIQUE|BITMAP] INDEX [schema.]index_name
ON [schema.]table_name [tbl_alias]
(col [ASC | DESC]) index_clause index_attribs
index_clauses:
分以下两种情况</p>
<ol>
<li>Local Index
就是索引信息的存放位置依赖于父表的Partition信息，换句话说创建这样的索引必须保证父表是Partition
1.1 索引信息存放在父表的分区所在的表空间。但是仅可以创建在父表为HashTable或者composite分区表的。
LOCAL STORE IN (tablespace)
1.2 仅可以创建在父表为HashTable或者composite分区表的。并且指定的分区数目要与父表的分区数目要一致
LOCAL STORE IN (tablespace) (PARTITION [partition [LOGGING|NOLOGGING] [TABLESPACE {tablespace|DEFAULT}] [PCTFREE int] [PCTUSED int] [INITRANS int] [MAXTRANS int] [STORAGE storage_clause] [STORE IN {tablespace_name|DEFAULT] [SUBPARTITION [subpartition [TABLESPACE tablespace]]]])
1.3 索引信息存放在父表的分区所在的表空间，这种语法最简单，也是最常用的分区索引创建方式。
Local
1.4 并且指定的Partition 数目要与父表的Partition要一致
LOCAL (PARTITION [partition
[LOGGING|NOLOGGING]
[TABLESPACE {tablespace|DEFAULT}]
[PCTFREE int]
[PCTUSED int]
[INITRANS int]
[MAXTRANS int]
[STORAGE storage_clause]
[STORE IN {tablespace_name|DEFAULT]
[SUBPARTITION [subpartition [TABLESPACE tablespace]]]])
Global Index
索引信息的存放位置与父表的Partition信息完全不相干。甚至父表是不是分区表都无所谓的。语法如下：
GLOBAL PARTITION BY RANGE (col_list)
( PARTITION partition VALUES LESS THAN (value_list)
[LOGGING|NOLOGGING]
[TABLESPACE {tablespace|DEFAULT}]
[PCTFREE int]
[PCTUSED int]
[INITRANS int]
[MAXTRANS int]
[STORAGE storage_clause] )
但是在这种情况下，如果父表是分区表，要删除父表的一个分区都必须要更新Global Index ,否则索引信息不正确
ALTER TABLE TableName DROP PARTITION PartitionName Update Global Indexes
--查询索引
select object_name,object_type,tablespace_name,sum(value)
from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;
group by object_name,object_type,tablespace_name
order by 4 desc
<a href="http://hi.baidu.com/tag/Oracle/feeds" target="_blank">/#Oracle</a></li>
</ol>
<p>分享到： <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到QQ空间" target="_blank"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到新浪微博"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到腾讯微博" target="_blank"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到人人网"></a></p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">举报</a> 浏览(64) <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">评论</a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">转载</a></p>
<h3 id="-">您可能也喜欢</h3>
<p><a href="http://hi.baidu.com/cnbxj/item/7e7a9de4639d4ab72f140be7" title="上一篇"></a></p>
<p><a href="http://hi.baidu.com/cnbxj/item/535c1a31f17a51f1e7bb7ae7" title="下一篇"></a></p>
<p>评论</p>
<p> 同时评论给 </p>
<p> 同时评论给原文作者 </p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank"> 发布 </a></p>
<p>500/0</p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">收起</a>|<a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#reply" target="_blank">查看更多</a></p>
<p><a href="http://hi.baidu.com/go/show/introduce" target="_blank">帮助中心</a> | <a href="http://tieba.baidu.com/p/1781683739" target="_blank">空间客服</a> | <a href="http://tousu.baidu.com/hi/add" target="_blank">投诉中心</a> | <a href="http://www.baidu.com/search/hi_contract.html" target="_blank">空间协议</a></p>
<p>©2012 Baidu</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:35"datetime="2014-03-07 09:54:35"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2/">oracle的表空间，分区表，以及索引的总结_开拓者_百度空间 (2)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="oracle-_-_-2-">oracle的表空间，分区表，以及索引的总结<em>开拓者</em>百度空间 (2)</h1>
<h3 id="-">分享到</h3>
<ul>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">QQ空间</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">新浪微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度搜藏</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">人人网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">腾讯微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">开心网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">腾讯朋友</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度空间</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">豆瓣网</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">搜狐微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度新首页</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">QQ收藏</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">和讯微博</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">我的淘宝</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度贴吧</a></li>
<li><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">更多...</a></li>
</ul>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">百度分享</a></p>
<p><a href="http://hi.baidu.com/"></a></p>
<ul>
<li><a href="http://hi.baidu.com/index" target="_blank">广场</a></li>
<li><a href="https://passport.baidu.com/center" target="_blank">jywv</a>
*</li>
<li><a href="https://passport.baidu.com/?logout&amp;bdstoken=aa9855a9aad4216b27441b12182ad1a7&amp;u=http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3" target="_blank">退出</a>
<a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">关注此空间</a><h1 id="-http-hi-baidu-com-new-cnbxj-"><a href="http://hi.baidu.com/new/cnbxj" target="_blank">开拓者</a></h1>
</li>
</ul>
<p>开拓者</p>
<p>2008-06-02 22:46</p>
<h2 id="oracle-">oracle的表空间，分区表，以及索引的总结</h2>
<p>表空间：
Oracle的UNDOTBS01.DBF文件太大的解决办法
1、.禁止undo tablespace自动增长
alter database datafile &#39;full_path\undotbs01.dbf&#39; autoextend off;
2.-- 创建一个新的小空间的undo tablespace
create undo tablespace undotBS2 datafile &#39;full_path\UNDOTBS02.DBF&#39; size 100m;
-- 设置新的表空间为系统undo_tablespace
alter system set undo_tablespace=undotBS2;
-- Drop 旧的表空间
drop tablespace undotbs1 including contents;
--查看所有表空间的情况
select /<em> from dba_tablespaces
--创建表空间
create tablespace HRPM0
datafile &#39;/oradata/misdb/HRPM0.DBF&#39; size 5m autoextend on next 10m maxsize unlimited
--删除表空间
DROP TABLESPACE data01 INCLUDING CONTENTS AND DATAFILES;
--修改表空间大小
alter database datafile &#39;/path/NADDate05.dbf&#39; resize 100M
分区表：
当表中的数据量不断增大，查询数据的速度就会变慢，应用程序的性能就会下降，这时就应该考虑对表进行分区。表进行分区后，逻辑上表仍然是一张完整的表，只是将表中的数据在物理上存放到多个表空间(物理文件上)，这样查询数据时，不至于每次都扫描整张表。
Oracle中提供了以下几种表分区：
一、范围分区：这种类型的分区是使用列的一组值，通常将该列成为分区键。
示例1：假设有一个CUSTOMER表，表中有数据200000行，我们将此表通过CUSTOMER_ID进行分区，每个分区存储100000行，我们将每个分区保存到单独的表空间中，这样数据文件就可以跨越多个物理磁盘。下面是创建表和分区的代码，如下：
CREATE TABLE CUSTOMER
(
CUSTOMER_ID NUMBER NOT NULL PRIMARY KEY,
FIRST_NAME VARCHAR2(30) NOT NULL,
LAST_NAME VARCHAR2(30) NOT NULL,
PHONE VARCHAR2(15) NOT NULL,
EMAIL VARCHAR2(80),
STATUS CHAR(1)
)
PARTITION BY RANGE (CUSTOMER_ID)
(
PARTITION CUS_PART1 VALUES LESS THAN (100000) TABLESPACE CUS_TS01,
PARTITION CUS_PART2 VALUES LESS THAN (200000) TABLESPACE CUS_TS02
)
注意：在创建表进行分区时，表空间必须先存在，而且建议将不同的分区放入不同的表空间中。
示例2：假设有ORDER_ACTIVITIES表，每6个月对订单进行清理，我们可以按月份对表进行分区，分区代码如下：
CREATE TABLE ORDER_ACTIVITIES
(
ORDER_ID NUMBER(7) NOT NULL,
ORDER_DATE DATE,
TOTAL_AMOUNT NUMBER,
CUSTOTMER_ID NUMBER(7),
PAID CHAR(1)
)
PARTITION BY RANGE (ORDER_DATE)
(
PARTITION ORD_ACT_PART01 VALUES LESS THAN (TO_DATE(&#39;01-MAY-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS01,
PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUN-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS02,
PARTITION ORD_ACT_PART02 VALUES LESS THAN (TO_DATE(&#39;01-JUL-2003&#39;,&#39;DD-MON-YYYY&#39;)) TABLESPACE ORD_TS03
)
二、列表分区：该分区的特点是某列的值只有几个，基于这样的特点我们可以采用列表分区。
示例1：
CREATE TABLE PROBLEM_TICKETS
(
PROBLEM_ID NUMBER(7) NOT NULL PRIMARY KEY,
DESCRIPTION VARCHAR2(2000),
CUSTOMER_ID NUMBER(7) NOT NULL,
DATE_ENTERED DATE NOT NULL,
STATUS VARCHAR2(20)
)
PARTITION BY LIST (STATUS)
(
PARTITION PROB_ACTIVE VALUES (&#39;ACTIVE&#39;) TABLESPACE PROB_TS01,
PARTITION PROB_INACTIVE VALUES (&#39;INACTIVE&#39;) TABLESPACE PROB_TS02
)
三、散列分区：这类分区是在列值上使用散列算法，以确定将行放入哪个分区中。当列的值没有合适的条件时，建议使用散列分区。请看下列示例：
示例1：
CREATE TABLE HASH_TABLE
(
COL NUMBER(8),
INF VARCHAR2(100)
)
PARTITION BY HASH (COL)
(
PARTITION PART01 TABLESPACE HASH_TS01,
PARTITION PART02 TABLESPACE HASH_TS02,
PARTITION PART03 TABLESPACE HASH_TS03
)
四、复合范围列表分区：这种分区是基于范围分区和列表分区，表首先按某列进行范围分区，然后再按某列进行列表分区，分区之中的分区被称为子分区。
示例1：
CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),
SALES_DATE DATE,
SALES_COST NUMBER(10),
STATUS VARCHAR2(20)
)
PARTITION BY RANGE(SALES_DATE)
SUBPARTITION BY LIST (STATUS)
(
PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P1_TS
(
SUBPARTITION P1SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP1_TS1,
SUBPARTITION P1SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP1_TS2
),
PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P2_TS
(
SUBPARTITION P2SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP2_TS1,
SUBPARTITION P2SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP2_TS2
)
)
示例2：使用TEMPLATE模板
CREATE TABLE SALES
(
PRODUCT_ID VARCHAR2(5),
SALES_DATE DATE,
SALES_COST NUMBER(10),
STATUS VARCHAR2(20)
)
PARTITION BY RANGE(SALES_DATE)
SUBPARTITION BY LIST (STATUS)
SUBPARTITION TEMPLATE
(
SUBPARTITION SUB1 VALUES (&#39;ACTIVE&#39;) TABLESPACE SUBP1_TS1,
SUBPARTITION SUB2 VALUES (&#39;INACTIVE&#39;) TABLESPACE SUBP2_TS2
)
(
PARTITION P1 VALUES LESS THAN (TO_DATE(&#39;2003-01-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P1_TS,
PARTITION P2 VALUES LESS THAN (TO_DATE(&#39;2003-03-01&#39;,&#39;YYYY-MM-DD&#39;)) TABLESPACE P2_TS
)
五、复合范围散列分区：这种分区是基于范围分区和散列分区，表首先按某列进行范围分区，然后再按某列进行散列分区。与上面的定义方式非常的类似，在此不单独举例。
表分区对于用户来说是透明的，我们在插入数据时Oracle会自动判断插入的数据，然后放入相应的表分区中。但有时我们想单独查询某个分区中的数据时，就必须手工指定分区的名称。
示例1：(此示例基于：四、复合范围列表分区的示例一)
向SALES表插入记录，不必指定表分区。
INSERT INTO SALES VALUES(&#39;00001&#39;,&#39;01-1月-02&#39;,100,&#39;ACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00002&#39;,&#39;01-1月-01&#39;,200,&#39;ACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00003&#39;,&#39;01-2月-03&#39;,300,&#39;INACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00004&#39;,&#39;04-2月-03&#39;,300,&#39;INACTIVE&#39;)
/
INSERT INTO SALES VALUES(&#39;00005&#39;,&#39;04-2月-02&#39;,300,&#39;INACTIVE&#39;)
/
不指定表分区查看SALES表信息：
SELECT /</em> FROM SALES; 结果如下所示：
指定P1表分区查询SALES表信息：
SELECT /<em> FROM SALES PARTITION(P1); 结果如下所示：
指定P1SUB1子分区查询SALES表信息:
SELECT /</em> FROM SALES SUBPARTITION(P1SUB1); 结果如下所示：
示例2：(此示例基于：四、复合范围列表分区的示例二)
示例2基于TEMPLATE模板的表分区，查询稍稍烦琐一点。
指定P1表分区查询SALES表信息：
SELECT /<em> FROM SALES PARTITION(P1); 结果如下所示,和刚才查询一致。
指定SUB1子分区查询SALES表信息:
SELECT /</em> FROM SALES SUBPARTITION(SUB1); 出现如下错误信息：
怎么解决以上问题呢？我们通过sys模式查看分区信息的数据字典,如下：
可以看出子分区不叫SUB1，而是P1_SUB1,重新查询信息，如下图所示：
有关表分区的一些维护性操作：
一、添加分区
以下代码给SALES表添加了一个P3分区
ALTER TABLE SALES ADD PARTITION P3 VALUES LESS THAN(TO_DATE(&#39;2003-06-01&#39;,&#39;YYYY-MM-DD&#39;));
注意：以上添加的分区界限应该高于最后一个分区界限。
以下代码给SALES表的P3分区添加了一个P3SUB1子分区
ALTER TABLE SALES MODIFY PARTITION P3 ADD SUBPARTITION P3SUB1 VALUES(&#39;COMPLETE&#39;);
二、删除分区
以下代码删除了P3表分区：
ALTER TABLE SALES DROP PARTITION P3;
在以下代码删除了P4SUB1子分区：
ALTER TABLE SALES DROP SUBPARTITION P4SUB1;
注意：如果删除的分区是表中唯一的分区，那么此分区将不能被删除，要想删除此分区，必须删除表。
三、截断分区
截断某个分区是指删除某个分区中的数据，并不会删除分区，也不会删除其它分区中的数据。当表中即使只有一个分区时，也可以截断该分区。通过以下代码截断分区：
ALTER TABLE SALES TRUNCATE PARTITION P2;
通过以下代码截断子分区：
ALTER TABLE SALES TRUNCATE SUBPARTITION P2SUB2;
四、合并分区
合并分区是将相邻的分区合并成一个分区，结果分区将采用较高分区的界限，值得注意的是，不能将分区合并到界限较低的分区。以下代码实现了P1 P2分区的合并：
ALTER TABLE SALES MERGE PARTITIONS P1,P2 INTO PARTITION P2;
五、拆分分区
拆分分区将一个分区拆分两个新分区，拆分后原来分区不再存在。注意不能对HASH类型的分区进行拆分。
ALTER TABLE SALES SBLIT PARTITION P2 AT(TO_DATE(&#39;2003-02-01&#39;,&#39;YYYY-MM-DD&#39;))
INTO (PARTITION P21,PARTITION P22);
六、接合分区(coalesca)
结合分区是将散列分区中的数据接合到其它分区中，当散列分区中的数据比较大时，可以增加散列分区，然后进行接合，值得注意的是，接合分区只能用于散列分区中。通过以下代码进行接合分区：
ALTER TABLE SALES COALESCA PARTITION;
七、重命名表分区
以下代码将P21更改为P2
ALTER TABLE SALES RENAME PARTITION P21 TO P2;
九、跨分区查询
select sum( /<em>) from (
(select count(/</em>) cn from t_table_SS PARTITION (P200709_1)
union all
select count(/<em>) cn from t_table_SS PARTITION (P200709_2));
十、查询表上有多少分区
SELECT /</em> FROM useR_TAB_PARTITIONS WHERE TABLE_NAME=&#39;tableName&#39;
十一、查询索引信息
select object_name,object_type,tablespace_name,sum(value)
from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;
group by object_name,object_type,tablespace_name
order by 4 desc
--显示数据库所有分区表的信息：
select /<em> from DBA_PART_TABLES
--显示当前用户可访问的所有分区表信息:
select /</em> from ALL_PART_TABLES
--显示当前用户所有分区表的信息：
select /<em> from USER_PART_TABLES
--显示表分区信息 显示数据库所有分区表的详细分区信息：
select /</em> from DBA_TAB_PARTITIONS
--显示当前用户可访问的所有分区表的详细分区信息：
select /<em> from ALL_TAB_PARTITIONS
--显示当前用户所有分区表的详细分区信息：
select /</em> from USER_TAB_PARTITIONS
--显示子分区信息 显示数据库所有组合分区表的子分区信息：
select /<em> from DBA_TAB_SUBPARTITIONS
--显示当前用户可访问的所有组合分区表的子分区信息：
select /</em> from ALL_TAB_SUBPARTITIONS
--显示当前用户所有组合分区表的子分区信息：
select /<em> from USER_TAB_SUBPARTITIONS
--显示分区列 显示数据库所有分区表的分区列信息：
select /</em> from DBA_PART_KEY_COLUMNS
--显示当前用户可访问的所有分区表的分区列信息：
select /<em> from ALL_PART_KEY_COLUMNS
--显示当前用户所有分区表的分区列信息：
select /</em> from USER_PART_KEY_COLUMNS
--显示子分区列 显示数据库所有分区表的子分区列信息：
select /<em> from DBA_SUBPART_KEY_COLUMNS
--显示当前用户可访问的所有分区表的子分区列信息：
select /</em> from ALL_SUBPART_KEY_COLUMNS
--显示当前用户所有分区表的子分区列信息：
select /<em> from USER_SUBPART_KEY_COLUMNS
--怎样查询出oracle数据库中所有的的分区表
select /</em> from user_tables a where a.partitioned=&#39;YES&#39;
--删除一个表的数据是
truncate table table_name;
--删除分区表一个分区的数据是
alter table table_name truncate partition p5;
注：分区根据具体情况选择。
表分区有以下优点：
1、数据查询：数据被存储到多个文件上，减少了I/O负载，查询速度提高。
2、数据修剪：保存历史数据非常的理想。
3、备份：将大表的数据分成多个文件，方便备份和恢复。</p>
<h1 id="4-dml-">4、并行性：可以同时向表中进行DML操作，并行性性能提高。</h1>
<p>索引：
1、一般索引：
create index index_name on table(col_name);
2、Oracle 分区索引详解
语法：Table Index
CREATE [UNIQUE|BITMAP] INDEX [schema.]index_name
ON [schema.]table_name [tbl_alias]
(col [ASC | DESC]) index_clause index_attribs
index_clauses:
分以下两种情况</p>
<ol>
<li>Local Index
就是索引信息的存放位置依赖于父表的Partition信息，换句话说创建这样的索引必须保证父表是Partition
1.1 索引信息存放在父表的分区所在的表空间。但是仅可以创建在父表为HashTable或者composite分区表的。
LOCAL STORE IN (tablespace)
1.2 仅可以创建在父表为HashTable或者composite分区表的。并且指定的分区数目要与父表的分区数目要一致
LOCAL STORE IN (tablespace) (PARTITION [partition [LOGGING|NOLOGGING] [TABLESPACE {tablespace|DEFAULT}] [PCTFREE int] [PCTUSED int] [INITRANS int] [MAXTRANS int] [STORAGE storage_clause] [STORE IN {tablespace_name|DEFAULT] [SUBPARTITION [subpartition [TABLESPACE tablespace]]]])
1.3 索引信息存放在父表的分区所在的表空间，这种语法最简单，也是最常用的分区索引创建方式。
Local
1.4 并且指定的Partition 数目要与父表的Partition要一致
LOCAL (PARTITION [partition
[LOGGING|NOLOGGING]
[TABLESPACE {tablespace|DEFAULT}]
[PCTFREE int]
[PCTUSED int]
[INITRANS int]
[MAXTRANS int]
[STORAGE storage_clause]
[STORE IN {tablespace_name|DEFAULT]
[SUBPARTITION [subpartition [TABLESPACE tablespace]]]])
Global Index
索引信息的存放位置与父表的Partition信息完全不相干。甚至父表是不是分区表都无所谓的。语法如下：
GLOBAL PARTITION BY RANGE (col_list)
( PARTITION partition VALUES LESS THAN (value_list)
[LOGGING|NOLOGGING]
[TABLESPACE {tablespace|DEFAULT}]
[PCTFREE int]
[PCTUSED int]
[INITRANS int]
[MAXTRANS int]
[STORAGE storage_clause] )
但是在这种情况下，如果父表是分区表，要删除父表的一个分区都必须要更新Global Index ,否则索引信息不正确
ALTER TABLE TableName DROP PARTITION PartitionName Update Global Indexes
--查询索引
select object_name,object_type,tablespace_name,sum(value)
from v$segment_statistics
where statistic_name IN (&#39;physical reads&#39;,&#39;physical write&#39;,&#39;logical reads&#39;)and object_type=&#39;INDEX&#39;
group by object_name,object_type,tablespace_name
order by 4 desc
<a href="http://hi.baidu.com/tag/Oracle/feeds" target="_blank">/#Oracle</a></li>
</ol>
<p>分享到： <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到QQ空间" target="_blank"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到新浪微博"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到腾讯微博" target="_blank"></a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" title="分享到人人网"></a></p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">举报</a> 浏览(64) <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">评论</a> <a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">转载</a></p>
<h3 id="-">您可能也喜欢</h3>
<p><a href="http://hi.baidu.com/cnbxj/item/7e7a9de4639d4ab72f140be7" title="上一篇"></a></p>
<p><a href="http://hi.baidu.com/cnbxj/item/535c1a31f17a51f1e7bb7ae7" title="下一篇"></a></p>
<p>评论</p>
<p> 同时评论给 </p>
<p> 同时评论给原文作者 </p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank"> 发布 </a></p>
<p>500/0</p>
<p><a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#" target="_blank">收起</a>|<a href="http://hi.baidu.com/cnbxj/item/9b1f8128e885e90842634ae3#reply" target="_blank">查看更多</a></p>
<p><a href="http://hi.baidu.com/go/show/introduce" target="_blank">帮助中心</a> | <a href="http://tieba.baidu.com/p/1781683739" target="_blank">空间客服</a> | <a href="http://tousu.baidu.com/hi/add" target="_blank">投诉中心</a> | <a href="http://www.baidu.com/search/hi_contract.html" target="_blank">空间协议</a></p>
<p>©2012 Baidu</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--oracle的表空间，分区表，以及索引的总结_开拓者_百度空间2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-DB-oracle--提高select查询效率/">提高select查询效率</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:34.000Z"> <a href="/2014/02/02/2014-02-02-DB-oracle--提高select查询效率/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-select-">提高select查询效率</h1>
<p>1.对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。
2.应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：
select id from t where num is null 
可以在num上设置默认值0，确保表中num列没有null值，然后这样查询： 
select id from t where num=0 
3.应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则将引擎放弃使用索引而进行全表扫描。 
4.应尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如： 
select id from t where num=10 or num=20 
可以这样查询： 
select id from t where num=10 
union all 
select id from t where num=20 
5.in 和 not in 也要慎用，否则会导致全表扫描，如： 
select id from t where num in(1,2,3) 
对于连续的数值，能用 between 就不要用 in 了： 
select id from t where num between 1 and 3
6.下面的查询也将导致全表扫描： 
select id from t where name like &#39;%abc%&#39; 
若要提高效率，可以考虑全文检索。
7.如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描： 
select id from t where num=@num 
可以改为强制查询使用索引： 
select id from t with(index(索引名)) where num=@num 
8.应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如： 
select id from t where num/2=100 
应改为: 
select id from t where num=100/<em>2
9.应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如： 
select id from t where substring(name,1,3)=&#39;abc&#39;--name以abc开头的id 
select id from t where datediff(day,createdate,&#39;2005-11-30&#39;)=0--‘2005-11-30’生成的id 
应改为: 
select id from t where name like &#39;abc%&#39; 
select id from t where createdate&gt;=&#39;2005-11-30&#39; and createdate&lt;&#39;2005-12-1&#39; 
10.不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。 
11.在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使用，并且应尽可能的让字段顺序与索引顺序相一致。 
12.不要写一些没有意义的查询，如需要生成一个空表结构： 
select col1,col2 into /#t from t where 1=0 
这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样： 
create table /#t(...) 
13.很多时候用 exists 代替 in 是一个好的选择： 
select num from a where num in(select num from b) 
用下面的语句替换： 
select num from a where exists(select 1 from b where num=a.num) 
14.并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。 
15.索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有必要。 
16.应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。
17.尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。
18.尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。
19.任何地方都不要使用 select /</em> from t ，用具体的字段列表代替“/*”，不要返回用不到的任何字段。 
20.尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。 
21.避免频繁创建和删除临时表，以减少系统表资源的消耗。 
22.临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使用导出表。
23.在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。 
24.如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后drop table ，这样可以避免系统表的较长时间锁定。 
25.尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。
26.使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。 
27.与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。 
28.在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。 
29.尽量避免大事务操作，提高系统并发能力。 
30.尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。</p>
<p>来源： <a href="[http://www.wudongqi.com/article/502.htm](http://www.wudongqi.com/article/502.htm)">[http://www.wudongqi.com/article/502.htm](http://www.wudongqi.com/article/502.htm)</a></p>
<p><strong>查询语句（Select）的优化建议</strong>
1、合理使用索引：where子句中变量顺序应与索引字键顺序相同。
如：create index test_idx on test(hm, rq, xx)
索引字键顺序：首先是号码hm，其次是日期rq，最后是标志xx，所以where子句
变量顺序应是where hm&lt;=“P1234”and rq=“06/06/1999”and xx=“DDD”,不应
是where xx=“DDD” and rq=“06/06/1999” and hm &lt;=“P1234”这样的不按索引字键顺序写法。
2、将最具有限制性的条件放在前面，大值在前，小值在后。
如：where colA&lt;=10000 AND colA&gt;=1　效率高
where colA&gt;=1 AND colA&lt;=10000 效率低
3、避免采用MATCHES和LIKE通配符匹配查询
通配符匹配查询特别耗费时间。即使在条件字段上建立了索引，在这种情况下也还是采用顺序扫描的方式。
例如语句：Select ＊ FROM customer Where zipcode MATCHES “524/<em>”
可以考虑将它改为Select ＊ FROM customer Where ZipCode&lt;=“524999” AND ZipCode &gt;=“524000”，则在执行查询时就会利用索引来查询，显然会大大提高速度。
4、避免非开始的子串
例如语句：Select ＊ FROM customer Where zipcode[2，3] &gt;“24”，在where子句中采用了非开始子串，因而这个语句也不会使用索引。
5、避免相关子查询
一个字段的标签同时在主查询和where子句中的查询中出现，那么很可能当主查询中的字段值改变之后，子查询必须重新查询一次。查询嵌套层次越多，效率越低，因此应当尽量避免子查询。如果子查询不可避免，那么要在子查询中过滤掉尽可能多的行。
例如：将下面的语句
select hm,rq from TabA
where item IN (select item form TabB where TabB.num=50)
改为：select hm,bf from TabA, TabB
where TabA.item=TabB.item AND TabB.num=50
6、避免或简化排序
应当简化或避免对大型表进行重复的排序。当能够利用索引自动以适当的次序产生输出时，优化器就避免了排序的步骤。以下是一些影响因素：
◆ 索引中不包括一个或几个待排序的字段；
◆ group by或order by子句中字段的次序与索引的次序不一样；
◆ 排序的字段来自不同的表。
为了避免不必要的排序，就要正确地增建索引，合理地合并数据库表（尽管有时可能影响表的规范化，但相对于效率的提高是值得的）。如果排序不可避免，那么应当试图简化它，如缩小排序的字段的范围等。
7、消除对大型表行数据的顺序存取
在嵌套查询中，对表的顺序存取对查询效率可能产生致命的影响。比如采用顺序存取策略，一个嵌套3层的查询，如果每层都查询1000行，那么这个查询就要查询10亿行数据。避免这种情况的主要方法就是对连接的字段进行索引。
例如，两个表：学生表（学号、姓名、年龄……）和选课表（学号、课程号、成绩）。如果两个表要做连接，就要在“学号”这个连接字段上建立索引。还可以使用并集来避免顺序存取。尽管在所有的检查列上都有索引，但某些形式的where子句强迫优化器使用顺序存取。下面的查询将强迫对orders表执行顺序/</em>作：
Select ＊ FROM orders Where (cust_num=126 AND order_num&gt;1001) or order_num=1008
虽然在cust_num和order_num上建有索引，但是在上面的语句中优化器还是使用顺序存取路径扫描整个表。
因为这个语句要检索的是分离的行的集合，所以应该改为如下语句：
Select ＊ FROM orders Where cust_num=126 AND order_num&gt;1001
  UNION
Select ＊ FROM orders Where order_num=1008
这样就能利用索引路径处理查询。
8、对于大数据量的求和应避免使用单一的sum命令处理，可采用group by方式与其结合，有时其效率可提高几倍甚至百倍。
9、避免会引起磁盘读写的rowid操作。在where子句中或select语句中，用rowid要产生磁盘读写，是一个物理过程，会影响性能。
10、使用临时表加速查询
把表的一个子集进行排序并创建临时表，有时能加速查询。它有助于避免多重排序/*作，而且在其他方面还能简化优化器的工作。
但要注意：临时表创建后不会反映主表的修改。在主表中数据频繁修改的情况下，注意不要丢失数据。</p>
<p>来源： <a href="[http://www.wudongqi.com/article/503.htm](http://www.wudongqi.com/article/503.htm)">[http://www.wudongqi.com/article/503.htm](http://www.wudongqi.com/article/503.htm)</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/DB/">DB</a></li></span><span class="breadcrumb"><li><a href="/categories/DB/">DB</a></li><li><a href="/categories/DB/oracle/">oracle</a></li></span></span> | <span class="tags">Tagged <a href="/tags/DB/" class="label label-primary">DB</a><a href="/tags/oracle/" class="label label-success">oracle</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:34"datetime="2014-03-07 09:54:34"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-DB-oracle--提高select查询效率/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-DB-oracle--提高select查询效率" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/124/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/122/">122</a></li><li><a class="page-number" href="/page/123/">123</a></li><li><a class="page-number" href="/page/124/">124</a></li><li class="active"><li><span class="page-number current">125</span></li><li><a class="page-number" href="/page/126/">126</a></li><li><a class="page-number" href="/page/127/">127</a></li><li><a class="page-number" href="/page/128/">128</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="page-number" href="/page/163/">163</a></li><li><a class="extend next" href="/page/126/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-03-30 14:30:16</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
