
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 104 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-log4j--怎样用log4j读取日志文件然后把日志信息放到数据库要源代码。谢谢，急用。第一次这东西-IT/">怎样用log4j读取日志文件然后把日志信息放到数据库(要源代码)。谢谢，急用。第一次这东西 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-log4j--怎样用log4j读取日志文件然后把日志信息放到数据库要源代码。谢谢，急用。第一次这东西-IT/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-log4j-iteye-">怎样用log4j读取日志文件然后把日志信息放到数据库(要源代码)。谢谢，急用。第一次这东西 - ITeye问答</h1>
<p><a href="http://www.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.iteye.com/all" target="_blank">我的应用</a> <a href="http://www.iteye.com/login" target="_blank">登录</a> <a href="http://www.iteye.com/signup" target="_blank">注册</a></p>
<p><a href="http://www.iteye.com/" target="_blank"><img src="&quot;ITeye-最棒的软件开发交流社区&quot;" alt="ITeye3.0"></a></p>
<p><a href="http://www.iteye.com/clicks/531" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.iteye.com/ask" target="_blank">问答首页</a> → <a href="http://www.iteye.com/problems/tags/New" target="_blank">入门讨论</a> → <a href="http://www.iteye.com/problems/tags/Newbie" target="_blank">入门技术</a></p>
<h3 id="-log4j-"><a href="">怎样用log4j读取日志文件然后把日志信息放到数据库(要源代码)。谢谢，急用。第一次这东西</a></h3>
<h3 id="-15-2011-05-03-andy-http-zf69850-163-com-iteye-com-">悬赏：15 发布时间：2011-05-03 提问人：<a href="http://zf69850-163-com.iteye.com/" target="_blank">Andy烦烦</a> (初级程序员)</h3>
<p>log4j.rootLogger=DEBUG,CONSOLE,ROLLING_FILE
DEBUG,CONSOLE,FILE,ROLLING_FILE,MAIL,DATABASE
log4j.addivity.org.apache=true
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
/# Console Appender
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender
log4j.logger.org.hibernate.SQL=DEBUG
log4j.appender.Threshold=DEBUG
log4j.appender.CONSOLE.Target=System.out
log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout
log4j.appender.CONSOLE.layout.ConversionPattern=[tklmobileplatform] %d - %c -%-4r [%t] %-5p %c %x - %m%n
log4j.appender.CONSOLE.layout.ConversionPattern=[start]%d{DATE}[DATE]%n%p[PRIORITY]%n%x[NDC]%n%t[THREAD] n%c[CATEGORY]%n%m[MESSAGE]%n%n
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
/# File Appender
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
/#log4j.appender.FILE=org.apache.log4j.FileAppender
/#log4j.appender.FILE.File=file.log
/#log4j.appender.FILE.Append=false
/#log4j.appender.FILE.layout=org.apache.log4j.PatternLayout
/#log4j.appender.FILE.layout.ConversionPattern=[lian] %d - %c -%-4r [%t] %-5p %c %x - %m%n
/# Use this layout for LogFactor 5 analysis
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
/# Rolling File
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
log4j.appender.ROLLING_FILE=org.apache.log4j.RollingFileAppender
log4j.appender.ROLLING_FILE.Threshold=DEBUG
log4j.appender.ROLLING_FILE.File=${webapp.root}/tklmobileplatform.log
log4j.appender.ROLLING_FILE.Append=true
log4j.appender.ROLLING_FILE.MaxFileSize=1000KB
log4j.appender.ROLLING_FILE.MaxBackupIndex=1
log4j.appender.ROLLING_FILE.layout=org.apache.log4j.PatternLayout
log4j.appender.ROLLING_FILE.layout.ConversionPattern=[ejunnet] %d - %c -%-4r [%t] %-5p %c %x - %m%n
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
/# JDBC Appender
/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#/#
log4j.appender.DATABASE=org.apache.log4j.jdbc.JDBCAppender
log4j.appender.DATABASE.URL=jdbc:mysql://localhost:3306/tklpf_db
log4j.appender.DATABASE.driver=com.mysql.jdbc.Driver
log4j.appender.DATABASE.user=root
log4j.appender.DATABASE.password=root
log4j.appender.DATABASE.Threshold=DEBUG
log4j.appender.DATABASE.sql=log4j.appender.DATABASE.sql=INSERT INTO log(optime,thread,infolevel,class,message) VALUES (&#39;%d&#39;, &#39;%t&#39;, &#39;%p&#39;, &#39;%l&#39;, &#39;%m&#39;)
log4j.appender.DATABASE.layout=org.apache.log4j.PatternLayout
log4j.appender.DATABASE.layout.ConversionPattern=[framework] %d - %c -%-4r [%t] %-5p %c %x - %m%n
log4j.appender.A1=org.apache.log4j.DailyRollingFileAppender
log4j.appender.A1.File=SampleMessages.log4j
log4j.appender.A1.DatePattern=yyyyMMdd-HH&#39;.log4j&#39;</p>
<h2 id="log4j-appender-a1-layout-org-apache-log4j-xml-xmllayout">log4j.appender.A1.layout=org.apache.log4j.xml.XMLLayout</h2>
<p><strong>问题补充：</strong>
我们项目中要一些系统日志，错误日志等等。我知道这是一些大量的垃圾数据，但是现在经理要我们这样做啊。我才接触log4j，所以给写源代码。谢谢......</p>
<h3 id="-">采纳的答案</h3>
<h3 id="2011-05-04-shadabing-http-shadabing-iteye-com-">2011-05-04 <a href="http://shadabing.iteye.com/" target="_blank">shadabing</a> (高级程序员)</h3>
<p><a href="http://blog.csdn.net/ziruobing/archive/2009/02/22/3919501.aspx" target="_blank">http://blog.csdn.net/ziruobing/archive/2009/02/22/3919501.aspx</a>
看看这篇，你就会了  <strong>提问者对于答案的评价：</strong>
谢谢！虽然现在没用到，还是谢谢你的帮助</p>
<h3 id="-http-www-iteye-com-wiki-problem-64446-">问题答案可能在这里 → <a href="http://www.iteye.com/wiki/problem/64446" target="_blank">寻找更多解答</a></h3>
<ul>
<li><a href="http://www.iteye.com/topic/207462" target="_blank">比较有用的log4j.properties</a></li>
<li><a href="http://www.iteye.com/topic/359738" target="_blank">从common-logging谈log4j</a></li>
<li><a href="http://www.iteye.com/topic/744693" target="_blank">log4j不同级别日志分不同文件记录</a></li>
<li><a href="http://www.iteye.com/problems/63274" target="_blank">log4j 的相关问题！</a></li>
<li><a href="http://www.iteye.com/problems/58636" target="_blank">log4j中如何屏蔽rootlogger的配置</a><h3 id="-">其他回答</h3>
</li>
</ul>
<p>你把日志文件读到数据库中有什么用，显示在控制台上不行吗。</p>
<p><a href="http://wenchenyangailiuyan.iteye.com/" target="_blank">wenchenyangailiuyan</a> (中级程序员) 2011-05-04</p>
<p>哦，我只知道把log4j配置到控制台上然后查看信息，那样也很方便，不过帮顶了等待高手。</p>
<p><a href="http://wenchenyangailiuyan.iteye.com/" target="_blank">wenchenyangailiuyan</a> (中级程序员) 2011-05-04
看看这个：
<a href="http://hi.baidu.com/%D1%A6%B9%A6%CF%B2/blog/item/2ef1d53f304a163571cf6c50.html" target="_blank">http://hi.baidu.com/%D1%A6%B9%A6%CF%B2/blog/item/2ef1d53f304a163571cf6c50.html</a></p>
<p><a href="http://iihero.iteye.com/" target="_blank">iihero</a> (资深程序员) 2011-05-08</p>
<p><a href="http://www.iteye.com/problems/active?sort=created_at+desc" target="_blank">待解决问题数:</a> 585
<a href="http://www.iteye.com/problems/solved" target="_blank">已解决问题数:</a> 17818
<a href="http://www.iteye.com/problems/closed" target="_blank">已关闭问题数:</a> 43501</p>
<p><a href="http://www.iteye.com/problems/new" title="我要提问" target="_blank"><img src="" alt="Ask"></a> <a href="http://www.iteye.com/problems/my" title="我的问答" target="_blank"><img src="" alt="Myask"></a></p>
<h3 id="-">问答分类</h3>
<h3 id="-java-java-http-www-iteye-com-problems-tags-java-"><a href="http://www.iteye.com/problems/tags/Java" target="_blank">Java编程和Java企业应用</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Java" target="_blank">Java综合</a> <a href="http://www.iteye.com/problems/tags/J2EE" target="_blank">企业应用</a> <a href="http://www.iteye.com/problems/tags/Struts" target="_blank">Struts</a> <a href="http://www.iteye.com/problems/tags/Hibernate" target="_blank">Hibernate</a> <a href="http://www.iteye.com/problems/tags/Spring" target="_blank">Spring</a> <a href="http://www.iteye.com/problems/tags/Tomcat" target="_blank">Tomcat</a> <a href="http://www.iteye.com/problems/tags/OO" target="_blank">OO</a> <a href="http://www.iteye.com/problems/tags/Swing" target="_blank">Swing</a> <a href="http://www.iteye.com/problems/tags/JBoss" target="_blank">JBoss</a> <a href="http://www.iteye.com/problems/tags/Design-Pattern" target="_blank">设计模式</a> <a href="http://www.iteye.com/problems/tags/SOA" target="_blank">SOA</a> <a href="http://www.iteye.com/problems/tags/iBATIS" target="_blank">iBATIS</a> <a href="http://www.iteye.com/problems/tags/DAO" target="_blank">DAO</a> <a href="http://www.iteye.com/problems/tags/Object-Domain" target="_blank">领域模型</a></p>
<h3 id="-web-http-www-iteye-com-problems-tags-web-"><a href="http://www.iteye.com/problems/tags/web" target="_blank">Web前端技术</a></h3>
<p><a href="http://www.iteye.com/problems/tags/EXT" target="_blank">EXT</a> <a href="http://www.iteye.com/problems/tags/JavaScript" target="_blank">JavaScript</a> <a href="http://www.iteye.com/problems/tags/Web" target="_blank">Web综合</a> <a href="http://www.iteye.com/problems/tags/JQuery" target="_blank">JQuery</a> <a href="http://www.iteye.com/problems/tags/ajax" target="_blank">AJAX</a> <a href="http://www.iteye.com/problems/tags/DWR" target="_blank">DWR</a> <a href="http://www.iteye.com/problems/tags/CSS" target="_blank">CSS</a> <a href="http://www.iteye.com/problems/tags/GWT" target="_blank">GWT</a> <a href="http://www.iteye.com/problems/tags/UI" target="_blank">UI</a> <a href="http://www.iteye.com/problems/tags/dojo" target="_blank">dojo</a> <a href="http://www.iteye.com/problems/tags/prototype" target="_blank">prototype</a> <a href="http://www.iteye.com/problems/tags/JavaFX" target="_blank">JavaFX</a> <a href="http://www.iteye.com/problems/tags/YUI" target="_blank">YUI</a></p>
<h3 id="-http-www-iteye-com-problems-tags-mobile-"><a href="http://www.iteye.com/problems/tags/mobile" target="_blank">移动编程和手机应用开发</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Android" target="_blank">Android</a> <a href="http://www.iteye.com/problems/tags/J2ME" target="_blank">J2ME</a> <a href="http://www.iteye.com/problems/tags/iPhone" target="_blank">iPhone</a> <a href="http://www.iteye.com/problems/tags/WAP" target="_blank">WAP</a> <a href="http://www.iteye.com/problems/tags/mobile" target="_blank">移动综合</a> <a href="http://www.iteye.com/problems/tags/symbian" target="_blank">Symbian</a> <a href="http://www.iteye.com/problems/tags/BlackBerry" target="_blank">BlackBerry</a> <a href="http://www.iteye.com/problems/tags/Maemo" target="_blank">Maemo</a></p>
<h3 id="-c-c-http-www-iteye-com-problems-tags-cpp-"><a href="http://www.iteye.com/problems/tags/cpp" target="_blank">C/C++编程</a></h3>
<p><a href="http://www.iteye.com/problems/tags/CPP" target="_blank">C++</a> <a href="http://www.iteye.com/problems/tags/C" target="_blank">C</a> <a href="http://www.iteye.com/problems/tags/DLang" target="_blank">D语言</a></p>
<h3 id="-ruby-http-www-iteye-com-problems-tags-ruby-"><a href="http://www.iteye.com/problems/tags/Ruby" target="_blank">Ruby编程</a></h3>
<p><a href="http://www.iteye.com/problems/tags/rails" target="_blank">rails</a> <a href="http://www.iteye.com/problems/tags/ruby" target="_blank">ruby</a></p>
<h3 id="-python-http-www-iteye-com-problems-tags-python-"><a href="http://www.iteye.com/problems/tags/Python" target="_blank">Python编程</a></h3>
<p><a href="http://www.iteye.com/problems/tags/python" target="_blank">python</a> <a href="http://www.iteye.com/problems/tags/django" target="_blank">django</a> <a href="http://www.iteye.com/problems/tags/GAE" target="_blank">GAE</a></p>
<h3 id="-php-http-www-iteye-com-problems-tags-php-"><a href="http://www.iteye.com/problems/tags/PHP" target="_blank">PHP编程</a></h3>
<p><a href="http://www.iteye.com/problems/tags/PHP" target="_blank">PHP</a></p>
<h3 id="-flash-ria-http-www-iteye-com-problems-tags-flash-"><a href="http://www.iteye.com/problems/tags/Flash" target="_blank">Flash编程和RIA</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Flex" target="_blank">Flex</a> <a href="http://www.iteye.com/problems/tags/Flash" target="_blank">Flash</a> <a href="http://www.iteye.com/problems/tags/ActionScript" target="_blank">ActionScript</a> <a href="http://www.iteye.com/problems/tags/AIR" target="_blank">AIR</a></p>
<h3 id="-microsoft-net-http-www-iteye-com-problems-tags-dotnet-"><a href="http://www.iteye.com/problems/tags/dotnet" target="_blank">Microsoft .Net</a></h3>
<p><a href="http://www.iteye.com/problems/tags/CC" target="_blank">C/#</a> <a href="http://www.iteye.com/problems/tags/DotNET" target="_blank">.net</a> <a href="http://www.iteye.com/problems/tags/ASP" target="_blank">ASP.net</a> <a href="http://www.iteye.com/problems/tags/Windows" target="_blank">Windows</a> <a href="http://www.iteye.com/problems/tags/WindowsMobile" target="_blank">Windows Mobile</a> <a href="http://www.iteye.com/problems/tags/silverlight" target="_blank">SilverLight</a> <a href="http://www.iteye.com/problems/tags/WPF" target="_blank">WPF</a></p>
<h3 id="-http-www-iteye-com-problems-tags-tech-"><a href="http://www.iteye.com/problems/tags/Tech" target="_blank">综合技术</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Database" target="_blank">Database</a> <a href="http://www.iteye.com/problems/tags/OracleDB" target="_blank">oracle</a> <a href="http://www.iteye.com/problems/tags/Linux" target="_blank">Linux</a> <a href="http://www.iteye.com/problems/tags/Technology" target="_blank">编程综合</a> <a href="http://www.iteye.com/problems/tags/algorithm" target="_blank">数据结构和算法</a> <a href="http://www.iteye.com/problems/tags/mysql" target="_blank">mysql</a> <a href="http://www.iteye.com/problems/tags/SQLServer" target="_blank">SQLServer</a> <a href="http://www.iteye.com/problems/tags/Erlang" target="_blank">Erlang</a> <a href="http://www.iteye.com/problems/tags/DB2" target="_blank">DB2</a> <a href="http://www.iteye.com/problems/tags/OS" target="_blank">OS</a> <a href="http://www.iteye.com/problems/tags/Unix" target="_blank">Unix</a> <a href="http://www.iteye.com/problems/tags/FP" target="_blank">FP</a> <a href="http://www.iteye.com/problems/tags/MacOSX" target="_blank">MacOSX</a> <a href="http://www.iteye.com/problems/tags/PostgreSQL" target="_blank">PostgreSQL</a> <a href="http://www.iteye.com/problems/tags/Haskell" target="_blank">Haskell</a></p>
<h3 id="-http-www-iteye-com-problems-tags-new-"><a href="http://www.iteye.com/problems/tags/New" target="_blank">入门讨论</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Newbie" target="_blank">入门技术</a> <a href="http://www.iteye.com/problems/tags/vendor" target="_blank">IT厂商</a></p>
<h3 id="-http-www-iteye-com-problems-tags-develop-"><a href="http://www.iteye.com/problems/tags/develop" target="_blank">软件开发和项目管理</a></h3>
<p><a href="http://www.iteye.com/problems/tags/project-manage" target="_blank">项目管理</a> <a href="http://www.iteye.com/problems/tags/configuration" target="_blank">配置管理</a> <a href="http://www.iteye.com/problems/tags/test" target="_blank">软件测试</a> <a href="http://www.iteye.com/problems/tags/agile" target="_blank">敏捷开发</a> <a href="http://www.iteye.com/problems/tags/UML" target="_blank">UML</a> <a href="http://www.iteye.com/problems/tags/unitest" target="_blank">单元测试</a> <a href="http://www.iteye.com/problems/tags/TDD" target="_blank">TDD</a> <a href="http://www.iteye.com/problems/tags/UseCase" target="_blank">UseCase</a> <a href="http://www.iteye.com/problems/tags/CMM" target="_blank">CMM</a> <a href="http://www.iteye.com/problems/tags/XP" target="_blank">XP</a> <a href="http://www.iteye.com/problems/tags/UP" target="_blank">UP</a></p>
<h3 id="-http-www-iteye-com-problems-tags-industry-"><a href="http://www.iteye.com/problems/tags/Industry" target="_blank">行业应用</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Internet" target="_blank">互联网</a> <a href="http://www.iteye.com/problems/tags/Telecom" target="_blank">电信</a> <a href="http://www.iteye.com/problems/tags/networkapp" target="_blank">网络应用</a> <a href="http://www.iteye.com/problems/tags/Consulting" target="_blank">咨询</a> <a href="http://www.iteye.com/problems/tags/Industry-Finance" target="_blank">金融</a> <a href="http://www.iteye.com/problems/tags/E-government" target="_blank">电子政务</a> <a href="http://www.iteye.com/problems/tags/searchengine" target="_blank">搜索引擎</a> <a href="http://www.iteye.com/problems/tags/Education" target="_blank">教育</a> <a href="http://www.iteye.com/problems/tags/Logistics" target="_blank">物流</a> <a href="http://www.iteye.com/problems/tags/Manufacturing" target="_blank">制造</a> <a href="http://www.iteye.com/problems/tags/Embedded" target="_blank">嵌入式</a> <a href="http://www.iteye.com/problems/tags/SAAS" target="_blank">SAAS</a> <a href="http://www.iteye.com/problems/tags/browser" target="_blank">浏览器</a> <a href="http://www.iteye.com/problems/tags/Medicine" target="_blank">医疗</a> <a href="http://www.iteye.com/problems/tags/NetGame" target="_blank">网游</a> <a href="http://www.iteye.com/problems/tags/Traffic" target="_blank">交通</a></p>
<h3 id="-http-www-iteye-com-problems-tags-job-"><a href="http://www.iteye.com/problems/tags/Job" target="_blank">招聘求职</a></h3>
<p><a href="http://www.iteye.com/problems/tags/career" target="_blank">职场话题</a> <a href="http://www.iteye.com/problems/tags/findjob" target="_blank">求职经验</a> <a href="http://www.iteye.com/problems/tags/company" target="_blank">企业点评</a> <a href="http://www.iteye.com/problems/tags/list_jobs" target="_blank">招聘职位</a> <a href="http://www.iteye.com/problems/tags/interview" target="_blank">面试秘籍</a></p>
<h3 id="-http-www-iteye-com-problems-tags-life-"><a href="http://www.iteye.com/problems/tags/Life" target="_blank">海阔天空</a></h3>
<p><a href="http://www.iteye.com/problems/tags/Working" target="_blank">工作</a> <a href="http://www.iteye.com/problems/tags/Lifes" target="_blank">生活</a> <a href="http://www.iteye.com/problems/tags/JavaEye" target="_blank">JavaEye</a> <a href="http://www.iteye.com/problems/tags/IT-News" target="_blank">IT八卦</a> <a href="http://www.iteye.com/problems/tags/SystemNotice" target="_blank">公告</a> <a href="http://www.iteye.com/problems/tags/Reading" target="_blank">读书</a> <a href="http://www.iteye.com/problems/tags/LifeNews" target="_blank">IT资讯</a> <a href="http://www.iteye.com/problems/tags/Loves" target="_blank">情感</a> <a href="http://www.iteye.com/problems/tags/software" target="_blank">大众软件</a> <a href="http://www.iteye.com/problems/tags/hardware" target="_blank">大众硬件</a> <a href="http://www.iteye.com/problems/tags/Games" target="_blank">游戏</a> <a href="http://www.iteye.com/problems/tags/Appeal" target="_blank">申诉</a> <a href="http://www.iteye.com/problems/tags/Joke" target="_blank">笑话</a> <a href="http://www.iteye.com/problems/tags/Finance" target="_blank">理财</a> <a href="http://www.iteye.com/problems/tags/Events" target="_blank">活动</a> <a href="http://www.iteye.com/problems/tags/Movie" target="_blank">影视</a> <a href="http://www.iteye.com/problems/tags/Sports" target="_blank">体育</a> <a href="http://www.iteye.com/problems/tags/Travel" target="_blank">旅游</a> <a href="http://www.iteye.com/problems/tags/Music" target="_blank">音乐</a></p>
<h3 id="-">答题高手</h3>
<ul>
<li><a href="http://lovewhzlq.iteye.com/" target="_blank">lovewhzlq</a> CTO ( <a href="http://lovewhzlq.iteye.com/blog/solution" target="_blank">1252</a> - 13930 )</li>
<li><a href="http://yourgame.iteye.com/" target="_blank">yourgame</a> CTO ( <a href="http://yourgame.iteye.com/blog/solution" target="_blank">570</a> - 5183 )</li>
<li><a href="http://huajiang.iteye.com/" target="_blank">蔡华江</a> 资深架构师 ( <a href="http://huajiang.iteye.com/blog/solution" target="_blank">322</a> - 3388 )</li>
<li><a href="http://xiaolongfeixiang.iteye.com/" target="_blank">xiaolongfeixiang</a> 资深架构师 ( <a href="http://xiaolongfeixiang.iteye.com/blog/solution" target="_blank">301</a> - 2994 )</li>
<li><a href="http://atian25.iteye.com/" target="_blank">atian25</a> 架构师 ( <a href="http://atian25.iteye.com/blog/solution" target="_blank">252</a> - 2324 )</li>
<li><a href="http://hyvi.iteye.com/" target="_blank">Anddy</a> 架构师 ( <a href="http://hyvi.iteye.com/blog/solution" target="_blank">193</a> - 2155 )</li>
<li><a href="http://lizhi92574.iteye.com/" target="_blank">lizhi92574</a> 架构师 ( <a href="http://lizhi92574.iteye.com/blog/solution" target="_blank">192</a> - 2061 )</li>
<li><a href="http://7454103.iteye.com/" target="_blank">7454103</a> 架构师 ( <a href="http://7454103.iteye.com/blog/solution" target="_blank">183</a> - 2369 )</li>
<li><a href="http://rednaxelafx.iteye.com/" target="_blank">RednaxelaFX</a> 架构师 ( <a href="http://rednaxelafx.iteye.com/blog/solution" target="_blank">183</a> - 1864 )</li>
<li><p><a href="http://playfish.iteye.com/" target="_blank">playfish</a> 架构师 ( <a href="http://playfish.iteye.com/blog/solution" target="_blank">176</a> - 1846 )
<a href="http://www.iteye.com/problems/top_users" target="_blank">查看全部排名&gt;&gt;</a></p>
<h3 id="-">问题频道帮助</h3>
</li>
<li><p><a href="http://www.iteye.com/wiki/JavaEye/91-AskSmart" target="_blank">提问的智慧</a></p>
</li>
<li><a href="http://www.iteye.com/wiki/JavaEye/101-AskScore" target="_blank">如何获得积分及等级说明</a></li>
<li><a href="http://www.iteye.com/wiki/JavaEye/92-AskClose" target="_blank">如何关闭问题</a></li>
<li><a href="http://www.iteye.com/rss/ask" title="关注新问题" target="_blank"><img src="" alt="Rss"></a></li>
<li><a href="http://www.iteye.com/" target="_blank">首页</a></li>
<li><a href="http://www.iteye.com/news" target="_blank">资讯</a></li>
<li><a href="http://www.iteye.com/forums" target="_blank">论坛</a></li>
<li><a href="http://www.iteye.com/ask" target="_blank">问答</a></li>
<li><a href="http://www.iteye.com/blogs" target="_blank">博客</a></li>
<li><a href="http://www.iteye.com/groups" target="_blank">群组</a></li>
<li><a href="http://www.iteye.com/job" target="_blank">招聘</a></li>
<li><a href="http://www.iteye.com/search" target="_blank">搜索</a></li>
<li><a href="http://www.iteye.com/index/service" target="_blank">广告服务</a></li>
<li><a href="http://webmaster.iteye.com/" target="_blank">ITeye黑板报</a></li>
<li><a href="http://www.iteye.com/index/contactus" target="_blank">联系我们</a></li>
<li><a href="http://www.iteye.com/index/friend_links" target="_blank">友情链接</a></li>
</ul>
<p>© 2003-2011 ITeye.com. [ <a href="http://www.miibeian.gov.cn/" target="_blank">京ICP证110151号</a> ] <img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/log4j/">log4j</a></li></span></span> | <span class="tags">Tagged <a href="/tags/log4j/" class="label label-primary">log4j</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:37"datetime="2014-03-07 09:54:37"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-log4j--怎样用log4j读取日志文件然后把日志信息放到数据库要源代码。谢谢，急用。第一次这东西-IT/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-log4j--怎样用log4j读取日志文件然后把日志信息放到数据库要源代码。谢谢，急用。第一次这东西-IT" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-虚拟化_Citrix--Resource_Manager_Updates/">Resource_Manager_Updates</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-虚拟化_Citrix--Resource_Manager_Updates/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="resource_manager_updates">Resource_Manager_Updates</h1>
<p><img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> <img src="" alt=""> Understanding Resource Manager Summary Database Updates
1) Resource Manager Summary logs are parsed line by line during the update process and inserted in the summary database during the configured update time.
XP Server
IMA RM Log
XP Server
IMA RM Log
DCS Data Connection Server
XP Server
IMA RM Log
RM Farm Summary DB
Before a file is recorded into the summary database, Resource Manager verifies the version of the log file is compatible version of the summary database. Resource Manager compares the value next to the HEADER descriptor against the schemaversion table version field. It must be equal to or greater than the log file’s value Log File Header Example
HEADER27,&quot;TSFTL1&quot;,&quot;WORKGROUP&quot;,&quot;MR Farm&quot;
2) The Resource Manager Data Connection server executes ADD/* procedures on each line of the summary log located under %SystemRoot%\Program Files\Citrix\Citrix Resource Manager\Summary Files to record the Resource Manager farm data.
<img src="" alt=""> 3) Error and status of summary updates are located under %SystemRoot%:\Program Files\Citrix\Citrix Resource Manager\ServerLogs. 4) Further information is available in the Feature Release 3 Resource Manager Administrator’s Guide including the document schema (pg 93)
Procedure Information
AddSession procedure updates SDBSESSION table and its related Look up tables (LU<em>) on sessions connected to the Citrix Farm. Parameters @sUserName - User Name @sNetDomain - Domain @sServerName - Server Name @sFarmName - Farm Name @sClientName – Citrix ICA Client Name @iClientAddressFamily - protocol type @sClientAddress – Client Network Address (IP) @sAppName - Application Name @iAppType - Application type: 0 = MetaFrame published application, 1 Resource Manager application @sWinStation – Winstation Name (Example @iProtocol - Protocol ID @dSessionStart - Session Start time @dSessionEND - Session End time @fDuration f - Duration of connection @iServerUTCBias - Used to calculate Server’s UTC time @iSessionUTCBias - Used to calculate Session Bias @iSessionID - Numeric ID of winstation @sUserDomain - User Logon Domain
<img src="" alt=""> Example
AddSession N&#39;rene&#39;, N&#39;MyDomain&#39;, N&#39;Myserver&#39;, N&#39;MR Farm&#39;, N&#39;FTLNRENEAIBMPAD&#39;, 2, N&#39;10.3.4.102&#39;, N&#39; &#39;, &lt;- Initial App connected or “” if desktop 0, N&#39;ICA-tcp/#4&#39;, 1, &#39;Mar 10 2005 2:42:47:000PM&#39;, NULL, Session has not ended when Resource Manager recorded information in summary database NULL, Session has not ended when Resource Manager recorded information in summary database 300, 300, 4, N&#39;MyServer&#39;
AddProcess procedure updates SDB_PROCESS table and its related Look up tables (LU</em>) on processes executed on the Citrix MetaFrame Server. Parameters @sUserName User Name @sNetDomain Domain @sServerName Server @sFarmName Server Name @sClientName Client Name @iClientAddressFamily Protocol type @sClientAddress Client Network Address @sAppName Initial Application @iAppType - Application type: 0 = MetaFrame published application, 1 Resource Manager application @sPathName Path of executable @sProcessName Process Name @sVersion Version @dProductDate Build Date of executable @iType Process Type @iPID Process ID @iExitCode Exit code when application terminated @iAffinity A mask indicating which processor(s) the process can use to execute itself @dStartTime Process creation time @dEndTime Process termination time @fTotalTime Total excitation time @fActiveTime A summation of all monitored periods of a process where the CPU time was greater than 1% @fKernelUse The percentage of kernel CPU time the process has used during its lifetime @fUserUseThe percentage of user CPU time the process has used during its lifetime @fUserActive The percentage of user CPU that was being used during the ACTIVETIME @fKernelActive The percentage of kernel CPU that was being used during the ACTIVETIME @fMemory Sum of the average number of megabytes per minute used by the process during its lifetime @fMemoryActive The number of megabytes per minute used by the process during the ACTIVETIME @iWorkSet The peak recorded working set of the processes at any point during its lifetime @iPageFile The peak page file allocated to process in bytes at any point in its lifetime @iPageFaults The number of page faults that occurred @iPagedPool The peak paged pool usage in bytes at any point in its
lifetime @iNonPagedPool The peak non-paged pool usage in bytes at any point in its Lifetime @iSessID Numeric ID of winstation @iServerUTCBias - Used to calculate Server’s UTC time @sUserDomain – Login domain @dSessionStart - Session Start time
Example
&#39;rene&#39;, &#39;WORKGROUP&#39;, &#39;TSFTL1&#39;, &#39;Citrix Farm&#39;, &#39;FTL-WIN2K3&#39;, 2, &#39;65.2.223.75&#39;, &#39; &#39;, 0, &#39;c:\program files\intuit\quickbooks pro\components\qbagent\&#39;, &#39;qbmsgmgr.exe&#39;, &#39;10.0.0.1&#39;, &#39;Dec 2 2004 5:30:56:000PM&#39;, 0, 4536, 0, 1, &#39;Mar 19 2005 3:16:57:000AM&#39;, &#39;Mar 19 2005 3:17:03:000AM&#39;, 6.172000000000000e+003, 6.155000000000000e+003, 1.263000011444092e+000, 7.450000047683716e-001, 5.030000209808350e-001, 1.023000001907349e+000, 1.602994743734598e-003, 1.602994743734598e-003, 2785280, 753664, 892, 19092, 4188, 12, 300, &#39;TSFTL1&#39;, &#39;Mar 18 2005 9:50:26:000PM&#39;
<img src="" alt=""> AddMetric procedure updates SDB<em>METRICS table and its related Look up tables (LU</em>) on configured Resource Manager server metrics. Parameters @sServerName – Server Name @sNetDomain - Domain Name @sFarmName - Farm Name @sObject - Object Name @sMetricCounter – Counter Name @sInstance – Instance name @dMetricUpdateTime @iServerUTCBias - Used to calculate Server’s UTC time @iMetricSamplePeriod - Sample period of summary record in seconds @iMetricDataCount - Number of data points used to summarize this row @fMinMetricValue - Minimum metric value @fMaxMetricValue - Maximum metric value @fMeanMetricValue - Mean metric value @fStdDevMetricValue - Standard deviation of metric values @sFolder – Folder location of server @sZone – Zone location of server
Example
&#39;CitrixServer&#39;, &#39;WORKGROUP&#39;, &#39;MR Farm&#39;, &#39;Citrix MetaFrame XP&#39;,
<img src="" alt=""> <img src="" alt=""> &#39;Data Store Connection Failure&#39;, &#39; &#39;, &#39;Mar 19 2005 6:23:49:000AM&#39;, 300, 3633, 80, 0.000000000000000e+000, 0.000000000000000e+000, 0.000000000000000e+000, 0.000000000000000e+000, &#39;Servers/&#39;, &#39;192.168.1.0
Purging Procedures
The following procedures execute based upon the retention period of data configured in the summary database. PurgeEvents Purges the SDB_EVENTLOG table of old records. This table stores generic IMA Service up and IMA Service down events that occur on a server farm. Parameters @farmName - Farm Name @sCutoffDate - All data prior to this date will be removed PurgeMetrics Purges the SDB_Metrics table and related tables. This table stores all metrics imported from each Resource Manager server in the server farm. Parameters @farmName - Farm Name @sCutoffDate - All data prior to this date will be removed PurgeBilledSessProc Purges the SDB_Session table and its related tables once the session has been billed. This table stores session data per user. Parameters @farmName - Farm Name @sCutoffDate - All data prior to this date will be removed except for NULL Session End entries. PurgeUnbilledSessProc Purges the SDB_Session table and its related tables. This table stores session data per user. Parameters @farmName - Farm Name @sCutoffDate - All session data prior to this date will be removed except for NULL Session end entries.</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/虚拟化_Citrix/">虚拟化_Citrix</a></li></span></span> | <span class="tags">Tagged <a href="/tags/虚拟化_Citrix/" class="label label-primary">虚拟化_Citrix</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:37"datetime="2014-03-07 09:54:37"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-虚拟化_Citrix--Resource_Manager_Updates/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-虚拟化_Citrix--Resource_Manager_Updates" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-虚拟化_Citrix--ConnectingThroughWindowsFirewallWindows/">Connecting Through Windows Firewall (Windows)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-虚拟化_Citrix--ConnectingThroughWindowsFirewallWindows/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="connecting-through-windows-firewall-windows-">Connecting Through Windows Firewall (Windows)</h1>
<p><a href="http://msdn.microsoft.com/en-us/" title="Home" target="_blank">Home</a> <a href="http://msdn.microsoft.com/en-us/library" title="Library" target="_blank">Library</a> <a href="http://msdn.microsoft.com/en-us/bb188199.aspx" title="Learn" target="_blank">Learn</a> <a href="http://msdn.microsoft.com/en-us/aa570309.aspx" title="Downloads" target="_blank">Downloads</a> <a href="http://msdn.microsoft.com/en-us/aa570318.aspx" title="Support" target="_blank">Support</a> <a href="http://msdn.microsoft.com/en-us/aa497440.aspx" title="Community" target="_blank">Community</a> <a href="https://login.live.com/login.srf?wa=wsignin1.0&amp;rpsnv=11&amp;ct=1295403418&amp;rver=6.0.5276.0&amp;wp=MCLBI&amp;wlcxt=msdn%24msdn%24msdn&amp;wreply=http:%2F%2Fmsdn.microsoft.com%2Fen-us%2Flibrary%2Faa389286.aspx&amp;lc=1033&amp;cb=&amp;id=254354" title="Sign in" target="_blank">Sign in</a>| <a href="http://msdn.microsoft.com/en-us/library/preferences/locale/?returnurl=%252fen-us%252flibrary%252faa389286.aspx" title="中国（简体中文）" target="_blank">中国（简体中文）</a>| <a href="http://msdn.microsoft.com/en-us/library/preferences/experience/?returnurl=%252fen-us%252flibrary%252faa389286.aspx" title="Preferences" target="_blank">Preferences</a></p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa389286.aspx#" target="_blank"><img src="&quot;Search&quot;" alt="Search"></a></p>
<p><img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/ms123401.aspx" title="MSDN Library" target="_blank">MSDN Library</a>
<img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/ee663300(v=VS.85" target="_blank">Windows Development</a>.aspx &quot;Windows Development&quot;)
<img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/ee663258(v=VS.85" target="_blank">Administration and Management</a>.aspx &quot;Administration and Management&quot;)
<img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa394582(v=VS.85" target="_blank">Windows Management Instrumentation</a>.aspx &quot;Windows Management Instrumentation&quot;)
<img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa393964(v=VS.85" target="_blank">Using WMI</a>.aspx &quot;Using WMI&quot;)
<img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/cc512236(v=VS.85" target="_blank">Creating WMI Clients</a>.aspx &quot;Creating WMI Clients&quot;)
<img src="" alt=""></p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa389290(v=VS.85" target="_blank">Connecting to WMI on a Remote Computer</a>.aspx &quot;Connecting to WMI on a Remote Computer&quot;)</p>
<p><img src="" alt="">
<a href="http://msdn.microsoft.com/en-us/library/aa389286(v=VS.85" target="_blank">Connecting Through Windows Firewall</a>.aspx &quot;Connecting Through Windows Firewall&quot;) <img src="" alt="Separator"></p>
<p>Community Content</p>
<p><a href="http://msdn.microsoft.com/en-us/library/aa389286.aspx#CommunityContent" title="User" target="_blank"><img src="" alt="Avatar"></a></p>
<ul>
<li>Add code samples and tips to enhance this topic.
<a href="http://msdn.microsoft.com/en-us/library/aa389286.aspx#CommunityContent" title="More..." target="_blank">More...</a>
<a href="http://msdn.microsoft.com/en-us/library/aa389286.aspx#" target="_blank"><img src="&quot;Expand&quot;" alt="Expand"> <img src="&quot;Minimize&quot;" alt="Minimize"></a></li>
</ul>
<p><a href="http://msdn.microsoft.com/en-us/library/default.aspx" target="_blank"><img src="&quot;MSDN&quot;" alt="MSDN"></a><img src="" alt=""></p>
<h1 id="connecting-through-windows-firewall">Connecting Through Windows Firewall</h1>
<p>The <a href="http://msdn.microsoft.com/en-us/library/aa364727.aspx" target="_blank">Windows Firewall</a> (formerly known as Internet Connection Firewall) service and Distributed Component Object Model (DCOM) can cause access denied errors (such as an &quot;RPC Server Unavailable&quot; error - 0x800706ba) when your remote computers and accounts, used for remote connections, are not properly configured.</p>
<p><strong>Note</strong>  Content in this topic applies to Windows XP with Service Pack 2 (SP2) and Windows Server 2003 with Service Pack 1 (SP1). For information that applies to Windows Vista, see <a href="http://msdn.microsoft.com/en-us/library/aa822854.aspx" target="_blank">Connecting to WMI Remotely Starting with Vista</a>.
<strong>Windows Server 2003 with SP1:  </strong>The Windows Firewall is not enabled by default. <strong>Windows XP with SP2:  </strong>The Windows Firewall is enabled by default.</p>
<p>Resetting the firewall settings will enable the firewall—regardless of the platform.</p>
<p><strong>Windows Server 2003 and Windows XP:  </strong>Windows Firewall is not available. Use Internet Connection Firewall.</p>
<p>When obtaining data from a remote computer, WMI must establish a DCOM connection from Computer A (the local computer) to Computer B (the remote computer)—this is shown in the diagram as Connection 1. To establish this connection, both Windows Firewall and DCOM on Computer B must be configured appropriately. The configuration must be done locally on Computer B either by changing the Group Policy settings, by executing NETSH commands, or by executing a script locally. Windows Firewall does not support any remote configuration. The following sections describe how to configure Connection 1 and Connection 2 using NETSH commands and the Group Policy editor. For more information about configuring the connections with a script, see <a href="http://go.microsoft.com/FWLink/?LinkId=84425" target="_blank"><strong><a href="http://www.microsoft.com/technet/community/columns/scripts/sg1104.mspx/#EJAA">http://www.microsoft.com/technet/community/columns/scripts/sg1104.mspx/#EJAA</a></strong></a>.</p>
<p>The following diagram shows the relationship of WMI, the Windows Firewall, and DCOM when a script or another WMI client makes an asynchronous call to obtain data from WMI. Synchronous and semisynchronous calls only make Connection 1. Connection 2 occurs only with asynchronous calls. If the script or application made an <a href="http://msdn.microsoft.com/en-us/library/aa390790.aspx#wmi.gloss_asynchronous_method" target="_blank"><em>asynchronous</em></a> call, Connection 2 from Computer B to Computer A delivers the results. This delivery is the callback to the <a href="http://msdn.microsoft.com/en-us/library/aa390836.aspx#wmi.gloss_sink" target="_blank"><em>sink</em></a>. When possible, semisynchronous calls should be made instead of asynchronous calls. The performance of semisynchronous calls is almost as good as asynchronous calls and semisynchronous calls are more secure.</p>
<p><img src="&quot;WMI client making an asynchronous call to obtain data from WMI&quot;" alt="WMI client making an asynchronous call to obtain data from WMI"></p>
<p><strong>WMI client making an asynchronous call to obtain data from WMI</strong></p>
<p>To successfully connect from Computer A to Computer B when the Windows Firewall is enabled on Computer B, some configuration of firewall settings is necessary. The following procedure helps you configure Connection 1.</p>
<p><img src="&quot;Aa389286.wedge(en-us,VS.85" alt="Aa389286.wedge(en-us,VS.85).gif">.gif&quot;)<strong>To configure Connection 1</strong></p>
<ol>
<li>Ensure that the user account that is on Computer A is a local administrator on Computer B.</li>
</ol>
<p>If the user account that is on Computer A is not an administrator on Computer B, but the user account has Remote Enable permission on Computer B, then the user must also be given DCOM Remote Launch and Remote Activation privileges on Computer B by running <strong>Dcomcnfg.exe</strong> at the command prompt. For more information, see the remote launch and activation permissions procedure in <a href="http://msdn.microsoft.com/en-us/library/aa393266.aspx" target="_blank">Securing a Remote WMI Connection</a>. The 0x80070005 error occurs when this privilege is not set. For more information, see <a href="http://msdn.microsoft.com/en-us/library/aa822575.aspx" target="_blank">Access to WMI Namespaces</a>.</p>
<ol>
<li>Allow for remote administration on Computer B.</li>
</ol>
<p>You can use either the Group Policy editor (Gpedit.msc) or a script to enable the Windows Firewall: Allow remote administration exception, or use a netsh firewall command at the command prompt to allow for remote administration on Computer B. The following command enables this feature.</p>
<p><strong>netsh firewall set service**</strong>RemoteAdmin<strong>**enable</strong></p>
<p>If you would rather use the Group Policy editor than the NETSH commands above, use the following steps in the Group Policy editor (Gpedit.msc) to enable &quot;Allow Remote Administration&quot; on Computer B.</p>
<ol>
<li>Under the <strong>Local Computer Policy</strong> heading, double-click <strong>Computer Configuration</strong>.</li>
<li>Double-click <strong>Administrative Templates</strong>, <strong>Network</strong>, <strong>Network Connections</strong>, and then <strong>Windows Firewall</strong>.</li>
<li>If the computer is in the domain, then double-click <strong>Domain Profile</strong>; otherwise, double-click <strong>Standard Profile</strong>.</li>
<li>Click <strong>Windows Firewall: Allow remote administration exception</strong>.</li>
<li>On the <strong>Action</strong> menu, select <strong>Properties</strong>.</li>
<li>Click <strong>Enable</strong>, and then click <strong>OK</strong>.</li>
</ol>
<p>The connection from Computer B to Computer A (Connection 2 in the diagram above) is only required when the client script or application makes an asynchronous call to the remote computer. When possible, semisynchronous calls should be made instead of asynchronous calls. The call performance of semisynchronous calls is almost as good as asynchronous calls and semisynchronous calls are more secure. For more information, see <a href="http://msdn.microsoft.com/en-us/library/aa384832.aspx" target="_blank">Calling a Method</a> or <a href="http://msdn.microsoft.com/en-us/library/aa392903.aspx" target="_blank">Querying WMI</a>. The following procedure helps you configure Connection 2.</p>
<p><img src="&quot;Aa389286.wedge(en-us,VS.85" alt="Aa389286.wedge(en-us,VS.85).gif">.gif&quot;)<strong>To configure Connection 2</strong></p>
<ol>
<li>If the Windows Firewall is enabled on Computer A, enable the &quot;Allow Remote Administration&quot; exception (step 2 in the procedure above) and open the DCOM port TCP 135 on Computer A. If this port is not open, the error 0x800706ba will occur. You can open port 135 using the following command.</li>
</ol>
<p><strong>netsh firewall add portopening**</strong>protocol=<strong><strong>tcp</strong></strong>port=<strong><strong>135</strong></strong>name=<em>**DCOM_TCP135</em></p>
<ol>
<li>Add the client application or script, which contains the sink for callback to the Windows Firewall Exceptions List on Computer A. If the client is a script or a MMC snap-in, the sink is often Unsecapp.exe. For these connections, add %windir%\system32\wbem\unsecapp.exe to the Windows Firewall application exceptions list. You can add Unsecapp.exe with the following command.</li>
</ol>
<p><strong>netsh firewall add allowedprogram**</strong>program=<strong><strong>%windir%\system32\wbem\unsecapp.exe</strong></strong>name=<strong>**UNSECAPP</strong></p>
<p>Generally a C++ application has a sink written for the application. In that case, the application sink should be added to the firewall exceptions.</p>
<ol>
<li>If Computer B is either a member of WORKGROUP or is in a different domain that is untrusted by Computer A, then Connection 2 is created as an Anonymous connection. An anonymous connection fails with either the 0x80070005 error or the 0x8007000e error unless Anonymous connections are given the DCOM Remote Access permission on Computer A. The steps to grant DCOM remote access permissions are listed in <a href="http://msdn.microsoft.com/en-us/library/aa393266.aspx" target="_blank">Securing a Remote WMI Connection</a>.</li>
</ol>
<h3 id="-related-topics"><a href=""></a>Related Topics</h3>
<p><a href="http://msdn.microsoft.com/en-us/library/aa389290.aspx" target="_blank">Connecting to WMI on a Remote Computer</a><a href="http://msdn.microsoft.com/en-us/library/aa389284.aspx" target="_blank">Connecting Between Different Operating Systems</a><a href="http://msdn.microsoft.com/en-us/library/aa393266.aspx" target="_blank">Securing a Remote WMI Connection</a><a href="http://msdn.microsoft.com/en-us/library/aa389769.aspx" target="_blank">Creating Processes Remotely</a><a href="http://msdn.microsoft.com/en-us/library/aa393614.aspx" target="_blank">Setting Security on an Asynchronous Call</a><a href="http://msdn.microsoft.com/en-us/library/aa393615.aspx" target="_blank">Setting Security on an Asynchronous Call in VBScript</a></p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation feedback [wmisdk\wmi]:  Connecting Through Windows Firewall  RELEASE: (1/6/2011">Send comments about this topic to Microsoft</a>&amp;body=PRIVACY STATEMENTThe SDK team uses the feedback submitted to improve the SDK documentation. We do not use your email address for any other purpose. We will remove your email address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an email message to request more information about your feedback. After the issues have been addressed, we may send you an email message to let you know that your feedback has been addressed.For more information about Microsoft&#39;s privacy policy, see <a href="http://privacy.microsoft.com/en-us/default.aspx" target="_blank">http://privacy.microsoft.com/en-us/default.aspx</a>. &quot;Send comments about this topic to Microsoft&quot;)</p>
<p>Build date: 1/6/2011
Community Content <a href="http://msdn.microsoft.com/en-us/library/community/add/aa389286.aspx" title="Add" target="_blank">Add</a></p>
<p><a href="http://msdn.microsoft.com/en-us/library/community-edits.rss?topic=aa389286|en-us|VS.85" title="Annotations" target="_blank"><img src="" alt="Annotations"></a> <a href="http://msdn.microsoft.com/en-us/library/community-msdnwikifaq.aspx" title="FAQ" target="_blank">FAQ</a>
© 2011 Microsoft Corporation. All rights reserved. <a href="http://msdn.microsoft.com/cc300389.aspx" target="_blank">Terms of Use</a> | <a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx" target="_blank">Trademarks</a> | <a href="http://www.microsoft.com/info/privacy.mspx" target="_blank">Privacy Statement</a> | <a href="http://msdn.microsoft.com/en-us/library/aa389286.aspx#footerLink" title="Feedback" target="_blank">Feedback <img src="" alt="Feedback"></a></p>
<p>Feedback</p>
<p><a href="">x</a></p>
<p>Tell us about your experience...</p>
<p>Did the page load quickly?
Yes  No</p>
<p>Do you like the page design?
Yes  No</p>
<p>How useful is this topic?
<img src="" alt=""></p>
<p>Tell us more
Enter description here.</p>
<p><img src="" alt="DCSIMG"></p>
<p><a href="http://www.omniture.com/" title="Web Analytics" target="_blank"><img src="" alt=""></a>
<img src="" alt="Page view tracker"></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/虚拟化_Citrix/">虚拟化_Citrix</a></li></span></span> | <span class="tags">Tagged <a href="/tags/虚拟化_Citrix/" class="label label-primary">虚拟化_Citrix</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:37"datetime="2014-03-07 09:54:37"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-虚拟化_Citrix--ConnectingThroughWindowsFirewallWindows/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-虚拟化_Citrix--ConnectingThroughWindowsFirewallWindows" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-虚拟化_Citrix--CitrixMfcomProgrammingForAdministrators/">Citrix Mfcom Programming For Administrators</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-虚拟化_Citrix--CitrixMfcomProgrammingForAdministrators/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="citrix-mfcom-programming-for-administrators">Citrix Mfcom Programming For Administrators</h1>
<p><a href="http://www.slideshare.net/" title="SlideShare" target="_blank">SlideShare</a></p>
<ul>
<li><a href="http://www.slideshare.net/" title="SlideShare" target="_blank">Home</a></li>
<li><a href="http://www.slideshare.net/browse" title="Browse Presentations" target="_blank">Browse</a></li>
<li><a href="http://www.slideshare.net/my-slidespace" title="Your SlideShare Profile" target="_blank">My Slidespace</a></li>
<li><strong><a href="http://www.slideshare.net/upload" title="Upload PowerPoint, OpenOffice, Keynote or PDF files" target="_blank">Upload</a></strong></li>
<li><a href="http://www.slideshare.net/community" title="Groups, Events, Contests, Karaoke" target="_blank">Community</a></li>
<li><a href="http://www.slideshare.net/widgets" title="Widgets for blogs, websites, MySpace, Facebook, and other social media" target="_blank">Widgets</a></li>
</ul>
<p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Search for, view and download presentations" target="_blank">Search</a></p>
<h1 id="citrix-mfcom-programming-for-administrators">Citrix Mfcom Programming For Administrators</h1>
<p>*</p>
<ul>
<li><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Email this presentation to your contacts" target="_blank">Share</a></li>
<li><a href="http://www.slideshare.net/signup?from=favorite&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" title="Save to favorites" target="_blank">Favorite</a></li>
<li><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Saved to your favorites" target="_blank">Favorited</a> <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Remove from favorites" target="_blank">X</a></li>
<li><a href="http://www.slideshare.net/signup?from=download&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation&amp;download_id=595751-c483155244bb2ba5aa43df14ef31f17cf90e08f6-slideshow" title="Download this presentation" target="_blank">Get File</a></li>
<li><a href="http://www.slideshare.net/signup?from=AddToCommunity&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" title="Add this presentation to a Group or Event" target="_blank">More...</a>
*
Loading...</li>
</ul>
<p>Flash Player 9 (or above) is needed to view presentations.
We have detected that you do not have it on your computer. To install it, go <a href="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash" title="Install Adobe Flash Player" target="_blank">here</a>.</p>
<ul>
<li>Post to</li>
<li><a href="http://www.slideshare.net/share/blogspot/595751" title="Post to Blogger" target="_blank">Blogger</a></li>
<li><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Post to WordPress" target="_blank">WordPress</a></li>
<li><a href="http://www.slideshare.net/share/tweet/595751/Check%20out%20this%20SlideShare%20Presentation%20:%20Citrix%20Mfcom%20Programming%20For%20Administrators" title="Post to Twitter" target="_blank">Twitter</a></li>
<li><a href="http://www.slideshare.net/share/facebook/595751/Citrix%20Mfcom%20Programming%20For%20Administrators" title="Post to Facebook" target="_blank">Facebook</a></li>
<li><p><a href="http://delicious.com/save?url=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation&amp;title=Citrix+Mfcom+Programming+For+Administrators&amp;jump=yes&amp;noui&amp;share=yes&amp;partner=slideshare" title="Bookmark on Delicious" target="_blank">Delicious</a>
*</p>
</li>
<li><p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Post to More Networks" target="_blank">more share options</a></p>
</li>
<li>Embed  For WordPress.com
Without related presentations<h2 id="-0-comments-http-www-slideshare-net-vishalganeriwala-citrix-mfcom-programming-for-administrators-presentation-commentslist-"><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#commentsList" target="_blank">0 comments</a></h2>
</li>
</ul>
<p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#postComment" target="_blank">Post a comment</a></p>
<p>Post a comment</p>
<p><a href="http://www.slideshare.net/signup?from=comments&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank"><img src="" alt=""></a>
<a href="&quot;Just include the embed code in the comment. We support embeds from Youtube, Google Videos, BlipTV, Metacafe, Viddler, Yahoo Videos and several other approved sites only.&quot;">Embed Video</a> Email:
Subscribe to follow-up comments <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Unsubscribe from followup comments</a>     Edit your comment  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Cancel</a></p>
<h2 id="-notes-on-slide-1-http-www-slideshare-net-vishalganeriwala-citrix-mfcom-programming-for-administrators-presentation-noteslist-"><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#notesList" target="_blank">Notes on slide 1</a></h2>
<h2 id="2-favorites">2 Favorites</h2>
<ul>
<li><a href="http://www.slideshare.net/signup?from=addcontact&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" title="Add as my contact" target="_blank"> </a> <a href="http://www.slideshare.net/fpschultze" title="fpschultze" target="_blank"><img src="" alt="fpschultze"> Frank-Peter Schultze</a>, Consultant favorited this 3 months ago</li>
</ul>
<p><strong>Tags</strong> <strong><a href="http://www.slideshare.net/tag/citrix" target="_blank">citrix</a></strong> <strong><a href="http://www.slideshare.net/tag/mfcom" target="_blank">mfcom</a></strong></p>
<ul>
<li><a href="http://www.slideshare.net/signup?from=addcontact&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" title="Add as my contact" target="_blank"> </a> [<img src="" alt="AmitRanjan"> Amit Ranjan](<a href="http://www.slideshare.net/AmitRanjan" target="_blank">http://www.slideshare.net/AmitRanjan</a> &quot;AmitRanjan | I head SlideShare&#39;s New Delhi office.  </li>
</ul>
<p>&quot;), CoFounder &amp; COO at SlideShare, favorited this 11 months ago
<a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">more</a> <a href=""></a></p>
<h2 id="citrix-mfcom-programming-for-administrators-presentation-transcript">Citrix Mfcom Programming For Administrators - Presentation Transcript</h2>
<ol>
<li>Citrix MFCOM Programming for Administrators October 2007</li>
<li>100 Applications 1000 Users 100,000 Clicks</li>
<li>Introductions</li>
</ol>
<ul>
<li><p>Instructors</p>
</li>
<li><p>Nitin Desai</p>
</li>
<li><p>Vishal Ganeriwala</p>
</li>
<li><p>Facilitators</p>
</li>
<li><p>Fred Liu</p>
</li>
<li><p>Tom Kludy</p>
</li>
<li><p>Jeff Reed</p>
</li>
<li>Agenda MFCOM Basics Start Using MFCOM Labs In Action Future And Takeaways</li>
<li>Agenda Agenda item number 1 Start Using MFCOM Labs In Action Future And Takeaways MFCOM Basics</li>
<li><p>What is MFCOM?</p>
</li>
<li><p>COM-based management interface</p>
</li>
<li><p>Runs on every Citrix Presentation Server™ box</p>
</li>
<li><p>Scriptable and COM programming language support</p>
</li>
<li><p>Remote execution</p>
</li>
<li>Work Smarter and Faster Using MFCOM Integration with third-party software applications 3 Information reporting 2 Automate administration tasks 1</li>
<li>How Does MFCOM Work ? MFCOM IMA LHC DCOM RPC SAL SAL SAL Data Store Data Collector Citrix Presentation Server Windows Machine SAL : Subsystem Access Layer</li>
<li>Common MFCOM Objects Zones Farm Apps Servers Sessions Policies Servers Users Sessions Apps Processes VCs</li>
<li>Agenda Agenda item number 1 MFCOM Basics Labs In Action Future and Takeaways Start Using MFCOM</li>
<li>Today’s Setup For Class Demos DCOM Port 2512 Client Machine MPS SDK Lab1CPS CPS 4.5 VM Lab2CPS CPS 4.5 VM DCOM IMA Farm Name: SDKDemo Data Store: Lab1CPS Zone Data Collector: Lab1CPS Servers : Lab1CPS &amp; Lab2CPS</li>
<li><p>How Can I Get Started?</p>
</li>
<li><p>Download SDK from: <a href="http://support.citrix.com/page.jspa?pageID=devCenter" target="_blank">http://support.citrix.com/page.jspa?pageID=devCenter</a></p>
</li>
<li><p>Browse Script Repository http:// support.citrix.com/kb/category.jspa?categoryID =645&amp;subCategoryID=645</p>
</li>
<li><p>Setting Up Client and Server Machines</p>
</li>
<li><p>Register the remote Citrix Presentation Server using: mfreg <servername></p>
</li>
<li><p>Use dcomcnfg to change the Impersonation level from identity to impersonate on Windows XP</p>
</li>
<li><p>W2K3+SP1 CPS Server - Add remote MFCOM user to the DCOM Users Group</p>
</li>
<li><p>Make sure you have administrative privileges for the Citrix Farm</p>
</li>
<li>Sample Examples</li>
<li><p>MPSSDK Documentation</p>
</li>
<li><p>MPSSDK Help System</p>
</li>
<li><p>MFCOM browser</p>
</li>
<li><p>http:// www.jasonconger.com/ShowPost.aspx?strID =9686d808-19c0-4bad-a577-02d85f597a8d</p>
</li>
<li><p>Displaying Farm Name</p>
</li>
<li><p>Use of VBScriptTemplate.wsf to add code</p>
</li>
<li><p>Use of MetaFrameFarm Object and its methods</p>
</li>
<li><p>Navigating MFCOM …</p>
</li>
<li><p>New version of interfaces with different releases</p>
</li>
<li><p>MetaFrameFarm object : IMetaFrameFarm6 (CPS4.0) inherits from IMetaFrameFarm5 (CPS3.0)</p>
</li>
<li><p>Scripts connect to the latest interfaces</p>
</li>
<li><p>C++ - Use QueryInterface</p>
</li>
<li><p>Drill down to appropriate level of object.</p>
</li>
<li><p>MetaFrameServer Object:</p>
</li>
<li><p>IMetaFrameServer</p>
</li>
<li><p>IMetaFrameWinServer
Finding the relevant interface</p>
</li>
<li>Agenda Agenda item number 1 MFCOM Basics Start Using MFCOM Future And Takeaways Labs In Action</li>
<li><p>What Will You Learn?</p>
</li>
<li><p>When and how to use MFCOM</p>
</li>
<li><p>Navigating the documentation</p>
</li>
<li><p>Using major MFCOM objects</p>
</li>
<li><p>Auditing the farm</p>
</li>
<li><p>Automating Citrix Presentation Server™ management tasks</p>
</li>
<li><p>Labs: Commonly Done Presentation Server Administration Tasks</p>
</li>
<li><p>Lab 1: Servers and Applications</p>
</li>
<li><p>Lab 2: Create a Load Evaluator</p>
</li>
<li><p>Lab 3: Take the Server Offline</p>
</li>
<li><p>Extra Credit:</p>
</li>
<li><p>Printing</p>
</li>
<li><p>Auditing Using Enumerations</p>
</li>
<li><p>Object associations as a powerful tool for auditing
Zones Farm Apps Servers Sessions Sessions</p>
</li>
<li><p>Lab 1 : Servers and Applications</p>
</li>
<li><p>List servers and applications in the Farm.</p>
</li>
<li><p>List Applications on each server.</p>
</li>
<li><p>List Servers for each application</p>
</li>
<li><p>Use of MetaFrameServer and MetaFrameApplication methods/properties.</p>
</li>
<li><p>Simple Administration Tasks</p>
</li>
<li><p>Creating new entities in the farm</p>
</li>
<li><p>Create an Object in MFCOM</p>
</li>
<li><p>Initialize the necessary data</p>
</li>
<li><p>SaveData – Saving data to IMA Datastore</p>
</li>
<li><p>Changing the configuration settings for the existing entities</p>
</li>
<li><p>Create an Object (CreateObject method)</p>
</li>
<li><p>Initialization – Initialize or set methods</p>
</li>
<li><p>LoadData – Loading data from IMA Datastore</p>
</li>
<li><p>Change the settings</p>
</li>
<li><p>SaveData – Save data back to IMA Datastore</p>
</li>
<li><p>Lab2 : Create a Load Evaluator</p>
</li>
<li><p>Create a Load Evaluator</p>
</li>
<li><p>Set the name and description</p>
</li>
<li><p>Create a LMRule for CPU utilization</p>
</li>
<li><p>Create a LMRules collection and add a rule</p>
</li>
<li><p>Set Load Evaluator Rules and save the data</p>
</li>
<li><p>Use of MetaFrameLoadEvaluator, MetaFrameLMRule and MetaFrameLMRules methods/properties.</p>
</li>
<li><p>Inside MFCOM</p>
</li>
<li><p>COM Free threading model</p>
</li>
<li><p>Error reporting</p>
</li>
<li><p>Limited error codes as HRESULT</p>
</li>
<li><p>Exceptions in. NET</p>
</li>
<li><p>MFCOM user</p>
</li>
<li><p>Current user vs. other user (runas)</p>
</li>
<li><p>MFCOM impersonates before calling IMA</p>
</li>
<li><p>Complex Management Tasks</p>
</li>
<li><p>Connecting more than one entity in the farm</p>
</li>
<li><p>Series of tasks with proper ordering</p>
</li>
<li><p>Repetitive pattern</p>
</li>
<li><p>Examples</p>
</li>
<li><p>Take the server offline</p>
</li>
<li><p>Migrate applications from one farm to another</p>
</li>
<li><p>Remove the server from N applications</p>
</li>
<li><p>Lab3 : Taking The Server Offline</p>
</li>
<li><p>How to take the server offline for maintenance purpose gracefully?</p>
</li>
<li><p>Steps -</p>
</li>
<li><p>Prevent the new connections</p>
</li>
<li><p>Communicate to the users</p>
</li>
<li><p>Let the connections drain</p>
</li>
<li><p>Logoff the sessions after timeout period</p>
</li>
<li><p>Use of MetaFrameLoadEvaluator, MetaFrameSession and MetaFrameServer methods/properties.</p>
</li>
<li><p>Advanced MFCOM Usage</p>
</li>
<li><p>Multi farm management</p>
</li>
<li><p>Create objects on the multiple remote servers</p>
</li>
<li><p>C/# - Activator method</p>
</li>
<li><p>VBScript - CreateObject((&quot;MetaFrameCOM.MetaFrameFarm&quot;, ServerName1)</p>
</li>
<li><p>Event handling</p>
</li>
<li><p>Server, Application and Folder Events</p>
</li>
<li><p>Create, update (rename), move and delete</p>
</li>
<li><p>MetaFrameFarmEvent enum, IMetaFrameEventQueue , CreateEventQueue2 method in MetaFrameFarm</p>
</li>
<li><p>Extra Credit : Printing</p>
</li>
<li><p>List printer drivers on every server</p>
</li>
<li><p>Use of MetaFrameServer and MetaFramePrinterDriver Methods</p>
</li>
<li>Agenda Agenda item number 1 MFCOM Basics Start Using MFCOM Labs In Action Future and Takeaways</li>
<li><p>CPSSDK</p>
</li>
<li><p>Scalability</p>
</li>
<li><p>Highly scalable in large farm environment</p>
</li>
<li><p>Usability</p>
</li>
<li><p>Consolidation of interfaces and methods</p>
</li>
<li><p>Enhanced consistency in object behavior</p>
</li>
<li><p>Easy multi-farm management</p>
</li>
<li><p>Better .Net Support</p>
</li>
<li><p>.NET assembly</p>
</li>
<li><p>.NET versioning and generics
Next-generation Presentation Server Management SDK</p>
</li>
<li>How Does CPSSDK Work ? IMACOM IMA LHC DCOM RPC SAL SAL SAL Data Store Data Collector Citrix Presentation Server Windows Machine CPSSDK Client Cached Data Chunky Calls SAL : Subsystem Access Layer</li>
<li>Work Smarter and Faster Start Using MFCOM Today !</li>
<li><p>Before you leave…</p>
</li>
<li><p>Overall conference survey is available online at www.citrixiforum.com starting Wednesday, October 24 (please provide feedback)</p>
</li>
<li><p>Download workshop materials from www.citrixiforum.com starting Monday, October 29</p>
</li>
<li><p>Leftover workshops handouts can be found at the HOT Assistance Center Desk
*</p>
</li>
<li>Data Type: LMRuleSchedule Start time End time Bit 15-0 Bit 31-16 Half hour Bit 4 Not used Bit 7-5 Day of week Hour (in military time format) Bit 3-0 Bit 15-8</li>
</ul>
<p><a href="http://www.slideshare.net/signup?from=addcontact&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" title="Add as my contact" target="_blank">+</a> <a href="http://www.slideshare.net/vishalganeriwala" title="vishalganeriwala" target="_blank"><img src="" alt="vishalganeriwala">vishalganeriwala</a>, 12 months ago</p>
<p>Embed  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">custom</a> Without related presentations
For WordPress.com</p>
<p>1343 views, 2 favs, 2 embeds <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#stats-bottom" target="_blank">more stats</a>
This is a basic presentation done at Citrix IForum <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">more</a></p>
<p>This is a basic presentation done at Citrix IForum 2007 event. It is a good overview for anyone getting started with Citrix MFCOM <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">less</a></p>
<h2 id="-related-presentations-http-www-slideshare-net-vishalganeriwala-citrix-mfcom-programming-for-administrators-presentation-relatedlist-"><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#relatedList" target="_blank">Related Presentations</a></h2>
<ul>
<li><a href="http://www.slideshare.net/michaelharriescitrix/cloud-computing-and-citrix-c3" title="Cloud Computing And Citrix C3" target="_blank"><img src="" alt="Cloud Computing And Citrix C3"> Cloud Computing And Citrix C3</a></li>
<li><a href="http://www.slideshare.net/wimleers/drupal-cdn-integration-easier-more-flexible-and-faster" title="Drupal CDN integration: easier, more flexible and faster!" target="_blank"><img src="" alt="Drupal CDN integration: easier, more flexible and faster!"> Drupal CDN integration: easier, mo…</a></li>
<li><a href="http://www.slideshare.net/crmachado/Top-10-Items-Found-by-Citrix-Consulting-on-Assessments" title="Top 10 Items Found By Citrix Consulting On Assessments" target="_blank"><img src="" alt=""> <img src="" alt="Top 10 Items Found By Citrix Consulting On Assessments"> Top 10 Items Found By Citrix Consu…</a></li>
<li><a href="http://www.slideshare.net/pbird/eg-citrix-monitor-1197250" title="eG Citrix Monitor" target="_blank"><img src="" alt="eG Citrix Monitor"> eG Citrix Monitor</a></li>
<li><a href="http://www.slideshare.net/mikebrittain/how-to-get-to-second-base-with-your-cdn" title="How to Get to Second Base with Your CDN" target="_blank"><img src="" alt="How to Get to Second Base with Your CDN"> How to Get to Second Base with You…</a></li>
<li><a href="http://www.slideshare.net/wimleers/faster-more-flexible-cdn-integration" title="Faster &amp; more flexible CDN integration" target="_blank"><img src="" alt="Faster &amp; more flexible CDN integration"> Faster &amp; more flexible CDN integra…</a></li>
<li><a href="http://www.slideshare.net/ar_maniacs/lets-make-your-cdn-with-ruby" title="Let&#39;s make your CDN with RUBY" target="_blank"><img src="" alt="Let&#39;s make your CDN with RUBY"> Let&#39;s make your CDN with RUBY</a></li>
<li><a href="http://www.slideshare.net/xen_com_mgr/xs-japan-2008-citrix-japanese" title="XS Japan 2008 Citrix Japanese" target="_blank"><img src="" alt="XS Japan 2008 Citrix Japanese"> XS Japan 2008 Citrix Japanese</a></li>
<li><a href="http://www.slideshare.net/areconster/citrix-xenserver" title="Бесплатная виртуализация Citrix XenServer для компаний" target="_blank"><img src="" alt="Бесплатная виртуализация Citrix XenServer для компаний"> Бесплатная виртуа�…</a></li>
</ul>
<h2 id="-more-by-user-http-www-slideshare-net-vishalganeriwala-citrix-mfcom-programming-for-administrators-presentation-morelist-"><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#moreList" target="_blank">More by user</a></h2>
<p><a href="http://www.slideshare.net/vishalganeriwala/slideshows" title="View all presentations from this user" target="_blank">View all presentations from this user</a></p>
<h2 id="more-info">More Info</h2>
<p>© All Rights Reserved
Go to <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#text-version" target="_blank">text version</a></p>
<ul>
<li><p><strong>Total Views</strong> 1343</p>
</li>
<li><p>1328 on SlideShare</p>
</li>
<li>15 from embeds</li>
<li><strong>Comments</strong> 0</li>
<li><strong>Favorites</strong> 2</li>
<li><p><strong>Downloads</strong> 34
<strong>Most viewed embeds</strong></p>
</li>
<li><p>9 views on <a href="http://localhost.citrix.com" target="_blank">http://localhost.citrix.com</a></p>
</li>
<li>6 views on <a href="http://ftlwvishalg02:8080" target="_blank">http://ftlwvishalg02:8080</a></li>
</ul>
<p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">more</a></p>
<p><strong>All embeds</strong></p>
<ul>
<li>9 views on <a href="http://localhost.citrix.com" target="_blank">http://localhost.citrix.com</a></li>
<li>6 views on <a href="http://ftlwvishalg02:8080" target="_blank">http://ftlwvishalg02:8080</a></li>
</ul>
<p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">less</a></p>
<ul>
<li>Also on <a href="http://www.linkedin.com/opensocialInstallation/preview?_ch_panel_id=1&amp;_applicationId=1200&amp;trk=p_slideshare" target="_blank">LinkedIn</a></li>
<li>Uploaded via <a href="http://www.slideshare.net/" target="_blank">SlideShare</a></li>
<li>Uploaded as <a href="http://www.slideshare.net/" target="_blank">Microsoft PowerPoint</a></li>
</ul>
<p><a href="http://www.slideshare.net/signup?from=flagss&amp;from_source=http%3A%2F%2Fwww.slideshare.net%2Fvishalganeriwala%2Fcitrix-mfcom-programming-for-administrators-presentation" target="_blank">Flagged as inappropriate Flag as inappropriate</a>  Flag as innappropriate</p>
<p>Select your reason for flagging this presentation as inappropriate. If needed, use the <a href="http://www.slideshare.net/feedback" title="FeedBack" target="_blank">feedback</a> form to let us know more details.</p>
<p>None Pornographic Copyright Violation Defamatory Illegal/Unlawful Other Terms Of Service Violation  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Cancel</a></p>
<h2 id="categories">Categories</h2>
<ul>
<li><strong><a href="http://www.slideshare.net/category/"></a></strong></li>
<li><strong><a href="http://www.slideshare.net/category/technology" target="_blank">Technology</a></strong>
Automotive Books Business &amp; Mgmt Career Design Education Entertainment Fashion &amp; Beauty Finance Gadgets &amp; Reviews Health &amp; Medicine How-to &amp; DIY Humor Investor Relations News &amp; Politics Pets Photos Real Estate Spiritual Sports Technology Templates &amp; Forms Travel  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Cancel</a></li>
</ul>
<h2 id="tags">Tags</h2>
<ul>
<li><strong><a href="http://www.slideshare.net/tag/cdn" target="_blank">cdn</a></strong></li>
<li><strong><a href="http://www.slideshare.net/tag/mfcom" target="_blank">mfcom</a></strong></li>
<li><strong><a href="http://www.slideshare.net/tag/citrix" target="_blank">citrix</a></strong></li>
<li><strong><a href="http://www.slideshare.net/tag/xenapp" target="_blank">xenapp</a></strong>
--&gt;</li>
</ul>
<p><a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" title="Search for, view and download presentations" target="_blank">Search</a></p>
<p><a href="http://www.slideshare.net/rss/latest" target="_blank">RSS Feed</a></p>
<p><strong>What&#39;s new?</strong></p>
<p><a href=""></a><a href="http://blog.slideshare.net/2009/08/03/worlds-best-presentation-contest-is-back-and-more-social-than-ever/">Participate in the SlideShare World&#39;s Best Presentation Contest 2009...</a></p>
<ul>
<li><strong>Info</strong></li>
<li><a href="http://www.slideshare.net/about" target="_blank">About</a></li>
<li><a href="http://blog.slideshare.net/" target="_blank">Blog</a></li>
<li><a href="http://www.slideshare.net/about/press" target="_blank">Press</a></li>
<li><a href="http://www.slideshare.net/about/advertise" target="_blank">Advertise</a></li>
<li><p><a href="http://www.slideshare.net/about/workatslideshare" target="_blank">Jobs</a></p>
</li>
<li><p><strong>Using SlideShare</strong></p>
</li>
<li><a href="http://www.slideshare.net/tour" target="_blank">Quick Tour</a></li>
<li><a href="http://www.slideshare.net/terms" target="_blank">Terms of Use</a></li>
<li><a href="http://www.slideshare.net/privacy" target="_blank">Privacy Policy</a> &amp; <a href="http://www.slideshare.net/terms#dmca" target="_blank">DMCA</a></li>
<li><p><a href="http://www.slideshare.net/community_guidelines" target="_blank">Community Guidelines</a></p>
</li>
<li><p><strong>Help</strong></p>
</li>
<li><a href="http://www.slideshare.net/feedback" target="_blank">Feedback / Contact</a></li>
<li><a href="http://www.slideshare.net/faqs" target="_blank">FAQ</a></li>
<li><p><a href="http://getsatisfaction.com/slideshare" target="_blank">Forum</a></p>
</li>
<li><p><strong>Explore</strong></p>
</li>
<li><a href="http://www.slideshare.net/invite?from=footer" target="_blank">Find your Friends</a></li>
<li><a href="http://www.slideshare.net/events-add" target="_blank">Events</a></li>
<li><a href="http://www.slideshare.net/developers" target="_blank">Developers &amp; API</a></li>
<li><a href="http://www.slidesharetoys.com/" target="_blank">Karaoke</a></li>
<li><a href="http://www.slideshare.net/faqs/slidecast" target="_blank">Make a Webinar</a></li>
<li><p><a href="http://www.slideshare.net/youtube-in-slideshare" title="Add YouTube videos to your slides" target="_blank">SlideShare+YouTube</a></p>
</li>
<li><p><strong>Slideshare Outside</strong></p>
</li>
<li><a href="http://www.linkedin.com/opensocialInstallation/preview?_ch_panel_id=1&amp;_applicationId=1200" title="SlideShare for LinkedIn" target="_blank">Linkedin App</a></li>
<li><a href="http://apps.facebook.com/slideshare" title="SlideShare for Facebook" target="_blank">Facebook App</a></li>
<li><a href="http://www.slideshare.net/developers/apps/pptribbon" title="SlideShare Plugin for PowerPoint 2007" target="_blank">SlideShare in PowerPoint</a></li>
<li><a href="http://www.slideshare.net/mobile" title="SlideShare Mobile" target="_blank">SlideShare Mobile</a></li>
</ul>
<p>© 2009 SlideShare Inc. All Rights Reserved</p>
<ul>
<li>Favorited! Add tags?  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Cancel</a></li>
<li>Edit your favorites  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Cancel</a></li>
<li>Send to your Group / Event Select Group / Event
Add your message  <a href="http://www.slideshare.net/vishalganeriwala/citrix-mfcom-programming-for-administrators-presentation#" target="_blank">Cancel</a></li>
</ul>
<p><a href="http://www.quantcast.com/p-abU44ONrAuwk2" target="_blank"><img src="" alt="Quantcast"></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/虚拟化_Citrix/">虚拟化_Citrix</a></li></span></span> | <span class="tags">Tagged <a href="/tags/虚拟化_Citrix/" class="label label-primary">虚拟化_Citrix</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:37"datetime="2014-03-07 09:54:37"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-虚拟化_Citrix--CitrixMfcomProgrammingForAdministrators/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-虚拟化_Citrix--CitrixMfcomProgrammingForAdministrators" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-虚拟化_Citrix--Citrix系统的安全分析--欢迎访问417的博客/">Citrix 系统的安全分析</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:37.000Z"> <a href="/2014/02/02/2014-02-02-虚拟化_Citrix--Citrix系统的安全分析--欢迎访问417的博客/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="citrix-417-">Citrix 系统的安全分析--欢迎访问417的博客</h1>
<p><a href="http://www.bokee.com/" target="_blank">首页</a> | <a href="http://group.bokee.com/" target="_blank">博客群</a> | <a href="http://blogs.bokee.com/" target="_blank">公社</a> | <a href="http://column.bokee.com/" target="_blank">专栏</a> | <a href="http://bbs.bokee.com/" target="_blank">论坛</a> | <a href="http://photo.bokee.com/" target="_blank">图片</a> | <a href="http://news.bokee.com/" target="_blank">资讯</a> | <a href="http://reg.bokee.com/account/web/register.jsp" target="_blank">注册</a> | <a href="http://help.bokee.com:8086/help/index.html" target="_blank">帮助</a> | <a href="http://lianbo.booso.com/" target="_blank">博客联播</a> | <a href="http://ping.bokee.com:81/memcm/random.b" target="_blank">随机访问</a></p>
<h1 id="-417-http-www417-bokee-com-index-html-"><a href="http://www417.bokee.com/index.html" target="_blank">欢迎访问417的博客</a></h1>
<p><a href="http://www417.bokee.com/5962997.html" title="上一篇" target="_blank">特别的一晚</a>- -| <a href="http://www417.bokee.com/index.html" target="_blank">回首页</a> | <a href="http://www417.bokee.com/catalog_2007.html" target="_blank">2007年索引</a> | - -<a href="http://www417.bokee.com/6103623.html" title="下一篇" target="_blank">Pic-2</a></p>
<h2 id="citrix-">Citrix 系统的安全分析</h2>
<p><strong>关键词</strong>： <a href="http://tag.bokee.com/tag/Citrix" target="_blank">Citrix</a>                                          </p>
<p>// 很久以前翻译的一篇文章，2004年发给黑防了。</p>
<p>编者按：虚拟工作平台已开始的从单纯的透过网页传播信息，变化到利用Internet、Interanet、Extranet的基础建设来达到合作、交易及知识管理的目的。这项新的网页环境最基本需求之一是安全的配置、重要的营业应用软件。不相容的整合导致无法即时分享重要的信息，造成时间、金钱及附加价值的损失。这是为什么成千上万个大型企业团体选择在全球具有领导地位的Citrix的主要原因。下文介绍的是Citrix中不可忽略的一个因素——安全！</p>
<p>Citrix 系统的安全分析
原作者/Brian Madden
翻译/417
一、介绍
Citrix系统是一款广泛流行的远程桌面控制程序，类似于 Microsoft 的 Terminal Services，但是原理不同，Microsoft Terminal Services 使用的是 RDP(Remote Desktop Protocol) 协议，而 Citrix 使用的是 ICA (Independent Computing Architecture)协议。(实际上 Microsoft 买断了 Citrix 的另一项技术 Citrix MultiWin，并使它可以与 Windows 同内核工作，以支持多用户并行会话，在 Windows 2000 操作系统中才被正式命名为RDP。Citrix 的产品和技术已被全球超过2000万的用户所采纳，其中包括世界财富100强的所有企业和公司，世界财富500强的企业中亦有85%选用 Citrix 的产品。Citrix 的客户包括 MCI Worldcom、Qantas、朗讯、北方电信、摩托罗拉、诺基亚、香港电信、JPMorgan、雀巢公司、壳牌集团、UCLA（加利福尼亚大学洛杉矶分校）、香港大学等等——译者注)
在本文中，我将简要介绍Citrix是怎样工作的，和如何更好的配置Citrix使用者权限。
要声明的是，作者是Citrix MetaFrame XP的高级技术顾问之一，但并不是Citrix的管理员，以下有些想法并不完美，不过本文的重点并不是这些，请根据具体情况。如果有错误可以联系 <a href="mailto:wirepair@roguemail.net">wirepair@roguemail.net</a>。
二、Citrix 的工作方式
我列在这里的是几种Citrix可能被用到的解决方式：
1、Citrix MetaFrame
Citrix MetaFrame 有三个不同的版本：XPs，XPa及 XPe。分别适合不同的环境使用。其中 XPe 是完全安全版，包括一些不同于其他版本的管理选项。XPa 和 XPe 则稍微少一点。在此篇文章中，我们只讨论 XPe，但是其中的大部分功能都能在其他版本上应用。Citrix 默认使用 1494 端口并且只和使用了 Citrix ICA 加密协议的客户端通信。
2、Citrix NFuse/Citrix 安全网关
Citrix NFuse 允许管理员锁定程序而只能通过 Web 浏览器通信。Citrix NFuse 默认是安装的 IIS 5.0 上的，但是在这篇文章中，我们将试着把它安装在 Apache 上。当然也许读者对在 IIS 5.0 上的安装/配置/管理 Citrix NFuse 更感性趣，我们稍后会涉及到这个问题。下面谈到的应用若没有特别指出则全部使用 SSL 128 位加密。
Citrix NFuse 默认安装情况下的远程权限规则允许管理员执行 Citrix 安全网关。如果管理员适当的配置了 NFuse，远程用户将则不能直接通过 Citrix Server。所有通过 Citrix NFuse 服务器和安全网关的连接将被过滤。如图1所示：</p>
<p><img src="" alt=" "></p>
<p>图1
三、以攻击者的角度思考问题
根据简图，我们发现使用者不能获得一个和 Citrix Server 直接的连接，但是可以通过 DMZ 到 Internal network。
在默认安装的 NFuse 并且没有安全网关配合的情况下，使用者接触到 NFuse Web Server,之后一旦发出了请求并确认，使用者将获得一个直接连接 Citrix Server 的通道，你可以看出这个有个问题，恶意使用者可以在和 Citrix Server 连接好的情况下，再进行先前的请求扫描，通过搜集请求列表之后建立自己的 .ICA 文件，里面包含了他们指定的信息。这就意味着，如果当前的情况是在网络边界，就有两个漏洞可以通过防火墙。一个是 IIS，一个是 Citrix。
.ICA 文件是一种基于文本结构的文档，包含所有的配置信息。这个文件一般是给最终用户使用，在安装完 Citrix 客户端以后，双击这个文件就可以自动连接 .ICA 文件中指定的服务器。
如果 NFuse 被使用的情况下通常就不需要 .ICA 文件了。假设 A 用户打开 Web 浏览器来到 NFuse Web 服务器，将使用他在 NT 域中的账号。如果成功登陆，A 用户将得到一张他 Citrix Farm 上有权使用的程序列表。
有多种方法可以得到运行在 Citrix 主机上的远程桌面，最近 Ian Vitek 发布了一些很有用的 PERL 脚本工具。我最常用的扫描 Citrix 请求的工具在这个可以下载：
<a href="http://www.cqure.net/itools01.html" target="_blank"><a href="http://www.cqure.net/itools01.html">http://www.cqure.net/itools01.html</a></a>
这个工具列出了远程机器上允许的请求，得到这些列表之后我们就可以通过修改 .ICA 文件中的请求信息。再这之后，你就可以尝试针对一些容易猜到的账号进行攻击，我的经验是尝试攻击一些专门用来做备份工作的账号。
（如果上面的程序在你的机器上不能很好的工作，你可以试试这个:<a href="http://sh0dan.org/files/pubappbrute.tar.gz）" target="_blank">http://sh0dan.org/files/pubappbrute.tar.gz）</a>
假设你已经做好一切准备，只是没有好运气的话，你可以尝试 GUEST 账号，虽然通常情况下GUEST没有足够的登陆权限。
从 .ICA 文件入手来看：
[WFClient]
Version=2
TcpBrowserAddress=ip.ip.ip.ip</p>
<p>[ApplicationServers]
word=</p>
<p>[word]
Address=word
InitialProgram=/#word
ClientAudio=Off
Compress=On
TWIMode=On
DesiredHRES=800
DesiredVRES=600
DesiredColor=4
TransportDriver=TCP/IP
WinStationDriver=ICA 3.0</p>
<p>通过分析看来Citrix在运行时似乎寻找了 [word] 中 InitialProgram 的数据。如果我们把这个数据修改成cmd.exe 或 explorer.exe 会怎么样？呵呵，幸运的是我们真的可以指定运行这个程序，我曾利用这个方法无数次的绕过了登陆检查。只要确定程序是有效的存在的我们就可以运行它。现在我们已经在Citrix有了一个远程 shell。如果你运行的是 explorer.exe，那么你就打开了一个真正的桌面。我希望你熟悉如何提升自己的权限，在这里我就不多说了。另外，即使我以 guest 身份进入系统，我也可以运行只有管理员才可以运行的工具。很明显，这是一个严重的漏洞，你可以在网络上发现大量的弱口令用户。
如果他们使用 NFuse 和 Citrix Secure Gateway 过滤了所有通过防火墙的连接。这样你修改 .ICA 文件就没用了。但是我们仍有很多的机会获得远程桌面。一般情况下 Citrix 管理员经常在办公室远程操作，太好了，如果你有权远程使用 excel ，做个一个 vbscript 当到启动菜单里面，就算你像我一样懒，只是用 IE 浏览网页的话，我们也可以得到 C:\winnt\explorer.exe，其他 Microsoft Word 软件都可以做到。实际上决大多数情况下，我们可以通过 帮助--&gt;帮助主题--&gt;跳至URL 填写 cmd.exe 你可以下载它。如果你的远程机器上有写权限，修改你的.ICA 文件，哈哈，你又可以得到一个 shell 了。
类似的方法还有很多，你可以打开进程管理器启动一个新的进程，或者利用大部分程序中 打开--&gt;浏览 获得一个 shell,如果你可以浏览远程机器，还可以从默认的配置文件目录：
NT4 ： %systemroot%\profiles\username\Application Data\
Windows 2000 ： C:\Documents and Settings\username\Application Data\
将里面的 .ICA 文件复制过来，覆盖你相应目录下的文件，之后打开 Citrix Program Neighborhood 你会发现你有权向所有已经连接的用户发出修改密码的消息。
四、安全的Citrix
还好这里有很多资料来提醒管理员加固Citrix，我曾经花费几周的时间试图找出一个应用与安全相平衡的安全策略：
1、首先正确配置 NFuse / Citrix Secure Gateway
2、确定 IIS/Apache 已经打了最新补丁，并且在 DMZ 的保护中，或者使用 NTLM 认证
3、如果可能，要求远程用户使用 SecureID 认证方式（原有的 ICA 认证方式，被发现存在弱加密算法漏洞——译者注）
4、使用其它的浏览器取代 IE
5、建立一个组，把所有Citrix用户放到这个组里面，禁止他们访问 cmd.exe, <a href="ftp://ftp.exe/">ftp://ftp.exe/</a>, tftp.exe, rcp.exe, net.exe,command.com, iexplorer.exe 等可能对系统有危害的权限(在安全与应用的平衡之间选择)
6、给你的Citrix打上最新的补丁
7、禁止 winhelp32 的访问，设置 Internet 选项禁止下载,禁止使用进程管理器
8、如果可能，设置 Citrix Connection Configuration—&gt;ica-tcp—&gt;client settings —&gt;选择必须
五、写在最后
翻译完着篇文章发现 Citrix系统很类似现在网吧广泛应用的类似虚拟桌面的程序，在研究了应用比较广泛的几款网吧管理程序后发现，此类程序都并非建立的系统内核基础上，很容易利用 Windows 本身的机制绕过，这才是这类软件漏洞产生的根本原因。</p>
<p>名词解析：
DMZ：De-Militarized Zone，非军事区，是防火墙的一个特性。它可以使某台特定计算机向互连网开放。有些应用程序需要开通多个TCP/IP接口。而DMZ就可以为微机实现这些功能。</p>
<p>【作者: <a href="">417</a>】【访问统计:  】【2007年01月4日 星期四 20:18】【<a href="http://reg.bokee.com/account/web/register.jsp" target="_blank">注册</a>】【<a href="">打印</a>】</p>
<p>[</p>
<h3 id="-">搜索</h3>
<p>]()   <a href=""><img src="" alt="Google"></a>
[</p>
<h3 id="trackback">Trackback</h3>
<p>]()</p>
<p>你可以使用这个链接引用该篇文章 <a href="http://publishblog.blogchina.com/blog/tb.b?diaryID=6017226" target="_blank">http://publishblog.blogchina.com/blog/tb.b?diaryID=6017226</a></p>
<p>[</p>
<h3 id="-">回复</h3>
<p>]()
验证码：    <img src="" alt=""> 评论内容：
/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>作者已禁止回复功能/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>/<em>/</em>
<a href="http://blog.bokee.com/" target="_blank">2003-2004 BOKEE.COM All rights reserved</a>
<a href="http://www.blogdriver.com/" target="_blank">Powered by BlogDriver 2.1</a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/虚拟化_Citrix/">虚拟化_Citrix</a></li></span></span> | <span class="tags">Tagged <a href="/tags/虚拟化_Citrix/" class="label label-primary">虚拟化_Citrix</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:37"datetime="2014-03-07 09:54:37"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-虚拟化_Citrix--Citrix系统的安全分析--欢迎访问417的博客/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-虚拟化_Citrix--Citrix系统的安全分析--欢迎访问417的博客" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/103/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/101/">101</a></li><li><a class="page-number" href="/page/102/">102</a></li><li><a class="page-number" href="/page/103/">103</a></li><li class="active"><li><span class="page-number current">104</span></li><li><a class="page-number" href="/page/105/">105</a></li><li><a class="page-number" href="/page/106/">106</a></li><li><a class="page-number" href="/page/107/">107</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/105/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 19:05:47</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
