
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 32 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛/">BOSS业务介绍 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="boss-mscbsc-">BOSS业务介绍 - 计费与营帐系统 - MSCBSC 移动通信论坛 国内领先的通信技术论坛</h1>
<p><img src="" alt=""> 设MSCBSC为首页</p>
<p><a href="http://www.mscbsc.com/" target="_blank">移动通信网</a> | <a href="http://www.mscbsc.com/news/" target="_blank">通信要闻</a> | <a href="http://www.mscbsc.com/askpro/" target="_blank">技术问答</a> | <a href="http://www.mscbsc.com/blog/" target="_blank">博客</a> | <a href="http://www.mscbsc.com/group/" target="_blank">圈子</a> | <a href="http://www.telecomhr.com/" target="_blank">人才</a> | <a href="http://www.mscbsc.com/bbs/" target="_blank">论坛</a> | <a href="http://www.mscbsc.com/bbs/forum-74-1.html" target="_blank">资料</a> | <a href="http://www.mscbsc.com/bbs/forum-185-1.html" target="_blank">论坛指南</a> | <a href="http://www.mscbsc.com/bbs/thread-129-1-1.html" target="_blank">积分说明</a> | <a href="http://www.mscbsc.com/bbs/thread-66084-1-1.html" target="_blank">帐号的保护和激活</a><br><a href="http://www.mscbsc.com/bbs/index.php" target="_blank"><img src="" alt="MSCBSC 移动通信论坛"></a> <a href="http://www.mscbsc.com/askpro" target="_blank"><img src="" alt=""></a></p>
<p>游客:  <a href="http://www.mscbsc.com/bbs/register.php" target="_blank">注册</a> | <a href="http://www.mscbsc.com/bbs/logging.php?action=login" target="_blank">登录</a> | <a href="http://search.mscbsc.com/" target="_blank">搜索</a> | <a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank">充值威望</a> | <a href="http://www.mscbsc.com/bbs/invitecode.php" target="_blank">邀请注册</a> | <a href="http://www.mscbsc.com/askpro/index.php" target="_blank">技术问答</a> | 扩展功能<img src="" alt=""> | <a href="http://www.mscbsc.com/bbs/faq.php" target="_blank">帮助</a>
 <a href="http://www.mscbsc.com/askpro/" target="_blank">问答区</a> | <a href="http://www.mscbsc.com/bbs/search.php?srchfrom=&amp;searchsubmit=yes" target="_blank">新帖区</a> | <a href="http://www.mscbsc.com/bbs/digest.php" target="_blank">精华区</a></p>
<p>全部 帖子 资料 问答 招聘  <a href=""></a>  </p>
<p><a href="http://www.mscbsc.com/bbs/index.php" target="_blank">MSCBSC 移动通信论坛</a> » <a href="http://www.mscbsc.com/bbs/forum-216-1.html" target="_blank">计费与营帐系统</a> » BOSS业务介绍
<a href=""> 16 </a><a href=""> 1/2 </a><a href="">1</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">2</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">››</a><img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1" target="_blank">讨论帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;data=yes" target="_blank">资料帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;poll=yes" target="_blank">投票帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;reward=yes" target="_blank">悬赏帖</a></p>
<ul>
<li><em>1883</em>阅读</li>
<li><em>15</em>回复 <a href="http://www.mscbsc.com/bbs/misc.php?action=emailfriend&amp;tid=141782" target="_blank">推荐</a> | <a href="http://www.mscbsc.com/bbs/my.php?item=subscriptions&amp;subadd=141782" target="_blank">订阅</a> | <a href="http://www.mscbsc.com/bbs/my.php?item=favorites&amp;tid=141782" target="_blank">收藏</a>  <a href="http://www.mscbsc.com/bbs/forumdisplay.php?fid=216&amp;filter=type&amp;typeid=8" target="_blank">[交流]</a> BOSS业务介绍</li>
</ul>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-1000457.html">chendaji</a> <a href="http://www.mscbsc.com/bbs/thread-52231-1-1.html" title="认证专家3级" target="_blank"><img src="" alt=""></a> <img src="&quot;离线&quot;" alt="">
资深元老
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=1000457" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=1000457&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
<img src="" alt="专家·终级勋章">   <img src="" alt="纪念勋章·三周年">   <img src="" alt="纪念勋章·四周年"><br>积分 38634
帖子 961
威望 14000 个
礼品兑换分 1390 个
专家指数 3723
注册 2008-10-16
专业方向  无线网络
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000457" target="_blank">1534</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000457" target="_blank">306</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-1000457.html" target="_blank">20%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#1</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1551912" target="_blank">使用道具</a><br>发表于 2009-8-16 16:13:37  <a href="http://www.mscbsc.com/bbs/viewthread.php?tid=141782&amp;extra=page%3D1&amp;originator=yes" target="_blank">只看楼主</a>  <strong>BOSS系统介绍</strong>mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。 E&quot;U6D/<em>\6t9x
移动通信业务运营支撑系统（Business &amp; Operation Support System，简称BOSS）分为营业、计费、帐务三大分系统，各分系统间通过一定的接口相互通信，以完成对整体业务的支撑作用。
(V:\&quot;L8l&#39;V8Y4hwww.mscbsc.com<strong>营业分系统</strong>移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单%c-S)C.L5{&amp;x
营业分系统又可进一步分为营业受理子系统、营业管理子系统、客户服务子系统。营业受理子系统直接面对移动客户，主要进行移动运营商直辖的各大营业厅及代销点的营业受理，营业管理子系统主要由业务管理人员进行后台业务管理，客户服务子系统主要负责客户服务与投诉受理。
%@;M:I4`7s8Q/#W;amscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。营业子系统由营业主服务器、各子系统服务器及各类终端组成。营业主服务器负责对三个子系统进行统一管理，记录用户的基本资料，如IMSI号、MSISDN号（手机号）、品牌（如全球通、神州行、神州行2000等）、当前状态（如正常、欠费停机、报停、销户等）、入网时间、用户姓名、用户身份证号、用户联系地址、用户密码等，以及用户所拥有的各项附加功能，如主叫显示、国际长途、语音信箱、短信功能、省际漫游、国际漫游等。营业主服务器同时还要记录用户申请的各项优惠业务，如话费套餐、VPN等，对于每项优惠业务需记录申请时间、生效时间、优惠级别等等。移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单(F0o$m5Q-z&quot;S4R&quot;~&quot;S
营业受理子系统负责进行各营业厅、代销点的业务受理，由营业受理服务器及前台受理终端组成。前台终端在营业厅、各代销点使用，由营业员操作，负责日常业务受理。营业受理服务器负责运行前台受理终端使用的受理程序，接收来自终端的受理工单，并向营业主服务器发送，同时根据受理记录修改营业主服务器上的资料。;X-J&#39;F&amp;? G/#b
营业管理子系统主要负责号段管理、SIM卡管理及日常统计报表分析等工作，由后台业务管理人员使用。由于终端数量较少，一般不另设服务器，而是直接使用营业主服务器。
;G4E,c/</em>|&quot;F,K/d(G/A移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单客户服务子系统又分为普通客户服务子系统及大客户服务子系统。普通客户服务子系统负责处理日常用户的咨询、投诉等，如1860客户服务中心。普通客户服务系统通过客服服务器与营业主服务器连接，向营业主服务器发送客服受理工单。大客户服务子系统负责处理与大客户相关的各类受理及对大客户的特殊服务，通过大客户服务器与营业主服务器连接。www.mscbsc.com/<em>d.^%X&#39;^8E;W9l7U&amp;z(g;L
移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单&amp;J6m3[8a5L)t.\/#n
&#39;E7?0E&quot;c(F0j9z/</em>\mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。
/#y;t/<em>w2B.p(\ } P5mmscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。　　各类营业受理工单通过HLR派单接口向HLR发送指令，以修改HLR中的用户数据。HLR派单机连接营业主服务器与HLR，接口程序将营业主服务器上存储的受理工单转换成HLR能够识别的指令向HLR发送。HLR派单接口可以使用LAN口连接，也可以使用COM端口连接。使用LAN口可以获得较快的传输速度，有利于大批量的处理。在修改HLR数据的工单处理过程中，必须考虑到工单失败问题与工单碰撞问题。+F/a!S/M4}1K7f
由于智能网业务的不断发展，对智能用户（如&quot;神州行&quot;）的管理也逐步纳入了业务运营支撑系统管理的范畴。智能网主要由SMP（业务管理点）、SCP（业务控制点）等设备构成。SMP主要负责对智能用户资料的管理；SCP主要负责对智能用户的话单进行计费并扣帐。智能用户资料除了要在HLR中记录外，还必须在智能网中记录。业务运营支撑系统可以采用与HLR派单接口类似的做法通过与SMP的派单接口来实现对智能用户资料的管理。各类派单接口设计是营业分系统设计中的一大重点，也是一大难点。成功的派单接口设计能大大减少用户的投诉，建立良好的信誉，因此派单接口设计往往成为衡量营业分系统设计是否优良的一个重要标准。mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。2I/l8U9m/i
<strong>计费分系统</strong>MSCBSC 移动通信论坛!j3b8v8d9(y$W!H
计费分系统又可分为采集子系统、计费子系统、结算子系统。采集子系统负责从各个话单采集点采集话单，并传送至计费中心。计费子系统负责对各类话单进行计费并存入话单库，结算子系统负责处理与各省、各国之间的话费结算问题。9j$q/l$X%n7l
移动通信网络系统中的采集点主要有移动交换机、关口局、短信中心、短信网关、语音信箱、GPRS计费网关、智能网SCP等。移动交换机主要产生语音通话话单，关口局产生外网与本网间的通信话单，短讯中心产生短讯业务话单，短讯网关产生以短讯为基础的移动梦网等业务话单，语音信箱产生用户语音留言、传真留言等增值业务话单。GPRS计费网关（CG）用以收集用户使用GPRS的通信记录并合并生成话单。智能网SCP上产生智能网用户的话单。所有由网络通信设备产生的话单被称为原始话单，是相对于计费分系统计费后入库的计费话单而言的。由于智能网用户的话单直接在SCP上计费并扣帐，因此计费分系统无需对SCP上产生的话单进行再计费。其余网络通信设备上产生的话单都是未计费的，或是由合作运营商计费后仍需由计费分系统重新确认的（如梦网话单）。采集一般采用FTP、FTAM等协议，将原始话单传送至计费中心。采集子系统的采集实时性直接决定了计费子系统的实时性，因此在移动通信业务运营支撑系统中对采集的实时性要求相当高。为了保证能实时采集到话单，除了以2M以上速率的传输线路确保采集畅通外，各个采集点也应能实时生成话单。移动交换机必须能够对长时间通话的话单进行分段处理，如用户通话超过30分钟，必须能够做到每30分钟即产生一条话单。移动交换机还必须能根据话单量及时间两个要素来生成话单。在通话高峰期能够每满一定的话单量即向外推送话单文件，在通话低谷期能够每过一定时间即向外推送话单文件。移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单 A%r,I4I/</em>a;I,<code>计费子系统分为格式化、一次批价、二次批价、漫游接收上发等流程。格式化是指从网络通信设备产生的原始话单中提取出计费所需的所有内容，并转化为计费程序能够处理的格式。计费系统必需的计费信息有：呼叫类型（如主叫、被叫、呼转等）、IMSI号（记录SIM卡的国际唯一标识号）、MSISDN（手机号）、对方号码、通话起始时间、通话时长、小区位置（LAC、CELLID等）、动态漫游号（MSRN）等。数据业务，如GPRS还必须提取出上行流量、下行流量、服务质量（QoS）等。各个话单采集点在某些异常情况下可能产生重复话单，因此格式化必须有剔除重单的功能，可采用记录一段时间内所有话单的做法，只须记录有唯一性标识作用的呼叫类型、IMSI、通话起始时间、对方号码等，在格式化新话单时将新话单与已记录的话单进行比较，相同的作为重单处理。MSCBSC 移动通信论坛(U;H5F6m8{&#39;T
计费子系统一次批价根据格式化提供的标准格式话单，结合费率表、号段表、区号表等计费资料对话单进行计费。费率表中记录的信息主要有：基本计费单元、基本通话费率、长途计费单元、长途通话费率、优惠时段起始时间、优惠时段终止时间、优惠时段费率等。mscbsc 移动通信论坛拥有30万通信专业人员，超过50万份GSM/3G等通信技术资料，是国内领先专注于通信技术和通信人生活的社区。&quot;U.C/#l9X6i9_
计费子系统二次批价在一次批价的基础上，根据用户入网所享受的各项优惠对话单进行重计费，以最终生成向用户收费的话单。用户所享受的各项优惠记录在营业分系统的用户资料中，因此二次批价必须结合营业资料进行。如果对每一条话单进行二次批价时都进行一次对营业数据库的查询操作，势必会大大增加数据库的负担，严重影响营业、计费分系统的运行速度。因此必须为二次批价专门建立一个营业资料数据库，存放二次批价需要的用户数据，并定时与营业数据库进行同步操作。同时必须采用内存数据库技术，将二次批价中需要频繁用到的营业资料载入内存，以大大提高二次批价对营业资料访问的速度，同时减小主服务器的负担。采用内存数据库技术就必须对计费主机的内存实行优化，各个计费进程必须能合理地使用主机内存。二次批价根据不同的优惠业务采用流水线式的处理流程。各个不同的优惠业务彼此间相互渗透，因此二次批价中各个优惠业务间的处理顺序显得尤为重要。
:p V2T&#39;L+{$k6A0c4TMSCBSC 移动通信论坛漫游是移动通信的特性，漫游类型分为非漫游、省内漫游、省际漫游、国际漫游等。许多原始话单中都没有用户是否漫游的标志，计费子系统就必须根据原始话单产生地结合号段表来进行判定。由于话单一般产生在到访地，如果原始话单中包含了异地手机用户的话单，则表明此用户漫游至话单产生地。如果许多不同地域的话单都集中于同一地点产生，根据原始话单产生地也无法判定用户的漫游类型，就必须通过原始话单中记录的用户通话时的位置（如LAC、CELLID等）来进行判定了。
$H$}+R&amp;z3i&amp;Twww.mscbsc.com动态漫游号主要用于判定移动通信计费中特殊的同城计费原则，即两个用户在同一城市行政区域内通话时不收取长途费。动态漫游号是用户发起主叫时由被叫用户所在的交换机分配给主叫用户的临时号码，不同的城市行政区域使用不同的号段。根据主叫方的动态漫游号结合被叫方的漫游位置即可判定主被叫用户是否同城。而对于被叫用户由于没有动态漫游号，同城原则只能根据主叫号码的归属地进行判定。若主叫方归属地不在被叫漫游位置，即使主叫方漫游与被叫同城，也无法对被叫实现同城优惠。例如：两个福州的用户同时漫游至北京时相互通话，主叫方可以享受同城优惠，而被叫方就无法享受同城优惠。/Z z&quot;R/Y6^:c!R;N)H
计费子系统需将漫游至本地的外地用户的话单转换为标准格式上发给外地的移动运营商，同时还必须接收外地运营商传来的本地用户漫游至外地的话单并计费。这些话单也是结算的依据。漫游话单的上下发一般由一个全国性中心局来负责统一处理。
&#39;n)f&#39;|:T,x+J&quot;A.}5NMSCBSC 移动通信论坛结算子系统用于处理与其它运营商之间的话费结算问题。结算的总原则是：若其它运营商的客户使用了我运营商的通信资源，则其运营商需向我运营商支付费用；若我运营商的客户使用了其它运营商的通信资源，则我运营商需向其它运营商支付费用。结算包括网内漫游结算及网间结算。网内漫游结算是指同一运营商内部各公司间因用户互相漫游而发生的结算，一般体现为各省之间的漫游结算，例如福建的用户漫游到北京，则福建需向北京支付结算费用。网间结算包括国内网间结算及国际网间结算。网间结算既可能因为漫游而使用了其它运营商的通信资源而产生，即网间漫游结算，也可能因为进行网间通信时使用了其它运营商的通信资源而产生，即网间通信结算。目前我国各移动运营商间尚未实现基站共享，因此国内网间结算均为网间通信结算。例如中国移动的用户如果直接拨打异地的中国电信固定电话（即区号+固定电话号码），则使用了中国电信的长途通信资源，中国移动须向中国电信支付长途结算费用；如果中国移动的用户使用17951拨打异地的中国电信固定电话（即17951+区号+固定电话号码），则使用中国移动的IP长途通信资源，中国移动就不必向中国电信支付长途结算费用。国际网间结算既可能有网间漫游结算，也可能有网间通信结算。例如，芬兰的移动客户漫游至中国，使用了中国的移动通信资源，则芬兰的移动运营商需向中国的移动运营商支付费用，这就是国际网间漫游结算。在移动通信网的设计中，可在不同运营商的网络间设立关口局用于处理网间通信结算问题，由关口局记录双方用户使用对方网络资源的状况，结算子系统直接从关口局读取原始话单计算结算费用。由于各运营商间的结算一般采用按月、季等时间单元进行，因而结算子系统对于实时性要求不高，在移动业务运营支撑系统的设计中显得相对简单。&quot;\0E:F-~5~6E3v
**帐务分系统**MSCBSC 移动通信论坛,K)[/*P6[-P&#39;w+U/m/B&quot;U&quot;M/*l
帐务分系统又可分为实时出帐子系统、月出帐子系统和销帐子系统。实时出帐子系统将计费子系统计费后的话单金额进行实时累加，达到一定额度后出帐。月出帐子系统负责对用户每月应固定缴纳的费用进行出帐。销帐子系统对各类帐单进行收费。4N7m!s x9Z/#v0D r
实时出帐子系统通过与计费分系统的接口获取计费后的话单，并对每一个用户的话单金额进行实时累加，生成实时帐单。由于用户可能因为SIM卡损坏等原因更换SIM卡，即可能变更IMSI号，因此实时帐单不能根据IMSI号进行累加；由于用户也可能申请变更手机号，因此实时帐单也不能根据MSISDN（手机号）进行累加。为此，在营业分系统中就必须对所有用户建立唯一标识，我们不妨称之为用户ID，无论用户更换SIM卡或是更改手机号，用户ID都保持不变，以唯一标识每一个用户，并对用户的IMSI、MSISDN的变更都留下历史记录。实时出帐子系统就可以根据用户ID来累加实时帐单。原始话单中不可能存在用户ID，计费子系统可在结合营业资料进行二次批价时在计费话单中加入用户ID，这本身也可以提高二次批价的速度。或是在实时出帐时再根据话单中的IMSI或MSISDN结合营业资料来查询用户ID。第一种方法显然是首选，可以避免实时出帐时再对营业资料进行访问。合帐时除了对用户累加总帐单金额外，还可以根据不同的帐目类别（如本地通话费、漫游通话费、长途通话费、短信费用等）分别累加帐目金额，以满足业务统计、财务报表等方面的需求。+U4b!p1D/n t&amp;\
实时出帐子系统与月出帐子系统生成的帐单通过销帐子系统送到缴费接口进行销帐，即向用户收费。销帐子系统中须为每一用户建立一个现金帐户，记录用户已缴金额。随着用户数量的不断增加，传统的营业厅现金缴费的方式已无法满足实际的需要，通过与银行配合的方式是解决这一矛盾的有效途径，如可以采用银行代缴、银行代扣等缴费方式。使用银行代缴的用户在银行的营业网点缴纳手机话费时，银行通过与移动运营商的网络通信接口将代收的话费信息传送至移动业务运营支撑系统，由销帐子系统将用户所缴纳的话费向用户的现金帐户充值，并向银行返回确认信息，银行的营业网点即通知用户缴费成功。除此以外，还可以采用充值卡等方式提供用户缴费。以上各类缴费方式中，银行代扣将用户帐户放在银行，我们称之为&quot;代扣缴费&quot;，其余的都将用户帐户放在移动业务运营支撑系统，实时出帐子系统与月出帐子系统生成的帐单根据用户的缴费方式送往不同的缴费接口。采用现金缴费的用户的帐单直接从现金帐户上扣款，采用代扣缴费方式的用户的帐单通过与各大银行的接口送往用户指定的银行帐户。销帐结果可分为：完全销帐、部分销帐、未销帐。部分销帐与未销帐即用户欠费，若用户的欠费额超过用户的停机信用度，销帐子系统即向营业分系统发出停机命令，由营业分系统通过与HLR的接口修改HLR中的用户数据。停机可分为单停、全停，单停指的是用户有呼出限制，但仍可接听电话，全停指的是用户无法呼出也无法呼入。营业分系统可以根据用户的消费状况、缴费及时率等条件给不同的用户设立不同的单停信用度、全停信用度，对于不同的欠费额采用不同的停机处理。欠费帐单专门存储，在用户缴费后立即销帐，超过一定期限才被销帐的帐单由销帐子系统计算滞纳金，与欠费帐单同时销帐。为保证滞纳金计算合理，在用户缴费后应从最早出帐的帐单开始销帐。能够完全销帐的由销帐子系统向营业分系统发出复机命令，由营业分系统通过与HLR的接口修改HLR中的用户数据。超过一定期限始终未缴费的欠费停机用户，可由营业分系统进行欠费销户处理，其欠费帐单可作坏帐处理。
7G&amp;l;K,H4c;F&#39;x移动通信,通信工程师的家园,通信人才,求职招聘,网络优化,通信工程,出差住宿,通信企业黑名单**未来发展方向**
1D,H3G&#39;s/#u0</code> |  国内领先的通信技术论坛目前，移动通信业务运营支撑系统已经越来越朝着集中化的方向发展，从原先的地市级集中向省级集中。集中化可以方便地进行异地业务受理，节约设备成本及软件开发维护费用。随着电信市场的逐步开放，各移动运营商间的竞争也将日趋激烈，各类以吸引客户为目的的优惠业务将不断涌现，对于业务运营支撑系统的要求也将越来越高。在强大的市场竞争压力下，在用系统新增业务的开发周期直接影响到移动通信企业的竞争力。因此，移动业务运营支撑系统必须具有良好的可扩展性、强大的业务适应能力，这都对系统设计提出了更高的要求。一个理想化的业务运营支撑系统必须能够通过修改业务配置表的方式来实现绝大多数的优惠业务，而不必再开发额外的程序，这就要求业务运营支撑系统必须实现智能化。智能化的关键是在系统中能够对所有业务按照系统实现的方式进行分类，建立各类业务模型，如计费单位（以分钟计费、以秒计费）、计费原则（单向计费、双向计费）、套餐类业务（包月费、各档优惠资费标准、各档非优惠资费标准）、VPN类业务（集团内优惠资费标准、集团外非优惠资费标准）等。各类业务万变不离其宗，根据其本质内容建立抽象的业务模型，再根据各类业务的特征通过继承的方式建立子类，以及对子类的再继承来实现对所有业务模型的建立，这是面向对象的思想在软件高层设计中的应用。智能化已经成为业务运营支撑系统未来的发展方向，也是今后在这一领域需要重点研究的课题
:A&amp;~,A/#A&amp;I2`9]:P |  国内领先的通信技术论坛对子类的再继承来实现对所有业务模型的建立，这是面向对象的思想在软件高层设计中的应用。智能化已经成为业务运营支撑系统未来的发展方向，也是今后在这一领域需要重点研究的课题
<img src="" alt=""><a href="http://www.mscbsc.com/bbs/down_pdf.php?tid=141782" target="_blank">免费免威望下载本帖内容PDF版</a></p>
<p><a href=""></a></p>
<p>-<img src="" alt="">
<img src="" alt=""><a href="http://www.91cool.net/" target="_blank"><img src="" alt=""></a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank"><img src="" alt=""></a>[<a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank">充值威望，立即自动到帐</a>] [<a href="http://www.mscbsc.com/pay/vippay.php" target="_blank">VIP贵宾权限+威望套餐</a>] 另有大量优惠赠送活动，请光临充值中心
充值拥有大量的威望和最高的下载权限，下载站内资料无忧
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3643240.html">wenpan007hot</a> <img src="&quot;离线&quot;" alt="">
中级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3643240" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3643240&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 984
帖子 196
威望 1464 个
礼品兑换分 10 个
专家指数 4
注册 2009-8-14
专业方向  GPRS
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643240" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643240" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3643240.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#2</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1554787" target="_blank">使用道具</a><br>发表于 2009-8-17 14:54:13  技术问题，回答得专家指数，快速升级</p>
<ul>
<li>· <a href="http://www.mscbsc.com/askpro/question42908" title="爱立信BSC级的切换参数有哪些？" target="_blank">爱立信BSC级的切换参数有哪些？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42907" title="为什么我的Pilot Navigator软件在分析log时，临区框里的内容不跟着log的位置而变化" target="_blank">为什么我的Pilot Navigator软件在分析log时，临区框里的内容不跟着log的位置而变化</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42906" title="频点干扰问题" target="_blank">频点干扰问题</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42905" title="扫楼是只看有没有信号不就行了。。。" target="_blank">扫楼是只看有没有信号不就行了。。。</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42904" title="寻呼丢弃如何优化？" target="_blank">寻呼丢弃如何优化？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42903" title="网规网优新手工资待遇问题" target="_blank">网规网优新手工资待遇问题</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42902" title="TD系统中影响接通率和掉话率的无线参数有哪些？" target="_blank">TD系统中影响接通率和掉话率的无线参数有哪些？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42901" title="那位大侠能讲一讲目前GSM接入信道的物理层详细流程吗？？" target="_blank">那位大侠能讲一讲目前GSM接入信道的物理层详细流程吗？？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42900" title="做通信设计（无线专业）可以转做网优吗？做网优更好还是设计更好呢？" target="_blank">做通信设计（无线专业）可以转做网优吗？做网优更好还是设计更好呢？</a></li>
<li>· <a href="http://www.mscbsc.com/askpro/question42899" title="一个基站同时出现严重上行干扰，该怎么解决" target="_blank">一个基站同时出现严重上行干扰，该怎么解决</a></li>
</ul>
<p>学习了。。。呵呵。。谢谢楼主的资料<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> [<a href="http://www.mscbsc.com/bbs/memcp.php?action=credits&amp;operation=addfunds" target="_blank">现在充值，立即获得威望，安全、简单、快速！</a>] [<a href="http://www.telecomhr.com/" target="_blank">怎样免费获得高薪通信职位？简单的秘密</a>]</p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-1000430.html">nj_green</a> <img src="&quot;离线&quot;" alt="">
金牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=1000430" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=1000430&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 6216
帖子 973
威望 -32 个
礼品兑换分 0 个
专家指数 0
注册 2008-10-15
专业方向  核心网
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000430" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=1000430" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-1000430.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#3</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1600502" target="_blank">使用道具</a><br>发表于 2009-9-1 12:29:16  学习一下   呵呵<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 最新通信职位：<a href="http://gd.telecomhr.com/" target="_blank">广东通信人才网</a> | <a href="http://bj.telecomhr.com/" target="_blank">北京通信人才网</a> | <a href="http://sh.telecomhr.com/" target="_blank">上海通信人才网</a> | <a href="http://nj.telecomhr.com/" target="_blank">南京通信人才网</a> | <a href="http://xa.telecomhr.com/" target="_blank">西安通信人才网</a> | <a href="http://cq.telecomhr.com/" target="_blank">重庆通信人才网</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3647822.html">huanghou</a> <img src="&quot;离线&quot;" alt="">
中级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3647822" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3647822&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 617
帖子 124
威望 190 个
礼品兑换分 0 个
专家指数 -3
注册 2009-9-26
专业方向  网络优化
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">1</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3647822.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#4</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1693299" target="_blank">使用道具</a><br>发表于 2009-9-27 09:29:57  你那个系统是哪个版本的哦 好像现在升级成4个系统了<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> [<a href="http://www.mscbsc.com/pay/vippay.php" target="_blank">2分钟拥有VIP权限和充足威望，可下载站内任何资料</a>] [<a href="http://www.telecomhr.com/" target="_blank">快速找到一份高薪的通信行业职位</a>]</p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3647822.html">huanghou</a> <img src="&quot;离线&quot;" alt="">
中级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3647822" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3647822&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 617
帖子 124
威望 190 个
礼品兑换分 0 个
专家指数 -3
注册 2009-9-26
专业方向  网络优化
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">1</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647822" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3647822.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#5</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1693305" target="_blank">使用道具</a><br>发表于 2009-9-27 09:32:03  非常感谢楼主的帖子哈 我是刚进移动的 看到你的这些介绍能更快的学习了解  谢谢诶哦  顶个<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 最新通信职位：<a href="http://gd.telecomhr.com/" target="_blank">广东通信人才网</a> | <a href="http://bj.telecomhr.com/" target="_blank">北京通信人才网</a> | <a href="http://sh.telecomhr.com/" target="_blank">上海通信人才网</a> | <a href="http://nj.telecomhr.com/" target="_blank">南京通信人才网</a> | <a href="http://xa.telecomhr.com/" target="_blank">西安通信人才网</a> | <a href="http://cq.telecomhr.com/" target="_blank">重庆通信人才网</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-10685.html">youfeng</a> <img src="&quot;离线&quot;" alt="">
论坛元老
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=10685" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=10685&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 23743
帖子 2161
威望 5406 个
礼品兑换分 10 个
专家指数 328
注册 2006-9-20
专业方向  移动通信交换
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10685" target="_blank">223</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10685" target="_blank">12</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-10685.html" target="_blank">5%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#6</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1703946" target="_blank">使用道具</a><br>发表于 2009-10-6 10:35:49  呵呵，只是知道这个BOSS，今天才知道具体的称呼。<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> [<a href="http://www.mscbsc.com/pay/vippay.php" target="_blank">2分钟拥有VIP权限和充足威望，可下载站内任何资料</a>] [<a href="http://www.telecomhr.com/" target="_blank">快速找到一份高薪的通信行业职位</a>]</p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3643480.html">mssbsc</a> <a href="http://www.mscbsc.com/bbs/thread-52231-1-1.html" title="认证专家1级" target="_blank"><img src="" alt=""></a> <img src="&quot;离线&quot;" alt="">
银牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3643480" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3643480&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
<img src="" alt="专家·初级勋章"><br>积分 4810
帖子 894
威望 9949 个
礼品兑换分 0 个
专家指数 340
注册 2009-8-17
专业方向  MSS RNC
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643480" target="_blank">8</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3643480" target="_blank">1</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3643480.html" target="_blank">13%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#7</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1736270" target="_blank">使用道具</a><br>发表于 2009-10-18 15:31:10  谢谢楼主的资料<img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3650861.html">funny2007888</a> <a href="http://www.mscbsc.com/bbs/thread-52231-1-1.html" title="认证专家1级" target="_blank"><img src="" alt=""></a> <img src="&quot;离线&quot;" alt="">
金牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3650861" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3650861&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
<img src="" alt="专家·初级勋章">   <img src="" alt="纪念勋章·四周年"><br>积分 5838
帖子 1076
威望 1646 个
礼品兑换分 100 个
专家指数 458
注册 2009-11-5
专业方向  Network Management
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3650861" target="_blank">141</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3650861" target="_blank">46</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3650861.html" target="_blank">33%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#8</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1798532" target="_blank">使用道具</a><br>发表于 2009-11-8 01:41:06  谢谢楼主的分享
&quot;\9c(b/#t2]1u%L2iwww.mscbsc.comThanks a Lot<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3647583.html">mashanyou</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3647583" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3647583&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 310
帖子 62
威望 7339 个
礼品兑换分 0 个
专家指数 0
注册 2009-9-24
专业方向  营业稽核
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647583" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3647583" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3647583.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#9</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=1839175" target="_blank">使用道具</a><br>发表于 2009-11-22 13:35:32  谢谢楼主分享<img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-10006224.html">hammer_cool</a> <img src="&quot;离线&quot;" alt="">
新手上路
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=10006224" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=10006224&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 35
帖子 7
威望 121 个
礼品兑换分 0 个
专家指数 0
注册 2010-2-5
专业方向  IT
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10006224" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10006224" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-10006224.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#10</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2141897" target="_blank">使用道具</a><br>发表于 2010-3-4 13:04:25  非常感谢！！！！！<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3637918.html">yang0709h</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3637918" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3637918&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 59
帖子 11
威望 51 个
礼品兑换分 0 个
专家指数 0
注册 2009-6-26
专业方向  计费
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3637918" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3637918" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3637918.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#11</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2149083" target="_blank">使用道具</a><br>发表于 2010-3-6 11:04:06  谢谢楼主分享，学习了~~<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3645523.html">0500220114</a> <img src="&quot;离线&quot;" alt="">
银牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3645523" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3645523&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 2568
帖子 512
威望 9794 个
礼品兑换分 0 个
专家指数 8
注册 2009-9-6
专业方向  TD
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645523" target="_blank">3</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645523" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3645523.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#12</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2345656" target="_blank">使用道具</a><br>发表于 2010-4-23 10:59:00  顶，很不错<img src="" alt=""> <img src="" alt=""> <img src="" alt=""> :victory: :victory: :victory: :victory:<img src="" alt="">
你能走多远不在于你的脚有多大，而在于你的意志力有多强！ <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-125606.html">网优先锋</a> <img src="&quot;离线&quot;" alt="">
银牌会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=125606" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=125606&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 4360
帖子 757
威望 1106 个
礼品兑换分 10 个
专家指数 66
注册 2008-8-2
专业方向  移动网络优化
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=125606" target="_blank">6</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=125606" target="_blank">1</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-125606.html" target="_blank">17%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#13</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2380382" target="_blank">使用道具</a><br>发表于 2010-5-1 21:34:01  学习学习，增加阅历。<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-3645286.html">acool1234</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=3645286" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=3645286&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 145
帖子 29
威望 150 个
礼品兑换分 0 个
专家指数 0
注册 2009-9-4
专业方向  通信
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645286" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=3645286" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-3645286.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#14</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=2427723" target="_blank">使用道具</a><br>发表于 2010-5-13 16:10:39  学习一下   呵呵<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a></p>
<p><a href=""></a> <a href="http://www.mscbsc.com/bbs/space-uid-10008625.html">xl376</a> <img src="&quot;离线&quot;" alt="">
初级会员
<img src="" alt="">
<img src="" alt=""> <a href="http://www.mscbsc.com/bbs/pm.php?action=send&amp;uid=10008625" target="_blank">发短消息</a>  <img src="" alt=""> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist&amp;newbuddyid=10008625&amp;buddysubmit=yes" target="_blank">关注Ta</a> 
积分 120
帖子 24
威望 8814 个
礼品兑换分 0 个
专家指数 0
注册 2010-3-7
专业方向  软件
回答问题数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10008625" target="_blank">0</a>
回答被采纳数 <a href="http://www.mscbsc.com/askpro/member.php?command=answer&amp;uid=10008625" target="_blank">0</a>
回答采纳率 <a href="http://www.mscbsc.com/askpro/member-10008625.html" target="_blank">0%</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" title="复制帖子链接到剪贴板" target="_blank">/#15</a>   <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">大</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">中</a> <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank">小</a></p>
<p><a href="http://www.mscbsc.com/bbs/magic.php?action=user&amp;pid=3088228" target="_blank">使用道具</a><br>发表于 2010-12-4 16:17:04  呵呵，谢谢楼主的资料！<a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt="顶部"></a> 热点： <a href="http://search.mscbsc.com/?keywords=%D5%D0%C6%B8" target="_blank">通信招聘职位</a> | <a href="http://search.mscbsc.com/?keywords=%CD%F8%C2%E7%D3%C5%BB%AF" target="_blank">网络优化全集</a> | <a href="http://search.mscbsc.com/?keywords=WCDMA" target="_blank">WCDMA精品</a> | <a href="http://search.mscbsc.com/?keywords=TD" target="_blank">TD-SCDMA学习资料</a> | <a href="http://search.mscbsc.com/?keywords=EVDO" target="_blank">EVDO</a> | <a href="http://search.mscbsc.com/?keywords=MGW" target="_blank">MGW媒体网关资料</a>
<a href=""> 16 </a><a href=""> 1/2 </a><a href="">1</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">2</a><a href="http://www.mscbsc.com/bbs/thread-141782-2-1.html" target="_blank">››</a><img src="" alt=""><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html###" target="_blank"><img src="" alt=""></a></p>
<p><a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1" target="_blank">讨论帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;data=yes" target="_blank">资料帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;poll=yes" target="_blank">投票帖</a> <a href="http://www.mscbsc.com/bbs/post.php?action=newthread&amp;fid=216&amp;extra=page%3D1&amp;reward=yes" target="_blank">悬赏帖</a></p>
<p>本主题发布已超过3年，不能再回复，谢谢您的关注
最近访问的论坛 ... 中国移动通信</p>
<p><a href="http://www.mscbsc.com/bbs/memcp.php" target="_blank">个人中心首页</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=profile" target="_blank">编辑个人资料</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=credits" target="_blank">积分交易</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=usergroups" target="_blank">公众用户组</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=buddylist" target="_blank">好友列表</a> <a href="http://www.mscbsc.com/bbs/memcp.php?action=spacemodule" target="_blank">个人空间管理</a> <a href="http://www.mscbsc.com/?uid/0" target="_blank">升级我的博客</a>
<a href="http://www.mscbsc.com/bbs/plugins.php?p=nkflash" target="_blank">社区游戏区</a> <a href="http://www.mscbsc.com/bbs/plugin.php?identifier=bank&amp;module=bank" target="_blank">社区银行</a> <a href="http://www.mscbsc.com/bbs/plugin.php?identifier=invite&amp;module=invite" target="_blank">购买邀请码</a> <a href="http://www.mscbsc.com/bbs/flack.php" target="_blank">宣传中心</a> <a href="http://www.mscbsc.com/bbs/plugin.php?identifier=ditu&amp;module=ditu" target="_blank"><strong>全国地图</strong></a></p>
<p><a href="http://www.mscbsc.com/bbs/stats.php" target="_blank">基本概况</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=views" target="_blank">流量统计</a><a href="http://www.mscbsc.com/bbs/stats.php?type=agent" target="_blank">客户软件</a><a href="http://www.mscbsc.com/bbs/stats.php?type=posts" target="_blank">发帖量记录</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=forumsrank" target="_blank">论坛排行</a><a href="http://www.mscbsc.com/bbs/stats.php?type=threadsrank" target="_blank">主题排行</a><a href="http://www.mscbsc.com/bbs/stats.php?type=postsrank" target="_blank">发帖排行</a><a href="http://www.mscbsc.com/bbs/stats.php?type=creditsrank" target="_blank">积分排行</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=trade" target="_blank">交易排行</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=onlinetime" target="_blank">在线时间</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=team" target="_blank">管理团队</a> <a href="http://www.mscbsc.com/bbs/stats.php?type=modworks" target="_blank">管理统计</a>
精彩通信图库<a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="超牛的电信广告  摄于家乡某小区">
超牛的电信广告 摄于家乡某.</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="老挝当地见到的游戏，老少皆宜~~">
老挝当地见到的游戏，老少皆.</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="城市人，别小看农村的学校。">
城市人，别小看农村的学校。</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="第一次见这么粗的打孔水钻">
第一次见这么粗的打孔水钻</a><a href="http://www.mscbsc.com/bbs/picture.php"><img src="" alt="拨测时还真有人认为是卖手机的。。。">
拨测时还真有人认为是卖手机.</a></p>
<p>-
当前时区 GMT+8, 现在时间是 2011-11-28 17:50:45
<a href="http://www.miibeian.gov.cn/" target="_blank">粤ICP备06047514号</a>  <a href="http://www.mscbsc.com/" target="_blank">Copyright @ 2006-2011 mscbsc.com</a>  本站统一服务邮箱：mscbsc@163.com</p>
<p><a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html#top" target="_blank"><img src="" alt=""></a>
Processed in 0.097753 second(s), 40 queries , Gzip enabled <a href="http://www.mscbsc.com/bbs/thread-141782-1-1.html#top" target="_blank">TOP</a>
<a href="http://www.mscbsc.com/bbs/member.php?action=clearcookies&amp;formhash=f3161c38" target="_blank">清除 Cookies</a> - <a href="mailto:mscbsc@163.com">联系我们</a> - <a href="http://www.mscbsc.com/" target="_blank">移动通信网</a> - <a href="http://www.mscbsc.com/" target="_blank">移动通信论坛</a> - <a href="http://www.telecomhr.com/" target="_blank">通信招聘网</a> - <a href="http://www.mscbsc.com/bbs/archiver/" target="_blank">Archiver</a> - <a href="http://www.mscbsc.com/bbs/wap/" target="_blank">WAP</a> <a href=""></a></p>
<p><a href="http://tongji.baidu.com/hm-web/welcome/ico?s=73bd8be2cbf9ded0b6047737756e5af2" target="_blank"><img src="" alt=""></a> <a href="http://www.51.la/?786775" title="我要啦免费统计 VIP 用户" target="_blank">贵宾统计</a> <img src="" alt="">
<img src="" alt=""> <img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/业务/">业务</a></li></span></span> | <span class="tags">Tagged <a href="/tags/业务/" class="label label-primary">业务</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-业务--BOSS业务介绍-计费与营帐系统-MSCBSC移动通信论坛国内领先的通信技术论坛" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-LDAP--Java60_API_for_LDAP2/">Java6.0_API_for_LDAP (2)</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-LDAP--Java60_API_for_LDAP2/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java6-0_api_for_ldap-2-">Java6.0_API_for_LDAP (2)</h1>
<p><strong>Java6.0 API for LDAP**</strong>概述<strong>
从JDK5.0开始，对LDAP协议的数据访问操作就被集成在javax的扩展API包中，并随同JDK一并发布，这一章节，我们主要介绍API包中的类信息。
</strong>javax.naming.directory<strong>**包的结构</strong>
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8744/0369fc37-7571-3409-9013-f036763eebdd.gif">
<strong>常用API解析</strong>
<strong>javax.naming.directory.InitialDirContext**</strong>，初始化目录服务上下文类<strong>
该类是LDAP数据内容的操作工具类，通过该类可以执行绑定LDAP服务器、新增LDAP条目、获取条目实例、修改条目属性、删除条目和根据条件搜索条目等操作。常用方法说明如下：
</strong>初始化LDAP 目录服务上下文(相当于使用JDBC打开一个数据库链接)**</p>
<ul>
<li>InitialDirContext(Hashtable&lt;?,?&gt; environment)</li>
</ul>
<p><strong>绑定/创建LDAP条目对象（相当于新增一个LDAP条目数据</strong>bind(Name</p>
<ul>
<li>name, Object obj, Attributes attrs)</li>
<li>bind(String name, Object obj, Attributes attrs)</li>
<li>createSubcontext(Name name, Attributes attrs)</li>
<li>createSubcontext(String name, Attributes attrs)</li>
</ul>
<p><strong>获取条目实例（属性集）</strong></p>
<ul>
<li>getAttributes(Name name)</li>
<li>getAttributes(Name name, String[] attrIds)</li>
<li>getAttributes(String name)</li>
<li>getAttributes(String name, String[] attrIds)</li>
</ul>
<p><strong>修改条目属性</strong></p>
<ul>
<li>modifyAttributes(Name name, int mod_op, Attributes attrs)</li>
<li>modifyAttributes(Name name, ModificationItem[] mods)</li>
</ul>
<p><strong>modifyAttributes(String name, int mod_op, Attributes attrs)</strong></p>
<ul>
<li>modifyAttributes(String name, ModificationItem[] mods)</li>
</ul>
<p>u
<strong>删除条目</strong></p>
<ul>
<li>destroySubcontext(Name name)</li>
<li>destroySubcontext(String name)</li>
</ul>
<p><strong>根据属性集搜索条目</strong></p>
<ul>
<li>search(Name name, Attributes matchingAttributes)</li>
<li>search(Name name, Attributes matchingAttributes, String[] attributesToReturn)</li>
<li>search(String name, Attributes matchingAttributes)</li>
<li>search(String name, Attributes matchingAttributes, String[] attributesToReturn)</li>
</ul>
<p>u
<strong>根据过滤器搜索条目</strong></p>
<ul>
<li>search(Name name, String filterExpr, Object[] filterArgs, SearchControls cons)</li>
<li>search(Name name, String filter, SearchControls cons)</li>
<li>search(String name, String filterExpr, Object[] filterArgs, SearchControls cons)</li>
<li>search(String name, String filter, SearchControls cons)</li>
</ul>
<p><strong>javax.naming.directory.BasicAttribute**</strong>，LDAP基本属性对象<strong>
该类用来表示LDAP条目中的单个属性对象。在目录服务中，每个属性名称是可以对应多个的属性值的。
</strong>构建属性对象**</p>
<ul>
<li>BasicAttribute(String id)</li>
<li>BasicAttribute(String id, boolean ordered)</li>
<li>BasicAttribute(String id, Object value)</li>
<li>BasicAttribute(String id, Object value, boolean ordered)</li>
</ul>
<p><strong>添加属性值</strong></p>
<ul>
<li>add(int ix, Object attrVal)，添加属性值到多值属性的指定位置</li>
<li>add(Object attrVal) ， 追加属性值到多值属性尾部</li>
</ul>
<p><strong>判断属性值是否包含</strong></p>
<ul>
<li>contains(Object attrVal) ， 多值属性中有一个值是匹配的，返回true</li>
</ul>
<p><strong>获取属性值</strong></p>
<ul>
<li>get()，取得属性值中的一个</li>
<li>get(int ix)，从多值属性中的指定位置取值</li>
</ul>
<p><strong>获取属性ID</strong></p>
<ul>
<li>getID()，属性的ID就是属性名</li>
</ul>
<p><strong>删除属性值</strong></p>
<ul>
<li>remove(int ix)，删除指定位置的属性值</li>
<li>remove(Object attrval)，删除指定的属性值</li>
</ul>
<p><strong>javax.naming.directory.BasicAttributes**</strong>，LDAP实体的属性集<strong>
该类表示一个LDAP条目绑定的属性集合，在绝大多数情况下，一个LDAP条目存在多个属性。
</strong>构造属性集**</p>
<ul>
<li>BasicAttributes()</li>
<li>BasicAttributes(boolean ignoreCase)，属性ID是否大小写敏感，建议不要使用敏感</li>
<li>BasicAttributes(String attrID, Object val)</li>
<li>BasicAttributes(String attrID, Object val, boolean ignoreCase)</li>
</ul>
<p><strong>获取属性集中的单个属性对象</strong></p>
<ul>
<li>get(String attrID)</li>
</ul>
<p><strong>获取全部属性的枚举</strong></p>
<ul>
<li>getAll()</li>
</ul>
<p><strong>获取全部属性的ID枚举</strong></p>
<ul>
<li>getIDs()</li>
</ul>
<p>u
<strong>添加新属性</strong></p>
<ul>
<li>put(Attribute attr)</li>
<li>put(String attrID, Object val)</li>
</ul>
<p>u
<strong>移除指定属性</strong></p>
<ul>
<li>remove(String attrID)</li>
</ul>
<p><strong>javax.naming.directory.SearchControls , LDAP**</strong>目录服务搜索控制对象<strong>
该类负责控制LDAP搜索行为的范围、设定返回结果数上限，搜索耗时上限，指定结果所包括的属性集等。
</strong>设定搜索行为的范围**</p>
<ul>
<li>setSearchScope(int scope)</li>
</ul>
<p>u
<strong>设定返回结果数上限</strong></p>
<ul>
<li>setCountLimit(long limit)</li>
</ul>
<p>u
<strong>设定搜索耗时上限</strong></p>
<ul>
<li>setTimeLimit(int ms) ， 以毫秒为单位</li>
</ul>
<p>u
<strong>指定结果所包括的属性集</strong></p>
<ul>
<li>setReturningAttributes(String[] attrs)</li>
</ul>
<p><strong>javax.naming.directory.SearchResult**</strong>， 表示.search() 方法的返回结果集中的一项。<strong>
SearchResult类是对LDAP条目属性集的封装。在search()操作中可能返回完整的条目属性，也可能是条目属性的一部分。
</strong>获取SearchResult封装的条目属性**</p>
<ul>
<li>getAttributes()</li>
</ul>
<p>以上只列举了LDAP操作API的常用部分，更多更详细的描述，请参考 <a href="http://java.sun.com/javase/6/docs/api/javax/naming/directory/package-summary.html" target="_blank">Sun Java6.0 API DOC。</a>
<strong>LDAP**</strong>操作代码样例<strong>
在这个章节中，我们将结合LDAP操作的代码实例了解API使用。
</strong>初始化LDAP 目录服务上下文**
该例子中，我们使用uid=linly,ou=People,dc=jsoso,dc=net这个账号，链接位于本机8389端口的LDAP服务器（ldap://localhost:8389），认证方式采用simple类型，即用户名/密码方式。</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>private static void initialContext() throws NamingException{   </li>
<li>if(singleton == null){   </li>
<li>singleton = new LDAPConnection();   </li>
<li>//*  </li>
<li>/* 在实际编码中，这些环境变量应尽可能通过配置文件读取  </li>
<li>/*/  </li>
<li>//LDAP服务地址   </li>
<li>singleton.sLDAP_URL = &quot;ldap://localhost:8389&quot;;    </li>
<li>//管理员账号   </li>
<li>singleton.sMANAGER_DN = &quot;uid=linly,ou=People,dc=jsoso,dc=net&quot;;   </li>
<li>//管理员密码   </li>
<li>singleton.sMANAGER_PASSWORD = &quot;coffee&quot;;   </li>
<li>//认证类型   </li>
<li>singleton.sAUTH_TYPE = &quot;simple&quot;;   </li>
<li>//JNDI Context工厂类   </li>
<li>singleton.sCONTEXT_FACTORY = &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;;    </li>
<li></li>
<li>singleton.envProps.setProperty(Context.INITIAL_CONTEXT_FACTORY, singleton.sCONTEXT_FACTORY);   </li>
<li>singleton.envProps.setProperty(Context.PROVIDER_URL, singleton.sLDAP_URL);   </li>
<li>singleton.envProps.setProperty(Context.SECURITY_AUTHENTICATION, singleton.sAUTH_TYPE);   </li>
<li>singleton.envProps.setProperty(Context.SECURITY_PRINCIPAL, singleton.sMANAGER_DN);   </li>
<li>singleton.envProps.setProperty(Context.SECURITY_CREDENTIALS, singleton.sMANAGER_PASSWORD);   </li>
<li>//*  </li>
<li>/* 绑定ldap服务器  </li>
<li>/*/  </li>
<li>singleton.dirCtx = new InitialDirContext(singleton.envProps);   </li>
<li>}   </li>
<li><p>}  </p>
<p>private static void initialContext() throws NamingException{</p>
<p>if(singleton == null){</p>
<p>  singleton = new LDAPConnection();</p>
<p>  //*</p>
<p>   /* 在实际编码中，这些环境变量应尽可能通过配置文件读取</p>
<p>   /*/</p>
<p>  //LDAP服务地址</p>
<p>  singleton.sLDAP_URL = &quot;ldap://localhost:8389&quot;;</p>
<p>  //管理员账号</p>
<p>  singleton.sMANAGER_DN = &quot;uid=linly,ou=People,dc=jsoso,dc=net&quot;;</p>
<p>  //管理员密码</p>
<p>  singleton.sMANAGER_PASSWORD = &quot;coffee&quot;;</p>
<p>  //认证类型</p>
<p>  singleton.sAUTH_TYPE = &quot;simple&quot;;</p>
<p>  //JNDI Context工厂类</p>
<p>  singleton.sCONTEXT_FACTORY = &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;;</p>
</li>
</ol>
<pre><code> singleton.envProps.setProperty(Context.INITIAL_CONTEXT_FACTORY, singleton.sCONTEXT_FACTORY);

 singleton.envProps.setProperty(Context.PROVIDER_URL, singleton.sLDAP_URL);

 singleton.envProps.setProperty(Context.SECURITY_AUTHENTICATION, singleton.sAUTH_TYPE);

 singleton.envProps.setProperty(Context.SECURITY_PRINCIPAL, singleton.sMANAGER_DN);

 singleton.envProps.setProperty(Context.SECURITY_CREDENTIALS, singleton.sMANAGER_PASSWORD);

 //*

  /* 绑定ldap服务器

  /*/

 singleton.dirCtx = new InitialDirContext(singleton.envProps);
</code></pre><p>   }</p>
<p>  }</p>
<p>通过一个Hashtable或者Properties对象为LDAP的Context设置参数，而后初始化InitialDirContext，即可绑定LDAP服务。这相当于JDBC中获取数据库的Connection对象。
<strong>绑定/创建LDAP条目对象</strong>
用户可以使用bind方法创建新的LDAP条目，下面的代码创建一个DN：&quot;ou=Employee , dc=jsoso ,dc=net&quot;的OrganizationUnit类LDAP条目如下:</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>public boolean createOrganizationUnit(){   </li>
<li>String ldapGroupDN = &quot;ou=Employee , dc=jsoso ,dc=net&quot;;   </li>
<li>try {   </li>
<li>//*  </li>
<li>/* 查找是否已经存在指定的OU条目  </li>
<li>/* 如果存在，则打印OU条目的属性信息  </li>
<li>/* 如果不存在，则程序会抛出NamingException异常，进入异常处理  </li>
<li>/*/  </li>
<li>Attributes attrs = dirContext.getAttributes(ldapGroupDN);   </li>
<li>System.out.println(&quot;Find the group , attributes list :&quot;);   </li>
<li>NamingEnumeration<String>  nEnum = attrs.getIDs();               </li>
<li>for( ; nEnum.hasMore() ; ){   </li>
<li>String attrID = nEnum.next();   </li>
<li>Attribute attr = (Attribute)attrs.get(attrID);   </li>
<li>System.out.println(attr.toString());   </li>
<li>}              </li>
<li>return false;   </li>
<li>} catch (NamingException e) {   </li>
<li>//*  </li>
<li>/* 没有找到对应的Group条目，新增Group条目  </li>
<li>/*/  </li>
<li>//创建objectclass属性   </li>
<li>Attribute objclass = new BasicAttribute(&quot;objectclass&quot;);   </li>
<li>objclass.add(&quot;top&quot;);   </li>
<li>objclass.add(&quot;organizationalunit&quot;);    </li>
<li>//创建cn属性   </li>
<li>Attribute cn = new BasicAttribute(&quot;ou&quot;, &quot;Employee&quot;);    </li>
<li>//创建Attributes，并添加objectclass和cn属性   </li>
<li>Attributes attrs = new BasicAttributes();    </li>
<li>attrs.put(objclass);    </li>
<li>attrs.put(cn);    </li>
<li>//将属性绑定到新的条目上，创建该条目   </li>
<li>try {   </li>
<li>dirContext.bind(ldapGroupDN, null, attrs);   </li>
<li>System.out.println(&quot;Group created successful&quot;);   </li>
<li>return true;   </li>
<li>} catch (NamingException e1) {   </li>
<li>e1.printStackTrace();   </li>
<li>}              </li>
<li>}   </li>
<li>return false;   </li>
<li><p>}  </p>
<p>public boolean createOrganizationUnit(){</p>
<p>String ldapGroupDN = &quot;ou=Employee , dc=jsoso ,dc=net&quot;;</p>
<p>try {</p>
<p>  //*</p>
<p>   /* 查找是否已经存在指定的OU条目</p>
<p>   /* 如果存在，则打印OU条目的属性信息</p>
<p>   /* 如果不存在，则程序会抛出NamingException异常，进入异常处理</p>
<p>   /*/</p>
<p>  Attributes attrs = dirContext.getAttributes(ldapGroupDN);</p>
<p>  System.out.println(&quot;Find the group , attributes list :&quot;);</p>
<p>  NamingEnumeration<String>  nEnum = attrs.getIDs();    </p>
<p>  for( ; nEnum.hasMore() ; ){</p>
<p>   String attrID = nEnum.next();</p>
<p>   Attribute attr = (Attribute)attrs.get(attrID);</p>
<p>   System.out.println(attr.toString());</p>
<p>  }    </p>
<p>  return false;</p>
<p>} catch (NamingException e) {</p>
<p>  //*</p>
<p>   /* 没有找到对应的Group条目，新增Group条目</p>
<p>   /*/</p>
<p>  //创建objectclass属性</p>
<p>  Attribute objclass = new BasicAttribute(&quot;objectclass&quot;);</p>
<p>  objclass.add(&quot;top&quot;);</p>
<p>  objclass.add(&quot;organizationalunit&quot;);</p>
<p>  //创建cn属性</p>
<p>  Attribute cn = new BasicAttribute(&quot;ou&quot;, &quot;Employee&quot;);</p>
<p>  //创建Attributes，并添加objectclass和cn属性</p>
<p>  Attributes attrs = new BasicAttributes();</p>
<p>  attrs.put(objclass);</p>
<p>  attrs.put(cn);</p>
<p>  //将属性绑定到新的条目上，创建该条目</p>
<p>  try {</p>
<p>   dirContext.bind(ldapGroupDN, null, attrs);</p>
<p>   System.out.println(&quot;Group created successful&quot;);</p>
<p>   return true;</p>
<p>  } catch (NamingException e1) {</p>
<p>   e1.printStackTrace();</p>
<p>  }     </p>
<p>}</p>
<p>return false;</p>
<p>}</p>
</li>
</ol>
<p>或者使用createSubcontext方法创建亦可，以下例子我们新增一个inetorgperson类的LDAP条目：</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 创建LDAP用户条目  </li>
<li>/* @param user   </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public boolean createUser(LDAPUser user){   </li>
<li>if(user == null){   </li>
<li>return false;   </li>
<li>}   </li>
<li></li>
<li>if(user.getUserID() == null || user.getUserID().length() == 0    </li>
<li>|| user.getFirstName() == null || user.getFirstName().length() == 0  </li>
<li>|| user.getLastName() == null || user.getLastName().length() == 0  </li>
<li>|| user.getCommomName() == null || user.getCommomName().length() == 0){   </li>
<li>return false;   </li>
<li>}   </li>
<li></li>
<li>//判断用户条目是否已经存在   </li>
<li>if(isUserexist(user.getDistinguishedName())){   </li>
<li>return true;   </li>
<li>}   </li>
<li></li>
<li>//*  </li>
<li>/* 新建条目属性集  </li>
<li>/*/  </li>
<li>Attributes attrs = new BasicAttributes();    </li>
<li>setBasicAttribute(attrs , &quot;objectclass&quot; , &quot;top,person,organizationalPerson,inetorgperson&quot;);   </li>
<li>setBasicAttribute(attrs , &quot;cn&quot; , user.getCommomName());   </li>
<li>setBasicAttribute(attrs , &quot;givenname&quot; , user.getFirstName());   </li>
<li>setBasicAttribute(attrs , &quot;sn&quot; , user.getLastName());   </li>
<li>setBasicAttribute(attrs , &quot;uid&quot; , user.getUserID());   </li>
<li>setBasicAttribute(attrs , &quot;userpassword&quot; , user.getPassword());   </li>
<li></li>
<li>//添加用户条目节点    </li>
<li>try {   </li>
<li>dirContext.createSubcontext(user.getDistinguishedName(), attrs);   </li>
<li>System.out.println(&quot;Add User(&quot; + user.getDistinguishedName() + &quot;) ok.&quot;);    </li>
<li>return true;   </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}    </li>
<li>return false;   </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 创建LDAP用户条目</p>
<p>/* @param user</p>
<p>/* @return</p>
<p>/*/</p>
<p>public boolean createUser(LDAPUser user){</p>
<p>if(user == null){</p>
<p>  return false;</p>
<p>}</p>
</li>
</ol>
<p>   if(user.getUserID() == null || user.getUserID().length() == 0</p>
<pre><code>  || user.getFirstName() == null || user.getFirstName().length() == 0

  || user.getLastName() == null || user.getLastName().length() == 0

  || user.getCommomName() == null || user.getCommomName().length() == 0){

 return false;
</code></pre><p>   }</p>
<p>   //判断用户条目是否已经存在</p>
<p>   if(isUserexist(user.getDistinguishedName())){</p>
<pre><code> return true;
</code></pre><p>   }</p>
<p>   //*</p>
<pre><code>/* 新建条目属性集

/*/
</code></pre><p>   Attributes attrs = new BasicAttributes();</p>
<p>   setBasicAttribute(attrs , &quot;objectclass&quot; , &quot;top,person,organizationalPerson,inetorgperson&quot;);</p>
<p>   setBasicAttribute(attrs , &quot;cn&quot; , user.getCommomName());</p>
<p>   setBasicAttribute(attrs , &quot;givenname&quot; , user.getFirstName());</p>
<p>   setBasicAttribute(attrs , &quot;sn&quot; , user.getLastName());</p>
<p>   setBasicAttribute(attrs , &quot;uid&quot; , user.getUserID());</p>
<p>   setBasicAttribute(attrs , &quot;userpassword&quot; , user.getPassword());</p>
<p>   //添加用户条目节点</p>
<p>   try {</p>
<pre><code> dirContext.createSubcontext(user.getDistinguishedName(), attrs);

 System.out.println(&quot;Add User(&quot; + user.getDistinguishedName() + &quot;) ok.&quot;);

 return true;
</code></pre><p>   } catch (NamingException e) {</p>
<pre><code> e.printStackTrace();
</code></pre><p>   }</p>
<p>   return false;</p>
<p>  }</p>
<p><strong>获取条目属性</strong>
下面一段代码获取entryDN参数指定条目中的属性集合，并打印到控制台</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 获取一个指定的LDAP Entry  </li>
<li>/* @param entryDN  </li>
<li>/*/  </li>
<li>public void find(String entryDN){   </li>
<li>try {    </li>
<li>Attributes attrs = dirContext.getAttributes(entryDN);    </li>
<li>if (attrs != null) {   </li>
<li>NamingEnumeration<String>  nEnum = attrs.getIDs();   </li>
<li>for( ; nEnum.hasMore() ; ){   </li>
<li>String attrID = nEnum.next();   </li>
<li>Attribute attr = (Attribute)attrs.get(attrID);   </li>
<li>System.out.println(attr.toString());   </li>
<li>}   </li>
<li>System.out.println();   </li>
<li>}else{    </li>
<li>System.out.println(&quot;No found binding.&quot;);   </li>
<li>}    </li>
<li>}catch(NamingException ne) {    </li>
<li>ne.printStackTrace();   </li>
<li>}    </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 获取一个指定的LDAP Entry</p>
<p>/* @param entryDN</p>
<p>/*/</p>
<p>public void find(String entryDN){</p>
<p>try {</p>
<p>  Attributes attrs = dirContext.getAttributes(entryDN);</p>
<p>  if (attrs != null) {</p>
<p>   NamingEnumeration<String>  nEnum = attrs.getIDs();</p>
<p>   for( ; nEnum.hasMore() ; ){</p>
<pre><code> String attrID = nEnum.next();

 Attribute attr = (Attribute)attrs.get(attrID);

 System.out.println(attr.toString());
</code></pre><p>   }</p>
<p>   System.out.println();</p>
<p>  }else{</p>
<p>   System.out.println(&quot;No found binding.&quot;);</p>
<p>  }</p>
<p>}catch(NamingException ne) {</p>
<p>  ne.printStackTrace();</p>
<p>}</p>
<p>}</p>
</li>
</ol>
<p><strong>修改条目属性</strong>
修改DN=user.getDistinguishedName()的条目中的cn、givenname、sn和userpassword四个属性值。
（注：参数DirContext.REPLACE_ATTRIBUTE有另外两个常量：DirContext.ADD_ATTRIBUTE；DirContext.REMOVE_ATTRIBUTE，分别表示新增属性和删除属性。）</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 修改用户信息  </li>
<li>/* @param user  </li>
<li>/* @return  </li>
<li>/* @throws Exception  </li>
<li>/*/    </li>
<li>public boolean modifyUser(LDAPUser user) throws Exception {    </li>
<li>//用户对象为空    </li>
<li>if (user == null) {    </li>
<li>throw new Exception(&quot;No user information!n&quot;);    </li>
<li>}   </li>
<li></li>
<li>//检查uid    </li>
<li>String userDN = user.getDistinguishedName();    </li>
<li>if (userDN == null &amp;&amp; userDN.length() == 0) {    </li>
<li>throw new NamingException(&quot;No userDN you specify!n&quot;);    </li>
<li>}    </li>
<li></li>
<li>//判断用户条目是否已经存在   </li>
<li>if(!isUserexist(userDN)){   </li>
<li>return false;   </li>
<li>}   </li>
<li></li>
<li>//设置属性    </li>
<li>Attributes attrs = new BasicAttributes();    </li>
<li>setBasicAttribute(attrs, &quot;cn&quot;, user.getCommomName());    </li>
<li>setBasicAttribute(attrs, &quot;givenname&quot;, user.getFirstName());    </li>
<li>setBasicAttribute(attrs, &quot;sn&quot;, user.getLastName());    </li>
<li>setBasicAttribute(attrs, &quot;userpassword&quot;, user.getPassword());      </li>
<li>//修改属性    </li>
<li>try{   </li>
<li>dirContext.modifyAttributes(user.getDistinguishedName(),DirContext.REPLACE_ATTRIBUTE, attrs);    </li>
<li>System.out.println(&quot;User(&quot; + user.getDistinguishedName() + &quot;) information modified.n&quot;);   </li>
<li>return true;   </li>
<li>}catch(NamingException ne){   </li>
<li>ne.printStackTrace();   </li>
<li>}   </li>
<li>return false;   </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 修改用户信息</p>
<p>/* @param user</p>
<p>/* @return</p>
<p>/* @throws Exception</p>
<p>/*/ </p>
<p>public boolean modifyUser(LDAPUser user) throws Exception {</p>
<p>//用户对象为空</p>
<p>if (user == null) {</p>
<p>  throw new Exception(&quot;No user information!n&quot;);</p>
<p>}</p>
</li>
</ol>
<p>   //检查uid</p>
<p>   String userDN = user.getDistinguishedName();</p>
<p>   if (userDN == null &amp;&amp; userDN.length() == 0) {</p>
<pre><code> throw new NamingException(&quot;No userDN you specify!n&quot;);
</code></pre><p>   }</p>
<p>   //判断用户条目是否已经存在</p>
<p>   if(!isUserexist(userDN)){</p>
<pre><code> return false;
</code></pre><p>   }</p>
<p>   //设置属性</p>
<p>   Attributes attrs = new BasicAttributes();</p>
<p>   setBasicAttribute(attrs, &quot;cn&quot;, user.getCommomName());</p>
<p>   setBasicAttribute(attrs, &quot;givenname&quot;, user.getFirstName());</p>
<p>   setBasicAttribute(attrs, &quot;sn&quot;, user.getLastName());</p>
<p>   setBasicAttribute(attrs, &quot;userpassword&quot;, user.getPassword());  </p>
<p>   //修改属性</p>
<p>   try{</p>
<pre><code> dirContext.modifyAttributes(user.getDistinguishedName(),DirContext.REPLACE_ATTRIBUTE, attrs);

 System.out.println(&quot;User(&quot; + user.getDistinguishedName() + &quot;) information modified.n&quot;);

 return true;
</code></pre><p>   }catch(NamingException ne){</p>
<pre><code> ne.printStackTrace();
</code></pre><p>   }</p>
<p>   return false;</p>
<p>  }</p>
<p><strong>删除条目</strong>
删除DN= userDN条目</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 删除用户  </li>
<li>/* @param userDN  </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public boolean deleteUser(String userDN) {    </li>
<li>if(!isUserexist(userDN)) {    </li>
<li>return true;   </li>
<li>}    </li>
<li>try {   </li>
<li>dirContext.destroySubcontext(userDN);   </li>
<li>System.out.println(&quot;User( &quot; + userDN + &quot;) deleted.n&quot;);    </li>
<li>return true;   </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}    </li>
<li>return false;          </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 删除用户</p>
<p>/* @param userDN</p>
<p>/* @return</p>
<p>/*/</p>
<p>public boolean deleteUser(String userDN) {</p>
<p>if(!isUserexist(userDN)) {</p>
<p>  return true;</p>
<p>}</p>
<p>try {</p>
<p>  dirContext.destroySubcontext(userDN);</p>
<p>  System.out.println(&quot;User( &quot; + userDN + &quot;) deleted.n&quot;);</p>
<p>  return true;</p>
<p>} catch (NamingException e) {</p>
<p>  e.printStackTrace();</p>
<p>}</p>
<p>return false;  </p>
<p>}</p>
</li>
</ol>
<p><strong>根据属性集搜索条目</strong>
根据属性集matchingAttributes中的匹配值，在上下文DN= &quot;ou=People,dc=jsoso ,dc=net&quot;中搜索它的所有子树中的匹配条目。
（注：SearchControls的SCOPE参数详见SearchControls SCOPE补充说明）</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 通过属性搜索LDAP范例   </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public void searchByAttribute(Attributes matchingAttributes){   </li>
<li>String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;   </li>
<li>SearchControls cons = new SearchControls();   </li>
<li>cons.setSearchScope(SearchControls.SUBTREE_SCOPE);   </li>
<li>try {   </li>
<li>Name baseName = new LdapName(baseDN);   </li>
<li>NamingEnumeration<SearchResult> ne = dirContext.search(baseName, matchingAttributes);   </li>
<li>SearchResult entry = null;   </li>
<li>for(;ne.hasMore();){   </li>
<li>entry = ne.next();   </li>
<li>showEntry(entry);   </li>
<li>}                      </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}   </li>
<li><p>}  </p>
<pre><code>   //*/*
</code></pre><p>/* 通过属性搜索LDAP范例</p>
<p>/* @return</p>
<p>/*/</p>
<p>public void searchByAttribute(Attributes matchingAttributes){</p>
<p> String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;</p>
<p> SearchControls cons = new SearchControls();</p>
<p> cons.setSearchScope(SearchControls.SUBTREE_SCOPE);</p>
<p> try {</p>
<p>  Name baseName = new LdapName(baseDN);</p>
<p>  NamingEnumeration<SearchResult> ne = dirContext.search(baseName, matchingAttributes);</p>
<p>  SearchResult entry = null;</p>
<p>  for(;ne.hasMore();){</p>
<p>   entry = ne.next();</p>
<p>   showEntry(entry);</p>
<p>  }       </p>
<p>} catch (NamingException e) {</p>
<p>  e.printStackTrace();</p>
<p>}</p>
<p>}</p>
</li>
</ol>
<p><strong>根据过滤器搜索条目</strong>
根据过滤器条件，在上下文DN = &quot;ou=People,dc=jsoso ,dc=net&quot;中，搜索它的所有子树中的匹配条目。
（注：过滤器filter的相关语法详见LDAP filter语法补充说明）</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 通过过滤器搜索LDAP范例   </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public void searchByFilter(String filter){   </li>
<li>String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;          </li>
<li>SearchControls cons = new SearchControls();   </li>
<li>cons.setSearchScope(SearchControls.SUBTREE_SCOPE);   </li>
<li>try {   </li>
<li>NamingEnumeration<SearchResult> ne = dirContext.search(baseDN, filter , cons);   </li>
<li>SearchResult entry = null;   </li>
<li>for(;ne.hasMore();){   </li>
<li>entry = ne.next();   </li>
<li>showEntry(entry);   </li>
<li>}                      </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}   </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 通过过滤器搜索LDAP范例</p>
<p>/* @return</p>
<p>/*/</p>
<p>public void searchByFilter(String filter){</p>
<p> String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;  </p>
<p> SearchControls cons = new SearchControls();</p>
<p> cons.setSearchScope(SearchControls.SUBTREE_SCOPE);</p>
<p> try {</p>
<p>  NamingEnumeration<SearchResult> ne = dirContext.search(baseDN, filter , cons);</p>
<p>  SearchResult entry = null;</p>
<p>  for(;ne.hasMore();){</p>
<p>   entry = ne.next();</p>
<p>   showEntry(entry);</p>
<p>  }       </p>
<p>} catch (NamingException e) {</p>
<p>  e.printStackTrace();</p>
<p>}</p>
<p>}</p>
</li>
</ol>
<p><strong>相关补充</strong>
<strong>javax.naming.Name**</strong>对象说明<strong>
在API中，我们常常见到对LDAP上下文条目有两种参数形式，一种是大家都熟悉的String参数，如： String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;
另一种是使用javax.naming.Name类型的参数，那么Name类和String有什么区别呢？
简单的说，Name是对String类DN的封装，它把一个完整的DN字窜分解成了RDN的list。这个list的顺序刚好和String相反。就拿&quot;ou=People,dc=jsoso ,dc=net&quot;为例，Name中的RDN顺序是[0]=net，[1]=jsoso，[2]=People。这样做的好处是更方便对Name进行操作，比如取其前缀或者后缀。
</strong>SearchControls SCOPE<strong>**补充说明</strong>
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8746/655c33eb-9277-3740-834c-63a17e48085e.gif">
<strong>LDAP filter**</strong>语法补充说明<strong>
filter的运算符
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8734/d1a62a84-b638-32d7-9d4f-f6829ba54dbf.gif">
filter布尔运算符
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8736/a151eb07-48b5-3d42-a191-67ea6f694aa8.gif">
</strong>搜索过滤器示例**</p>
<ul>
<li>下列过滤器将搜索包含一个或多个 manager 属性值的条目。这也称为存在搜索： manager=/*</li>
<li>下列过滤器将搜索包含通用名 Ray Kultgen 的条目。这也称为等价搜索：cn=Ray Kultgen</li>
<li>下列过滤器返回所有不包含通用名 Ray Kultgen 的条目：(!(cn=Ray Kultgen))</li>
<li>下列过滤器返回的所有条目中都有包含子字符串 X.500 的说明属性：description=/<em>X.500/</em></li>
<li>下列过滤器返回所有组织单元为 Marketing 且说明字段中不包含子字符串 X.500 的条目： (&amp;(ou=Marketing)(!(description=/<em>X.500/</em>)))</li>
<li>下列过滤器返回所有组织单元为 Marketing 且 manager 为 Julie Fulmer 或 Cindy Zwaska 的条目： (&amp;(ou=Marketing)(|(manager=cn=Julie Fulmer,ou=Marketing,dc=siroe,dc=com)(manager=cn=Cindy Zwaska,ou=Marketing,dc=siroe,dc=com)))</li>
<li>下列过滤器返回所有不代表人员的条目： (!(objectClass=person))</li>
<li>下列过滤器返回所有不代表人员且通用名近似于 printer3b 的条目：(&amp;(!(objectClass=person))(cn~=printer3b))</li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/LDAP/">LDAP</a></li></span></span> | <span class="tags">Tagged <a href="/tags/LDAP/" class="label label-primary">LDAP</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-LDAP--Java60_API_for_LDAP2/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-LDAP--Java60_API_for_LDAP2" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-LDAP--Java60_API_for_LDAP/">Java6.0_API_for_LDAP</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-LDAP--Java60_API_for_LDAP/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="java6-0_api_for_ldap">Java6.0_API_for_LDAP</h1>
<p><a href=""><strong>Java6.0 API for LDAP</strong></a><strong>概述</strong>
从JDK5.0开始，对LDAP协议的数据访问操作就被集成在javax的扩展API包中，并随同JDK一并发布，这一章节，我们主要介绍API包中的类信息。
<strong>javax.naming.directory**</strong>包的结构<strong>
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8744/0369fc37-7571-3409-9013-f036763eebdd.gif">
</strong>常用API解析<strong>
</strong>javax.naming.directory.InitialDirContext<strong>**，初始化目录服务上下文类</strong>
该类是LDAP数据内容的操作工具类，通过该类可以执行绑定LDAP服务器、新增LDAP条目、获取条目实例、修改条目属性、删除条目和根据条件搜索条目等操作。常用方法说明如下：
<strong>初始化LDAP 目录服务上下文(相当于使用JDBC打开一个数据库链接)</strong></p>
<ul>
<li>InitialDirContext(Hashtable&lt;?,?&gt; environment)</li>
</ul>
<p><strong>绑定/创建LDAP条目对象（相当于新增一个LDAP条目数据</strong>bind(Name</p>
<ul>
<li>name, Object obj, Attributes attrs)</li>
<li>bind(String name, Object obj, Attributes attrs)</li>
<li>createSubcontext(Name name, Attributes attrs)</li>
<li>createSubcontext(String name, Attributes attrs)</li>
</ul>
<p><strong>获取条目实例（属性集）</strong></p>
<ul>
<li>getAttributes(Name name)</li>
<li>getAttributes(Name name, String[] attrIds)</li>
<li>getAttributes(String name)</li>
<li>getAttributes(String name, String[] attrIds)</li>
</ul>
<p><strong>修改条目属性</strong></p>
<ul>
<li>modifyAttributes(Name name, int mod_op, Attributes attrs)</li>
<li>modifyAttributes(Name name, ModificationItem[] mods)</li>
</ul>
<p><strong>modifyAttributes(String name, int mod_op, Attributes attrs)</strong></p>
<ul>
<li>modifyAttributes(String name, ModificationItem[] mods)</li>
</ul>
<p>u
<strong>删除条目</strong></p>
<ul>
<li>destroySubcontext(Name name)</li>
<li>destroySubcontext(String name)</li>
</ul>
<p><strong>根据属性集搜索条目</strong></p>
<ul>
<li>search(Name name, Attributes matchingAttributes)</li>
<li>search(Name name, Attributes matchingAttributes, String[] attributesToReturn)</li>
<li>search(String name, Attributes matchingAttributes)</li>
<li>search(String name, Attributes matchingAttributes, String[] attributesToReturn)</li>
</ul>
<p>u
<strong>根据过滤器搜索条目</strong></p>
<ul>
<li>search(Name name, String filterExpr, Object[] filterArgs, SearchControls cons)</li>
<li>search(Name name, String filter, SearchControls cons)</li>
<li>search(String name, String filterExpr, Object[] filterArgs, SearchControls cons)</li>
<li>search(String name, String filter, SearchControls cons)</li>
</ul>
<p><strong>javax.naming.directory.BasicAttribute**</strong>，LDAP基本属性对象<strong>
该类用来表示LDAP条目中的单个属性对象。在目录服务中，每个属性名称是可以对应多个的属性值的。
</strong>构建属性对象**</p>
<ul>
<li>BasicAttribute(String id)</li>
<li>BasicAttribute(String id, boolean ordered)</li>
<li>BasicAttribute(String id, Object value)</li>
<li>BasicAttribute(String id, Object value, boolean ordered)</li>
</ul>
<p><strong>添加属性值</strong></p>
<ul>
<li>add(int ix, Object attrVal)，添加属性值到多值属性的指定位置</li>
<li>add(Object attrVal) ， 追加属性值到多值属性尾部</li>
</ul>
<p><strong>判断属性值是否包含</strong></p>
<ul>
<li>contains(Object attrVal) ， 多值属性中有一个值是匹配的，返回true</li>
</ul>
<p><strong>获取属性值</strong></p>
<ul>
<li>get()，取得属性值中的一个</li>
<li>get(int ix)，从多值属性中的指定位置取值</li>
</ul>
<p><strong>获取属性ID</strong></p>
<ul>
<li>getID()，属性的ID就是属性名</li>
</ul>
<p><strong>删除属性值</strong></p>
<ul>
<li>remove(int ix)，删除指定位置的属性值</li>
<li>remove(Object attrval)，删除指定的属性值</li>
</ul>
<p><strong>javax.naming.directory.BasicAttributes**</strong>，LDAP实体的属性集<strong>
该类表示一个LDAP条目绑定的属性集合，在绝大多数情况下，一个LDAP条目存在多个属性。
</strong>构造属性集**</p>
<ul>
<li>BasicAttributes()</li>
<li>BasicAttributes(boolean ignoreCase)，属性ID是否大小写敏感，建议不要使用敏感</li>
<li>BasicAttributes(String attrID, Object val)</li>
<li>BasicAttributes(String attrID, Object val, boolean ignoreCase)</li>
</ul>
<p><strong>获取属性集中的单个属性对象</strong></p>
<ul>
<li>get(String attrID)</li>
</ul>
<p><strong>获取全部属性的枚举</strong></p>
<ul>
<li>getAll()</li>
</ul>
<p><strong>获取全部属性的ID枚举</strong></p>
<ul>
<li>getIDs()</li>
</ul>
<p>u
<strong>添加新属性</strong></p>
<ul>
<li>put(Attribute attr)</li>
<li>put(String attrID, Object val)</li>
</ul>
<p>u
<strong>移除指定属性</strong></p>
<ul>
<li>remove(String attrID)</li>
</ul>
<p><strong>javax.naming.directory.SearchControls , LDAP**</strong>目录服务搜索控制对象<strong>
该类负责控制LDAP搜索行为的范围、设定返回结果数上限，搜索耗时上限，指定结果所包括的属性集等。
</strong>设定搜索行为的范围**</p>
<ul>
<li>setSearchScope(int scope)</li>
</ul>
<p>u
<strong>设定返回结果数上限</strong></p>
<ul>
<li>setCountLimit(long limit)</li>
</ul>
<p>u
<strong>设定搜索耗时上限</strong></p>
<ul>
<li>setTimeLimit(int ms) ， 以毫秒为单位</li>
</ul>
<p>u
<strong>指定结果所包括的属性集</strong></p>
<ul>
<li>setReturningAttributes(String[] attrs)</li>
</ul>
<p><strong>javax.naming.directory.SearchResult**</strong>， 表示.search() 方法的返回结果集中的一项。<strong>
SearchResult类是对LDAP条目属性集的封装。在search()操作中可能返回完整的条目属性，也可能是条目属性的一部分。
</strong>获取SearchResult封装的条目属性**</p>
<ul>
<li>getAttributes()</li>
</ul>
<p>以上只列举了LDAP操作API的常用部分，更多更详细的描述，请参考 <a href="http://java.sun.com/javase/6/docs/api/javax/naming/directory/package-summary.html" target="_blank">Sun Java6.0 API DOC。</a>
<strong>LDAP**</strong>操作代码样例<strong>
在这个章节中，我们将结合LDAP操作的代码实例了解API使用。
</strong>初始化LDAP 目录服务上下文**
该例子中，我们使用uid=linly,ou=People,dc=jsoso,dc=net这个账号，链接位于本机8389端口的LDAP服务器（ldap://localhost:8389），认证方式采用simple类型，即用户名/密码方式。</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>private static void initialContext() throws NamingException{   </li>
<li>if(singleton == null){   </li>
<li>singleton = new LDAPConnection();   </li>
<li>//*  </li>
<li>/* 在实际编码中，这些环境变量应尽可能通过配置文件读取  </li>
<li>/*/  </li>
<li>//LDAP服务地址   </li>
<li>singleton.sLDAP_URL = &quot;ldap://localhost:8389&quot;;    </li>
<li>//管理员账号   </li>
<li>singleton.sMANAGER_DN = &quot;uid=linly,ou=People,dc=jsoso,dc=net&quot;;   </li>
<li>//管理员密码   </li>
<li>singleton.sMANAGER_PASSWORD = &quot;coffee&quot;;   </li>
<li>//认证类型   </li>
<li>singleton.sAUTH_TYPE = &quot;simple&quot;;   </li>
<li>//JNDI Context工厂类   </li>
<li>singleton.sCONTEXT_FACTORY = &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;;    </li>
<li></li>
<li>singleton.envProps.setProperty(Context.INITIAL_CONTEXT_FACTORY, singleton.sCONTEXT_FACTORY);   </li>
<li>singleton.envProps.setProperty(Context.PROVIDER_URL, singleton.sLDAP_URL);   </li>
<li>singleton.envProps.setProperty(Context.SECURITY_AUTHENTICATION, singleton.sAUTH_TYPE);   </li>
<li>singleton.envProps.setProperty(Context.SECURITY_PRINCIPAL, singleton.sMANAGER_DN);   </li>
<li>singleton.envProps.setProperty(Context.SECURITY_CREDENTIALS, singleton.sMANAGER_PASSWORD);   </li>
<li>//*  </li>
<li>/* 绑定ldap服务器  </li>
<li>/*/  </li>
<li>singleton.dirCtx = new InitialDirContext(singleton.envProps);   </li>
<li>}   </li>
<li><p>}  </p>
<p>private static void initialContext() throws NamingException{</p>
<p>if(singleton == null){</p>
<p>  singleton = new LDAPConnection();</p>
<p>  //*</p>
<p>   /* 在实际编码中，这些环境变量应尽可能通过配置文件读取</p>
<p>   /*/</p>
<p>  //LDAP服务地址</p>
<p>  singleton.sLDAP_URL = &quot;ldap://localhost:8389&quot;;</p>
<p>  //管理员账号</p>
<p>  singleton.sMANAGER_DN = &quot;uid=linly,ou=People,dc=jsoso,dc=net&quot;;</p>
<p>  //管理员密码</p>
<p>  singleton.sMANAGER_PASSWORD = &quot;coffee&quot;;</p>
<p>  //认证类型</p>
<p>  singleton.sAUTH_TYPE = &quot;simple&quot;;</p>
<p>  //JNDI Context工厂类</p>
<p>  singleton.sCONTEXT_FACTORY = &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;;</p>
</li>
</ol>
<pre><code> singleton.envProps.setProperty(Context.INITIAL_CONTEXT_FACTORY, singleton.sCONTEXT_FACTORY);

 singleton.envProps.setProperty(Context.PROVIDER_URL, singleton.sLDAP_URL);

 singleton.envProps.setProperty(Context.SECURITY_AUTHENTICATION, singleton.sAUTH_TYPE);

 singleton.envProps.setProperty(Context.SECURITY_PRINCIPAL, singleton.sMANAGER_DN);

 singleton.envProps.setProperty(Context.SECURITY_CREDENTIALS, singleton.sMANAGER_PASSWORD);

 //*

  /* 绑定ldap服务器

  /*/

 singleton.dirCtx = new InitialDirContext(singleton.envProps);
</code></pre><p>   }</p>
<p>  }</p>
<p>通过一个Hashtable或者Properties对象为LDAP的Context设置参数，而后初始化InitialDirContext，即可绑定LDAP服务。这相当于JDBC中获取数据库的Connection对象。
<strong>绑定/创建LDAP条目对象</strong>
用户可以使用bind方法创建新的LDAP条目，下面的代码创建一个DN：&quot;ou=Employee , dc=jsoso ,dc=net&quot;的OrganizationUnit类LDAP条目如下:</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>public boolean createOrganizationUnit(){   </li>
<li>String ldapGroupDN = &quot;ou=Employee , dc=jsoso ,dc=net&quot;;   </li>
<li>try {   </li>
<li>//*  </li>
<li>/* 查找是否已经存在指定的OU条目  </li>
<li>/* 如果存在，则打印OU条目的属性信息  </li>
<li>/* 如果不存在，则程序会抛出NamingException异常，进入异常处理  </li>
<li>/*/  </li>
<li>Attributes attrs = dirContext.getAttributes(ldapGroupDN);   </li>
<li>System.out.println(&quot;Find the group , attributes list :&quot;);   </li>
<li>NamingEnumeration<String>  nEnum = attrs.getIDs();               </li>
<li>for( ; nEnum.hasMore() ; ){   </li>
<li>String attrID = nEnum.next();   </li>
<li>Attribute attr = (Attribute)attrs.get(attrID);   </li>
<li>System.out.println(attr.toString());   </li>
<li>}              </li>
<li>return false;   </li>
<li>} catch (NamingException e) {   </li>
<li>//*  </li>
<li>/* 没有找到对应的Group条目，新增Group条目  </li>
<li>/*/  </li>
<li>//创建objectclass属性   </li>
<li>Attribute objclass = new BasicAttribute(&quot;objectclass&quot;);   </li>
<li>objclass.add(&quot;top&quot;);   </li>
<li>objclass.add(&quot;organizationalunit&quot;);    </li>
<li>//创建cn属性   </li>
<li>Attribute cn = new BasicAttribute(&quot;ou&quot;, &quot;Employee&quot;);    </li>
<li>//创建Attributes，并添加objectclass和cn属性   </li>
<li>Attributes attrs = new BasicAttributes();    </li>
<li>attrs.put(objclass);    </li>
<li>attrs.put(cn);    </li>
<li>//将属性绑定到新的条目上，创建该条目   </li>
<li>try {   </li>
<li>dirContext.bind(ldapGroupDN, null, attrs);   </li>
<li>System.out.println(&quot;Group created successful&quot;);   </li>
<li>return true;   </li>
<li>} catch (NamingException e1) {   </li>
<li>e1.printStackTrace();   </li>
<li>}              </li>
<li>}   </li>
<li>return false;   </li>
<li><p>}  </p>
<p>public boolean createOrganizationUnit(){</p>
<p>String ldapGroupDN = &quot;ou=Employee , dc=jsoso ,dc=net&quot;;</p>
<p>try {</p>
<p>  //*</p>
<p>   /* 查找是否已经存在指定的OU条目</p>
<p>   /* 如果存在，则打印OU条目的属性信息</p>
<p>   /* 如果不存在，则程序会抛出NamingException异常，进入异常处理</p>
<p>   /*/</p>
<p>  Attributes attrs = dirContext.getAttributes(ldapGroupDN);</p>
<p>  System.out.println(&quot;Find the group , attributes list :&quot;);</p>
<p>  NamingEnumeration<String>  nEnum = attrs.getIDs();    </p>
<p>  for( ; nEnum.hasMore() ; ){</p>
<p>   String attrID = nEnum.next();</p>
<p>   Attribute attr = (Attribute)attrs.get(attrID);</p>
<p>   System.out.println(attr.toString());</p>
<p>  }    </p>
<p>  return false;</p>
<p>} catch (NamingException e) {</p>
<p>  //*</p>
<p>   /* 没有找到对应的Group条目，新增Group条目</p>
<p>   /*/</p>
<p>  //创建objectclass属性</p>
<p>  Attribute objclass = new BasicAttribute(&quot;objectclass&quot;);</p>
<p>  objclass.add(&quot;top&quot;);</p>
<p>  objclass.add(&quot;organizationalunit&quot;);</p>
<p>  //创建cn属性</p>
<p>  Attribute cn = new BasicAttribute(&quot;ou&quot;, &quot;Employee&quot;);</p>
<p>  //创建Attributes，并添加objectclass和cn属性</p>
<p>  Attributes attrs = new BasicAttributes();</p>
<p>  attrs.put(objclass);</p>
<p>  attrs.put(cn);</p>
<p>  //将属性绑定到新的条目上，创建该条目</p>
<p>  try {</p>
<p>   dirContext.bind(ldapGroupDN, null, attrs);</p>
<p>   System.out.println(&quot;Group created successful&quot;);</p>
<p>   return true;</p>
<p>  } catch (NamingException e1) {</p>
<p>   e1.printStackTrace();</p>
<p>  }     </p>
<p>}</p>
<p>return false;</p>
<p>}</p>
</li>
</ol>
<p>或者使用createSubcontext方法创建亦可，以下例子我们新增一个inetorgperson类的LDAP条目：</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 创建LDAP用户条目  </li>
<li>/* @param user   </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public boolean createUser(LDAPUser user){   </li>
<li>if(user == null){   </li>
<li>return false;   </li>
<li>}   </li>
<li></li>
<li>if(user.getUserID() == null || user.getUserID().length() == 0    </li>
<li>|| user.getFirstName() == null || user.getFirstName().length() == 0  </li>
<li>|| user.getLastName() == null || user.getLastName().length() == 0  </li>
<li>|| user.getCommomName() == null || user.getCommomName().length() == 0){   </li>
<li>return false;   </li>
<li>}   </li>
<li></li>
<li>//判断用户条目是否已经存在   </li>
<li>if(isUserexist(user.getDistinguishedName())){   </li>
<li>return true;   </li>
<li>}   </li>
<li></li>
<li>//*  </li>
<li>/* 新建条目属性集  </li>
<li>/*/  </li>
<li>Attributes attrs = new BasicAttributes();    </li>
<li>setBasicAttribute(attrs , &quot;objectclass&quot; , &quot;top,person,organizationalPerson,inetorgperson&quot;);   </li>
<li>setBasicAttribute(attrs , &quot;cn&quot; , user.getCommomName());   </li>
<li>setBasicAttribute(attrs , &quot;givenname&quot; , user.getFirstName());   </li>
<li>setBasicAttribute(attrs , &quot;sn&quot; , user.getLastName());   </li>
<li>setBasicAttribute(attrs , &quot;uid&quot; , user.getUserID());   </li>
<li>setBasicAttribute(attrs , &quot;userpassword&quot; , user.getPassword());   </li>
<li></li>
<li>//添加用户条目节点    </li>
<li>try {   </li>
<li>dirContext.createSubcontext(user.getDistinguishedName(), attrs);   </li>
<li>System.out.println(&quot;Add User(&quot; + user.getDistinguishedName() + &quot;) ok.&quot;);    </li>
<li>return true;   </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}    </li>
<li>return false;   </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 创建LDAP用户条目</p>
<p>/* @param user</p>
<p>/* @return</p>
<p>/*/</p>
<p>public boolean createUser(LDAPUser user){</p>
<p>if(user == null){</p>
<p>  return false;</p>
<p>}</p>
</li>
</ol>
<p>   if(user.getUserID() == null || user.getUserID().length() == 0</p>
<pre><code>  || user.getFirstName() == null || user.getFirstName().length() == 0

  || user.getLastName() == null || user.getLastName().length() == 0

  || user.getCommomName() == null || user.getCommomName().length() == 0){

 return false;
</code></pre><p>   }</p>
<pre><code>//判断用户条目是否已经存在
</code></pre><p>   if(isUserexist(user.getDistinguishedName())){</p>
<pre><code> return true;
</code></pre><p>   }</p>
<p>   //*</p>
<pre><code>/* 新建条目属性集

/*/
</code></pre><p>   Attributes attrs = new BasicAttributes();</p>
<p>   setBasicAttribute(attrs , &quot;objectclass&quot; , &quot;top,person,organizationalPerson,inetorgperson&quot;);</p>
<p>   setBasicAttribute(attrs , &quot;cn&quot; , user.getCommomName());</p>
<p>   setBasicAttribute(attrs , &quot;givenname&quot; , user.getFirstName());</p>
<p>   setBasicAttribute(attrs , &quot;sn&quot; , user.getLastName());</p>
<p>   setBasicAttribute(attrs , &quot;uid&quot; , user.getUserID());</p>
<p>   setBasicAttribute(attrs , &quot;userpassword&quot; , user.getPassword());</p>
<p>   //添加用户条目节点</p>
<p>   try {</p>
<pre><code> dirContext.createSubcontext(user.getDistinguishedName(), attrs);

 System.out.println(&quot;Add User(&quot; + user.getDistinguishedName() + &quot;) ok.&quot;);

 return true;
</code></pre><p>   } catch (NamingException e) {</p>
<pre><code> e.printStackTrace();
</code></pre><p>   }</p>
<p>   return false;</p>
<p>  }</p>
<p><strong>获取条目属性</strong>
下面一段代码获取entryDN参数指定条目中的属性集合，并打印到控制台</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 获取一个指定的LDAP Entry  </li>
<li>/* @param entryDN  </li>
<li>/*/  </li>
<li>public void find(String entryDN){   </li>
<li>try {    </li>
<li>Attributes attrs = dirContext.getAttributes(entryDN);    </li>
<li>if (attrs != null) {   </li>
<li>NamingEnumeration<String>  nEnum = attrs.getIDs();   </li>
<li>for( ; nEnum.hasMore() ; ){   </li>
<li>String attrID = nEnum.next();   </li>
<li>Attribute attr = (Attribute)attrs.get(attrID);   </li>
<li>System.out.println(attr.toString());   </li>
<li>}   </li>
<li>System.out.println();   </li>
<li>}else{    </li>
<li>System.out.println(&quot;No found binding.&quot;);   </li>
<li>}    </li>
<li>}catch(NamingException ne) {    </li>
<li>ne.printStackTrace();   </li>
<li>}    </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 获取一个指定的LDAP Entry</p>
<p>/* @param entryDN</p>
<p>/*/</p>
<p>public void find(String entryDN){</p>
<p>try {</p>
<p>  Attributes attrs = dirContext.getAttributes(entryDN);</p>
<p>  if (attrs != null) {</p>
<p>   NamingEnumeration<String>  nEnum = attrs.getIDs();</p>
<p>   for( ; nEnum.hasMore() ; ){</p>
<pre><code> String attrID = nEnum.next();

 Attribute attr = (Attribute)attrs.get(attrID);

 System.out.println(attr.toString());
</code></pre><p>   }</p>
<p>   System.out.println();</p>
<p>  }else{</p>
<p>   System.out.println(&quot;No found binding.&quot;);</p>
<p>  }</p>
<p>}catch(NamingException ne) {</p>
<p>  ne.printStackTrace();</p>
<p>}</p>
<p>}</p>
</li>
</ol>
<p><strong>修改条目属性</strong>
修改DN=user.getDistinguishedName()的条目中的cn、givenname、sn和userpassword四个属性值。
（注：参数DirContext.REPLACE_ATTRIBUTE有另外两个常量：DirContext.ADD_ATTRIBUTE；DirContext.REMOVE_ATTRIBUTE，分别表示新增属性和删除属性。）</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 修改用户信息  </li>
<li>/* @param user  </li>
<li>/* @return  </li>
<li>/* @throws Exception  </li>
<li>/*/    </li>
<li>public boolean modifyUser(LDAPUser user) throws Exception {    </li>
<li>//用户对象为空    </li>
<li>if (user == null) {    </li>
<li>throw new Exception(&quot;No user information!n&quot;);    </li>
<li>}   </li>
<li></li>
<li>//检查uid    </li>
<li>String userDN = user.getDistinguishedName();    </li>
<li>if (userDN == null &amp;&amp; userDN.length() == 0) {    </li>
<li>throw new NamingException(&quot;No userDN you specify!n&quot;);    </li>
<li>}    </li>
<li></li>
<li>//判断用户条目是否已经存在   </li>
<li>if(!isUserexist(userDN)){   </li>
<li>return false;   </li>
<li>}   </li>
<li></li>
<li>//设置属性    </li>
<li>Attributes attrs = new BasicAttributes();    </li>
<li>setBasicAttribute(attrs, &quot;cn&quot;, user.getCommomName());    </li>
<li>setBasicAttribute(attrs, &quot;givenname&quot;, user.getFirstName());    </li>
<li>setBasicAttribute(attrs, &quot;sn&quot;, user.getLastName());    </li>
<li>setBasicAttribute(attrs, &quot;userpassword&quot;, user.getPassword());      </li>
<li>//修改属性    </li>
<li>try{   </li>
<li>dirContext.modifyAttributes(user.getDistinguishedName(),DirContext.REPLACE_ATTRIBUTE, attrs);    </li>
<li>System.out.println(&quot;User(&quot; + user.getDistinguishedName() + &quot;) information modified.n&quot;);   </li>
<li>return true;   </li>
<li>}catch(NamingException ne){   </li>
<li>ne.printStackTrace();   </li>
<li>}   </li>
<li>return false;   </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 修改用户信息</p>
<p>/* @param user</p>
<p>/* @return</p>
<p>/* @throws Exception</p>
<p>/*/ </p>
<p>public boolean modifyUser(LDAPUser user) throws Exception {</p>
<p>//用户对象为空</p>
<p>if (user == null) {</p>
<p>  throw new Exception(&quot;No user information!n&quot;);</p>
<p>}</p>
</li>
</ol>
<p>   //检查uid</p>
<p>   String userDN = user.getDistinguishedName();</p>
<p>   if (userDN == null &amp;&amp; userDN.length() == 0) {</p>
<pre><code> throw new NamingException(&quot;No userDN you specify!n&quot;);
</code></pre><p>   }</p>
<p>   //判断用户条目是否已经存在</p>
<p>   if(!isUserexist(userDN)){</p>
<pre><code> return false;
</code></pre><p>   }</p>
<p>   //设置属性</p>
<p>   Attributes attrs = new BasicAttributes();</p>
<p>   setBasicAttribute(attrs, &quot;cn&quot;, user.getCommomName());</p>
<p>   setBasicAttribute(attrs, &quot;givenname&quot;, user.getFirstName());</p>
<p>   setBasicAttribute(attrs, &quot;sn&quot;, user.getLastName());</p>
<p>   setBasicAttribute(attrs, &quot;userpassword&quot;, user.getPassword());  </p>
<p>   //修改属性</p>
<p>   try{</p>
<pre><code> dirContext.modifyAttributes(user.getDistinguishedName(),DirContext.REPLACE_ATTRIBUTE, attrs);

 System.out.println(&quot;User(&quot; + user.getDistinguishedName() + &quot;) information modified.n&quot;);

 return true;
</code></pre><p>   }catch(NamingException ne){</p>
<pre><code> ne.printStackTrace();
</code></pre><p>   }</p>
<p>   return false;</p>
<p>  }</p>
<p><strong>删除条目</strong>
删除DN= userDN条目</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 删除用户  </li>
<li>/* @param userDN  </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public boolean deleteUser(String userDN) {    </li>
<li>if(!isUserexist(userDN)) {    </li>
<li>return true;   </li>
<li>}    </li>
<li>try {   </li>
<li>dirContext.destroySubcontext(userDN);   </li>
<li>System.out.println(&quot;User( &quot; + userDN + &quot;) deleted.n&quot;);    </li>
<li>return true;   </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}    </li>
<li>return false;          </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 删除用户</p>
<p>/* @param userDN</p>
<p>/* @return</p>
<p>/*/</p>
<p>public boolean deleteUser(String userDN) {</p>
<p>if(!isUserexist(userDN)) {</p>
<p>  return true;</p>
<p>}</p>
<p>try {</p>
<p>  dirContext.destroySubcontext(userDN);</p>
<p>  System.out.println(&quot;User( &quot; + userDN + &quot;) deleted.n&quot;);</p>
<p>  return true;</p>
<p>} catch (NamingException e) {</p>
<p>  e.printStackTrace();</p>
<p>}</p>
<p>return false;  </p>
<p>}</p>
</li>
</ol>
<p><strong>根据属性集搜索条目</strong>
根据属性集matchingAttributes中的匹配值，在上下文DN= &quot;ou=People,dc=jsoso ,dc=net&quot;中搜索它的所有子树中的匹配条目。
（注：SearchControls的SCOPE参数详见SearchControls SCOPE补充说明）</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 通过属性搜索LDAP范例   </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public void searchByAttribute(Attributes matchingAttributes){   </li>
<li>String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;   </li>
<li>SearchControls cons = new SearchControls();   </li>
<li>cons.setSearchScope(SearchControls.SUBTREE_SCOPE);   </li>
<li>try {   </li>
<li>Name baseName = new LdapName(baseDN);   </li>
<li>NamingEnumeration<SearchResult> ne = dirContext.search(baseName, matchingAttributes);   </li>
<li>SearchResult entry = null;   </li>
<li>for(;ne.hasMore();){   </li>
<li>entry = ne.next();   </li>
<li>showEntry(entry);   </li>
<li>}                      </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}   </li>
<li><p>}  </p>
<pre><code>   //*/*
</code></pre><p>/* 通过属性搜索LDAP范例</p>
<p>/* @return</p>
<p>/*/</p>
<p>public void searchByAttribute(Attributes matchingAttributes){</p>
<p> String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;</p>
<p> SearchControls cons = new SearchControls();</p>
<p> cons.setSearchScope(SearchControls.SUBTREE_SCOPE);</p>
<p> try {</p>
<p>  Name baseName = new LdapName(baseDN);</p>
<p>  NamingEnumeration<SearchResult> ne = dirContext.search(baseName, matchingAttributes);</p>
<p>  SearchResult entry = null;</p>
<p>  for(;ne.hasMore();){</p>
<p>   entry = ne.next();</p>
<p>   showEntry(entry);</p>
<p>  }       </p>
<p>} catch (NamingException e) {</p>
<p>  e.printStackTrace();</p>
<p>}</p>
<p>}</p>
</li>
</ol>
<p><strong>根据过滤器搜索条目</strong>
根据过滤器条件，在上下文DN = &quot;ou=People,dc=jsoso ,dc=net&quot;中，搜索它的所有子树中的匹配条目。
（注：过滤器filter的相关语法详见LDAP filter语法补充说明）</p>
<p>Java代码 <a href="http://linliangyi2007.javaeye.com/blog/167128" title="复制代码" target="_blank"><img src="" alt="复制代码"></a></p>
<ol>
<li>//<em>/</em>  </li>
<li>/* 通过过滤器搜索LDAP范例   </li>
<li>/* @return  </li>
<li>/*/  </li>
<li>public void searchByFilter(String filter){   </li>
<li>String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;          </li>
<li>SearchControls cons = new SearchControls();   </li>
<li>cons.setSearchScope(SearchControls.SUBTREE_SCOPE);   </li>
<li>try {   </li>
<li>NamingEnumeration<SearchResult> ne = dirContext.search(baseDN, filter , cons);   </li>
<li>SearchResult entry = null;   </li>
<li>for(;ne.hasMore();){   </li>
<li>entry = ne.next();   </li>
<li>showEntry(entry);   </li>
<li>}                      </li>
<li>} catch (NamingException e) {   </li>
<li>e.printStackTrace();   </li>
<li>}   </li>
<li><p>}  </p>
<p>//<em>/</em></p>
<p>/* 通过过滤器搜索LDAP范例</p>
<p>/* @return</p>
<p>/*/</p>
<p>public void searchByFilter(String filter){</p>
<p> String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;  </p>
<p> SearchControls cons = new SearchControls();</p>
<p> cons.setSearchScope(SearchControls.SUBTREE_SCOPE);</p>
<p> try {</p>
<p>  NamingEnumeration<SearchResult> ne = dirContext.search(baseDN, filter , cons);</p>
<p>  SearchResult entry = null;</p>
<p>  for(;ne.hasMore();){</p>
<p>   entry = ne.next();</p>
<p>   showEntry(entry);</p>
<p>  }       </p>
<p>} catch (NamingException e) {</p>
<p>  e.printStackTrace();</p>
<p>}</p>
<p>}</p>
</li>
</ol>
<p><strong>相关补充</strong>
<strong>javax.naming.Name**</strong>对象说明<strong>
在API中，我们常常见到对LDAP上下文条目有两种参数形式，一种是大家都熟悉的String参数，如： String baseDN = &quot;ou=People,dc=jsoso ,dc=net&quot;;
另一种是使用javax.naming.Name类型的参数，那么Name类和String有什么区别呢？
简单的说，Name是对String类DN的封装，它把一个完整的DN字窜分解成了RDN的list。这个list的顺序刚好和String相反。就拿&quot;ou=People,dc=jsoso ,dc=net&quot;为例，Name中的RDN顺序是[0]=net，[1]=jsoso，[2]=People。这样做的好处是更方便对Name进行操作，比如取其前缀或者后缀。
</strong>SearchControls SCOPE<strong>**补充说明</strong>
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8746/655c33eb-9277-3740-834c-63a17e48085e.gif">
<strong>LDAP filter**</strong>语法补充说明<strong>
filter的运算符
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8734/d1a62a84-b638-32d7-9d4f-f6829ba54dbf.gif">
filter布尔运算符
<img src="" alt="http://linliangyi2007.javaeye.com/upload/picture/pic/8736/a151eb07-48b5-3d42-a191-67ea6f694aa8.gif">
</strong>搜索过滤器示例**</p>
<ul>
<li>下列过滤器将搜索包含一个或多个 manager 属性值的条目。这也称为存在搜索： manager=/*</li>
<li>下列过滤器将搜索包含通用名 Ray Kultgen 的条目。这也称为等价搜索：cn=Ray Kultgen</li>
<li>下列过滤器返回所有不包含通用名 Ray Kultgen 的条目：(!(cn=Ray Kultgen))</li>
<li>下列过滤器返回的所有条目中都有包含子字符串 X.500 的说明属性：description=/<em>X.500/</em></li>
<li>下列过滤器返回所有组织单元为 Marketing 且说明字段中不包含子字符串 X.500 的条目： (&amp;(ou=Marketing)(!(description=/<em>X.500/</em>)))</li>
<li>下列过滤器返回所有组织单元为 Marketing 且 manager 为 Julie Fulmer 或 Cindy Zwaska 的条目： (&amp;(ou=Marketing)(|(manager=cn=Julie Fulmer,ou=Marketing,dc=siroe,dc=com)(manager=cn=Cindy Zwaska,ou=Marketing,dc=siroe,dc=com)))</li>
<li>下列过滤器返回所有不代表人员的条目： (!(objectClass=person))</li>
<li>下列过滤器返回所有不代表人员且通用名近似于 printer3b 的条目：(&amp;(!(objectClass=person))(cn~=printer3b))</li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/LDAP/">LDAP</a></li></span></span> | <span class="tags">Tagged <a href="/tags/LDAP/" class="label label-primary">LDAP</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-LDAP--Java60_API_for_LDAP/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-LDAP--Java60_API_for_LDAP" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-LDAP--LDAPerrorCode及解决方法-偽僾訫誶-ITeye技术网站/">LDAP error Code 及解决方法 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-LDAP--LDAPerrorCode及解决方法-偽僾訫誶-ITeye技术网站/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="ldap-error-code-iteye-">LDAP error Code 及解决方法 - 偽僾訫誶 - ITeye技术网站</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">资讯</a> <a href="http://www.iteye.com/magazines" target="_blank">精华</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://king-wangyao.iteye.com/blog/998851#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.iteye.com/job" target="_blank">招聘</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://king-wangyao.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://king-wangyao.iteye.com/login" target="_blank">登录</a> <a href="http://king-wangyao.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-http-king-wangyao-iteye-com-"><a href="http://king-wangyao.iteye.com/" target="_blank">偽僾訫誶</a></h1>
<p>永久域名 <a href="http://king-wangyao.iteye.com/" target="_blank"><a href="http://king-wangyao.iteye.com">http://king-wangyao.iteye.com</a></a></p>
<p><a href="http://king-wangyao.iteye.com/blog/1011550" title="出现了ORA-01033:ORACLE initialization or shutdown in progress " target="_blank">出现了ORA-01033:ORACLE initialization or ...</a> | <a href="http://king-wangyao.iteye.com/blog/998255" title="Apache Tomcat 5.5配置-多域名绑定与虚拟目录设置" target="_blank">Apache Tomcat 5.5配置-多域名绑定与虚拟 ...</a></p>
<p>2011-04-12</p>
<h3 id="-ldap-error-code-"><a href="">LDAP error Code 及解决方法</a> **</h3>
<p><strong>博客分类：</strong></p>
<ul>
<li><a href="http://king-wangyao.iteye.com/category/151321" target="_blank">综合技术</a>
<a href="http://www.iteye.com/blogs/tag/Tomcat" target="_blank">Tomcat</a><a href="http://www.iteye.com/blogs/tag/Security" target="_blank">Security</a><a href="http://www.iteye.com/blogs/tag/Websphere" target="_blank">Websphere</a><a href="http://www.iteye.com/blogs/tag/%E9%85%8D%E7%BD%AE%E7%AE%A1%E7%90%86" target="_blank">配置管理</a><a href="http://www.iteye.com/blogs/tag/JDK" target="_blank">JDK</a>
<strong>1.  error code 53</strong></li>
</ul>
<p>===========================================================================</p>
<p>问题：创建新用户时出现数据后端异常</p>
<p>在 WebSphere Portal Express 中，您可以设置密码的最短和最长长度。如果设置的密码长度与 LDAP 服务器的策略不相同，则在创建用户时您可能会看到以下异常：</p>
<p>EJPSG0015E: Data Backend Problem com.ibm.websphere.wmm.exception.WMMSystemException:</p>
<p>The following Naming Exception occurred during processing:</p>
<p>&quot;javax.naming.OperationNotSupportedException: [LDAP: error code 53 - 0000052D:</p>
<p>SvcErr: DSID-031A0FBC, problem 5003 (WILL_NOT_PERFORM), data 0</p>
<p>]; remaining name &#39;cn=see1anna,cn=users,dc=wps510,dc=rtp,dc=raleigh,dc=ibm,dc=com&#39;;</p>
<p>resolved object <a href="mailto:com.sun.jndi.ldap.LdapCtx@7075b1b4">com.sun.jndi.ldap.LdapCtx@7075b1b4</a>&quot;.</p>
<p>原因：这是由于“密码不能满足密码策略的要求”导致</p>
<p><strong>解决方案：</strong></p>
<ol>
<li><p>打开域安全策略-安全设置-账户策略-密码策略-密码必须符合复杂性要求。定义这个策略设置为:已禁用。/ 密码长度最小值：定义这个策略设置为0。</p>
</li>
<li><p>打开域控制器安全策略-安全设置-账户策略-密码策略-密码必须符合复杂性要求。定义这个策略设置为：已禁用。/ 密码长度最小值：定义这个策略设置为0。</p>
</li>
<li><p>最后运行刷新组策略命令为：gpupdate /force</p>
</li>
</ol>
<p>===========================================================================</p>
<p><strong>2. Need to specify class name</strong></p>
<p>===========================================================================</p>
<p>javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial</p>
<p>原因：LdapContext在处理完上个环节被close(),LdapContext=null;</p>
<p>解决方案：不close;</p>
<p><strong>3. error code 50</strong></p>
<p>===========================================================================</p>
<p>javax.naming.NoPermissionException: [LDAP: error code 50 - 00002098: SecErr: DSID-03150A45, problem 4003 (INSUFF_ACCESS_RIGHTS), data 0</p>
<p><strong>4. error code 68</strong></p>
<p>===========================================================================</p>
<p>javax.naming.NameAlreadyBoundException: [LDAP: error code 68 - 00000524: UpdErr: DSID-031A0F4F, problem 6005 (ENTRY_EXISTS), data 0</p>
<p>原因：创建的用户已经存在了</p>
<p><strong>5. No trusted certificate</strong></p>
<p>===========================================================================</p>
<p>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found</p>
<p>1.cas机器A，A上a,b,c服务运行良好</p>
<p>2.website 位于B机器，cas可以截获请求，跳转javax.net.ssl.SSLHandshakeException</p>
<p>将A上生生成的客户端密钥，导入B</p>
<p>A运行</p>
<p>sudo keytool -genkey -alias tomcat -keyalg RSA -keypass changeit -storepass changeit -keystore server.keystore -validity 3600</p>
<p>$ keytool -export -trustcacerts -alias tomcat -file server.cer -keystore server.keystore -storepass changeit</p>
<p>$ sudo keytool -import -trustcacerts -alias tomcat -file server.cer -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit</p>
<p>B运行最后一句即可</p>
<p>建立信任关系，客户，服务密钥，客户多处</p>
<p><strong>6. error code 1</strong></p>
<p>===========================================================================</p>
<p>javax.naming.NamingException: [LDAP: error code 1 - 00000000: LdapErr: DSID-0C090AE2, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, vece</p>
<p>原因：新增域用户的时候，ctx没有绑定管理员用户</p>
<p>解决方法：ctx.addToEnvironment(Context.SECURITY_PRINCIPAL, adminUser + &quot;@&quot; + ldapProperty.getDomain());</p>
<p> ctx.addToEnvironment(Context.SECURITY_CREDENTIALS, adminPwd);</p>
<p><strong>7. error code 50</strong></p>
<p>==========================================================================</p>
<p>javax.naming.NoPermissionException: [LDAP: error code 50 - 00000005: SecErr: DSID-03151E04, problem 4003 (INSUFF_ACCESS_RIGHTS)</p>
<p>原因：新建域用户时候，ctx绑定到一个普通用户（该用户没有新建用户的权限）</p>
<p>解决方法：使用管理员用户进行绑定：</p>
<pre><code>      ctx.addToEnvironment(Context.SECURITY_PRINCIPAL, adminUser + &quot;@&quot; + ldapProperty.getDomain());
</code></pre><p> ctx.addToEnvironment(Context.SECURITY_CREDENTIALS, adminPwd);</p>
<p><strong>8. error code 19</strong></p>
<p>==========================================================================</p>
<p>javax.naming.directory.InvalidAttributeValueException: [LDAP: error code 19 - 0000052D: AtrErr: DSID-03190F00, /#1:</p>
<p>0: 0000052D: DSID-03190F00, problem 1005 (CONSTRAINT_ATT_TYPE)</p>
<p>原因：这个最大的可能是不满足域安全策略：如密码复杂性、密码最短使用期限、强制密码历史。即长度、包含的字符、多久可以修改密码、是否可以使用历史密码等。</p>
<p><strong>9. LDAP: error code 50</strong></p>
<p>==========================================================================</p>
<p>javax.naming.NoPermissionException: [LDAP: error code 50 - 00000005: SecErr: DSID-031A0F44, problem 4003 (INSUFF_ACCESS_RIGHTS)</p>
<p>原因:这个是最初代码使用的replace操作，这个在AD里对应的是密码重设（普通用户默认没有这个权限，管理员可以操作），另外remove操作时提供的旧密码错误也可能报这个异常</p>
<p><strong>10. RSA premaster secret error</strong></p>
<p>==========================================================================</p>
<p>javax.naming.CommunicationException: simple bind failed: 172.18.20.4:636 [Root exception is javax.net.ssl.SSLKeyException: RSA premaster secret error]</p>
<p>原因：Tomcat 配置的JDK与添加证书的的JDK不一致。如：证书存放路径为C:\Java\jdk1.6.0_10\jre\lib\cacerts  而Tomcat 配置的JDK为C:\Java\jre6 ，使得两者路径不一致，SSL验证的时候，找不到证书</p>
<p><strong>11.No trusted certificate found</strong></p>
<p>==========================================================================</p>
<p>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: No trusted certificate found</p>
<p>原因：信任证书库文件路径不正确</p>
<p>解决方法：将正确工程中 \WEB-INF\classes目录下</p>
<p><strong>12. error code 49</strong></p>
<p>==========================================================================</p>
<p>javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090334, comment: AcceptSecurityContext error, data 52e, vece</p>
<p>原因：用户名或密码错误</p>
<p>分享到： <a href="&quot;分享到新浪微博&quot;"><img src="" alt=""></a> <a href="&quot;分享到腾讯微博&quot;"><img src="" alt=""></a>
<a href="http://king-wangyao.iteye.com/blog/1011550" title="出现了ORA-01033:ORACLE initialization or shutdown in progress " target="_blank">出现了ORA-01033:ORACLE initialization or ...</a> | <a href="http://king-wangyao.iteye.com/blog/998255" title="Apache Tomcat 5.5配置-多域名绑定与虚拟目录设置" target="_blank">Apache Tomcat 5.5配置-多域名绑定与虚拟 ...</a></p>
<ul>
<li>13:54</li>
<li><a href="http://king-wangyao.iteye.com/blog/998851#comments" target="_blank">评论</a> / 浏览 (0 / 572)</li>
<li>分类:<a href="http://www.iteye.com/blogs/category/language" target="_blank">编程语言</a></li>
<li><a href="http://www.iteye.com/wiki/blog/998851" target="_blank">相关推荐</a><h3 id="-">评论</h3>
</li>
</ul>
<p><a href=""></a></p>
<h3 id="-">发表评论</h3>
<p><a href="http://king-wangyao.iteye.com/login" target="_blank"><img src="" alt=""></a><a href="http://king-wangyao.iteye.com/login" target="_blank">您还没有登录,请您登录后再发表评论</a></p>
<p><a href="http://king-wangyao.iteye.com/" target="_blank"><img src="&quot;king_wangyao的博客: 偽僾訫誶&quot;" alt="king_wangyao的博客"></a></p>
<p>king_wangyao</p>
<ul>
<li>浏览: 57403 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 上海</li>
<li><img src="" alt=""></li>
<li><a href="http://king-wangyao.iteye.com/blog/profile" target="_blank">详细资料</a> <a href="http://king-wangyao.iteye.com/blog/guest_book" target="_blank">留言簿</a></li>
</ul>
<h3 id="-">搜索本博客</h3>
<h3 id="-http-king-wangyao-iteye-com-blog-user_visits-">最近访客 <a href="http://king-wangyao.iteye.com/blog/user_visits" target="_blank">&gt;&gt;更多访客</a></h3>
<p><a href="http://hothotmail.iteye.com/" target="_blank"><img src="&quot;hothotmail的博客: &quot;" alt="hothotmail的博客"></a></p>
<p><a href="http://hothotmail.iteye.com/" target="_blank">hothotmail</a></p>
<p><a href="http://nehcbai.iteye.com/" target="_blank"><img src="&quot;nehcbai的博客: &quot;" alt="nehcbai的博客"></a></p>
<p><a href="http://nehcbai.iteye.com/" target="_blank">nehcbai</a>
<a href="http://hmilypxy.iteye.com/" target="_blank"><img src="&quot;hmilypxy的博客: &quot;" alt="hmilypxy的博客"></a></p>
<p><a href="http://hmilypxy.iteye.com/" target="_blank">hmilypxy</a></p>
<p><a href="http://eclecl1314-163-com.iteye.com/" target="_blank"><img src="&quot;亦梦亦真的博客: 小菜鸟的成长之路&quot;" alt="亦梦亦真的博客"></a></p>
<p><a href="http://eclecl1314-163-com.iteye.com/" target="_blank">亦梦亦真</a></p>
<h3 id="-">博客分类</h3>
<ul>
<li><a href="http://king-wangyao.iteye.com/" target="_blank">全部博客 (156)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/127576" target="_blank">Java (69)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151318" target="_blank">MySQL (3)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151320" target="_blank">Oracle (13)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151319" target="_blank">Microsoft SQL Server (9)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151144" target="_blank">HTML (21)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/180520" target="_blank">javaScript (0)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/180519" target="_blank">jQuery (0)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/174176" target="_blank">程序案例 (3)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151799" target="_blank">IT生活 (3)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/180518" target="_blank">PowerDesigner (1)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151800" target="_blank">互联网 (1)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151321" target="_blank">综合技术 (11)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151322" target="_blank">软件开发管理 (6)</a></li>
<li><a href="http://king-wangyao.iteye.com/category/151801" target="_blank">行业应用 (4)</a><h3 id="-">我的相册</h3>
</li>
</ul>
<p><a href="http://king-wangyao.iteye.com/album" target="_blank"><img src="" alt=""></a> 714AAC4A
<a href="http://king-wangyao.iteye.com/album" target="_blank">共 3 张</a></p>
<h3 id="-http-king-wangyao-iteye-com-blog-guest_book-">我的留言簿 <a href="http://king-wangyao.iteye.com/blog/guest_book" target="_blank">&gt;&gt;更多留言</a></h3>
<h3 id="-">其他分类</h3>
<ul>
<li><a href="http://king-wangyao.iteye.com/blog/favorite" target="_blank">我的收藏</a> (0)</li>
<li><a href="http://king-wangyao.iteye.com/blog/code_favorite" target="_blank">我的代码</a> (0)</li>
<li><a href="http://king-wangyao.iteye.com/blog/topic" target="_blank">我的论坛主题帖</a> (0)</li>
<li><a href="http://king-wangyao.iteye.com/blog/post" target="_blank">我的所有论坛帖</a> (0)</li>
<li><a href="http://king-wangyao.iteye.com/blog/article" target="_blank">我的精华良好帖</a> (0)</li>
</ul>
<h3 id="-">最近加入群组</h3>
<ul>
<li><a href="http://struts2.group.iteye.com/" target="_blank">struts2</a></li>
<li><a href="http://spring.group.iteye.com/" target="_blank">Spring之旅</a></li>
<li><a href="http://hibernate.group.iteye.com/" target="_blank">Hibernate</a></li>
<li><a href="http://android.group.iteye.com/" target="_blank">Android</a></li>
<li><p><a href="http://ext.group.iteye.com/" target="_blank">EXT</a></p>
<h3 id="-">存档</h3>
</li>
<li><p><a href="http://king-wangyao.iteye.com/blog/monthblog/2011-10" target="_blank">2011-10</a> (2)</p>
</li>
<li><a href="http://king-wangyao.iteye.com/blog/monthblog/2011-09" target="_blank">2011-09</a> (3)</li>
<li><a href="http://king-wangyao.iteye.com/blog/monthblog/2011-08" target="_blank">2011-08</a> (3)</li>
<li><a href="http://king-wangyao.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></li>
</ul>
<h3 id="-">评论排行榜</h3>
<ul>
<li><a href="http://king-wangyao.iteye.com/blog/986864" title="查询数据库后是返回ResultSet还是返回Collection?" target="_blank">查询数据库后是返回ResultSet还是返回Coll ...</a></li>
<li><a href="http://king-wangyao.iteye.com/blog/991283" title="jQuery Ajax分页(pagination.js)分页插件 （转载）" target="_blank">jQuery Ajax分页(pagination.js)分页插件 ...</a></li>
<li><a href="http://king-wangyao.iteye.com/blog/1051780" title="97编程大赛第一名的神奇程序" target="_blank">97编程大赛第一名的神奇程序</a></li>
<li><a href="http://king-wangyao.iteye.com/blog/996522" title="Java 7七大新功能预览" target="_blank">Java 7七大新功能预览</a></li>
<li><a href="http://king-wangyao.iteye.com/rss" target="_blank"><img src="" alt="Rss"></a></li>
<li><a href="http://fusion.google.com/add?feedurl=http://king-wangyao.iteye.com/rss" target="_blank"><img src="" alt="Rss_google"></a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2011 ITeye.com. All rights reserved. [ 京ICP证110151号 京公网安备110105010620 ]
<img src="" alt=""></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/LDAP/">LDAP</a></li></span></span> | <span class="tags">Tagged <a href="/tags/LDAP/" class="label label-primary">LDAP</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-LDAP--LDAPerrorCode及解决方法-偽僾訫誶-ITeye技术网站/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-LDAP--LDAPerrorCode及解决方法-偽僾訫誶-ITeye技术网站" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-LDAP--用JAVA通过LDAP修改AD用户密码注意事项-一事无成-ITeye技术网站/">用JAVA通过LDAP修改AD用户密码注意事项 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-LDAP--用JAVA通过LDAP修改AD用户密码注意事项-一事无成-ITeye技术网站/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-java-ldap-ad-iteye-">用JAVA通过LDAP修改AD用户密码注意事项 - 一事无成 - ITeye技术网站</h1>
<p><a href="http://www.iteye.com/" target="_blank">首页</a> <a href="http://www.iteye.com/news" target="_blank">新闻</a> <a href="http://www.iteye.com/forums" target="_blank">论坛</a> <a href="http://www.iteye.com/ask" target="_blank">问答</a> <a href="http://www.iteye.com/blogs" target="_blank">博客</a> <a href="http://www.iteye.com/job" target="_blank">招聘</a> <a href="http://wls981.iteye.com/blog/316012#" target="_blank">更多 ▼</a></p>
<p><a href="http://www.iteye.com/wiki" target="_blank">专栏</a>  <a href="http://www.iteye.com/groups" target="_blank">群组</a> <a href="http://www.iteye.com/search" target="_blank">搜索</a></p>
<p><a href="http://wls981.iteye.com/login" title="登录" target="_blank">您还未登录 !</a> <a href="http://www.iteye.com/all" target="_blank">我的应用</a> <a href="http://wls981.iteye.com/login" target="_blank">登录</a> <a href="http://wls981.iteye.com/signup" target="_blank">注册</a></p>
<h1 id="-http-wls981-iteye-com-"><a href="http://wls981.iteye.com/" target="_blank">一事无成</a></h1>
<p>永久域名 <a href="http://wls981.iteye.com/" target="_blank"><a href="http://wls981.iteye.com">http://wls981.iteye.com</a></a></p>
<p><a href="http://wls981.iteye.com/blog/443237" title="实模式-&gt;保护模式-&gt;实模式 切换的注意事项" target="_blank">实模式-&gt;保护模式-&gt;实模式 切换的注意事项</a> | <a href="http://wls981.iteye.com/blog/256955" title="Installanywhere 2008 VP1 Enterprise 破解 分享" target="_blank">Installanywhere 2008 VP1 Enterprise 破解 ...</a></p>
<p>2009-01-14</p>
<h3 id="-java-ldap-ad-"><a href="">用JAVA通过LDAP修改AD用户密码注意事项</a></h3>
<p><strong>文章分类:<a href="http://www.iteye.com/blogs/category/java" target="_blank">Java编程</a></strong>
    最近要用java来修改windows 2003的Active Directory(简称AD)上的用户，包括新增、修改、删除，普通的操作这里就不说了，网上有一大堆的资料，这里记述一下本人操作过程中遇到的问题及解决方法。
    通过ldap来修改AD的用户信息，除了修改密码外，其他的都可以使用非安全的连接进行操作，也就是可以不走SSL连接来操作，注意AD的普通端口是389，SSL端口是636。
    当使用SSL连接修改密码时，需要在连接端安装证书，怎么获取证书，本人使用网上其他人介绍的证书方法，全是无法成功，都是出现 unable to find valid certification path to requested target  错误，最终经一朋友提示，使用其他方法获取到正确的证书，具体如下：
    1、安装证书服务。在ldap服务器上安装证书服务。证书服务的安装没什么特别的注意，请参考其他人的文章。</p>
<pre><code>2、获取客户端证书。别人都是通过下载证书的方式来获取证书，但是我通过这种方式就是无法成功修改密码，也都是提示 unable to find valid certification path to requested target 这个错误。我的操作方法为，用IE通过SSL直接连接ldap服务器(也就是安装AD的那台机器)，使用636端口，类似于  https://192.168.0.111:636  ，连接的时候会提示安装证书，这时候把这个证书保存下来，即为需要的客户端证书。
3、连接。得到证书后，我在连接的时候成功了，但在修改AD用户密码的时候还是报错，但这次的错误为  javax.naming.OperationNotSupportedException: [LDAP: error code 53 - 0000052D: SvcErr: DSID-031A0FC0, problem 5003 (WILL_NOT_PERFORM), data 0    ,操作不支持错误，在这个问题了转了好久都没解决，后来无意中看到一篇文章讲到AD中的密码策略问题，才想起来windows2003中AD中的默认密码策略有长度限制和复杂性要求，所以才导致出现OperationNotSupportedException异常，记得在域控制器上查看自己的域策略。
</code></pre><p>后记：由于水平原因，就因为证书的问题搞了两天多才搞定，其实通过调整域策略可以使用修改密码不需要走SSL通道的，但这都是旁门左道，希望写下这篇文章对大家有所帮助。</p>
<ul>
<li><a href="http://dl.iteye.com/topics/download/ad8784f9-0680-309e-b0ba-dba4f94c6611" target="_blank">ldap.rar</a> (6 KB)</li>
<li><p>下载次数: 73
<a href="http://wls981.iteye.com/blog/443237" title="实模式-&gt;保护模式-&gt;实模式 切换的注意事项" target="_blank">实模式-&gt;保护模式-&gt;实模式 切换的注意事项</a> | <a href="http://wls981.iteye.com/blog/256955" title="Installanywhere 2008 VP1 Enterprise 破解 分享" target="_blank">Installanywhere 2008 VP1 Enterprise 破解 ...</a></p>
</li>
<li><p>10:03</p>
</li>
<li>浏览 (4409)</li>
<li><a href="http://wls981.iteye.com/blog/316012#comments" target="_blank">评论</a> (6)</li>
<li>分类: <a href="http://wls981.iteye.com/category/53640" target="_blank">java</a></li>
<li><a href="http://www.iteye.com/wiki/topic/316012" target="_blank">相关推荐</a><h3 id="-">评论</h3>
</li>
</ul>
<p><a href=""></a></p>
<p>6 楼 <a href="http://wls981.iteye.com/" target="_blank">wls981</a> 2009-09-02   <a href="http://wls981.iteye.com/blog/316012#" target="_blank">引用</a></p>
<p>其实只要是AD中提供的对象，你都是可以修改的，group如果是AD提供的对象，那肯定也是可以修改的，修改方法应该跟用户类似。
5 楼 <a href="http://leecupn.iteye.com/" target="_blank">Leecupn</a> 2009-08-21   <a href="http://wls981.iteye.com/blog/316012#" target="_blank">引用</a></p>
<p>to wls981:
谢谢，问题我前几天已经解决了，确实是证书没导入。
请问一下，除了对用户编辑外，我可以对用户组，也就是group进行增、删操作吗？这是一个比较严峻的问题啊
期待回复。</p>
<p>4 楼 <a href="http://wls981.iteye.com/" target="_blank">wls981</a> 2009-08-19   <a href="http://wls981.iteye.com/blog/316012#" target="_blank">引用</a></p>
<p>to Leecupn:
你证书正确的导入到JDK里了吗？连接的时候相应的证书路径是否指定正确呢？
3 楼 <a href="http://leecupn.iteye.com/" target="_blank">Leecupn</a> 2009-08-17   <a href="http://wls981.iteye.com/blog/316012#" target="_blank">引用</a></p>
<p>楼主，我获取证书并安装完成了之后，为什么还是报：
javax.naming.CommunicationException: simple bind failed: 192.168.136.202:636 [Root exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException:PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target]
异常呢？？
怎样才能与好好你交流下？
期待回复，谢谢！</p>
<p>2 楼 <a href="http://wls981.iteye.com/" target="_blank">wls981</a> 2009-08-09   <a href="http://wls981.iteye.com/blog/316012#" target="_blank">引用</a></p>
<p>具体的操作方法网上有很多代码你可以找找看，只要注意证书正确即可。
1 楼 <a href="http://zhangfeiii.iteye.com/" target="_blank">zhangfeiii</a> 2009-05-08   <a href="http://wls981.iteye.com/blog/316012#" target="_blank">引用</a></p>
<p>我們公司B/S架構的系統，目前需要直接在界面上操作AD用戶信息(比如用戶帳號停用 / 用戶密碼Update等)，請問能否詳細敘述下技術層面，謝謝！</p>
<h3 id="-">发表评论</h3>
<h3 id="-">表情图标</h3>
<p><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""><img src="" alt=""></p>
<p>字体颜色: 标准深红红色橙色棕色黄色绿色橄榄青色蓝色深蓝靛蓝紫色灰色白色黑色 字体大小: 标准1 (xx-small)2 (x-small)3 (small)4 (medium)5 (large)6 (x-large)7 (xx-large) 对齐: 标准居左居中居右</p>
<p>提示：选择您需要装饰的文字, 按上列按钮即可添加上相应的标签</p>
<p>您还没有登录，请<a href="http://wls981.iteye.com/login" target="_blank">登录</a>后发表评论(快捷键 Alt+S / Ctrl+Enter)</p>
<p><a href="http://wls981.iteye.com/" target="_blank"><img src="&quot;wls981的博客: 一事无成&quot;" alt="wls981的博客"></a></p>
<p>wls981</p>
<ul>
<li>浏览: 7786 次</li>
<li>性别: <img src="&quot;男&quot;" alt="Icon_minigender_1"></li>
<li>来自: 桂林</li>
<li><img src="" alt=""></li>
<li><a href="http://wls981.iteye.com/blog/profile" target="_blank">详细资料</a> <a href="http://wls981.iteye.com/blog/guest_book" target="_blank">留言簿</a></li>
</ul>
<h3 id="-">搜索本博客</h3>
<h3 id="-http-wls981-iteye-com-blog-user_visits-">最近访客 <a href="http://wls981.iteye.com/blog/user_visits" target="_blank">&gt;&gt;更多访客</a></h3>
<p><a href="http://lrg30067.iteye.com/" target="_blank"><img src="&quot;lrg30067的博客: lrg30067&quot;" alt="lrg30067的博客"></a></p>
<p><a href="http://lrg30067.iteye.com/" target="_blank">lrg30067</a></p>
<p><a href="http://lhlinux.iteye.com/" target="_blank"><img src="&quot;lhlinux的博客: lhlinux&quot;" alt="lhlinux的博客"></a></p>
<p><a href="http://lhlinux.iteye.com/" target="_blank">lhlinux</a>
<a href="http://wangyiywc-163-com.iteye.com/" target="_blank"><img src="&quot;爱问知识人的博客: &quot;" alt="爱问知识人的博客"></a></p>
<p><a href="http://wangyiywc-163-com.iteye.com/" target="_blank">爱问知识人</a></p>
<h3 id="-">博客分类</h3>
<ul>
<li><a href="http://wls981.iteye.com/" target="_blank">全部博客 (10)</a></li>
<li><a href="http://wls981.iteye.com/category/53640" target="_blank">java (4)</a></li>
<li><a href="http://wls981.iteye.com/category/75275" target="_blank">汇编 (4)</a></li>
<li><p><a href="http://wls981.iteye.com/category/152148" target="_blank">oracle (1)</a></p>
<h3 id="-http-wls981-iteye-com-blog-guest_book-">我的留言簿 <a href="http://wls981.iteye.com/blog/guest_book" target="_blank">&gt;&gt;更多留言</a></h3>
</li>
<li><p><a href="http://dl.iteye.com/topics/download/ad878" target="_blank">http://dl.iteye.com/topics/download/ad878</a> ...
-- by <a href="http://wls981.iteye.com/blog/guest_book#30502" target="_blank">wls981</a></p>
</li>
<li>好厉害 【用JAVA通过LDAP修改AD用户密码注意事项一】 java来修改wi ...
-- by <a href="http://wls981.iteye.com/blog/guest_book#29097" target="_blank">小刀飞李</a></li>
</ul>
<h3 id="-">其他分类</h3>
<ul>
<li><a href="http://wls981.iteye.com/blog/favorite" target="_blank">我的收藏</a> (0)</li>
<li><a href="http://wls981.iteye.com/blog/code_favorite" target="_blank">我的代码</a> (0)</li>
<li><a href="http://wls981.iteye.com/blog/topic" target="_blank">我的论坛主题帖</a> (4)</li>
<li><a href="http://wls981.iteye.com/blog/post" target="_blank">我的所有论坛帖</a> (14)</li>
<li><a href="http://wls981.iteye.com/blog/article" target="_blank">我的精华良好帖</a> (0)<h3 id="-">最近加入群组</h3>
</li>
</ul>
<h3 id="-">存档</h3>
<ul>
<li><a href="http://wls981.iteye.com/blog/monthblog/2011-04" target="_blank">2011-04</a> (1)</li>
<li><a href="http://wls981.iteye.com/blog/monthblog/2011-03" target="_blank">2011-03</a> (2)</li>
<li><a href="http://wls981.iteye.com/blog/monthblog/2010-10" target="_blank">2010-10</a> (1)</li>
<li><p><a href="http://wls981.iteye.com/blog/monthblog_more" target="_blank">更多存档...</a></p>
<h3 id="-">评论排行榜</h3>
</li>
<li><p><a href="http://wls981.iteye.com/blog/981072" title="Ext.data.ScriptTagProxy在ie6中报参数无效" target="_blank">Ext.data.ScriptTagProxy在ie6中报参数无 ...</a></p>
</li>
<li><a href="http://wls981.iteye.com/blog/981088" title="weblogic 10在windows下换64位JDK后的本地IO库" target="_blank">weblogic 10在windows下换64位JDK后的本 ...</a></li>
<li><a href="http://wls981.iteye.com/blog/998028" title="oracle stream 目标库上的触发器不执行" target="_blank">oracle stream 目标库上的触发器不执行</a></li>
<li><p><a href="http://wls981.iteye.com/blog/790233" title="spring的aop中切入点的定义注意" target="_blank">spring的aop中切入点的定义注意</a></p>
</li>
<li><p><a href="http://wls981.iteye.com/rss" target="_blank"><img src="" alt="Rss"></a></p>
</li>
<li><a href="http://fusion.google.com/add?feedurl=http://wls981.iteye.com/rss" target="_blank"><img src="" alt="Rss_google"></a>
声明：ITeye文章版权属于作者，受法律保护。没有作者书面许可不得转载。若作者同意转载，必须以超链接形式标明文章原始出处和作者。
© 2003-2011 ITeye.com. All rights reserved. [ 京ICP证110151号 ]
<img src="" alt=""></li>
</ul>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/LDAP/">LDAP</a></li></span></span> | <span class="tags">Tagged <a href="/tags/LDAP/" class="label label-primary">LDAP</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-LDAP--用JAVA通过LDAP修改AD用户密码注意事项-一事无成-ITeye技术网站/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-LDAP--用JAVA通过LDAP修改AD用户密码注意事项-一事无成-ITeye技术网站" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/31/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/29/">29</a></li><li><a class="page-number" href="/page/30/">30</a></li><li><a class="page-number" href="/page/31/">31</a></li><li class="active"><li><span class="page-number current">32</span></li><li><a class="page-number" href="/page/33/">33</a></li><li><a class="page-number" href="/page/34/">34</a></li><li><a class="page-number" href="/page/35/">35</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/164/">164</a></li><li><a class="page-number" href="/page/165/">165</a></li><li><a class="extend next" href="/page/33/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-15 16:55:36</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
