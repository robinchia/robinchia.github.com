
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The 90 Page | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="It so life">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">


<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-缓存-ehcache--Ehcache配置文件加载方式-crazyinsomnia的空间-开源中国社区/">Ehcache配置文件加载方式 </a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-缓存-ehcache--Ehcache配置文件加载方式-crazyinsomnia的空间-开源中国社区/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="ehcache-crazyinsomnia-">Ehcache配置文件加载方式 - crazyinsomnia的空间 - 开源中国社区</h1>
<p><a href="http://www.oschina.net/" title="开源中国社区首页" target="_blank">开源中国社区</a></p>
<p>10月20日杭州OSC源创会 <a href="http://www.oschina.net/question/28_72721" target="_blank">正在报名</a> 中</p>
<ul>
<li><a href="http://www.oschina.net/project" target="_blank">软件</a></li>
<li><a href="http://www.oschina.net/question" target="_blank">讨论</a></li>
<li><a href="http://www.oschina.net/code/list" target="_blank">代码</a></li>
<li><a href="http://www.oschina.net/news" target="_blank">资讯</a></li>
<li><a href="http://www.oschina.net/blog" target="_blank">博客</a></li>
<li><a href="http://www.oschina.net/android" target="_blank">Android</a></li>
<li><a href="http://www.oschina.net/job" target="_blank">招聘</a></li>
</ul>
<p>当前访客身份： 游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fmy.oschina.net%2Fcrazyinsomnia" target="_blank">登录</a> | <a href="http://www.oschina.net/home/reg" target="_blank">加入开源中国</a> ]  <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fmy.oschina.net%2Fcrazyinsomnia" title="进入我的留言箱" target="_blank">你有<em>0</em>新留言</a></p>
<p>软件 代码 讨论区 新闻 博客</p>
<p>软件</p>
<ul>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3552#1" target="_blank">软件</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3552#2" target="_blank">代码</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3552#3" target="_blank">讨论区</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3552#4" target="_blank">新闻</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3552#5" target="_blank">博客</a>
<a href="http://my.oschina.net/crazyinsomnia" target="_blank"><img src="&quot;crazyinsomnia&quot;" alt="crazyinsomnia"></a>  <a href="http://my.oschina.net/crazyinsomnia" title="男" target="_blank">crazyinsomnia</a>  <img src="&quot;男&quot;" alt=""> <a href="&quot;成为TA的粉丝&quot;">关注此人</a></li>
</ul>
<p><a href="http://my.oschina.net/crazyinsomnia/fellow" target="_blank">关注(10)</a> <a href="http://my.oschina.net/crazyinsomnia/fans" target="_blank">粉丝(16)</a> <a href="http://www.oschina.net/question/3307_20931" title="查看OSCHINA积分规则" target="_blank">积分(47)</a></p>
<p>青春是人生的实验课，错也错的很值得！！
<a href="">.发送留言</a> <a href="http://www.oschina.net/question/ask?user=30362" target="_blank">.请教问题</a></p>
<p><strong>博客分类</strong></p>
<ul>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=62638" target="_blank">Spring</a>(1)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=29443" target="_blank">Freemarker</a>(1)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=22602" target="_blank">java</a>(12)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=22687" target="_blank">Jquery</a>(2)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=28068" target="_blank">Linux</a>(3)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=24660" target="_blank">Velocity</a>(1)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=27928" target="_blank">Hibernate</a>(1)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=27635" target="_blank">Struts2</a>(6)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=28479" target="_blank">Htmlparser</a>(1)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=25478" target="_blank">数据库</a>(2)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=24533" target="_blank">CSS+Html+Javascript</a>(5)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=13879" target="_blank">工作日志</a>(0)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=13880" target="_blank">日常记录</a>(3)</li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog?catalog=13881" target="_blank">转贴的文章</a>(0)
<strong>阅读排行</strong></li>
</ul>
<ol>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3370" target="_blank">1. WebApplicationContext : org.springframework.web.context.ContextLoaderListener作用</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/2231" target="_blank">2. hibernate学习笔记：hibernate中的Cache管理</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3490" target="_blank">3. Document.location.href和document.location.replace的区别</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/12518" target="_blank">4. web.xml 中的listener、 filter、servlet 加载顺序及其详解</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/2233" target="_blank">5. jquery的extend和fn.extend</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3400" target="_blank">6. Struts2中的ActionContext</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3848" target="_blank">7. Struts2执行流程【图】</a></li>
<li><a href="">8. Ehcache配置文件加载方式</a></li>
</ol>
<p><strong>最新评论</strong></p>
<ul>
<li><a href="http://my.oschina.net/u/242075" target="_blank">@lfsfxy9</a>：相同的内容，有必要重复一遍吗？！ <a href="http://my.oschina.net/action/tweet/go?obj=269119659&amp;type=18&amp;user=242075" target="_blank">查看»</a></li>
<li><a href="http://my.oschina.net/chengjiansunboy" target="_blank">@被风遗忘</a>：引用来自“senge”的评论 CacheManager manager... <a href="http://my.oschina.net/action/tweet/go?obj=268835524&amp;type=18&amp;user=221603" target="_blank">查看»</a></li>
<li><a href="http://my.oschina.net/senge" target="_blank">@senge</a>：CacheManager manager = new CacheManager(url);... <a href="http://my.oschina.net/action/tweet/go?obj=264235413&amp;type=18&amp;user=106591" target="_blank">查看»</a></li>
<li><a href="http://my.oschina.net/laddygaga" target="_blank">@哥不是传说</a>： <a href="http://my.oschina.net/action/tweet/go?obj=259653898&amp;type=18&amp;user=111291" target="_blank">查看»</a></li>
<li><a href="http://my.oschina.net/javayou" target="_blank">@红薯</a>：不需要 from dual 啦， select now();... <a href="http://my.oschina.net/action/tweet/go?obj=254022309&amp;type=18&amp;user=12" target="_blank">查看»</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia" target="_blank">@crazyinsomnia</a>：嘻嘻，是啊！：） <a href="http://my.oschina.net/action/tweet/go?obj=254017055&amp;type=18&amp;user=30362" target="_blank">查看»</a></li>
<li><p><a href="http://my.oschina.net/javayou" target="_blank">@红薯</a>：通过URL加载，这个说法不太对哦 getClass().get... <a href="http://my.oschina.net/action/tweet/go?obj=254015753&amp;type=18&amp;user=12" target="_blank">查看»</a>
<strong>访客统计</strong></p>
</li>
<li><p>今日访问：21</p>
</li>
<li>昨日访问：22</li>
<li>本周访问：86</li>
<li>本月访问：175</li>
<li>所有访问：21437</li>
</ul>
<p><a href="http://my.oschina.net/crazyinsomnia" target="_blank">空间</a> » <a href="http://my.oschina.net/crazyinsomnia/blog" target="_blank">博客</a> » <a href="http://my.oschina.net/crazyinsomnia/blog?catalog=22602" target="_blank">java</a> » 博客正文</p>
<h1 id="-ehcache-"><img src="" alt=""> Ehcache配置文件加载方式</h1>
<p><em>0</em>人收藏此文章,  <a href="">我要收藏</a>   发表于2年前(2010-04-01 00:00) , 已有<strong>924</strong>次阅读 共<strong><a href="http://my.oschina.net/crazyinsomnia/blog/3552#comments" target="_blank">4</a></strong>个评论</p>
<p>会在classpath路径下找ehcache.xml配置文件</p>
<p>CacheManager manager = new CacheManager();   </p>
<p>也可以根据相对文件路径来加载配置文件</p>
<p>CacheManager manager = new CacheManager(“src/ehcache.xml”); .</p>
<p>通过相对与类路径的位置加载   </p>
<p>URL url = getClass().getResource(“/ehcache.xml”); </p>
<p>CacheManager manager = new CacheManager(url);</p>
<p>通过流加载</p>
<p>InputSream fis = new FileInputStream(new File(“src/config/ehcache.xml”).getAbsolutePath());
声明：OSCHINA 博客文章版权属于作者，受法律保护。未经作者同意不得转载。</p>
<ul>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3547" title="上一篇：Linux总结----VI文件编辑器" target="_blank">« Linux总结----VI文件编辑器</a></li>
<li><a href="http://my.oschina.net/crazyinsomnia/blog/3562" title="下一篇：MySQL获得系统时间" target="_blank">MySQL获得系统时间 »</a></li>
</ul>
<p>开源中国-程序员在线工具：<a href="http://www.osctools.net/apidocs" target="_blank">API文档大全(120+)</a> <a href="http://www.osctools.net/jsbin" target="_blank">JS在线编辑演示</a> <a href="http://www.osctools.net/qr" target="_blank">二维码</a> <a href="http://www.osctools.net/" target="_blank">更多&gt;&gt;</a>
<a href="&quot;分享到新浪微博&quot;"></a> <a href="&quot;分享到腾讯微博&quot;"></a> <a href="&quot;分享到开心网&quot;"></a> <a href="&quot;分享到人人网&quot;"></a> <a href="&quot;分享到豆瓣&quot;"></a> <a href="http://www.jiathis.com/share?uid=1567353"></a> <a href="">0</a>     <a href="">顶</a>已有 <em>0</em>人顶</p>
<h2 id="-4-"><a href=""></a>共有 4 条网友评论</h2>
<ul>
<li><a href="http://my.oschina.net/javayou" target="_blank"><img src="&quot;红薯&quot;" alt="红薯"></a> 1楼：<a href="http://my.oschina.net/javayou" target="_blank">红薯</a> 发表于 2010-04-01 07:39 <a href="">回复此评论</a></li>
</ul>
<p>通过URL加载，这个说法不太对哦 getClass().getResource(....) 主要是从类路径中加载</p>
<ul>
<li><a href="http://my.oschina.net/crazyinsomnia" target="_blank"><img src="&quot;crazyinsomnia&quot;" alt="crazyinsomnia"></a> 2楼：<a href="http://my.oschina.net/crazyinsomnia" target="_blank">crazyinsomnia</a> 发表于 2010-04-01 09:27 <a href="">回复此评论</a></li>
</ul>
<p>嘻嘻，是啊！：）</p>
<ul>
<li><a href="http://my.oschina.net/senge" target="_blank"><img src="&quot;senge&quot;" alt="senge"></a> 3楼：<a href="http://my.oschina.net/senge" target="_blank">senge</a> 发表于 2011-11-13 17:37 <a href="">回复此评论</a></li>
</ul>
<p>CacheManager manager = new CacheManager(url);
url 是WEB－INF　下面的配置文件　怎么加载不进来啊！</p>
<ul>
<li><a href="http://my.oschina.net/chengjiansunboy" target="_blank"><img src="&quot;被风遗忘&quot;" alt="被风遗忘"></a> 4楼：<a href="http://my.oschina.net/chengjiansunboy" target="_blank">被风遗忘</a> 发表于 2012-08-05 22:39 <a href="">回复此评论</a></li>
</ul>
<h3 id="-senge-">引用来自“senge”的评论</h3>
<p>CacheManager manager = new CacheManager(url);
url 是WEB－INF　下面的配置文件　怎么加载不进来啊！
应该是读取的位置不对的吧.</p>
<p>文明上网，理性发言
<a href=""></a></p>
<p><img src="" alt=""> 文明上网，理性发言  <a href="http://my.oschina.net/crazyinsomnia/blog/3552#" target="_blank">回到页首</a> | <a href="http://my.oschina.net/crazyinsomnia/blog/3552#comments" target="_blank">回到评论列表</a></p>
<p><strong><a href="">关闭</a>相关文章阅读</strong></p>
<ul>
<li>2012/07/29 <a href="http://my.oschina.net/u/615185/blog/69693" title="Nagios的配置文件" target="_blank">Nagios的配置文件</a></li>
<li>2012/06/04 <a href="http://my.oschina.net/chaoren8/blog/60918" title="读取properties格式的配置文件" target="_blank">读取properties格式的配置文件...</a></li>
<li>2012/01/29 <a href="http://my.oschina.net/superoscar/blog/39502" title="更新了VIM的配置-_vimc（2012年1月版）" target="_blank">更新了VIM的配置-_vimc（2012年1月版...</a></li>
<li>2012/08/14 <a href="http://my.oschina.net/u/617085/blog/72692" title="hadoop配置文件" target="_blank">hadoop配置文件</a></li>
<li>2012/06/04 <a href="http://my.oschina.net/bsnfei/blog/60900" title="编写调用配置文件" target="_blank">编写调用配置文件</a></li>
</ul>
<p>© 开源中国社区(OsChina.NET) | <a href="http://www.oschina.net/home/about" target="_blank">关于我们</a> | <a href="mailto:oschina.net@gmail.com">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/" target="_blank">开源中国手机版</a> | 粤ICP备12009483号-3</p>
<p><a href=""></a><a href=""></a><a href=""></a>
<img src="" alt=""></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/缓存/">缓存</a></li></span><span class="breadcrumb"><li><a href="/categories/缓存/">缓存</a></li><li><a href="/categories/缓存/ehcache/">ehcache</a></li></span></span> | <span class="tags">Tagged <a href="/tags/ehcache/" class="label label-primary">ehcache</a><a href="/tags/缓存/" class="label label-success">缓存</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-缓存-ehcache--Ehcache配置文件加载方式-crazyinsomnia的空间-开源中国社区/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-缓存-ehcache--Ehcache配置文件加载方式-crazyinsomnia的空间-开源中国社区" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-安全--电信数据网安全评估准则的研究/">电信数据网安全评估准则的研究</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:38.000Z"> <a href="/2014/02/02/2014-02-02-安全--电信数据网安全评估准则的研究/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-">电信数据网安全评估准则的研究</h1>
<p>电信数据网安全评估准则的研究</p>
<p>原文链接：<a href="http://www.securitycn.net/html/research/service/3205.html" target="_blank"><a href="http://www.securitycn.net/html/research/service/3205.html">http://www.securitycn.net/html/research/service/3205.html</a></a></p>
<p>摘要　提出电信数据网的安全评估框架，重点讨论了电信数据网安全评估准则、电信数据网安全等级划分原理、电信数据网安全评估过程、电信数据网安全评估工具。最后，指出了电信数据网安全评估发展趋势。</p>
<p>电信数据网作为国民经济的基础设施，与国民经济各领域的联系日益紧密，网络安全问题对整个国民经济信息化进程有着举足轻重的战略作用。电信数据网安全作为国家信息安全的一个重要组成部分，要与国家信息安全总体要求和总体部署保持一致，要坚持积极防御、综合防范的方针，提高网络防护能力和风险识别能力，加强对电信网的安全评估工作。</p>
<p>近年来，中国电信网络环境更加复杂，网络安全威胁更加严重，病毒、黑客、垃圾邮件等频繁困扰着企业和用户。网络安全对今天的电信运营商来说已是重中之重。随着电信网络从原来的信息传输通道走向今天的多元化网络平台，再加上运营商本身竞争的加大以及客户对服务质量的不断提升，电信网络的安全、可靠成了运营商必须面对的问题。因此，电信网络运营商要保证电信网络的正常运行，就必须对其进行全面的安全评估。电信系统在进行网络安全设备选型、网络安全需求分析、网络建设、网络改造、应用系统试运行、内网与外网互联、与第三方业务伙伴进行网上业务数据传输、电子政务等业务之前，进行安全评估会帮助电信运营商在一个安全的框架下进行组织活动。通过安全评估来识别风险大小，通过制定信息安全方针，采取适当的控制目标与控制方式对风险进行控制，使风险被避免、转移或降至一个可被接受的水平。</p>
<p>本文就电信数据网安全评估的若干关键问题，包括电信数据网安全评估准则、电信数据网风险分析方法、电信数据网安全等级划分原理、电信数据网安全评估过程、电信数据网安全评估工具等，进行了探讨。</p>
<p>1、TDN安全评估体系</p>
<p>为了使评估结果达到更好的可比性，评估应在权威的评估体制内执行。</p>
<p>其中，电信数据网安全评估认证中心是经电信主管部门授权，代表国家对电信数据网进行安全评估认证的管理机构。电信数据网安全评估认证中心根据国家授权，依据电信数据网安全评估准则，结合相关的国家质量认证的法律、法规点开展评估认证工作。</p>
<p>授权评估机构是电信数据网安全评估认证中心根据业务发展和管理需要而授权成立的、具有评估能力的独立机构。</p>
<p>最终的评估结果应进入认证过程，该过程是一个针对评估结果的独立检查，并为评估发起者生成最终的证书或正式批准文件，如图1所示。</p>
<p><img src="http://www.securitycn.net/img/uploadimg/20070713/094010189.jpg" alt="TDN安全评估体系"></p>
<p>图1  TDN安全评估体系</p>
<p>2、电信数据网安全评估准则</p>
<p>电信数据网安全评估准则是GB/T 18336在电信领域的扩展和补充。它以信息技术安全性评估准则为基础，吸取ITU X.800系列的有关安全的建议，通过对BS7799、SSE-CMM进行结合、扩展和补充，形成对电信数据网安全性评估的评估准则。</p>
<p>2.1　电信数据网的关键资产</p>
<p>资产是所要保护的数据网对象，所有威胁都必须针对资产才能产生影响，只有通过资产载体才会影响数据网使命的完成与实现。资产可以分为三大类：物理资产、信息资产和服务资产。物理资产的安全审查着重于保护那些对持续运转非常关键的设备（如，路由器、交换机，数据存储设备和主机等）。数据网络中传统的内部服务资产包括交换系统、运营支持系统、网络管理系统和辅助的支持系统。近来，还包括了信令处理系统及其部件、数据库服务器设备、智能网络管理、支撑网设备等。外部服务资产包括远程智能维护和测试、服务器托管或租赁、网络广告服务、各种业务的网络接入和电信企业一些无形资产等。信息资产通常是最有价值的资产，在数据网运营过程中产生的同数据网本身相关的有价值的信息以及数据网所存储、处理和传输的各种相关的业务、管理和维护等信息，包括知识资产、客户资料、业务信息流和管理信息等。</p>
<p>2.2　电信数据网的安全径纬度</p>
<p>对数据网安全性的评估从安全功能、安全域和安全活动三个角度构成一个三维结构，如图2所示。</p>
<p><img src="http://www.securitycn.net/img/uploadimg/20070713/094132324.jpg" alt="TDN安全评估准则的三维结构"></p>
<p>图2　TDN安全评估准则的三维结构</p>
<p>第一维（x轴）是安全功能，给出了被保护对象的基本安全功能需求，包括身份认证、访问控制、数据保性、数据完整性、不可抵赖、可靠性、可用性和安全审计。</p>
<p>访问控制，保证只有授权的人员和设备才允许访问网络元素、存储的信息、信息流、业务和应用；身份认证，保证参与通信的实体声称的身份的有效性，并保证实体不企图伪造或以非授权的方式回放前面的通信流；不可抵赖，不可抵赖性是防止用户事后否认其实施了某一行为的能力。这些行为包括制造、发源、收到和发送内容，例如发送或接收消息、发起或接受呼叫、参加语音和视频会议等等。不可抵赖性要求提供对数据发送或接收的不可伪造的证明，防止发送者否认一个正确的消息或接收者否认接收。网络可提供下面两种或其中之一形式：数据接收者得到数据来源的证明以避免发送者不诚实地否认其发送了数据或其内容；或发送者得到数据传送的证明以免接收者事后否认接收了数据或其内容。数据保密性，保证数据内容不被非授权的实体理解；可靠性，保证信息只在授权的端点之间流动，而不被拦截或转移；数据完整性，保证数据的正确性或精确性，非授权活动能够被检测；可用性，保证对网络元素、存储的信息、信息流、业务和应用的授权访问不被否决；安全审计，保证即使通过对网络活动进行观察也不能获得有用的信息，这些信息包括地址位置、IP地址等。</p>
<p>第二维（y轴）是安全域，给出了数据网的三大安全域，包括核心层、汇接层和接入层。每个安全域的具体功能如下：</p>
<p>（1）核心层区域：主要放置核心交换设备，用于汇接数据流连接骨干网或进行本局域网不同区域之间有条件的信息交互；</p>
<p>（2）汇接层区域：主要放置汇接设备和交换设备，用于汇接数据流连接核心层网络或本局域网内的有条件信息交互；</p>
<p>（3）接入层区域：主要放置各种接入设备及其交换设备，用于汇接数据流连接汇接层网络或本局域网内的有条件信息交互；</p>
<p>第三维（z轴）是安全平台，从管理、控制、用户三个角度去考虑系统的安全问题。</p>
<p>安全活动分别讨论与网络管理活动、网络控制或信令活动和终端用户活动相关的特定安全需求。在安全管理中详细讨论的管理层面关注运行、管理、维护和提供（OAM&amp;P）服务活动，如向某个用户或网络提供服务。控制层面与独立于网络所用的媒介和技术的端到端通信的建立（和修改）方面的信令有关。终端用户层面讨论用户访问和使用网络的安全，也包括保护用户数据流。</p>
<p>3、电信数据网等级划分原理</p>
<p>由于数据网本身的复杂性：覆盖地域广阔、结构复杂、涉及的行政部门和人员众多等，其涉及的安全问题从物理安全、网络安全、系统安全一直到应用安全、数据安全、安全管理、安全组织等等。凡是涉及到影响正常运行的和业务连续性的都可以认为是电信数据网安全问题。同时电信数据网由于不同地区、不同级别，不同地域和行政隶属层次的安全要求属性和强度存在较大的差异性。不同的电信数据网系统有着不同的安全需求，所以必须从实际出发，综合平衡安全成本和风险，优化电信数据网安全资源的配置，保护重点。为了达到这一目的，应该进行电信数据网的安全等级划分，以此来保证最有效的进行安全评估。</p>
<p>针对电信数据网的特点，以评估对象框架为经，以安全对策框架为纬，对评估对象逐个进行威胁分析，从而形成电信数据网安全等级划分体系（见图3）。</p>
<p><img src="http://www.securitycn.net/img/uploadimg/20070713/094237165.jpg" alt="等级化安全评估体系设计"></p>
<p>图3　等级化安全评估体系设计</p>
<p>具体从三个方面进行等级划分：</p>
<p>一是评估对象的等级化；通过资产识别和复制，建立评估对象框架，把评估对象分级。</p>
<p>二是安全保护策略的等级化设计对策框架，这本身就是等级化的一种手段。</p>
<p>三是威胁等级化；分析系统将遭遇的威胁，通过综合考虑威胁的强度和概率，将威胁也划分为若干个等级。</p>
<p>由于电信数据网结构的复杂性和庞大性，电信数据网中的设备数量和类型众多，而安全性评估过程是一个复杂和繁复的过程我们不可能对所有的设备利用该模型进行评估。因此可以利用上面提出的模型对电信数据网中的设备划分出等级，根据不同级别的安全需求对不同级别的设备进行评估。</p>
<p>在电信数据网安全评估的过程中，由于决定电信数据网评估对象价值的因素众多，其各个因素的取值又多具有模糊性，可以采用多因素模糊综合评判模型来对其进行分析。</p>
<p>4、电信数据网评估过程</p>
<p>电信数据网评估过程就是在评估标准的指导下，综合利用相关等级划分原理、评估工具，针对电信数据网展开全方位的评估工作的完整历程。</p>
<p>4.1　评估的角色</p>
<p>电信数据网的安全评估是一个复杂的过程，需要各种人员的参与。具体包括：评估发起者、评估者、电信运营商、电信设备制造商和软件提供商、监督和认证机构等。评估者指具有资质的TDN评估企业或者政府机构。评估发起者通常是电信运营商或者其主管部门。监督和认证机构指由权威的电信数据网认证机构来担任。</p>
<p>4.2　评估的过程简介</p>
<p>基于TDN安全评估准则的电信数据网评估过程可以分为三个阶段：</p>
<p>第一阶段：文档准备。该阶段用于准备需要的评估文档，主要包括电信数据网的安全目标（TDN ST）和待评估的电信数据网的相关文档。只有这两个文档完成后，评估过程才能继续。</p>
<p>第二阶段：执行评估。该阶段的主要内容是根据第一阶段的文档，按照电信数据网安全评估方法（TDNEM）对TDN进行评估，最后得出TDN的评估技术报告（ETR）以及风险分析报告（RAR）。</p>
<p>第三阶段：结论及认证。在该阶段，评估者把评估技术报告提交给认证者。经认证者批准后形成认证报告（VR）。风险分析报告有助于电信运营商改编组织安全策略减少安全风险，保护电信数据网的资产。</p>
<p>每个阶段的不同参与者分别执行不同的任务，共同完成电信数据网安全评估的全过程。</p>
<p>5、分布式评估工具系统的设计</p>
<p>电信数据网具有分布式的结构，包括多个节点，每个节点可能成百上千种设备，并且分布在不同的地理位置上。评估过程相当复杂，需要采集大量的数据，系统需要保留所有采集数据以备日后查询、核对、检验、分析，而且需要评估人员具有丰富的评估经验。评估过程需要评估发起者、评估者、电信设备和软件提供商、认证机构、被评估机构等各种人员的参与和配合。因此，开发一个适合于分布式环境的电信数据网安全评估辅助工具系统就显得至关重要（见图4）。这对于减少电信数据网评估的时间、降低评估的复杂性、节省资源、提高评估结果的客观性和准确性具有重大的意义。</p>
<p><img src="http://www.securitycn.net/img/uploadimg/20070713/094355632.jpg" alt="分布式评估工具系统的网络拓扑图"></p>
<p>图4　分布式评估工具系统的网络拓扑图</p>
<p>系统的实现可以基于浏览器/HTTP服务器/业务服务器/数据库服务器的四层模式。业务服务器运行的EJB或者JSP组件，在Eclipse环境下 用Java语言设计实现。这些组件包括安全评估模块、风险分析模块、等级保护模块、标准查询模块和报表生成模块，是本系统的核心部分。业务服务器和数据库 服务器之间的通信接口为JDBC。需要参与到评估过程中的各个角色如评估人员、电信网运营人员、评估管理机构以及电信设备生产者等可以通过浏览器将与评估 相关的记录输入到系统中。系统将这些信息自动保存到MySQL数据库中。</p>
<p>在数据库系统中有包括三个子系统：基本数据系统，评估数据系统，漏洞数据库。基本数据系统为电信网安全评估提供必需的基础理论。基本系统由评估标准 库和评估规程库组成。评估数据系统主要包括风险分析数据库和等级化保护数据库。在对电信数据网安全域划分的基础上，对电信数据网的关键资产建立基于 MySQL的良好扩充性的漏洞数据库。完成系统漏洞相关数据，包括系统漏洞特征描述、应对措施（主要是系统补要程序）、系统安全配置策略等的存储。漏洞库 是系统安全隐患分析的核心，集中了常见的各类系统漏洞特征和相应的应对措施、网络系统当前的脆弱性状态，以及和系统漏洞分析应对措施相关的系统安全配置策 略。为了使系统具有较强的开放性，我们为每一条漏洞都提供了CVE编号。CVE是个行业标准，为每个漏洞和暴露确定了惟一的名称和标准化的描述，可以成评 价相应入侵检测和漏洞扫描等工具产品和数据库的基准。这样，如果在一个漏洞报告中指明一个漏洞有CVE名称，就可以快速地在任何其他CVE兼容的数据库中 找到相应的对应信息。</p>
<p>6、结论</p>
<p>为了解决电信数据网的安全问题，需要建立一套完整的评估认证体系。本文论述的以CC为基础的电信数据网安全评估体系及关键技术。</p>
<p>基于CC的电信数据网安全评估发展趋势：</p>
<p>本文研究了对已经存在的电信数据网的安全评估方案，而对于计划建设和正在建设的电信数据网安全评估过程及方法还有待讨论。</p>
<p>电信数据网硬件设备和软件的保护轮廓PP的制定。如果没有一定数量的PP，基于CC的电信数据网安全评估将成为空话。</p>
<p>具有一定智能的分布式评估工具系统的开发。地动化的评估工具有助于缩短评估的周期、减少评估的代价、保证评估结果的客观性。</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/安全/">安全</a></li></span></span> | <span class="tags">Tagged <a href="/tags/安全/" class="label label-primary">安全</a></span> | <span class="time">recent updated:<time title="2014-03-29 20:53:42"datetime="2014-03-29 20:53:42"> mar. 29 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-安全--电信数据网安全评估准则的研究/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-安全--电信数据网安全评估准则的研究" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-mac--VMware9虚拟机安装MACOSXMountainLion1082详细图文教程/">VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:38.000Z"> <a href="/2014/02/02/2014-02-02-mac--VMware9虚拟机安装MACOSXMountainLion1082详细图文教程/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="vmware9-mac-os-x-mountain-lion-10-8-2-">VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程</h1>
<p>之前论坛里的<a href="http://my.zol.com.cn/mybbs/raychaw/" target="_blank"><strong>莱茵哈特</strong></a>网友发过一帖：<a href="http://diybbs.zol.com.cn/1/34037_629.html" target="_blank"><strong>VMware虚拟机安装MAC OS X Mountain Lion详细图文教程</strong></a>，这个帖子发的时候还是VMware8，现在的最新版已经更新到了9.01版本，而且Mountain Lion也更新到了10.8.2版本，加上看到帖子后面很多网友安装失败，所以写一个虚拟机安装MAC OS的升级版教程，同时也更新了所用的系统和软件，以及修正了部分错误并简化了安装步骤。
<strong>VMware虚拟机安装Mac OS X Mountain Lion 10.8.2所需文件：</strong>
1、Vmware 9.01版下载：<a href="http://diybbs.zol.com.cn/15/225_142169.html" target="_blank"><strong>点击进入</strong></a>
2、Vmware 9.01版汉化文件：<a href="http://diybbs.zol.com.cn/15/225_142170.html" target="_blank"><strong>点击进入</strong></a>
3、VMware Workstation 破解安装mac os补丁：<a href="http://diybbs.zol.com.cn/1/34037_700.html" target="_blank"><strong>点击进入</strong></a>
4、Mac OS X Mountain Lion 10.8.2下载：<a href="http://diybbs.zol.com.cn/1/34037_701.html" target="_blank"><strong>点击进入</strong></a>
5、虚拟机VMTOOLS darwin：<a href="http://diybbs.zol.com.cn/1/34037_702.html" target="_blank"><strong>点击进入</strong></a>（非必须，官方完整版虚拟机已包含）
<strong>具体步骤：</strong>
1、安装VMware虚拟机，安装后，复制汉化包中的文件到虚拟机安装目录中覆盖同名文件，如果提示无法覆盖，在任务管理器中结束vm开头的几个进程后重试覆盖
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415508" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片1"></a>
2、下载并解压vm mac OS补丁，在windows文件夹中右键点击【install.cmd】文件，选择window7管理员运行，完成后重启一下电脑
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415315" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片2"></a>
3、新建虚拟机
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415316" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片3"></a>
4、选择自定义（高级），下一步
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415317" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片4"></a>
5、直接下一步
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415318" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片5"></a>
6、选我以后再安装操作系统，然后下一步
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415319" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片6"></a>
7、选中APPLE MAC OS X，然后选择10.8 64bit
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415320" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片7"></a>
8、设置一个虚拟机名字，名字可以随便起，然后设置一个存放虚拟机文件的目录，记住放到一个新的文件夹中，不要乱放，安装后会释放很多文件
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415321" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片8"></a>
9、设置CPU的数量
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415322" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片9"></a>
10、设置内存，别设置的太小
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415323" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片10"></a>
11、ADSL猫直接连的选择NAT，局域网选择桥接
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415324" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片11"></a>
12、下面几步直接选择继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415325" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片12"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415326" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片13"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415327" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片14"></a>
13、选择单个文件存储虚拟磁盘，尽量别低于40G，然后记得选择下面的：单个文件存储虚拟磁盘
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415328" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片15"></a>
14、直接选择继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415329" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片16"></a>
15、点编完成，现在虚拟机就算创建完成了，下面即使一些对这个虚拟机的设置以及装系统了
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415330" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片17"></a>
16、点编辑虚拟机设置
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415505" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片18"></a>
17、点击硬盘---高级----设置为SCSI 0:8
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415332" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片19"></a>
18、删除软驱
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415333" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片20"></a>
19、勾选显示器中的3D图形加速
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415334" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片21"></a>
20、点击CD/DVD，选择使用ISO映像文件，点击右侧的浏览
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415335" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片22"></a>
21、上面提供的是cdr格式的懒人版安装包，所以默认是看不到的，选择所有文件就可以看到了，选中，然后确定关闭虚拟机编辑
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415506" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片23"></a>
22、点击打开虚拟机电源，就可以开始苹果系统的安装了
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415336" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片24"></a>
23、选择简体中文
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415337" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片25"></a>
24、在这一步的时候不要着急点继续，点击上面的实用工具，选择磁盘工具
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415339" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片26"></a>
25、选中磁盘，在分区布局处可以选择分几个分区，我一般都是分一个，白苹果也是就一个分区
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415340" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片27"></a>
26、选择好分区后，在右边的名称输入名字，如果是分多个区的话，设置一下下面的大小，然后但应用创建分区
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415341" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片28"></a>
27、在弹出的对话框中选择分区
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415342" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片29"></a>
28、刚才分完区后，左侧会出现你刚才设置的名字的一个分区，点中，，右边的标签选择抹掉，然后右下角选择抹掉，抹掉后点击左上角的红色按钮关闭窗口
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415343" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片30"></a>
29、点击继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415344" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片31"></a>
30、点击我同意
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415345" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片32"></a>
31、点击一个刚才分的区，出现绿色向下箭头后，点击安装
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415346" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片33"></a>
32、安装中，我这显示需要21分钟左右
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415347" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片34"></a>
33、安装成功后，会提示重启，10秒钟后会自动重启
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415348" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片35"></a>
34、选中中国，继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415349" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片36"></a>
35、直接继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415350" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片37"></a>
36、点击以后
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415351" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片38"></a>
37、直接点继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415352" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片39"></a>
38、点击不使用
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415353" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片40"></a>
39、如果有Apple ID输入，没有跳过
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415354" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片41"></a>
40、点继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415355" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片42"></a>
41、点同意
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415356" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片43"></a>
42、输入帐号、密码等点继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415357" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片44"></a>
43、选择中国的城市，然后继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415358" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片45"></a>
44、可以注册，我都是跳过
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415359" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片46"></a>
45、现在MAC OS的苹果系统就算是安装完了，点击【开始使用Mac】
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415360" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片47"></a>
47、安装完成，进入桌面
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415361" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程图片48"></a></p>
<p>来源： &lt;<a href="http://diybbs.zol.com.cn/1/34037_699.html" target="_blank">【VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程】-MAC OS论坛-ZOL中关村在线</a>&gt; </p>
<p>安装VMware Tools Darwin：
VMware Tools是VMware虚拟机中自带的一种增强工具，相当于VirtualBox中的增强功能（Sun VirtualBox Guest Additions），是VMware提供的增强虚拟显卡和硬盘性能、以及同步虚拟机与主机时钟的驱动程序。只有在VMware虚拟机中安装好了VMware Tools，才能实现主机与虚拟机之间的文件共享，同时可支持自由拖拽的功能，鼠标也可在虚拟机与主机之前自由移动（不用再按ctrl+alt），且虚拟机屏幕也可实现全屏化。
1、点击虚拟机-设置
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415583" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50970"></a>
2、选择CD/DVD，点击右侧的浏览，然后选择最开始提供的VMware Tools Darwin的ISO文件【下载后需解压】
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415584" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50971"></a>
3、桌面右上角会出现一个VMware Tools的图标，双击这个图标
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415585" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50972"></a>
4、在弹出的安装窗口中点击安装VMware Tools
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415586" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50973"></a>
5、点击继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415587" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50974"></a>
6、继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415588" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50975"></a>
8、选择一个安装的分区，然后点继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415591" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50976"></a>
9、点安装
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415595" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50977"></a>
10、输入系统密码
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415596" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50978"></a>
11、点击继续安装
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415597" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50979"></a>
12、安装完成后，点击重新启动
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415598" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片509710"></a>
13、重启后，鼠标就可以在实机和虚拟机中自由的移动，分辨率也可以设置了：
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415599" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片509711"></a>
来源： &lt;<a href="http://diybbs.zol.com.cn/1/34037_699.html" target="_blank">【VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程】-MAC OS论坛-ZOL中关村在线</a>&gt; 安装错误的解决方法【随时更新】
1、如果提示下图，点击重新启动，重新安装即可
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=7415615" target="_blank"><img src="&quot;点击查看大图&quot;" alt="VMware9虚拟机安装MAC OS X Mountain Lion 10.8.2详细图文教程回复图片50980"></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/mac/">mac</a></li></span></span> | <span class="tags">Tagged <a href="/tags/mac/" class="label label-primary">mac</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:38"datetime="2014-03-07 09:54:38"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-mac--VMware9虚拟机安装MACOSXMountainLion1082详细图文教程/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-mac--VMware9虚拟机安装MACOSXMountainLion1082详细图文教程" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-mac--本教程为在win7系统中安装苹果MountainLion双系统的图文教程/">本教程为在win7系统中安装苹果 Mountain Lion 双系统的图文教程</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:38.000Z"> <a href="/2014/02/02/2014-02-02-mac--本教程为在win7系统中安装苹果MountainLion双系统的图文教程/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="-win7-mountain-lion-">本教程为在win7系统中安装苹果 Mountain Lion 双系统的图文教程</h1>
<p><strong>本教程为在win7系统中安装苹果 Mountain Lion 双系统的图文教程， 如果仅是想要安装苹果尝鲜，建议在虚拟机中安装，请参考：</strong><a href="http://diybbs.zol.com.cn/1/34037_629.html" target="_blank"><strong>VMware虚拟机安装MAC OS X Mountain Lion详细图文教程</strong></a>
如果对PC机安装黑苹果有兴趣的朋友，请详细观看本教程，以免带来不必要的麻烦。
<strong>在安装苹果MAC OS X双系统之前，确认BIOS可以开启AHCI(必须)</strong>
<strong>安装苹果MAC OS X双系统步骤：
</strong>A、工具准备
B、制作维护盘
C、分区并写入维护盘镜像MacPE
D、安装windows版变色龙
E、变色龙引导制作完整安装盘
F、变色龙引导完整安装盘安装Lion系统
<strong>A、工具准备</strong></p>
<ol>
<li>Win7下软件准备（A-E下载：<a href="http://bbsdown.zol.com.cn/down.php?aid=585552" target="_blank">Windows下相关软件.rar</a>(大小7138k,下载次数:41830)，F：<a href="http://xiazai.zol.com.cn/detail/42/418614.shtml" target="_blank"><strong>下载地址</strong></a>）
a. Windows版Chameleon
b. HFS+Explorer、JRE
c. TransMac9.1
d. <a href="http://detail.zol.com.cn/hard_drives_index/subcate2_list_1.html" target="_blank">硬盘</a>安装助手
e. DiskGenius
f. JRE</li>
<li>安装盘文件准备（下载地址：<a href="http://bbsdown.zol.com.cn/down.php?aid=585554" target="_blank">安装盘所需文件准备.part1.rar</a>(大小15729k,下载次数:30937) <a href="http://bbsdown.zol.com.cn/down.php?aid=585555" target="_blank">安装盘所需文件准备.part2.rar</a>(大小13237k,下载次数:24621)）
a. MAC OS X 系统安装文件
b. 根目录放置Extra文件夹，其目录结构如下：
Extra/dsdt.aml (非必需, 假如碰到AppleACPIPlatform.kext、IOPCIFamily.kext的错误请尝试加上自己的dsdt)
Extra/org.chameleon.Boot.plist （1105版变色龙起，之前版本请用com.apple.Boot.plist）
Extra/smbios.plist （非必需）
Extra/Extensions/AppleACPIPS2Nub.kext
Extra/Extensions/ApplePS2Controller.kext
Extra/Extensions/FakeSMC.kext
Extra/Extensions/NullCPUPowerManagement.kext
c. App、Utilities.plist、InstallerMenuAdditions.plist和Frameworks &amp; PrivateFrameworks(制作维护盘需要)。
d. Mac OS X 镜像（下载：<a href="http://bbsdown.zol.com.cn/down.php?aid=585553" target="_blank">InstallESD.rar</a>(大小43k,下载次数:6923)）
<strong>B、制作维护盘</strong></li>
<li>安装jre，之后安装HFS+Explorer.exe。</li>
<li>用7-zip提取InstallESD-10.8.dmg至InstallESD-10.8文件夹，之后会在InstallESD-10.8InstallMacOSX.pkg下得到InstallESD.dmg
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657219" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片1"></a></li>
<li>提取InstallESD.dmg。打开HFS+Explorer, 点file-load file system from file…，载入刚才解压得到的InstallESD-10.8InstallMacOSX.pkgInstallESD.dmg，弹出对话框选择 Apple_HFS 后点确定
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657220" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片2"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657221" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片3"></a></li>
<li>提取BaseSystem.dmg、mach_kernel及Packages文件夹，提取到Temp目录，弹出对话框选是。
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657222" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片4"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657223" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片5"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657224" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片6"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657225" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片7"></a></li>
<li>用HFSExplorer载入BaseSystem.dmg，打开菜单Tools-Create disk image...重新打包建立新的可写盘dmg，命名为BaseSystem-Install，保存在Temp文件夹下面
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657226" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片8"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657227" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片9"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657228" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片10"></a></li>
<li>替换Osinstall，放置Extra、mach_kernal、及 Packages 文件夹。打开TransMac9.1，菜单file-open disk image，打开刚才保存的BaseSystem-Install.dmg文件
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657229" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片11"></a>
a. 把Extra文件夹及mach_kernel拖拽复制至TransMac窗口根目录HFS+ Volume文件夹下
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657230" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片12"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657231" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片13"></a>
b. 把OSInstall拖拽至System/Library/PrivateFrameworks/Install.framework/Frameworks/OSInstall.framework/Versions/A/文件夹下替换原文件
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657232" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片14"></a>
c. 删除System/Installation/下的Packages快捷方式并新建一个Packages文件夹，并把刚提取的Packages下的OSInstall.mpkg文件拖拽拷贝至Packages文件夹。我们这里不拷贝整个Packages到System/Installation/下，不然会提示空间不足无法拷贝完。
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657233" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片15"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657234" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片16"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657235" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片17"></a></li>
<li>实际上进行到上一步，就完成了大家常说的懒人版的制作过程。剩下Packages文件夹该怎么办呢，大家常用的方法是先用硬盘助手把镜像写入硬盘，再安装MacDriver后进win系统反复一堆操作之后打开mac盘去拷贝替换这些文件。这里不使用这个方法，我们会给这个dmg添加三个软件：Finder、Chameleon Wizard和invisibliX。这样我们之后增删文件及安装mac版变色龙等操作就不再需要win系统，直接引导维护盘就可以进行之后操作。下面我们多做几步：
a. 将Finder拖拽复制到System／Library／CoreServices目录内(Finder要对应系统版本，这里是10.8)：<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657236" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片18"></a>
b. 将Chameleon Wizard和invisibliX拖拽复制到/Applications/Utilities下
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657237" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片19"></a>
c. 解压 Frameworks &amp; PrivateFrameworks.7z后到Frameworks &amp; PrivateFrameworks文件夹，拖拽复制SystemLibraryFrameworks下的Collaboration.framework和AddressBook.framework到dmg的对应目录，拖拽复制SystemLibraryPrivateFrameworks下的PhoneNumbers.framework和InternetAccounts.framework到dmg的对应目录(Frameworks &amp; PrivateFrameworks同样对应系统版本，这里是10.8)：
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657238" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片20"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657239" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片21"></a>
d. 将InstallerMenuAdditions.plist和Utilities.plist分别拖拽复制到dmg的/System/Installation/CDIS/Mac OS X Installer.app/Contents/Resources/和/System/Installation/CDIS/Mac OS X Utilities.app/Contents/Resources/目录替换原文件(作用是在menubar上添加Finder和软件的菜单，并可以在安装器和实用工具之间来回切换，大家可以参考这两个文件的内容照猫画虎，若用用记事本修改，保存时需用utf-8编码。另外只有少数几个软件可以在安装盘下运行)
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657240" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片22"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657241" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片23"></a>
这样类似PE的dmg维护盘镜像便制作完成，体积不大，可写入U盘或者<a href="http://detail.zol.com.cn/move_disk_index/subcate274_list_1.html" target="_blank">移动硬盘</a>的一个分区，作增改文件维护之用。我们称之为MacPE、维护盘都可以，也可以叫它没有packages的懒人版，且在接下来加入Packages文件夹制作完整安装盘的操作过程也不再依靠Win环境和MacDriver，仅依靠该dmg镜像即可。
<strong>C、分区并写入维护盘镜像MacPE</strong>
说在前面，建议新手或者不细心的朋友再第一次做分区及写镜像操作时在移动硬盘上进行，若你的机器没办法从移动硬盘引导，则建议在进行分区及后续操作之前先用DiskGenius备份硬盘的分区表，之后把分区表保存在本机之外的地方(若你的WinPE是32位就用32位的DiskGenius来备份，64位DiskGenius备份出来的可能用不了)：
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657242" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片24"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657243" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片25"></a>
分区概况：
1.5G - PE维护盘(BaseSystem-Install.dmg)5G - 完整安装盘(BaseSystem-Install.dmg+Packages)10G - Lion系统(若你打算把Lion作为常用系统的话建议分60G以上)
先保证有30G左右的空闲空间，我这里的例子，已有的主分区不超过2个，100M保留空间已占用一个主分区(如果已经有3个主分区，那新压缩的分区都只能是逻辑分区不能转为主分区，或者你无需努力尝试转为主分区，逻辑分区亦可，在逻辑分区上安装后可能需要借助WinPE来修复Win系统的引导及激活Win分区为活动分区，这里不表。注：转换为逻辑分区请不要把win系统盘转为逻辑分区了，如果你实在转不了或者完全没有头绪，建议转主分区这几个过程略过即可)。
a. 桌面，我的<a href="http://detail.zol.com.cn/desktop_pc_index/subcate27_list_1.html" target="_blank">电脑</a>右键选择管理，打开的界面选择磁盘管理。从最后一个分区开始压缩，我们这里先压缩25G左右给安装盘和Lion系统盘，你也可以多压缩一些能多分一个区来给mac系统保存数据。
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657244" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片26"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657245" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片27"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657246" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片28"></a>
b. 在未分配上点右键选 新建简单卷，分配1.5G给维护盘，自动分配一个驱动器号，不格式化。
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657247" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片29"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657248" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片30"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657249" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片31"></a>
在剩余空间分配5G左右给安装盘，剩下的都分给Lion系统，不分配驱动器号，不格式化
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657251" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片32"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657252" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片33"></a>
c. 打开DiskGenius，以我的操作为例，先把E盘转为逻辑分区，然后把在刚才分出来的20G左右分区上点右键选择“转换为主分区”，最后点保存更改(注意：转换为逻辑分区请不要把win系统盘转为逻辑分区了，如果你实在转不了或者完全没有头绪，建议转主分区这几个过程略过即可)。
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657333" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片34"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657254" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片35"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657255" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片36"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657256" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片37"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657257" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片38"></a>
作为示例，这样分出来的分区图貌似不大好看，不过目的达到了。我的建议是如果想重新来过的话，弄掉那100M隐藏分区，硬盘分区的时候前面可以准备两三个主分区，这样扩展分区就排在后面。
d. 以管理员方式运行硬盘安装助手，选择刚才制作的BaseSystem-Install.dmg，勾掉红圈的地方，目标分区选刚分出来的安装分区，点开始后不要做其他操作，等待日志出现Change partition type to AF: Success. All done, have fun!
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657258" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片39"></a>
e. 打开DiskGenius，修改刚才三个盘的分区参数，手动输入AF，确认后点保存更改。
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657259" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片40"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657260" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片41"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657261" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片42"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657262" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片43"></a>
<strong>D、Windows版变色龙安装</strong>
管理员方式运行Chameleon Install 1806 for win下的Chameleon Install.exe，点安装。如果有100M隐藏分区，要先打开磁盘管理给该分区分配一个盘符，然后点安装，安装后再删掉100M分区盘符
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657263" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片44"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657264" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片45"></a>
<strong>E、变色龙引导制作完整安装盘</strong>
安装完变色龙之后重启，选择chameleon选项
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657265" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片46"></a>
选择最后一个苹果图标的选项，底部boot处可以输入一些命令，比如输入-v，可以命令行方式引导方便我们查看可能碰到的问题，若什么都不输则以图形方式引导，之后按回车继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657266" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片47"></a>
之后按回车继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657267" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片48"></a>
等待一点时间，会引导至如下界面
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657268" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片49"></a>
下拉选择框内选择一种语言之后继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657269" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片50"></a>
在menubar上点“实用工具”，选择“磁盘工具”
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657415" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片51"></a>
文件-菜单-打开磁盘映象，找到BaseSystem-Install.dmg并打开
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657416" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片52"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657417" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片53"></a>
先选择之前的5G分区，切换到抹掉标签，格式改为Mac OS扩展(日志式)，然后抹掉
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657418" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片54"></a>
接下来点选恢复标签，Mac OS X Base System设为源磁盘，之前的5G为目的磁盘，确认无误后点恢复按钮，弹出对话框选抹掉
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657419" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片55"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657422" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片56"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657423" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片57"></a>
接下来会把Packages文件夹拷贝至该安装盘分区内
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657424" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片58"></a>
关闭磁盘工具后在menubar上点“实用工具”，选择“Finder…”，menubar上会显示Finder菜单，文件下拉选择“新建Finder窗口”
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657426" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片59"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657427" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片60"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657428" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片61"></a>
菜单，选Finder偏好设置，边栏标签里勾选“电脑”，进入如图所示目录设置显示选项
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657430" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片62"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657431" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片63"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657432" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片64"></a>
勾选项目简介后方便识别刚写入的安装盘，在安装盘上点右键显示简介，把名称更改为Lion 10.7.3 Install方便我们识别
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657433" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片65"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657435" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片66"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657437" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片67"></a>
新建一个Finder窗口，找到最开始提取出来的Packages文件夹，拷贝到Lion 10.7.3 Install/System/Installation路径，覆盖原文件夹
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657438" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片68"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657439" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片69"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657440" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片70"></a>
至此，完整的安装盘已经制作完毕。重启引导进入Lion系统安装过程
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657441" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片71"></a>
<strong>F、变色龙引导完整安装盘安装Lion系统</strong>
与E步骤引导过程一样，这里选择Lion 10.7.3 Install引导系统安装，若要看命令行方式，则在左下角输入-v，方便我们观察引导过程中如果出现失败可以知道大概出在什么问题上
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657442" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片72"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657443" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片73"></a>
进入安装界面后，选择实用工具下的磁盘工具，选择分给Lion的分区，设置如图，然后抹掉，之后关闭磁盘工具
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657444" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片74"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657447" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片75"></a>
安装器中点继续
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657448" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片76"></a>
选择Lion分区，单击安装，然后等待10分钟左右
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657450" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片77"></a>
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657453" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片78"></a>
安装完毕，重启
<a href="http://diybbs.zol.com.cn/tips/show_pic.php?picid=6657455" target="_blank"><img src="&quot;点击查看大图&quot;" alt="Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程图片79"></a>
<strong>论坛火爆热帖推荐：</strong>
<strong><a href="http://diybbs.zol.com.cn/1/34036_894.html" target="_blank">U盘安装Windows8教程</a>
**</strong><a href="http://diybbs.zol.com.cn/1/34036_1212.html" target="_blank">Win8 硬盘安装过程图解</a>
<strong>[</strong>Windows 8 RTM正式版试用<strong>](<a href="http://diybbs.zol.com.cn/1/34036_1214.html" target="_blank">http://diybbs.zol.com.cn/1/34036_1214.html</a>)
[</strong>Windows 8 Enterprise N RTM正式版下载（32位+64位+简体、繁体语言包下载）**](<a href="http://diybbs.zol.com.cn/1/34036_1211.html" target="_blank">http://diybbs.zol.com.cn/1/34036_1211.html</a>)</li>
</ol>
<p>来源： &lt;<a href="http://diybbs.zol.com.cn/1/34037_630.html" target="_blank">【Win7下安装苹果MAC OS X Mountain Lion 双系统详细图文教程】-MAC OS论坛-ZOL中关村在线</a>&gt;</p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/mac/">mac</a></li></span></span> | <span class="tags">Tagged <a href="/tags/mac/" class="label label-primary">mac</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:38"datetime="2014-03-07 09:54:38"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-mac--本教程为在win7系统中安装苹果MountainLion双系统的图文教程/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-mac--本教程为在win7系统中安装苹果MountainLion双系统的图文教程" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>



  <article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title"><a href="/2014/02/02/2014-02-02-dwr--DWRReverseAjax功能实践的要点/">DWR Reverse Ajax功能实践的要点</a></h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:38.000Z"> <a href="/2014/02/02/2014-02-02-dwr--DWRReverseAjax功能实践的要点/">feb. 2 2014</a></time></span>      
    </header>
    
    
    <div class="entry">
      
        <h1 id="dwr-reverse-ajax-">DWR Reverse Ajax功能实践的要点</h1>
<ul>
<li><a href="http://wz.csdn.net/" target="_blank">网摘首页</a></li>
<li><a href="http://wz.csdn.net/my" target="_blank">管理网摘</a></li>
<li><a href="http://wz.csdn.net/spy" target="_blank">实时网摘</a></li>
<li><a href="http://wz.csdn.net/tool" target="_blank">工具和帮助</a></li>
</ul>
<h1 id="dwr-reverse-ajax-">DWR Reverse Ajax功能实践的要点</h1>
<p>Reverse Ajax主要是在BS架构中，从服务器端向多个浏览器主动推数据的一种技术。它的一种实现就是客户端向服务器请求后，服务器不立即回应，从而导致一个http长连接，等到有更新数据的时候，再利用这个连接“主动”向客户端回送。
如果是初次接触，那一定要看下这篇文章
其中，详述了这种技术和JETTY服务器Continuations功能结合时的强大性能：运行在非阻塞方式下，当多个客户端请求时不会占用过多线程。
最后，此文申明DWR的实现已经天然使用了JETTY这一功能。所以使用DWR还是非常有好处的。如何使用及示例上面这篇文章已经有说明，下面就以我实际使用中碰到的问题和要点做个说明。
首先，说一下代码的组织和声明。
将使用到Reverse Ajax的代码归入一个类，比如是NotifyClient，并用spring的bean来声明。在将要用到这个类的地方(NodeSvcImpl类)，也通过成员变量引入:
然后在dwr.xml里这样声明：
其次一个要点是，如果你不是在DWR所开的线程中使用Reverse Ajax，那WebContextFactory.get()会返回空，这是因为只有DWR自己的线程才会初始化它。那如果你是在DWR之外使用，比如说收到JMS消息，或者UDP消息后，想通知所有客户端，你就要用到ServerContext。
要得到ServerContext，就需要用到spring的ServletContextAware接口，下面是完整代码：
package com.hhh.nms.remote;
import org.apache.log4j.Logger;
import javax.servlet.ServletContext;
import org.springframework.web.context.ServletContextAware;
import java.util.Collection;
import org.directwebremoting.ScriptBuffer;
import org.directwebremoting.ScriptSession;
import org.directwebremoting.WebContext;
import org.directwebremoting.WebContextFactory;
import org.directwebremoting.ServerContext;
import org.directwebremoting.ServerContextFactory;
import org.directwebremoting.proxy.dwr.Util;
public class NotifyClient implements ServletContextAware {
static Logger logger = Logger.getLogger (NotifyClient.class.getName());
private ServletContext servletContext = null;
public void setServletContext( ServletContext servletContext )
{
this.servletContext = servletContext;
}
public int serviceUpdate (String str1, String str2) {
logger.info (&quot;entered&quot;);
logger.info (&quot;WebContext1&quot;+servletContext);
ServerContext ctx = ServerContextFactory.get(servletContext );
// Generate JavaScript code to call client-side
// WebContext ctx = WebContextFactory.get();
logger.info (&quot;WebContext&quot;+ctx);
if (ctx != null) {
//String currentPage = ctx.getCurrentPage();
//logger.info (&quot;current page:&quot; + currentPage);
ScriptBuffer script = new ScriptBuffer();
script.appendScript(&quot;updatePoint(&quot;)
.appendData(str1)
.appendScript(&quot;,&quot;)
.appendData (str2)
.appendScript(&quot;);&quot;);
// Push script out to clients viewing the page
Collection sessions =
ctx.getScriptSessionsByPage(&quot;/ebnms/index.eb?do=dwrtest&quot;);
logger.info (&quot;jsp session size:&quot; + sessions.size ());
// or
Collection sessions2 =
ctx.getAllScriptSessions ();
logger.info (&quot;all session size:&quot; + sessions2.size ());
for (ScriptSession session : sessions2) {
session.addScript(script);
}
}
return 0;
}
}
另外，ScriptBuffer的appendScript方法是插入原始字串，appendData会根据参数类型做相应转换。</p>
<p><a href="http://www.blogjava.net/alwayscy/archive/2007/11/01/157552.html" target="_blank"><a href="http://www.blogjava.net/alwayscy/archive/2007/11/01/157552.html">http://www.blogjava.net/alwayscy/archive/2007/11/01/157552.html</a></a></p>
<h1 id="-">他们设置了哪些标签：</h1>
<p><a href="http://wz.csdn.net/tag/WEBå¼å/" title="1个网摘" target="_blank">WEB开发</a></p>
<h1 id="-">谁收藏了这个网址：</h1>
<h2 id="-conanpaul-http-wz-csdn-net-conanpaul-"><a href="http://wz.csdn.net/conanpaul/" target="_blank">conanpaul</a>收录</h2>
<p>使用标签：<a href="http://wz.csdn.net/conanpaul/Web开发/" target="_blank">Web开发</a>，时间：2007-11-2 9:34:36 | <a href="http://wz.csdn.net/item/1204886/" target="_blank">相关网摘</a>
Reverse Ajax主要是在BS架构中，从服务器端向多个浏览器主动推数据的一种技术。它的一种实现就是客户端向服务器请求后，服务器不立即回应，从而导致一个http长连接，等到有更新数据的时候，再利用这个连接“主动”向客户端回送。
如果是初次接触，那一定要看下这篇文章
其中，详述了这种技术和JETTY服务器Continuations功能结合时的强大性能：运行在非阻塞方式下，当多个客户端请求时不会占用过多线程。
最后，此文申明DWR的实现已经天然使用了JETTY这一功能。所以使用DWR还是非常有好处的。如何使用及示例上面这篇文章已经有说明，下面就以我实际使用中碰到的问题和要点做个说明。
首先，说一下代码的组织和声明。
将使用到Reverse Ajax的代码归入一个类，比如是NotifyClient，并用spring的bean来声明。在将要用到这个类的地方(NodeSvcImpl类)，也通过成员变量引入:
然后在dwr.xml里这样声明：
其次一个要点是，如果你不是在DWR所开的线程中使用Reverse Ajax，那WebContextFactory.get()会返回空，这是因为只有DWR自己的线程才会初始化它。那如果你是在DWR之外使用，比如说收到JMS消息，或者UDP消息后，想通知所有客户端，你就要用到ServerContext。
要得到ServerContext，就需要用到spring的ServletContextAware接口，下面是完整代码：
package com.hhh.nms.remote;
import org.apache.log4j.Logger;
import javax.servlet.ServletContext;
import org.springframework.web.context.ServletContextAware;
import java.util.Collection;
import org.directwebremoting.ScriptBuffer;
import org.directwebremoting.ScriptSession;
import org.directwebremoting.WebContext;
import org.directwebremoting.WebContextFactory;
import org.directwebremoting.ServerContext;
import org.directwebremoting.ServerContextFactory;
import org.directwebremoting.proxy.dwr.Util;
public class NotifyClient implements ServletContextAware {
static Logger logger = Logger.getLogger (NotifyClient.class.getName());
private ServletContext servletContext = null;
public void setServletContext( ServletContext servletContext )
{
this.servletContext = servletContext;
}
public int serviceUpdate (String str1, String str2) {
logger.info (&quot;entered&quot;);
logger.info (&quot;WebContext1&quot;+servletContext);
ServerContext ctx = ServerContextFactory.get(servletContext );
// Generate JavaScript code to call client-side
// WebContext ctx = WebContextFactory.get();
logger.info (&quot;WebContext&quot;+ctx);
if (ctx != null) {
//String currentPage = ctx.getCurrentPage();
//logger.info (&quot;current page:&quot; + currentPage);
ScriptBuffer script = new ScriptBuffer();
script.appendScript(&quot;updatePoint(&quot;)
.appendData(str1)
.appendScript(&quot;,&quot;)
.appendData (str2)
.appendScript(&quot;);&quot;);
// Push script out to clients viewing the page
Collection sessions =
ctx.getScriptSessionsByPage(&quot;/ebnms/index.eb?do=dwrtest&quot;);
logger.info (&quot;jsp session size:&quot; + sessions.size ());
// or
Collection sessions2 =
ctx.getAllScriptSessions ();
logger.info (&quot;all session size:&quot; + sessions2.size ());
for (ScriptSession session : sessions2) {
session.addScript(script);
}
}
return 0;
}
}
另外，ScriptBuffer的appendScript方法是插入原始字串，appendData会根据参数类型做相应转换。
<a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010"></a></p>
<p><a href="http://www.csdn.net/help/intro.htm" target="_blank">网站简介</a>－<a href="http://www.csdn.net/help/ads.htm" target="_blank">广告服务</a>－<a href="http://www.csdn.net/help/sitemap.htm" target="_blank">网站地图</a>－<a href="http://www.csdn.net/help/help.htm" target="_blank">帮助</a>－<a href="http://www.csdn.net/help/contact.htm" target="_blank">联系方式</a>－<a href="http://job.csdn.net/Jobs/f9c75c9f2ad14404a604669b757b9ed0/viewcompany.aspx" target="_blank">诚聘英才</a>－<a href="http://www.csdn.net/english/" target="_blank">English</a>－<a href="http://wz.csdn.net/url/708367/#" target="_blank">问题报告</a>
北京百联美达美数码科技有限公司 版权所有 京 ICP 证 020026 号
Copyright © 2000-2009, CSDN.NET, All Rights Reserved
<a href="http://www.vdoing.com/" title="Vdoing StatsX No.56805" target="_blank"><img src="" alt=""></a></p>

      
    </div>
    
    
      
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/dwr/">dwr</a></li></span></span> | <span class="tags">Tagged <a href="/tags/dwr/" class="label label-primary">dwr</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:38"datetime="2014-03-07 09:54:38"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-dwr--DWRReverseAjax功能实践的要点/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-dwr--DWRReverseAjax功能实践的要点" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>





<ul id="pagination" class="pagination pagination-lg">
  <li><a class="extend prev" href="/page/89/">&laquo;</a></li><li><a class="page-number" href="/">1</a></li><li><a class="page-number" href="/page/2/">2</a></li><li><span class="space">&hellip;</span></li><li><a class="page-number" href="/page/87/">87</a></li><li><a class="page-number" href="/page/88/">88</a></li><li><a class="page-number" href="/page/89/">89</a></li><li class="active"><li><span class="page-number current">90</span></li><li><a class="page-number" href="/page/91/">91</a></li><li><a class="page-number" href="/page/92/">92</a></li><li><a class="page-number" href="/page/93/">93</a></li><li><span class="space">&hellip;</span></li></li><li><a class="page-number" href="/page/161/">161</a></li><li><a class="page-number" href="/page/162/">162</a></li><li><a class="extend next" href="/page/91/">&raquo;</a></li>
  <div class="clearfix"></div>
</ul></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-04-07 18:24:57</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
