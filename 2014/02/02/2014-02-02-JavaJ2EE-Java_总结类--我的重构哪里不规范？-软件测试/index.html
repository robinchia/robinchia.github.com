
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>我的重构哪里不规范？  | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="我的重构哪里不规范？ - 软件测试您还未登录 !我的应用登录注册


论坛首页 →软件开发和项目管理版 →软件测试 →
我的重构哪里不规范？
全部项目管理敏捷开发软件测试配置管理UseCaseUML单元测试XPTDDUPCMM">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<meta property="og:title" content="我的重构哪里不规范？ "/>
<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title">我的重构哪里不规范？ </h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:43.000Z"> <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/">feb. 2 2014</a></time></span>      
    </header>
    
    <section id='before_content_widget'></section>
    <div class="entry">
      
        <h1 id="-">我的重构哪里不规范？ - 软件测试</h1>
<p><a href="http://www.javaeye.com/login" title="登录" target="_blank">您还未登录 !</a><a href="http://www.javaeye.com/all" target="_blank">我的应用</a><a href="http://www.javaeye.com/login" target="_blank">登录</a><a href="http://www.javaeye.com/signup" target="_blank">注册</a></p>
<p><a href="http://www.javaeye.com/" target="_blank"><img src="&quot;JavaEye-最棒的软件开发交流社区&quot;" alt="JavaEye-最棒的软件开发交流社区"></a></p>
<p><a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> →<a href="http://www.javaeye.com/forums/board/develop" target="_blank">软件开发和项目管理版</a> →<a href="http://www.javaeye.com/forums/tag/test" target="_blank">软件测试</a> →</p>
<h1 id="-">我的重构哪里不规范？</h1>
<p><a href="http://www.javaeye.com/forums/board/develop" target="_blank">全部</a><a href="http://www.javaeye.com/forums/tag/project-manage" target="_blank">项目管理</a><a href="http://www.javaeye.com/forums/tag/agile" target="_blank">敏捷开发</a><a href="http://www.javaeye.com/forums/tag/test" target="_blank">软件测试</a><a href="http://www.javaeye.com/forums/tag/configuration" target="_blank">配置管理</a><a href="http://www.javaeye.com/forums/tag/UseCase" target="_blank">UseCase</a><a href="http://www.javaeye.com/forums/tag/UML" target="_blank">UML</a><a href="http://www.javaeye.com/forums/tag/unitest" target="_blank">单元测试</a><a href="http://www.javaeye.com/forums/tag/XP" target="_blank">XP</a><a href="http://www.javaeye.com/forums/tag/TDD" target="_blank">TDD</a><a href="http://www.javaeye.com/forums/tag/UP" target="_blank">UP</a><a href="http://www.javaeye.com/forums/tag/CMM" target="_blank">CMM</a>
« 上一页 1 <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">2</a> <a href="http://www.javaeye.com/topic/90347?page=3" target="_blank">3</a> <a href="http://www.javaeye.com/topic/90347?page=4" target="_blank">4</a> <a href="http://www.javaeye.com/topic/90347?page=5" target="_blank">5</a> <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">下一页 »</a></p>
<p>浏览 17393 次 锁定老贴子 <a href="">主题：我的重构哪里不规范？</a></p>
<p>精华帖 (3) :: 良好帖 (0) :: 新手帖 (0) :: 隐藏帖 (1) 作者 正文 * ojava</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://ojava.javaeye.com/" target="_blank"><img src="&quot;ojava的博客: ojava&quot;" alt="ojava的博客"></a></li>
<li>文章: 7</li>
<li>积分: 33</li>
<li>来自: 烟台</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p><a href="http://www.javaeye.com/topic/90347#" target="_blank">&lt;</a><a href="http://www.javaeye.com/topic/90347#" target="_blank">&gt;</a>猎头职位:   <a href="http://www.javaeye.com/jobs/712" target="_blank">北京:  Java搜索工程师</a></p>
<p>相关文章: <a href="http://www.javaeye.com/topic/90347#" title="关闭" target="_blank"> </a></p>
<ul>
<li><a href="http://www.javaeye.com/topic/416297" title="你们的项目经常重构代码吗？" target="_blank">你们的项目经常重构代码吗？</a></li>
<li><a href="http://www.javaeye.com/topic/460125" title="重构的几大重要特点" target="_blank">重构的几大重要特点</a></li>
<li><a href="http://www.javaeye.com/topic/6426" title="讨论：重构的前提是不是 TDD" target="_blank">讨论：重构的前提是不是 TDD</a>
推荐圈子: <a href="http://mars.group.javaeye.com/" target="_blank">火星常驻JE办事处</a>
<a href="http://www.javaeye.com/wiki/topic/90347" target="_blank">更多相关推荐</a>
在项目中，由于没有经过大脑思考，结果产生了流水账形式的代码。
流水账代码：就是根据是详细设计书把整个业务的流程顺序完成到一个类的一个方法中，
而没有根据功能划分成若干个小的方法。
这种流水账式的代码非常不容易测试，因为详细设计中已经将设计细化到对字符串如何操作了，
所以从这样的设计书的高度看业务，简直就是乱七八糟！
所幸，还有重构这个工具，就重构，发现很多的局部变量，因为在多处改变值，而且后续还要使用，
所以只能把这种变量，提到类变量的高度，好多啊。
这样一来，
1。如果要用junit测试，还需要再给相应的提出来的变量加上set,get方法。
2。因为重构出来的方法都是private的，所以测试的时候还要用反射的方法。
上面这两种情况可以避免吗？这是一个问题。
还有一个对自己的警告：小心费力不讨好！
声明：JavaEye文章版权属于作者，受法律保护。没有作者书面许可不得转载。</li>
</ul>
<p>推荐链接</p>
<ul>
<li><a href="http://www.javaeye.com/clicks/373" target="_blank"><img src="&quot;adobe&quot;" alt="adobe"></a> <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://ojava.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ojava" title="发送站内短信" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=ojava" title="关注作者" target="_blank"> </a> * Xiaohanne</li>
<li>等级: <img src="&quot;四星会员&quot;" alt="四星会员"></li>
<li><a href="http://xiaohanne.javaeye.com/" target="_blank"><img src="&quot;Xiaohanne的博客: Xiaohanne&quot;" alt="Xiaohanne的博客"></a></li>
<li>文章: 183</li>
<li>积分: 389</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>面向接口不要面向实现，谢谢 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://xiaohanne.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://xiaohanne.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=Xiaohanne" title="发送站内短信" target="_blank"> </a><a href="http://xiaohanne.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=Xiaohanne" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312955" title="Xiaohanne回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * 抛出异常的爱</p>
<ul>
<li>等级: <img src="&quot;五钻会员&quot;" alt="五钻会员"></li>
<li><a href="http://loveexception.javaeye.com/" target="_blank"><img src="&quot;抛出异常的爱的博客: 设计可以拯救国家&quot;" alt="抛出异常的爱的博客"></a></li>
<li>文章: 12050</li>
<li>积分: 2782</li>
<li>来自: 北京</li>
<li><a href="http://www.javaeye.com/topic/743366" title="我正在看《纪念coding之路.祝福所有的coder都可以实现自己的梦想》" target="_blank"><img src="" alt=""></a>
  发表时间：2007-06-15  </li>
</ul>
<p><strong>ojava 写道：</strong>
在项目中，由于没有经过大脑思考，结果产生了流水账形式的代码。
流水账代码：就是根据是详细设计书把整个业务的流程顺序完成到一个类的一个方法中，
而没有根据功能划分成若干个小的方法。
这种新式的代码非常不容易测试，因为详细设计中已经将设计细化到对字符串如何操作了，
所以从这样的设计书的高度看业务，简直就是乱七八糟！
所幸，还有重构这个工具，就重构，发现很多的局部变量，因为在多处改变值，而且后续还要使用，
所以只能把这种变量，提到类变量的高度，好多啊。
这样一来，
1。如果要用junit测试，还需要再给相应的提出来的变量加上set,get方法。
2。因为重构出来的方法都是private的，所以测试的时候还要用反射的方法。
上面这两种情况可以避免吗？这是一个问题。
还有一个对自己的警告：小心费力不讨好！
无设计，无定义（对每个类与方法），无规则，的重构。。。叶公好龙 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://loveexception.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="发送站内短信" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312962" title="抛出异常的爱回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * ojava</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://ojava.javaeye.com/" target="_blank"><img src="&quot;ojava的博客: ojava&quot;" alt="ojava的博客"></a></li>
<li>文章: 7</li>
<li>积分: 33</li>
<li>来自: 烟台</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>无设计，无定义（对每个类与方法），无规则，的重构。。。叶公好龙
这句话，一针见血！！！
刚学习测试，准备在项目中实践，结果发现自己的代码根本没有办法测试，因为这个巨大的方法太大，看不清要实现的业务是什么！
头脑中就是因为缺少测试的思想，才导致出现这样的问题，果然没有思想是不行的，亡羊补牢，现在晚了吗？ <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://ojava.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ojava" title="发送站内短信" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=ojava" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312971" title="ojava回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * gigix</p>
<ul>
<li>等级: <img src="&quot;资深会员&quot;" alt="资深会员">资深会员</li>
<li><a href="http://gigix.javaeye.com/" target="_blank"><img src="&quot;gigix的博客: 透明之眼&quot;" alt="gigix的博客"></a></li>
<li>文章: 4810</li>
<li>积分: 2991</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>First of all you should have tests for you original method.
During your refactoring those test should always pass.
So you don&#39;t have to test new (and quite possible private) methods/fields you extract out. <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://gigix.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=gigix" title="发送站内短信" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=gigix" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312973" title="gigix回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">1</a> 请登录后投票 * 抛出异常的爱</p>
<ul>
<li>等级: <img src="&quot;五钻会员&quot;" alt="五钻会员"></li>
<li><a href="http://loveexception.javaeye.com/" target="_blank"><img src="&quot;抛出异常的爱的博客: 设计可以拯救国家&quot;" alt="抛出异常的爱的博客"></a></li>
<li>文章: 12050</li>
<li>积分: 2782</li>
<li>来自: 北京</li>
<li><a href="http://www.javaeye.com/topic/743366" title="我正在看《纪念coding之路.祝福所有的coder都可以实现自己的梦想》" target="_blank"><img src="" alt=""></a>
  发表时间：2007-06-15  </li>
</ul>
<p>gigix 写道</p>
<p>First of all you should have tests for you original method.
During your refactoring those test should always pass.
So you don&#39;t have to test new (and quite possible private) methods/fields you extract out.
是的，不用再加测试了，先写着，
不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
PS:如果要测试中间的private方法，可以写在主函数中一个
public XXX (){ return 你要测试的方法 ；}
PS：天啊。。。变的够快。。。认不出来了 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://loveexception.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="发送站内短信" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#312979" title="抛出异常的爱回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * gigix</p>
<ul>
<li>等级: <img src="&quot;资深会员&quot;" alt="资深会员">资深会员</li>
<li><a href="http://gigix.javaeye.com/" target="_blank"><img src="&quot;gigix的博客: 透明之眼&quot;" alt="gigix的博客"></a></li>
<li>文章: 4810</li>
<li>积分: 2991</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>抛出异常的爱 写道</p>
<p>不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
nope...
if you make any mistake during refactoring and break any test,
and if you can&#39;t fix it immediately,
you should revert to previous successful step immediately.
(that&#39;s why you should check in as frequently as you can.) <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://gigix.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=gigix" title="发送站内短信" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=gigix" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313053" title="gigix回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * 抛出异常的爱</p>
<ul>
<li>等级: <img src="&quot;五钻会员&quot;" alt="五钻会员"></li>
<li><a href="http://loveexception.javaeye.com/" target="_blank"><img src="&quot;抛出异常的爱的博客: 设计可以拯救国家&quot;" alt="抛出异常的爱的博客"></a></li>
<li>文章: 12050</li>
<li>积分: 2782</li>
<li>来自: 北京</li>
<li><a href="http://www.javaeye.com/topic/743366" title="我正在看《纪念coding之路.祝福所有的coder都可以实现自己的梦想》" target="_blank"><img src="" alt=""></a>
  发表时间：2007-06-15  </li>
</ul>
<p>gigix 写道</p>
<p>抛出异常的爱 写道</p>
<p>不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
nope...
if you make any mistake during refactoring and break any test,
and if you can&#39;t fix it immediately,
you should revert to previous successful step immediately.
(that&#39;s why you should check in as frequently as you can.)
那么不动老的代码。。。
写新方法，新的测试，
所有需要的方法都写完了（小步前进？）
再一次把老的代码删去
用新的代码顶上？ <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://loveexception.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="发送站内短信" target="_blank"> </a><a href="http://loveexception.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=%E6%8A%9B%E5%87%BA%E5%BC%82%E5%B8%B8%E7%9A%84%E7%88%B1" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313088" title="抛出异常的爱回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * gigix</p>
<ul>
<li>等级: <img src="&quot;资深会员&quot;" alt="资深会员">资深会员</li>
<li><a href="http://gigix.javaeye.com/" target="_blank"><img src="&quot;gigix的博客: 透明之眼&quot;" alt="gigix的博客"></a></li>
<li>文章: 4810</li>
<li>积分: 2991</li>
<li>来自: 北京</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>抛出异常的爱 写道</p>
<p>gigix 写道</p>
<p>抛出异常的爱 写道</p>
<p>不过对于拿不准的，写出来出错看不出来，找不到错的
还是要写中间测试帮助编码
nope...
if you make any mistake during refactoring and break any test,
and if you can&#39;t fix it immediately,
you should revert to previous successful step immediately.
(that&#39;s why you should check in as frequently as you can.)
那么不动老的代码。。。
写新方法，新的测试，
所有需要的方法都写完了
再一次把老的代码删去
用新的代码顶上？
please man...
what is &quot;refactoring&quot;?
answer: to improve the internal structure of code, WITHOUT CHANGING ITS EXTERNAL BEHAVIOR
when you refactoring, you move forward by SMALL STEPS. you remove the bad smells little by little, and always keep all tests passing. <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://gigix.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=gigix" title="发送站内短信" target="_blank"> </a><a href="http://gigix.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=gigix" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313092" title="gigix回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票 * ojava</p>
<ul>
<li>等级: 初级会员</li>
<li><a href="http://ojava.javaeye.com/" target="_blank"><img src="&quot;ojava的博客: ojava&quot;" alt="ojava的博客"></a></li>
<li>文章: 7</li>
<li>积分: 33</li>
<li>来自: 烟台</li>
<li><img src="" alt="">
  发表时间：2007-06-15  </li>
</ul>
<p>公司新加代码规范条目：所定义的方法尽量不要超过100行。
某一方面来说，可以避免这种流水账式的代码吧！
并且强制我们进行Xiaohanne所说的面向接口不要面向实现的编程。 <a href="http://www.javaeye.com/topic/90347#" target="_blank">返回顶楼</a> <a href="http://ojava.javaeye.com/" title="浏览作者的博客" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/profile" title="浏览作者资料" target="_blank"> </a><a href="http://app.javaeye.com/messages/new?message%5Breceiver_name%5D=ojava" title="发送站内短信" target="_blank"> </a><a href="http://ojava.javaeye.com/blog/guest_book" title="给作者留言" target="_blank"> </a><a href="http://app.javaeye.com/feed?subscription%5Bsubscribed_user_name%5D=ojava" title="关注作者" target="_blank"> </a><a href="http://www.javaeye.com/topic/90347#313239" title="ojava回帖:我的重构哪里不规范？" target="_blank">回帖地址</a></p>
<p><a href="http://www.javaeye.com/topic/90347#" title="好" target="_blank">0</a> <a href="http://www.javaeye.com/topic/90347#" title="差" target="_blank">0</a> 请登录后投票</p>
<p>« 上一页 1 <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">2</a> <a href="http://www.javaeye.com/topic/90347?page=3" target="_blank">3</a> <a href="http://www.javaeye.com/topic/90347?page=4" target="_blank">4</a> <a href="http://www.javaeye.com/topic/90347?page=5" target="_blank">5</a> <a href="http://www.javaeye.com/topic/90347?page=2" target="_blank">下一页 »</a>
<a href="http://www.javaeye.com/forums" target="_blank">论坛首页</a> →<a href="http://www.javaeye.com/forums/board/develop" target="_blank">软件开发和项目管理版</a>→ <a href="http://www.javaeye.com/forums/tag/test" target="_blank">软件测试</a>
跳转论坛:Java编程和Java企业应用Web前端技术 移动编程和手机应用开发C/C++编程Ruby编程Python编程 PHP编程Flash编程和RIA Microsoft .Net综合技术软件开发和项目管理行业应用 入门讨论招聘求职海阔天空</p>
<ul>
<li><a href="http://www.javaeye.com/" target="_blank">首页</a></li>
<li><a href="http://www.javaeye.com/news" target="_blank">新闻</a></li>
<li><a href="http://www.javaeye.com/forums" target="_blank">论坛</a></li>
<li><a href="http://www.javaeye.com/ask" target="_blank">问答</a></li>
<li><a href="http://www.javaeye.com/wiki" target="_blank">专栏</a></li>
<li><a href="http://www.javaeye.com/blogs" target="_blank">博客</a></li>
<li><a href="http://www.javaeye.com/groups" target="_blank">圈子</a></li>
<li><a href="http://www.javaeye.com/job" target="_blank">招聘</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">服务</a></li>
<li><a href="http://www.javaeye.com/search" target="_blank">搜索</a></li>
<li><a href="http://java.javaeye.com/" target="_blank">Java</a></li>
<li><a href="http://webapp.javaeye.com/" target="_blank">Web</a></li>
<li><a href="http://ruby.javaeye.com/" target="_blank">Ruby</a></li>
<li><a href="http://python.javaeye.com/" target="_blank">Python</a></li>
<li><a href="http://agile.javaeye.com/" target="_blank">敏捷</a></li>
<li><a href="http://mysql.javaeye.com/" target="_blank">MySQL</a></li>
<li><a href="http://runqian.javaeye.com/" target="_blank">润亁报表</a></li>
<li><a href="http://book.javaeye.com/" target="_blank">图书</a></li>
<li><a href="http://www.javaeye.com/index/service" target="_blank">广告服务</a></li>
<li><a href="http://webmaster.javaeye.com/" target="_blank">JavaEye黑板报</a></li>
<li><a href="http://www.javaeye.com/index/aboutus" target="_blank">关于我们</a></li>
<li><a href="http://www.javaeye.com/index/contactus" target="_blank">联系我们</a></li>
<li><a href="http://www.javaeye.com/index/friend_links" target="_blank">友情链接</a></li>
</ul>
<p>© 2003-2010 JavaEye.com. 上海炯耐计算机软件有限公司版权所有 [ <a href="http://www.miibeian.gov.cn/" target="_blank">沪ICP备05023328号</a> ]  <img src="" alt=""></p>

      
    </div>
    <section id='after_content_widget'><div class="widget" id="widget_after_content_wumiiRelatedItems>">
<script type="text/javascript" id="wumiiRelatedItems"></script>
</div><div class="widget" id="widget_after_content_post_footer_info>">
<div class="panel panel-success">
    <div class="panel-heading" align="center">希望本站内容对您有点用处,有什么疑问或建议请在后面留言评论</div>
    <div align="center" class="panel-body">转载请注明作者(<a href="http://itsolife.com/about/">RobinChia</a>)和出处 <a href="http://itsolife.com">It so life</a> ，请勿用于任何商业用途</div>
    <div class="panel-body">本文链接: <a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/">我的重构哪里不规范？ </a></div>
</div>
</div></section>
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li></span><span class="breadcrumb"><li><a href="/categories/Java&J2EE/">Java&J2EE</a></li><li><a href="/categories/Java&J2EE/Java_总结类/">Java_总结类</a></li></span></span> | <span class="tags">Tagged <a href="/tags/Java&J2EE/" class="label label-primary">Java&J2EE</a><a href="/tags/Java_总结类/" class="label label-success">Java_总结类</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:43"datetime="2014-03-07 09:54:43"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>


    <section id='after_post_widget'><div class="widget" id="widget_after_post_post_pageNav>">
<ul class="pager">
  
  <li class="previous"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？讨论第2页/" title="我的重构哪里不规范？讨论第2页">&larr; 我的重构哪里不规范？讨论第2页</a></li>
  
  
  <li class="next"><a href="/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--对遗留系统组织重构项目-透明思考CSDN/" title="对遗留系统组织重构项目 ">对遗留系统组织重构项目  &rarr;</a></li>
  
</ul></div><div class="widget" id="widget_after_post_related_posts>">
<ul class="list-group"><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE-JVM--JAVA启动参数整理/">JAVA启动参数整理</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-数组集合--通过分析JDK源代码研究Hash存储机制/">通过分析 JDK 源代码研究 Hash 存储机制</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE-内存分析--Java工具（jmap-jstack）在linux上的源码分析/">Java 工具（jmap</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE-JVM--JVM调优总结（一）--一些概念-高级语言虚拟机/">JVM调优总结（一）</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE--Java字节码工具ASM在WebService开发中的应用/">Java字节码工具ASM在Web Service开发中的应用</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE--JSTLEL详解/">JSTL EL 详解</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE-算法数组优化-数组集合--存取之美——HashMap原理、源码、实践/">存取之美 —— HashMap原理、源码、实践</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-JavaJ2EE-NIO--JavaNIOAPI详解/">Java NIO API详解</a></li></ul></div></section>    
	<div id="comments"><!-- Duoshuo Comment BEGIN -->

<div class="ds-thread"  data-thread-key="2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试"  data-url="http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/" data-title="我的重构哪里不规范？ "></div>

		

<!-- Duoshuo Comment END -->

</div></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Site powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a>  update time: <em>2014-03-07 09:54:43</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->

<script type="text/javascript">
    var wumiiPermaLink = "http://itsolife.com/2014/02/02/2014-02-02-JavaJ2EE-Java_总结类--我的重构哪里不规范？-软件测试/";
    var wumiiTitle = "我的重构哪里不规范？ ";
    var wumiiTags = "Java&J2EE,Java_总结类";
    var wumiiCategories = ["Java&J2EE","Java&J2EE","Java_总结类"];
    var wumiiSitePrefix = "http://itsolife.com";
    var wumiiParams = "&num=5&mode=3&pf=JAVASCRIPT";
    _js2load.push({src:'http://widget.wumii.cn/ext/relatedItemsWidget'});
</script>
<a href="http://www.wumii.com/widget/relatedItems" style="border:0;">
<img src="http://static.wumii.cn/images/pixel.png" alt="无觅关联推荐，快速提升流量" style="border:0;padding:0;margin:0;" />
</a>
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
