
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Using CAS without the Login Screen  | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="Using CAS without the Login Screen - Central Authentication Service - Jasig Wiki
Skip to content
Skip to breadcrumbs">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<meta property="og:title" content="Using CAS without the Login Screen "/>
<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title">Using CAS without the Login Screen </h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:39.000Z"> <a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/">feb. 2 2014</a></time></span>      
    </header>
    
    <section id='before_content_widget'></section>
    <div class="entry">
      
        <h1 id="using-cas-without-the-login-screen-central-authentication-service-jasig-wiki">Using CAS without the Login Screen - Central Authentication Service - Jasig Wiki</h1>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#title-heading" target="_blank">Skip to content</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#breadcrumbs" target="_blank">Skip to breadcrumbs</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#header-menu-bar" target="_blank">Skip to header menu</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#navigation" target="_blank">Skip to action menu</a></li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#quick-search-query" target="_blank">Skip to quick search</a>
Quick Search</p>
</li>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">Browse</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/listpages.action?key=CAS" title="Browse pages in the Central Authentication Service space ( Type &#39;g&#39; then &#39;s" target="_blank">Pages</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewrecentblogposts.action?key=CAS" title="Browse blogs in the Central Authentication Service space" target="_blank">Blog</a></li>
<li><a href="https://wiki.jasig.org/labels/listlabels-heatmap.action?key=CAS" title="Browse labels in the Central Authentication Service space" target="_blank">Labels</a></li>
<li><a href="https://wiki.jasig.org/spaces/listattachmentsforspace.action?key=CAS" title="Browse attachments in the Central Authentication Service space" target="_blank">Attachments</a></li>
<li><a href="https://wiki.jasig.org/mail/archive/viewmailarchive.action?key=CAS" title="Browse mail in the Central Authentication Service space" target="_blank">Mail</a></li>
<li><a href="https://wiki.jasig.org/spaces/viewspacesummary.action?key=CAS" title="Browse additional space functions in the Central Authentication Service space" target="_blank">Advanced</a></li>
<li><p><a href="https://wiki.jasig.org/spaces/usage/report.action?key=CAS" target="_blank">Activity</a></p>
</li>
<li><p><a href="http://docs.atlassian.com/confluence/docs-41/whatsnew/iframe" target="_blank">What’s New</a></p>
</li>
<li><a href="https://wiki.jasig.org/spacedirectory/view.action" title="Browse the Confluence space directory" target="_blank">Space Directory</a></li>
<li><a href="https://wiki.jasig.org/dashboard/configurerssfeed.action" title="Create your custom RSS feed." target="_blank">Feed Builder</a></li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="View available keyboard shortcuts ( Type &#39;?" target="_blank">Keyboard Shortcuts</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Browse gadgets provided by Confluence" target="_blank">Confluence Gadgets</a></li>
<li><a href="https://wiki.jasig.org/login.action?os_destination=%2Fdisplay%2FCAS%2FUsing%2BCAS%2Bwithout%2Bthe%2BLogin%2BScreen" target="_blank">Log In</a></li>
<li><a href="https://wiki.jasig.org/signup.action" target="_blank">Sign Up</a></li>
</ul>
<ol>
<li><a href="https://wiki.jasig.org/dashboard.action" title="Go to Dashboard ( Type &#39;g&#39; then &#39;d" target="_blank">Dashboard</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/display/CAS" target="_blank">Central Authentication Service</a></li>
<li><strong>…</strong></li>
<li><a href="https://wiki.jasig.org/display/CAS/Home" target="_blank">Home</a></li>
<li><a href="">Using CAS without the Login Screen</a></li>
</ol>
<ul>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">Tools</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewpageattachments.action?pageId=3604523" title="View Attachments ( Type &#39;t" target="_blank">Attachments (0)</a>&quot;)</p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewpreviousversions.action?pageId=3604523" target="_blank">Page History</a></li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=3604523" title="Edit restrictions" target="_blank">Restrictions</a></p>
</li>
<li><p><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=3604523" target="_blank">Info</a></p>
</li>
<li><a href="https://wiki.jasig.org/pages/viewinfo.action?pageId=3604523" title="Link to this Page ( Type &#39;k" target="_blank">Link to this Page…</a>&quot;)</li>
<li><a href="https://wiki.jasig.org/pages/listpages-dirview.action?key=CAS&amp;openId=3604523#selectedPageInHierarchy" target="_blank">View in Hierarchy</a></li>
<li><a href="https://wiki.jasig.org/plugins/viewsource/viewpagesrc.action?pageId=3604523" target="_blank">View Source</a></li>
</ul>
<h1 id="-https-wiki-jasig-org-display-cas-using-cas-without-the-login-screen-"><a href="https://wiki.jasig.org/display/CAS" target="_blank"><img src="" alt=""></a>  <a href="">Using CAS without the Login Screen</a></h1>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#page-metadata-end" target="_blank">Skip to end of metadata</a></p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Page restrictions apply. Click the lock icon to view or edit the restriction." target="_blank">Page restrictions apply</a></li>
<li>Added by <a href="https://wiki.jasig.org/display/~jacomac" target="_blank">Konrad Wulf</a>, last edited by <a href="https://wiki.jasig.org/display/~newacct" target="_blank">newacct</a> on Aug 28, 2010  (<a href="https://wiki.jasig.org/pages/diffpages.action?pageId=3604523&amp;originalId=52495897" target="_blank">view change</a>)</li>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">show comment</a> <a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">hide comment</a>
<strong>Comment:</strong> Corrected links that should have been relative instead of absolute.
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#page-metadata-start" target="_blank">Go to start of metadata</a></li>
</ul>
<h2 id="motivation">Motivation</h2>
<p>We wanted to be more flexible in the use of the login UI, so e.g. wanted to embed it in several places as a small panel. Moreover, we wanted to understand CAS as a pure service, not having to maintain layout information twice. Also, we wanted to support both, login postings from another site and direct login at the CAS server as a fallback.</p>
<h2 id="proposed-solutions-that-do-not-work">Proposed Solutions that do not work</h2>
<p>There have been two proposals, which we haven&#39;t found to be suitable:</p>
<ul>
<li>AJAX: Ajax requests are sandboxed and that sandbox is even more strict than the two-dot rule applied to cookies: It really has to be exactly the same server name in order to work</li>
<li><p>IFrames: In this <a href="http://tp.its.yale.edu/pipermail/cas-dev/2006-October/001451.html" target="_blank">posting to the cas-dev mailing list</a>, it has been suggested to use an iFrame to embed a login panel on a remote site. This has two limitations:</p>
</li>
<li><p>How to get rid of the Frame after login? in the default view a successful login would lead to redirect only in that frame. If you use target=&quot;parent&quot; in the from tag, how do you display errors then?</p>
</li>
<li><p>You would have limited layout possibilities.</p>
<p>So for our requirements, none of the proposed solutions were adequate.</p>
</li>
</ul>
<h2 id="our-solution">Our Solution</h2>
<p>We decided to use Javascript triggered redirects, which allows us to use this mechanism also on static html pages (e.g. CMS based contents). While loading we request a login ticket, then the login form displays and then it submits to the CAS login URL. If Errors are present at CAS we redirect to the referring page, adding a parameter &quot;error_message&quot; to that request.</p>
<h3 id="client-side">Client side</h3>
<p>Here is the static remote login form we use:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>&lt;!DOCTYPE html PUBLIC</p>
<p>&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</p>
<p>&quot;<a href="http://www.w3.org/TR/html4/loose.dtd" target="_blank"><a href="http://www.w3.org/TR/html4/loose.dtd">http://www.w3.org/TR/html4/loose.dtd</a>&quot;</a></p>
<p>&gt;</p>
<html>
<head>

<meta http-equiv=

"Content-Type"

content=

"text/html; charset=ISO-8859-1"

>
<title>Test remote Login using JS</title>

<script type=

"text/javascript"

>
function prepareLoginForm() {



$(

&#39;myLoginForm&#39;

).action = casLoginURL;


$(

&quot;lt&quot;

).value = loginTicket;

}


function checkForLoginTicket() {


var loginTicketProvided =

false

;



var query   =

&#39;&#39;

;


casLoginURL =

&#39;<a href="https://pcdt057:8443/cas/login&#39;" target="_blank"><a href="https://pcdt057:8443/cas/login">https://pcdt057:8443/cas/login</a>&#39;</a>

;



thisPageURL =

&#39;<a href="https://pcdt057:8443/cas/test-remote-login-js+error.html&#39;" target="_blank"><a href="https://pcdt057:8443/cas/test-remote-login-js+error.html">https://pcdt057:8443/cas/test-remote-login-js+error.html</a>&#39;</a>

;


casLoginURL +=

&#39;?login-at=&#39;

+ encodeURIComponent (thisPageURL);




query   = window.location.search;



query   = query.substr (

1

);





var param   =

new

Array();



//var value = new Array();


var temp    =

new

Array();



param   = query.split (

&#39;&amp;&#39;

);




i =

0

;


while

(param[i]) {



temp        = param[i].split (

&#39;=&#39;

);


if

(temp[

0

] ==

&#39;lt&#39;

) {



loginTicket = temp[

1

];


loginTicketProvided =

true

;



}


if

(temp[

0

] ==

&#39;error_message&#39;

) {



error = temp[

1

];


}



i++;


}



if

(!loginTicketProvided) {


location.href = casLoginURL +

&#39;&amp;get-lt=true&#39;

;



}
}


function $(id) {



return

document.getElementById(id);
}

var loginTicket;
var error;

var casLoginURL;
var thisPageURL;


checkForLoginTicket();

onload = prepareLoginForm;
</script>

</head>
<body>

<h2>Test remote Login using JS</h2>
<form id=

"myLoginForm"

action=

""

method=

"post"

>

<input type=

"hidden"

value=

"submit"

name=

"_eventId"

/>
<table>

<tr>


<td id=

"txt_error"

colspan=

"2"

>




<script type=

"text/javascript"

language=

"javascript"

>



<!--


if

( error ) {



error = decodeURIComponent (error);


document.write (error);



}


//-->



</script>




</td>
</tr>

<tr>


<td>Benutzer:</td>



<td><input type=

"text"

value=

"konrad"

name=

"username"

></td>
</tr>

<tr>


<td>Password:</td>



<td><input type=

"text"

value=

"konrad"

name=

"password"

></td>
</tr>

<tr>


<td>Login Ticket:</td>



<td><input type=

"text"

name=

"lt"

id=

"lt"

value=

""

></td>
</tr>

<tr>


<td>Service:</td>



<td><input type=

"text"

name=

"service"

value=

"[http://quiz.jacomac.de"](http://quiz.jacomac.de/)

></td>
</tr>

<tr>


<td align=

"right"

colspan=

"2"

><input type=

"submit"

/></td>

</tr>
</table>

</form>
</body>

</html>

<h3 id="cas-side">CAS side</h3>
<p>Adapting only the views and introducing if-else statements there meant having logic that belongs to the controllers in the view. Therefore we decided to inject our add-on into the spring web flow. Here are the changes we have made to login-webflow.xml (changes highlighted in blue):
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>&lt;?xml version=</p>
<p>&quot;1.0&quot;</p>
<p>encoding=</p>
<p>&quot;UTF-8&quot;</p>
<p>?&gt;</p>
<flow xmlns=

"[http://www.springframework.org/schema/webflow"](http://www.springframework.org/schema/webflow)


xmlns:xsi=

"[http://www.w3.org/2001/XMLSchema-instance"](http://www.w3.org/2001/XMLSchema-instance)



xsi:schemaLocation="


http:

//www.springframework.org/schema/webflow



http:

//www.springframework.org/schema/webflow/spring-webflow-1.0.xsd">

<start-state idref="provideLoginTicketToRemoteRequestor" />

<action-state id="provideLoginTicketToRemoteRequestor">
<action bean="provideLoginTicketToRemoteRequestorAction" />
<transition on="loginTicketRequested" to="viewRedirectToRequestor" />
<transition on="continue" to="automaticCookiePathSetter" />
</action-state>

<view-state id="viewRedirectToRequestor" view="bmRedirectToRequestorView">
<transition on="submit" to="bindAndValidate" />
</view-state>
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a><action-state id=

"automaticCookiePathSetter"

>



<action bean=

"automaticCookiePathSetterAction"

/>


<transition on=

"success"



to=

"ticketGrantingTicketExistsCheckAction"

/>


</action-state>




<action-state id=

"ticketGrantingTicketExistsCheckAction"

>



<action bean=

"ticketGrantingTicketExistsAction"

/>


<transition on=

"ticketGrantingTicketExists"



to=

"hasServiceCheck"

/>


<transition on=

"noTicketGrantingTicketExists"



to=

"gatewayRequestCheck"

/>


</action-state>




<action-state id=

"gatewayRequestCheck"

>



<action bean=

"gatewayRequestCheckAction"

/>


<transition on=

"gateway"

to=

"redirect"

/>



<transition on=

"authenticationRequired"

to=

"viewLoginForm"

/>


</action-state>




<action-state id=

"hasServiceCheck"

>



<action bean=

"hasServiceCheckAction"

/>


<transition on=

"authenticatedButNoService"



to=

"viewGenericLoginSuccess"

/>


<transition on=

"hasService"

to=

"renewRequestCheck"

/>



</action-state>




<action-state id=

"renewRequestCheck"

>


<action bean=

"renewRequestCheckAction"

/>



<transition on=

"authenticationRequired"

to=

"viewLoginForm"

/>


<transition on=

"generateServiceTicket"



to=

"generateServiceTicket"

/>


</action-state>




<!--



<action-state id=

"startAuthenticate"

>


<action bean=

"x509Check"

/>



<transition on=

"success"

to=

"sendTicketGrantingTicket"

/>


<transition on=

"error"

to=

"viewLoginForm"

/>



</action-state>


-->



<view-state id=

"viewLoginForm"

view=

"casLoginView"

>


<transition on=

"submit"

to=

"bindAndValidate"

/>



</view-state>




<action-state id=

"bindAndValidate"

>


<action bean=

"authenticationViaFormAction"

/>



<transition on=

"success"

to=

"submit"

/>


<transition on=

"error"

to=

"viewLoginForm"

/>



</action-state>




<action-state id=

"submit"

>


<action bean=

"authenticationViaFormAction"

method=

"submit"

/>



<transition on=

"warn"

to=

"warn"

/>


<transition on=

"success"

to=

"sendTicketGrantingTicket"

/>



<transition on=

"error"

to=

"viewLoginForm"

/>

<transition on="errorForRemoteRequestor" to="viewRedirectToRequestor" />
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a></action-state>




<action-state id=

"sendTicketGrantingTicket"

>



<action bean=

"sendTicketGrantingTicketAction"

/>


<transition on=

"success"

to=

"serviceCheck"

/>



</action-state>




<action-state id=

"serviceCheck"

>


<action bean=

"hasServiceCheckAction"

/>



<transition on=

"authenticatedButNoService"


to=

"viewGenericLoginSuccess"

/>



<transition on=

"hasService"

to=

"generateServiceTicket"

/>


</action-state>




<action-state id=

"generateServiceTicket"

>



<action bean=

"generateServiceTicketAction"

/>


<transition on=

"success"

to=

"warn"

/>



<transition on=

"error"

to=

"viewLoginForm"

/>


<transition on=

"gateway"

to=

"redirect"

/>



</action-state>




<!--


The

"warn"

action makes the determination of whether to redirect directly to the requested



service or display the

"confirmation"

page to go back to the server.


-->



<action-state id=

"warn"

>


<action bean=

"warnAction"

/>



<transition on=

"redirect"

to=

"redirect"

/>


<transition on=

"warn"

to=

"showWarningView"

/>



</action-state>




<!--


the

"viewGenericLogin"

is the end state

for

when a user attempts to login without coming directly from a service.



They have only initialized their single-sign on session.


-->



<end-state id=

"viewGenericLoginSuccess"


view=

"casLoginGenericSuccessView"

/>






<!--


The

"showWarningView"

end state is the end state

for

when the user has requested privacy settings (to be

"warned"

) to be turned on.  It delegates to a



view defines in default_views.properties that display the

"Please click here to go to the service."

message.


-->



<end-state id=

"showWarningView"

view=

"casLoginConfirmView"

/>




<!--


The

"redirect"

end state allows CAS to properly end the workflow

while

still redirecting



the user back to the service required.


-->



<end-state id=

"redirect"


view=

"externalRedirect:${externalContext.requestParameterMap['service']}${requestScope.ticket == null ? '' : (externalContext.requestParameterMap['service'].indexOf('?') != -1 ? '&amp;' : '?') + 'ticket=' + requestScope.ticket}"

/>




<global-transitions>



<transition to=

"viewServiceErrorView"


on-exception=

"org.jasig.cas.services.UnauthorizedServiceException"

/>



</global-transitions>
</flow>

<h2 id="problems-encountered-and-suggested-solutions">Problems encountered and suggested solutions</h2>
<p>The solution works well, but it has a very dirty edge: introducing a new event in the submit method that allows us to distinguish between a login posting from the CAS Site and another site. Here we had to redeclare the <em>submit</em> method in <em>org.jasig.cas.web.flow.AuthenticationViaFormAction</em> (changes marked in blue):
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>[...]        </p>
<p>try</p>
<p>{</p>
<p>final</p>
<p>String ticketGrantingTicketId =</p>
<p>this</p>
<p>.centralAuthenticationService</p>
<p>.createTicketGrantingTicket(credentials);</p>
<p>ContextUtils.addAttribute(context,</p>
<p>AbstractLoginAction.REQUEST_ATTRIBUTE_TICKET_GRANTING_TICKET,</p>
<p>ticketGrantingTicketId);</p>
<p>setWarningCookie(response, warn);</p>
<p>return</p>
<p>success();</p>
<p>}</p>
<p>catch</p>
<p>(</p>
<p>final</p>
<p>TicketException e) {</p>
<p>populateErrorsInstance(context, e);</p>
<pre><code>        // START: ChangesBusinessMart: check, whether the posting has been sent from a remote server
        String myServerName = request.getLocalName();
        String referrer = request.getParameter(&quot;login-at&quot;);
        if (referrer != null &amp;&amp; referrer.indexOf(myServerName) == -1) {
            return result(&quot;errorForRemoteRequestor&quot;);
        }
</code></pre><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>return</p>
<p>error();</p>
<p>}
[...]</p>
<p> This could have been avoided by</p>
<ol>
<li>making this submit method overridable (non-final) to add new events in a derived class. Or</li>
<li>to make such a distinction of events in the standard CAS distribution.</li>
</ol>
<p>Maybe this can be accomplished somehow in future versions of CAS?</p>
<h2 id="listing-of-the-other-files-mentioned-in-this-solution">Listing of the other files mentioned in this solution</h2>
<p>provideLoginTicketToRemoteRequestorAction -&gt; introduces a new parameter get-lt to signal that a new login ticket shall be issued to the HTTP Referer:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>package</p>
<p>de.businessmart.sso.cas.flow;</p>
<p>import</p>
<p>javax.servlet.http.HttpServletRequest;</p>
<p>import</p>
<p>javax.servlet.http.HttpServletResponse;</p>
<p>import</p>
<p>org.jasig.cas.web.flow.util.ContextUtils;
import</p>
<p>org.springframework.beans.factory.InitializingBean;</p>
<p>import</p>
<p>org.springframework.webflow.action.AbstractAction;
import</p>
<p>org.springframework.webflow.core.collection.MutableAttributeMap;</p>
<p>import</p>
<p>org.springframework.webflow.execution.Event;
import</p>
<p>org.springframework.webflow.execution.RequestContext;</p>
<p>import</p>
<p>de.businessmart.sso.cas.CasUtility;</p>
<p>//<em>/</em></p>
<p>/* Opens up the CAS web flow to allow external retrieval of a login ticket.</p>
<p>/* @author konrad.wulf</p>
<p>/*</p>
<p>/*/</p>
<p>public</p>
<p>class</p>
<p>ProvideLoginTicketToRemoteRequestorAction</p>
<p>extends</p>
<p>AbstractAction
{</p>
<p>@Override</p>
<p>protected</p>
<p>Event doExecute(RequestContext context)</p>
<p>throws</p>
<p>Exception</p>
<p>{</p>
<p>final</p>
<p>HttpServletRequest request = ContextUtils.getHttpServletRequest(context);</p>
<p>if</p>
<p>(request.getParameter(</p>
<p>&quot;get-lt&quot;</p>
<p>) !=</p>
<p>null</p>
<p>&amp;&amp; request.getParameter(</p>
<p>&quot;get-lt&quot;</p>
<p>).equalsIgnoreCase(</p>
<p>&quot;true&quot;</p>
<p>)) {</p>
<p>return</p>
<p>result(</p>
<p>&quot;loginTicketRequested&quot;</p>
<p>);</p>
<p>}</p>
<p>return</p>
<p>result(</p>
<p>&quot;continue&quot;</p>
<p>);</p>
<p>}</p>
<p>}</p>
<p>viewRedirectToRequestor actually does the redirects to the referrer:</p>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>&lt;%</p>
<p>@page</p>
<p>import</p>
<p>=</p>
<p>&quot;de.businessmart.sso.cas.CasUtility&quot;</p>
<p>%&gt;</p>
<p>&lt;%@ taglib prefix=</p>
<p>&quot;c&quot;</p>
<p>uri=</p>
<p>&quot;<a href="http://java.sun.com/jsp/jstl/core" target="_blank"><a href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>&quot;</a></p>
<p>%&gt;
&lt;%@ taglib prefix=</p>
<p>&quot;spring&quot;</p>
<p>uri=</p>
<p>&quot;<a href="http://www.springframework.org/tags" target="_blank"><a href="http://www.springframework.org/tags">http://www.springframework.org/tags</a>&quot;</a></p>
<p>%&gt;</p>
<p>&lt;% String separator =</p>
<p>&quot;&quot;</p>
<p>;
String referrer = request.getHeader(</p>
<p>&quot;Referer&quot;</p>
<p>);</p>
<p>referrer = CasUtility.resetUrl(referrer);
if</p>
<p>(referrer !=</p>
<p>null</p>
<p>&amp;&amp; referrer.length() &gt;</p>
<p>0</p>
<p>) {</p>
<p>separator =(referrer.indexOf(</p>
<p>&quot;?&quot;</p>
<p>) &gt; -</p>
<p>1</p>
<p>)?</p>
<p>&quot;&amp;&quot;</p>
<p>:</p>
<p>&quot;?&quot;</p>
<p>; %&gt;</p>
<html>



<head>


<script>



var redirectURL =

&quot;&lt;%= referrer + separator %&gt;lt=${flowExecutionKey}&quot;

;


<spring:hasBindErrors name=

"credentials"

>



redirectURL +=

&#39;&amp;error_message=&#39;

+ encodeURIComponent (

&#39;<c:forEach var="error" items="${errors.allErrors}"><spring:message code="${error.code}" text="${error.defaultMessage}" /></c:forEach>&#39;

);


</spring:hasBindErrors>



window.location.href = redirectURL;


</script>



</head>


<body></body>

<p></html>&lt;%
}</p>
<p>else
{</p>
<p>out.print(</p>
<p>&quot;You better know what to do here.&quot;</p>
<p>);
} %&gt;</p>
<p>And for completeness, here is the CasUtility that removes obsolete parameters from the query string:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a>package</p>
<p>de.businessmart.sso.cas;</p>
<p>public</p>
<p>class</p>
<p>CasUtility {</p>
<p>//<em>/</em></p>
<p>/* Removes the previously attached GET parameters &quot;lt&quot; and &quot;error_message&quot; to be able to send new ones.</p>
<p>/* @param casUrl</p>
<p>/* @return</p>
<p>/*/</p>
<p>public</p>
<p>static</p>
<p>String resetUrl ( String casUrl) {</p>
<p>String cleanedUrl;</p>
<p>String[] paramsToBeRemoved =</p>
<p>new</p>
<p>String[]{</p>
<p>&quot;lt&quot;</p>
<p>,</p>
<p>&quot;error_message&quot;</p>
<p>,</p>
<p>&quot;get-lt&quot;</p>
<p>};</p>
<p>cleanedUrl = removeHttpGetParameters(casUrl, paramsToBeRemoved);</p>
<p>return</p>
<p>cleanedUrl;</p>
<p>}</p>
<p>//<em>/</em></p>
<p>/* Removes selected HTTP GET parameters from a given URL</p>
<p>/* @param casUrl</p>
<p>/* @param paramsToBeRemoved</p>
<p>/* @return</p>
<p>/*/</p>
<p>public</p>
<p>static</p>
<p>String removeHttpGetParameters (String casUrl, String[] paramsToBeRemoved) {</p>
<p>String cleanedUrl = casUrl;</p>
<p>if</p>
<p>(casUrl !=</p>
<p>null</p>
<p>)</p>
<p>{</p>
<p>// check if there is any query string at all</p>
<p>if</p>
<p>(casUrl.indexOf(</p>
<p>&quot;?&quot;</p>
<p>) == -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>return</p>
<p>casUrl;</p>
<p>}</p>
<p>else</p>
<p>{</p>
<p>// determine the start and end position of the parameters to be removed</p>
<p>int</p>
<p>startPosition, endPosition;</p>
<p>boolean</p>
<p>containsOneOfTheUnwantedParams =</p>
<p>false</p>
<p>;</p>
<p>for</p>
<p>(String paramToBeErased : paramsToBeRemoved)</p>
<p>{</p>
<p>startPosition = -</p>
<p>1</p>
<p>;</p>
<p>endPosition = -</p>
<p>1</p>
<p>;</p>
<p>if</p>
<p>(cleanedUrl.indexOf(</p>
<p>&quot;?&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) &gt; -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>startPosition = cleanedUrl.indexOf(</p>
<p>&quot;?&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) +</p>
<p>1</p>
<p>;</p>
<p>}</p>
<p>else</p>
<p>if</p>
<p>(cleanedUrl.indexOf(</p>
<p>&quot;&amp;&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) &gt; -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>startPosition = cleanedUrl.indexOf(</p>
<p>&quot;&amp;&quot;</p>
<ul>
<li>paramToBeErased +</li>
</ul>
<p>&quot;=&quot;</p>
<p>) +</p>
<p>1</p>
<p>;</p>
<p>}</p>
<p>if</p>
<p>(startPosition &gt; -</p>
<p>1</p>
<p>)</p>
<p>{</p>
<p>int</p>
<p>temp = cleanedUrl.indexOf(</p>
<p>&quot;&amp;&quot;</p>
<p>, startPosition);</p>
<p>endPosition = (temp &gt; -</p>
<p>1</p>
<p>) ? temp +</p>
<p>1</p>
<p>: cleanedUrl</p>
<p>.length();</p>
<p>// remove that parameter, leaving the rest untouched</p>
<p>cleanedUrl = cleanedUrl.substring(</p>
<p>0</p>
<p>, startPosition)</p>
<ul>
<li>cleanedUrl.substring(endPosition);</li>
</ul>
<p>containsOneOfTheUnwantedParams =</p>
<p>true</p>
<p>;</p>
<p>}</p>
<p>}</p>
<p>// wenn nur noch das Fragezeichen vom query string übrig oder am schluss ein &quot;&amp;&quot;, dann auch dieses entfernen</p>
<p>if</p>
<p>(cleanedUrl.endsWith(</p>
<p>&quot;?&quot;</p>
<p>) || cleanedUrl.endsWith(</p>
<p>&quot;&amp;&quot;</p>
<p>))</p>
<p>{</p>
<p>cleanedUrl = cleanedUrl.substring(</p>
<p>0</p>
<p>,</p>
<p>cleanedUrl.length() -</p>
<p>1</p>
<p>);</p>
<p>}</p>
<p>// erst zurückgeben, wenn wir auch überprüft haben, ob nicht ein parameter mehrfach angegeben wurde...</p>
<p>if</p>
<p>(!containsOneOfTheUnwantedParams)</p>
<p>return</p>
<p>casUrl;</p>
<p>else</p>
<p>cleanedUrl = removeHttpGetParameters(cleanedUrl, paramsToBeRemoved);</p>
<p>}</p>
<p>}</p>
<p>return</p>
<p>cleanedUrl;</p>
<p>}</p>
<p>}
Labels:</p>
<p>None</p>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Edit Labels ( Type &#39;l" target="_blank">Edit Labels</a>&quot;)</p>
<h2 id="-8-comments-https-wiki-jasig-org-display-cas-using-cas-without-the-login-screen-"><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">8 Comments</a></h2>
<p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" title="Hide/Show Comments" target="_blank">Hide/Show Comments</a></p>
<ol>
<li><img src="&quot;battags&quot;" alt="User icon: battags"></li>
</ol>
<p>Apr 25, 2007</p>
<h3 id="-scott-battaglia-https-wiki-jasig-org-display-battags-"><a href="https://wiki.jasig.org/display/~battags" target="_blank">Scott Battaglia</a></h3>
<p>The IFRAME method actually does work. As stated in emails on the CAS developer&#39;s list, it requires replacing the default view with a JavaScript redirect view.</p>
<p>This allows the following:
(a) errors will continue to be displayed correctly (in the iframe)
(b) redirects the browser correctly
(c) usernames and passwords are never collected on the client application</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=3604556#comment-3604556" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;albert4cas&quot;" alt="User icon: albert4cas"></li>
</ul>
<p>Jul 09, 2007</p>
<h3 id="-alberto-mozzone-https-wiki-jasig-org-display-albert4cas-"><a href="https://wiki.jasig.org/display/~albert4cas" target="_blank">Alberto Mozzone</a></h3>
<p>Hi there,
I made the changes described here, but I&#39;m stuck with these problems:</p>
<ul>
<li>Where the file &quot;viewRedirectToRequestor.jsp&quot; must be placed ?</li>
<li>There isn&#39;t the definition of bean with class &quot;ProvideLoginTicketToRemoteRequestorAction&quot; in &quot;applicationContext.xml&quot;.</li>
<li>After adding it, I get the exception:</li>
</ul>
<p>2007-07-09 17:08:18,773 ERROR [org.apache.catalina.core.ContainerBase.[Catalina].[auth.domain.com].[/].[cas]] - Servlet.service() for servlet cas threw exception
java.lang.InstantiationException
    at sun.reflect.InstantiationExceptionConstructorAccessorImpl.newInstance(InstantiationExceptionConstructorAccessorImpl.java:30)</p>
<p>And CAS shows its generic exception page &quot;CAS is unavailable&quot;.</p>
<p>Where am I wrong ?</p>
<p>Somebody can help, please ?</p>
<p>Thanks in advance.</p>
<p>Alberto</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=6619787#comment-6619787" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;netstokedev@gmail.com&quot;" alt="User icon: netstokedev@gmail.com"></li>
</ul>
<p>Dec 07, 2007</p>
<h3 id="-kevin-mckee-https-wiki-jasig-org-display-netstokedev-gmail-com-"><a href="https://wiki.jasig.org/display/~netstokedev@gmail.com" target="_blank">Kevin McKee</a></h3>
<p>A much simpler and elegant version is to not deal with getting a login ticket at all and to simply auto submit the CAS form via Javascript if a param such as &#39;auto&#39; is submitted to the login form along with the service, username, and password parameters.</p>
<p>Example of casLoginView.jsp:
<a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen#" target="_blank">?</a> &lt;%</p>
<p>// If we recieve the &#39;auto&#39; parameter as &#39;true&#39; we attempt to
// auto populate the form from the request variables and submit it</p>
<p>String auto = request.getParameter(</p>
<p>&quot;auto&quot;</p>
<p>);
if</p>
<p>(auto !=</p>
<p>null</p>
<p>&amp;&amp; auto.equals(</p>
<p>&quot;true&quot;</p>
<p>)) {</p>
<p>%&gt;</p>
<script language=

"javascript"

>

 function doAutoLogin() {
  document.forms[

0

].username.value =

'<%=request.getParameter("username")%>'

;

  document.forms[

0

].password.value =

'<%=request.getParameter("password")%>'

;
  document.forms[

0

].submit();

 }


// Add the auto login function to the onload event

 addLoadEvent(doAutoLogin);
</script>

<p>&lt;% 
}</p>
<p>%&gt;    </p>
<p>No fuss, no muss. CAS will then redirect back to your service url with a ticket that is ready to be validated. This comes in really handy if you are doing something like creating users in your system and then auto logging them in after the creation process.</p>
<p>I know purists will hate the fact that we put a scriptlet in there (i&#39;m not too wild about it either), but it is alot easier than all the redirects involved for grabbing a login ticket just to submit credentials.</p>
<p>Just a note, you will also want to change the name of the submit button from &#39;submit&#39; or else Javascript will have a fit. Hope this helps.</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=8716750#comment-8716750" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;jacomac&quot;" alt="User icon: jacomac"></li>
</ul>
<p>Jun 06, 2008</p>
<h3 id="-konrad-wulf-https-wiki-jasig-org-display-jacomac-"><a href="https://wiki.jasig.org/display/~jacomac" target="_blank">Konrad Wulf</a></h3>
<p>Here&#39;s a tardy response to Alberto Mozzone&#39;s post. Sorry for not having answered any earlier. But better late than never <img src="" alt="(wink)"> It still seems to be of interest:</p>
<p>I have forgotten to mention in this article that the view bmRedirectToRequestorView needs to be defined in the default_views.properties file, which is located at &quot;/WEB-INF/classes&quot;. The following entries need to be added there:</p>
<p>/#/#/# Redirect with login ticket view
bmRedirectToRequestorView.(class)=org.springframework.web.servlet.view.JstlView
bmRedirectToRequestorView.url=/WEB-INF/view/jsp/default/ui/bmRedirectToRequestorView.jsp</p>
<p>Moreover, Alberto was also quite right that the bean &quot;provideLoginTicketToRemoteRequestorAction&quot; has to be defined somewhere. I did that in /WEB-INF/cas-servlet.xml:</p>
<p>id=&quot;provideLoginTicketToRemoteRequestorAction&quot;
class=&quot;de.businessmart.sso.cas.flow.ProvideLoginTicketToRemoteRequestorAction&quot; /&gt;</p>
<p>With these 2 little additions the solution description should be complete.</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=13570147#comment-13570147" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;gauravsaxena&quot;" alt="User icon: gauravsaxena"></li>
</ul>
<p>Oct 13, 2010</p>
<h3 id="-gaurav-saxena-https-wiki-jasig-org-display-gauravsaxena-"><a href="https://wiki.jasig.org/display/~gauravsaxena" target="_blank">gaurav saxena</a></h3>
<p>Hi,</p>
<p>This was a nice article. But i need to do the same with that latest version of CAS i.e. 3.4 . Can you please provide me the steps for the same. Atleast the stucture for login-webflow.xml as it is now using spring-webflow-2.0.xsd .</p>
<p>Thanks in advance.</p>
<p>Gaurav Saxena</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=37946049#comment-37946049" title="Permanent link to this comment" target="_blank">Permalink</a></li>
</ul>
<ol>
<li><img src="&quot;eholderman&quot;" alt="User icon: eholderman"></li>
</ol>
<p>Feb 02, 2011</p>
<h3 id="-ed-holderman-https-wiki-jasig-org-display-eholderman-"><a href="https://wiki.jasig.org/display/~eholderman" target="_blank">Ed Holderman</a></h3>
<p>I have the same question.  Does anyone have any tips on doing this in CAS 3.4.x and is there now a different way of accomplishing it with the new version?  My end goal is to alter the Liferay login portlet to submit credentials to CAS over https.  Out of the box IFrame portlets would hard code the service URL, breaking deep link capabilities.  Thank you - Ed</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=39813346#comment-39813346" title="Permanent link to this comment" target="_blank">Permalink</a></li>
<li><img src="&quot;rdemuth&quot;" alt="User icon: rdemuth"></li>
</ul>
<p>Jun 13, 2011</p>
<h3 id="-robert-demuth-https-wiki-jasig-org-display-rdemuth-"><a href="https://wiki.jasig.org/display/~rdemuth" target="_blank">Robert DeMuth</a></h3>
<p>Looking to do the same thing in CAS 3.4.6 (using the Maven2 overlay method).  It looks like login-webflow.xml has changed dramatically since this page was created.</p>
<ul>
<li><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=46137905#comment-46137905" title="Permanent link to this comment" target="_blank">Permalink</a></li>
</ul>
<ol>
<li><img src="&quot;patino@fordham.edu&quot;" alt="User icon: patino@fordham.edu"></li>
</ol>
<p>Oct 17, 2011</p>
<h3 id="-jpats-https-wiki-jasig-org-display-patino-fordham-edu-"><a href="https://wiki.jasig.org/display/~patino@fordham.edu" target="_blank">jpats</a></h3>
<p>Hi, I just want to find out if you were able to have this working. If you did, really would like to find out how you did it. Thanks in advance.</p>
<ul>
<li><p><a href="https://wiki.jasig.org/display/CAS/Using+CAS+without+the+Login+Screen?focusedCommentId=50857235#comment-50857235" title="Permanent link to this comment" target="_blank">Permalink</a>
Powered by a free <strong>Atlassian Confluence Open Source Project License</strong> granted to Java Architectures Special Interest Group. <a href="http://www.atlassian.com/c/conf/11461" target="_blank">Evaluate Confluence today</a>.
This Confluence installation runs a Free Gliffy License - <a href="http://www.gliffy.com/products/confluence-plugin/" target="_blank">Evaluate Gliffy</a> for your Wiki!</p>
</li>
<li><p>Powered by <a href="http://www.atlassian.com/software/confluence" target="_blank">Atlassian Confluence</a> 4.1.5, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" target="_blank">Enterprise Wiki</a></p>
</li>
<li>Printed by Atlassian Confluence 4.1.5, the Enterprise Wiki.</li>
<li>·  <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" target="_blank">Report a bug</a></li>
<li>·  <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" target="_blank">Atlassian News</a></li>
</ul>
<p><a href=""></a><a href=""></a><a href=""></a></p>

      
    </div>
    <section id='after_content_widget'><div class="widget" id="widget_after_content_wumiiRelatedItems>">
<script type="text/javascript" id="wumiiRelatedItems"></script>
</div><div class="widget" id="widget_after_content_post_footer_info>">
<div class="panel panel-success">
    <div class="panel-heading" align="center">希望本站内容对您有点用处,有什么疑问或建议请在后面留言评论</div>
    <div align="center" class="panel-body">转载请注明作者(<a href="http://itsolife.com/about/">RobinChia</a>)和出处 <a href="http://itsolife.com">It so life</a> ，请勿用于任何商业用途</div>
    <div class="panel-body">本文链接: <a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/">Using CAS without the Login Screen </a></div>
</div>
</div></section>
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/CAS/">CAS</a></li></span><span class="breadcrumb"><li><a href="/categories/CAS/">CAS</a></li><li><a href="/categories/CAS/without+cas+login+screen/">without+cas+login+screen</a></li></span></span> | <span class="tags">Tagged <a href="/tags/CAS/" class="label label-primary">CAS</a><a href="/tags/without+cas+login+screen/" class="label label-success">without+cas+login+screen</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:39"datetime="2014-03-07 09:54:39"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>


    <section id='after_post_widget'><div class="widget" id="widget_after_post_post_pageNav>">
<ul class="pager">
  
  <li class="previous"><a href="/2014/02/02/2014-02-02-安全-入侵检测--CentOS62下安装基于SuricataBarnyard2Base的⼊侵检测系/" title="CentOS 6.2下安装基于Suricata + Barnyard 2 + Base 的⼊侵检测系">&larr; CentOS 6.2下安装基于Suricata + Barnyard 2 + Base 的⼊侵检测系</a></li>
  
  
  <li class="next"><a href="/2014/02/02/2014-02-02-安全--技术解析一份ArchmakeCOM的渗透测试报告-FreebuFCOM/" title="[技术解析]一份Archmake.COM的渗透测试报告">[技术解析]一份Archmake.COM的渗透测试报告 &rarr;</a></li>
  
</ul></div><div class="widget" id="widget_after_post_related_posts>">
<ul class="list-group"><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS--cas配置全攻略-哈哈-吼吼-这是个好地方-BlogJava/">cas配置全攻略 </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/">Using CAS without the Login Screen </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS-spring-cas--23-X509Authentication/">23. X.509 Authentication</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS--casclient使用指南-老老-ITeye技术网站/">cas client使用指南 </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS--cas改造随笔-horus-博客园/">cas改造随笔 </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS--CAS返回多个信息为空--ITeye技术网站2/">CAS 返回多个信息为空 </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS--CAS返回多个信息为空--ITeye技术网站/">CAS 返回多个信息为空 </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-CAS--部署CAS单点登录服务器-萧飒的日志-网易博客/">部署CAS单点登录服务器 </a></li></ul></div></section>    
	<div id="comments"><!-- Duoshuo Comment BEGIN -->

<div class="ds-thread"  data-thread-key="2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe"  data-url="http://itsolife.com/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/" data-title="Using CAS without the Login Screen "></div>

		

<!-- Duoshuo Comment END -->

</div></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-07 09:54:39</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->

<script type="text/javascript">
    var wumiiPermaLink = "http://itsolife.com/2014/02/02/2014-02-02-CAS-withoutcasloginscreen--UsingCASwithouttheLoginScreen-CentralAuthe/";
    var wumiiTitle = "Using CAS without the Login Screen ";
    var wumiiTags = "CAS,without+cas+login+screen";
    var wumiiCategories = ["CAS","CAS","without+cas+login+screen"];
    var wumiiSitePrefix = "http://itsolife.com";
    var wumiiParams = "&num=5&mode=3&pf=JAVASCRIPT";
    _js2load.push({src:'http://widget.wumii.cn/ext/relatedItemsWidget'});
</script>
<a href="http://www.wumii.com/widget/relatedItems" style="border:0;">
<img src="http://static.wumii.cn/images/pixel.png" alt="无觅关联推荐，快速提升流量" style="border:0;padding:0;margin:0;" />
</a>
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
