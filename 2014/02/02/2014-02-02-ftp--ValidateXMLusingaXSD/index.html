
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Validate XML using a XSD | It so life</title>
<meta name="author" content="RobinChia">

<meta name="description" content="Validate XML using a XSD1、xsd文件源;

SchemaFactory: newSchema(Source schema)
//    Parser object is: com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl@c9ba38    Start document:     Start element: local name: PHONEBOOK qname: PHONEBOOK uri:     Characters:       Start element: local name: PERSON qname: PERSON uri:     Characters:        Start element: local name: NAME qname: NAME uri:     Attributes:      Name : firstName      Type : CDATA      Value: Joe      Name : lastName      Type : CDATA      Value: Yin    Characters: Joe    Characters:  Yin    End element: local name: NAME qname: NAME uri:     Characters:        Start element: local name: EMAIL qname: EMAIL uri:     Characters: joe@yourserver.com    End element: local name: EMAIL qname: EMAIL uri:     Characters:        Start element: local name: TELEPHONE qname: TELEPHONE uri:     Characters: 202-999-9999    End element: local name: TELEPHONE qname: TELEPHONE uri:     Characters:        Start element: local name: WEB qname: WEB uri:     Characters: www.java2s.com    End element: local name: WEB qname: WEB uri:     Characters:       End element: local name: PERSON qname: PERSON uri:     Characters:       End element: local name: PHONEBOOK qname: PHONEBOOK uri:     End document:      //    import java.io.StringReader;    import javax.xml.XMLConstants;    import javax.xml.parsers.ParserConfigurationException;    import javax.xml.parsers.SAXParser;    import javax.xml.parsers.SAXParserFactory;    import javax.xml.transform.sax.SAXSource;    import javax.xml.validation.SchemaFactory;    import org.xml.sax.Attributes;    import org.xml.sax.InputSource;    import org.xml.sax.SAXException;    import org.xml.sax.SAXParseException;    import org.xml.sax.helpers.DefaultHandler;    public class MainClass {      public static **void main(String args[])throws Exception {        SAXParserFactory spf = SAXParserFactory.newInstance();        SAXParser parser = null;        spf.setNamespaceAware(true);        try {         SchemaFactory sf =                         SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);          spf.setSchema(sf.newSchema(new SAXSource(new InputSource(new StringReader(schemaString)))));         parser = spf.newSAXParser();        }        catch(SAXException e) {          e.printStackTrace(System.err);          System.exit(1);            }         catch(ParserConfigurationException e) {          e.printStackTrace(System.err);          System.exit(1);            }        MySAXHandler handler = new MySAXHandler();         System.out.println(schemaString);        parser.parse(new InputSource(new StringReader(xmlString)), handler);      }      static String xmlString = &quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot; +          &quot;&quot; +          &quot;rtoName&quot; +          &quot;FromName&quot; +          &quot;Info&quot; +          &quot;Message Body&quot; +          &quot;&quot;;            static String schemaString =&quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +          &quot;&quot; +                          &quot;&quot; +                          &quot;&quot; +                          &quot;&quot;;    }    class MySAXHandler extends DefaultHandler {      public **void startDocument() {        System.out.println(&quot;Start document: &quot;);      }            public **void endDocument()  {        System.out.println(&quot;End document: &quot;);      }            public **void startElement(String uri, String localName, String qname,                                                                    Attributes attr)      {        System.out.println(&quot;Start element: local name: &quot; + localName + &quot; qname: &quot;                                                             + qname + &quot; uri: &quot;+uri);        int attrCount = attr.getLength();        if(attrCount&gt;0) {          System.out.println(&quot;Attributes:&quot;);           for(int i = 0 ; i&lt;attrCount ; i++) {            System.out.println(&quot;  Name : &quot; + attr.getQName(i));             System.out.println(&quot;  Type : &quot; + attr.getType(i));             System.out.println(&quot;  Value: &quot; + attr.getValue(i));           }        }       }            public **void endElement(String uri, String localName, String qname) {        System.out.println(&quot;End element: local name: &quot; + localName + &quot; qname: &quot;                                                             + qname + &quot; uri: &quot;+uri);      }            public **void characters(char[] ch, int start, int length) {        System.out.println(&quot;Characters: &quot; + new String(ch, start, length));      }      public **void ignorableWhitespace(char[] ch, int start, int length) {        System.out.println(&quot;Ignorable whitespace: &quot; + new String(ch, start, length));      }      public **void startPrefixMapping(String prefix, String uri) {        System.out.println(&quot;Start \&quot;&quot; + prefix + &quot;\&quot; namespace scope. URI: &quot; + uri);       }      public **void endPrefixMapping(String prefix) {        System.out.println(&quot;End \&quot;&quot; + prefix + &quot;\&quot; namespace scope.&quot;);       }      public **void warning(SAXParseException spe) {        System.out.println(&quot;Warning at line &quot;+spe.getLineNumber());        System.out.println(spe.getMessage());      }      public **void fatalError(SAXParseException spe) throws SAXException {        System.out.println(&quot;Fatal error at line &quot;+spe.getLineNumber());        System.out.println(spe.getMessage());        throw **spe;      }    }">


<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<meta property="og:title" content="Validate XML using a XSD"/>
<meta property="og:site_name" content="It so life"/>

<!--[if IE]><style>.testIE.IE{display:inline;}</style><![endif]-->
<!--[if lte IE 7]><link rel="stylesheet" href="/css/ie7.css" type="text/css"><![endif]-->
<!--[if (lt IE 9)&(gt IE 7)]><style>.testIE.IE8{display:inline;}</style><![endif]-->
<!--[if gt IE 8]><style>.testIE.IE9{display:inline;}</style><![endif]-->

<link href="/favicon.png" rel="icon">
<link rel="alternate" href="/atom.xml" title="It so life Feed" type="application/atom+xml">

<link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/css/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/font-awesome/4.0.3/css/font-awesome.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/prettify/r298/prettify.min.css" type="text/css">
<link rel="stylesheet" href="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" type="text/css">
<link rel="stylesheet" href="/css/style.css" type="text/css">
<!--[if lt IE 9]>
   <style>article,aside,dialog,footer,header,section,footer,nav,figure,menu{display:block}</style>
   <script src="http://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
   <script src="http://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<link href="http://cdn.staticfile.org/respond.js/1.4.2/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
<link href="/js/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />
<script src="/js/respond.proxy.js"></script>
   <script src="http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr-min.js"></script>
<![endif]-->
<script type="text/javascript">
function loadjs(c,d){var a=document.createElement("script");a.async=!0;a.type="text/javascript";a.src=c;a.charset=d||"gbk";(document.getElementsByTagName("HEAD")[0]||document.getElementsByTagName("BODY")[0]).appendChild(a)};
var _protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
var _js2load = [];
</script>

</head>
<body>
      <header id="header" class="container"><nav id="main-nav" class="navbar navbar-default navbar-fixed-top " role="navigation">
  <div class="container">
    <div class="navbar-header">
    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>
    <a class="navbar-brand" href="/">It so life</a>
    </div>
    <div  class="collapse navbar-collapse">
      <ul  class="nav navbar-nav">
  
        <li><a href="/" title="Home">Home</a></li>      
        <li><a href="/about/" title="About">About</a></li>      
        <li><a href="/archives/" title="Archives">Archives</a></li>      
      <li class='dropdown'>
        <a class='dropdown-toggle' data-toggle='dropdown' href='#'>website<b class='caret'></b></a>
        <ul class='dropdown-menu pure-menu-selected'>
    
          <li><a href="//groups.google.com/forum/#!forum/pongba" title="TopLanguage">TopLanguage</a></li>    
          <li><a href="//itpub.net/" title="ITPub">ITPub</a></li>    
          <li><a href="//blog.jobbole.com/" title="Bole">Bole</a></li>    
          <li><a href="//nosql-database.org/" title="nosql">nosql</a></li>    
          <li><a href="//gitimmersion.googol.im/" title="Git">Git</a></li>    
        </ul>
      </li>
    
      </ul>
      <ul class="nav navbar-nav navbar-right">
      
        <li><a href="/atom.xml">RSS</a></li>
      
      
        <li><a href="https://twitter.com/robinchia">twitter</a></li>
      
      
      
      
        <li><a href="https://github.com/robinchia">github</a></li>
      
      </ul>
    </div>
  </div>
</nav>
<div class="clearfix"></div>
</header>
  <div id='content' class="container">
     <div class="page-header-wrapper">
      <!--[if lt IE 9]><div class="alert alert-warning alert-dismissable"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><strong>提示:</strong>您的浏览器版本太低了,建议升级到 <strong><a href="http://windows.microsoft.com/zh-cn/internet-explorer/download-ie" title="IE9">IE9</a></strong> 以上,本站使用<a href="https://www.google.com/intl/zh-CN/chrome/">Chrome浏览器</a>可以获得最好的显示效果.</div><![endif]-->
      <div class="page-header"><h1 align="center"><big>It so life</big> </h1>
        <h5 align="center"><big>love as life</big></h5>
      </div>
     </div>
     <div class="row">
       <div id="main-col" class="alignleft col-sx-12 col-sm-8 col-md-9 col-lg-9">
      <section id='header_widget'></section>
          <div id="wrapper"><article>
<div id="post" class="post well">
  <div class="post-content">
    <header class="well-sm">
      <i class="fa icon fa-5x pull-left"></i>
      <h1 class="title">Validate XML using a XSD</h1>
      
        <span>Posted on<time datetime="2014-02-02T01:54:45.000Z"> <a href="/2014/02/02/2014-02-02-ftp--ValidateXMLusingaXSD/">feb. 2 2014</a></time></span>      
    </header>
    
    <section id='before_content_widget'></section>
    <div class="entry">
      
        <h1 id="validate-xml-using-a-xsd">Validate XML using a XSD</h1>
<p>1、xsd文件源;</p>
<p>SchemaFactory: newSchema(Source schema)</p>
<p>//<em>    Parser object is: com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl@c9ba38    Start document:     Start element: local name: PHONEBOOK qname: PHONEBOOK uri:     Characters:       Start element: local name: PERSON qname: PERSON uri:     Characters:        Start element: local name: NAME qname: NAME uri:     Attributes:      Name : firstName      Type : CDATA      Value: Joe      Name : lastName      Type : CDATA      Value: Yin    Characters: Joe    Characters:  Yin    End element: local name: NAME qname: NAME uri:     Characters:        Start element: local name: EMAIL qname: EMAIL uri:     Characters: joe@yourserver.com    End element: local name: EMAIL qname: EMAIL uri:     Characters:        Start element: local name: TELEPHONE qname: TELEPHONE uri:     Characters: 202-999-9999    End element: local name: TELEPHONE qname: TELEPHONE uri:     Characters:        Start element: local name: WEB qname: WEB uri:     Characters: www.java2s.com    End element: local name: WEB qname: WEB uri:     Characters:       End element: local name: PERSON qname: PERSON uri:     Characters:       End element: local name: PHONEBOOK qname: PHONEBOOK uri:     End document:      /</em>/    <strong>import </strong>java.io.StringReader;    <strong>import </strong>javax.xml.XMLConstants;    <strong>import </strong>javax.xml.parsers.ParserConfigurationException;    <strong>import </strong>javax.xml.parsers.SAXParser;    <strong>import </strong>javax.xml.parsers.SAXParserFactory;    <strong>import </strong>javax.xml.transform.sax.SAXSource;    <strong>import </strong>javax.xml.validation.SchemaFactory;    <strong>import </strong>org.xml.sax.Attributes;    <strong>import </strong>org.xml.sax.InputSource;    <strong>import </strong>org.xml.sax.SAXException;    <strong>import </strong>org.xml.sax.SAXParseException;    <strong>import </strong>org.xml.sax.helpers.DefaultHandler;    <strong>public class </strong>MainClass {      <strong>public static **</strong>void <strong>main(String args[])</strong>throws <strong>Exception {        SAXParserFactory spf = SAXParserFactory.newInstance();        SAXParser parser = </strong>null<strong>;        spf.setNamespaceAware(</strong>true<strong>);        </strong>try <strong>{         SchemaFactory sf =                         SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);          spf.setSchema(sf.newSchema(</strong>new <strong>SAXSource(</strong>new <strong>InputSource(</strong>new <strong>StringReader(schemaString)))));         parser = spf.newSAXParser();        }        </strong>catch<strong>(SAXException e) {          e.printStackTrace(System.err);          System.exit(1);            }         </strong>catch<strong>(ParserConfigurationException e) {          e.printStackTrace(System.err);          System.exit(1);            }        MySAXHandler handler = </strong>new <strong>MySAXHandler();         System.out.println(schemaString);        parser.parse(</strong>new <strong>InputSource(</strong>new <strong>StringReader(xmlString)), handler);      }      </strong>static <strong>String xmlString = &quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot; +          &quot;<note>&quot; +          &quot;<to>rtoName</to>&quot; +          &quot;<from>FromName</from>&quot; +          &quot;<heading>Info</heading>&quot; +          &quot;<body>Message Body</body>&quot; +          &quot;</note>&quot;;            </strong>static <strong>String schemaString =&quot;&lt;?xml version=\&quot;1.0\&quot;?&gt;&quot; +          &quot;<xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\"" +          " targetNamespace=\"http://www.java2s.com\"" +          " xmlns=\"http://www.java2s.com\"" +          " elementFormDefault=\"qualified\">&quot; +          &quot;<xs:element name=\"note\">&quot; +          &quot;<xs:complexType>&quot; +          &quot;<xs:sequence>&quot; +          &quot;<xs:element name=\"to\" type=\"xs:string\"/>&quot; +          &quot;<xs:element name=\"from\" type=\"xs:string\"/>&quot; +          &quot;<xs:element name=\"heading\" type=\"xs:string\"/>&quot; +          &quot;<xs:element name=\"body\" type=\"xs:string\"/>&quot; +          &quot;</xs:sequence>&quot; +                          &quot;</xs:complexType>&quot; +                          &quot;</xs:element>&quot; +                          &quot;</xs:schema>&quot;;    }    </strong>class <strong>MySAXHandler </strong>extends <strong>DefaultHandler {      </strong>public <strong>**void </strong>startDocument() {        System.out.println(&quot;Start document: &quot;);      }            <strong>public **</strong>void <strong>endDocument()  {        System.out.println(&quot;End document: &quot;);      }            </strong>public <strong>**void </strong>startElement(String uri, String localName, String qname,                                                                    Attributes attr)      {        System.out.println(&quot;Start element: local name: &quot; + localName + &quot; qname: &quot;                                                             + qname + &quot; uri: &quot;+uri);        <strong>int </strong>attrCount = attr.getLength();        <strong>if</strong>(attrCount&gt;0) {          System.out.println(&quot;Attributes:&quot;);           <strong>for</strong>(<strong>int </strong>i = 0 ; i&lt;attrCount ; i++) {            System.out.println(&quot;  Name : &quot; + attr.getQName(i));             System.out.println(&quot;  Type : &quot; + attr.getType(i));             System.out.println(&quot;  Value: &quot; + attr.getValue(i));           }        }       }            <strong>public **</strong>void <strong>endElement(String uri, String localName, String qname) {        System.out.println(&quot;End element: local name: &quot; + localName + &quot; qname: &quot;                                                             + qname + &quot; uri: &quot;+uri);      }            </strong>public <strong>**void </strong>characters(<strong>char</strong>[] ch, <strong>int </strong>start, <strong>int </strong>length) {        System.out.println(&quot;Characters: &quot; + <strong>new </strong>String(ch, start, length));      }      <strong>public **</strong>void <strong>ignorableWhitespace(</strong>char<strong>[] ch, </strong>int <strong>start, </strong>int <strong>length) {        System.out.println(&quot;Ignorable whitespace: &quot; + </strong>new <strong>String(ch, start, length));      }      </strong>public <strong>**void </strong>startPrefixMapping(String prefix, String uri) {        System.out.println(&quot;Start \&quot;&quot; + prefix + &quot;\&quot; namespace scope. URI: &quot; + uri);       }      <strong>public **</strong>void <strong>endPrefixMapping(String prefix) {        System.out.println(&quot;End \&quot;&quot; + prefix + &quot;\&quot; namespace scope.&quot;);       }      </strong>public <strong>**void </strong>warning(SAXParseException spe) {        System.out.println(&quot;Warning at line &quot;+spe.getLineNumber());        System.out.println(spe.getMessage());      }      <strong>public **</strong>void <strong>fatalError(SAXParseException spe) </strong>throws <strong>SAXException {        System.out.println(&quot;Fatal error at line &quot;+spe.getLineNumber());        System.out.println(spe.getMessage());        </strong>throw **spe;      }    }</p>
<p><a href="http://www.java2s.com/Code/JavaAPI/javax.xml.validation/SchemaFactorynewSchemaSourceschema.htm" target="_blank">http://www.java2s.com/Code/JavaAPI/javax.xml.validation/SchemaFactorynewSchemaSourceschema.htm</a></p>
<p>另外，可参考：</p>
<p>import java.io.IOException; // SAX import javax.xml.parsers.SAXParser; import javax.xml.parsers.SAXParserFactory; import org.xml.sax.XMLReader; //SAX and external XSD import javax.xml.transform.Source; import javax.xml.transform.stream.StreamSource; import javax.xml.validation.SchemaFactory; import javax.xml.parsers.ParserConfigurationException; import org.xml.sax.ErrorHandler; import org.xml.sax.SAXException; import org.xml.sax.SAXParseException; import org.xml.sax.InputSource; public class XMLUtils {   private XMLUtils() {}      // validate SAX and external XSD    public static boolean validateWithExtXSDUsingSAX(String xml, String xsd)    throws ParserConfigurationException, IOException    {     try {       SAXParserFactory factory = SAXParserFactory.newInstance();      factory.setValidating(false);        factory.setNamespaceAware(true);       SchemaFactory schemaFactory = SchemaFactory.newInstance(&quot;<a href="http://www.w3.org/2001/XMLSchema" target="_blank">http://www.w3.org/2001/XMLSchema</a>&quot;);       SAXParser parser = null;       try {          factory.setSchema(schemaFactory.newSchema(new Source[] {new StreamSource( xsd )}));          parser = factory.newSAXParser();       }       catch (SAXException se) {         System.out.println(&quot;SCHEMA : &quot; + se.getMessage());  // problem in the XSD itself         return false;       }              XMLReader reader = parser.getXMLReader();       reader.setErrorHandler(           new ErrorHandler() {             public void warning(SAXParseException e) throws SAXException {               System.out.println(&quot;WARNING: &quot; + e.getMessage()); // do nothing             }             public void error(SAXParseException e) throws SAXException {               System.out.println(&quot;ERROR : &quot; + e.getMessage());               throw e;             }             public void fatalError(SAXParseException e) throws SAXException {               System.out.println(&quot;FATAL : &quot; + e.getMessage());               throw e;             }           }           );       reader.parse(new InputSource(xml));       return true;     }         catch (ParserConfigurationException pce) {       throw pce;     }      catch (IOException io) {       throw io;     }     catch (SAXException se){       return false;   } } public static void main (String args[]) throws Exception{      System.out.println         (XMLUtils.validateWithExtXSDUsingSAX             (&quot;c:/temp/howto.xml&quot;, &quot;c:/temp/howto.xsd&quot;));     //<em>       output :                true     /</em>/              } }</p>
<p><a href="http://www.rgagnon.com/javadetails/java-0669.html" target="_blank"><a href="http://www.rgagnon.com/javadetails/java-0669.html">http://www.rgagnon.com/javadetails/java-0669.html</a></a></p>
<p>IBM教程上有这个，但是我测试失败：</p>
<p><a href="http://www.ibm.com/developerworks/cn/xml/tips/x-tipvalschm/#ibm-pcon"></a></p>
<h2 id="sax-">SAX 示例</h2>
<p><a href="http://www.ibm.com/developerworks/cn/xml/tips/x-tipvalschm/#code2" target="_blank">清单 2</a>演示了如何使用 JAXP 1.2 中的新特性，通过 SAX 解析器来验证文档。要使用 SAX 解析器来验证文档，请执行以下操作：</p>
<ol>
<li>创建一个          </li>
</ol>
<p>SAXParserFactory
对象。</p>
<ol>
<li>将 namespace-aware 和 validating 特性设置为 true。</li>
<li>获取          </li>
</ol>
<p>SAXParser
对象。</p>
<ol>
<li>设置模式语言和模式源的特性（这是 JAXP 1.2 和模式中新出现的）。</li>
<li>解析文档。解析器必须有权访问          </li>
</ol>
<p>ErrorHandler
对象。</p>
<h3 id="-2-validatesax-java-jaxp-1-2">清单 2. ValidateSAX.java 演示了 JAXP 1.2</h3>
<p>package org.ananas.tips; import java.io./<em>; import org.xml.sax./</em>; import javax.xml.parsers./*; public class ValidateSAX {    public static String SCHEMA_LANGUAGE =       &quot;<a href="http://java.sun.com/xml/jaxp/properties/schemaLanguage" target="_blank">http://java.sun.com/xml/jaxp/properties/schemaLanguage</a>&quot;,                         XML_SCHEMA =       &quot;<a href="http://www.w3.org/2001/XMLSchema" target="_blank">http://www.w3.org/2001/XMLSchema</a>&quot;,                         SCHEMA_SOURCE =       &quot;<a href="http://java.sun.com/xml/jaxp/properties/schemaSource" target="_blank">http://java.sun.com/xml/jaxp/properties/schemaSource</a>&quot;;    public final static void main(String[] args)       throws IOException, SAXException, ParserConfigurationException    {       if(args.length &lt; 2)       {          System.err.println(&quot;usage is:&quot;);          System.err.println(&quot;   java -jar tips.jar -validatesax &quot;                             + &quot;input.xml schema.xsd&quot;);          return;       }       File input = new File(args[0]),            schema = new File(args[1]);       SAXParserFactory factory = SAXParserFactory.newInstance();       factory.setNamespaceAware(true);       factory.setValidating(true);       SAXParser parser = factory.newSAXParser();       try       {          parser.setProperty(SCHEMA_LANGUAGE,XML_SCHEMA);          parser.setProperty(SCHEMA_SOURCE,schema);       }       catch(SAXNotRecognizedException x)       {          System.err.println(&quot;Your SAX parser is not JAXP 1.2 compliant.&quot;);       }       parser.parse(input,new ErrorPrinter());    } }</p>
<p><a href="http://www.ibm.com/developerworks/cn/xml/tips/x-tipvalschm/" target="_blank"><a href="http://www.ibm.com/developerworks/cn/xml/tips/x-tipvalschm/">http://www.ibm.com/developerworks/cn/xml/tips/x-tipvalschm/</a></a></p>
<p>有时间到话，可以在测试。</p>
<p>列下jaxp 1.2教程：</p>
<p>This release includes XML data and example programs showing how to use JAXP  to process XML. Additional examples can be found on the <a href="http://xml.apache.org" target="_blank"><a href="http://xml.apache.org">http://xml.apache.org</a></a> site.</p>
<ul>
<li><a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/docs/samples.html#files" target="_blank">Sample XML Files</a></li>
<li><a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/docs/samples.html#DOMEcho" target="_blank">Printing a DOM Tree</a></li>
<li><a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/docs/samples.html#SAXTagCount" target="_blank">SAX Program to Count Tags</a></li>
<li><a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/docs/samples.html#Schema" target="_blank">Schema Examples</a></li>
</ul>
<p>The example programs include a cross-platform <a href="http://jakarta.apache.org/ant/index.html" target="_blank">ant</a> build file that can be used to build and run the example. Ant is a build tool similar to</p>
<p>make
on Unix and</p>
<p>nmake
on WindowsNT that is also an XML application. To use <a href="http://jakarta.apache.org/ant/index.html" target="_blank">ant</a>, download it from the<a href="http://jakarta.apache.org/site/binindex.html" target="_blank">website</a> and read the install docs. Alternatively, you can also view the ant</p>
<p>build.xml
file to see what needs to be done to manually compile and run an example program on your platform.
<strong>Note:</strong>
 The ant utility uses the value of the</p>
<p>JAVA_HOME
environment  variable to determine which Java platform it uses to compile and run the  sample scripts. Make sure that variable points to the version you intend to  use. If using version 1.4, make sure that the JAXP jar files are installed,  as described in the <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/docs/ReleaseNotes.html" target="_blank">Release Notes.</a></p>
<p><a href=""></a></p>
<h3 id="sample-xml-files">Sample XML Files</h3>
<p>A handful of sample XML files have been provided in the &quot;samples&quot; subdirectory.  Note that the links may not work depending on your browser environment. Please  look in ../samples/data if the links do not display in your browser.</p>
<ul>
<li>A simple <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/book-order.xml" target="_blank">Purchase Order</a>    (</li>
</ul>
<p>book-order.xml
) suggesting how an on-line business might    send and receive data.</p>
<ul>
<li>The original <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/REC-xml-19980210.xml" target="_blank">XML    specification</a> (</li>
</ul>
<p>REC-xml-19980210.xml
) was written in XML.    With a prepublication version of <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/spec.dtd" target="_blank">its    Document Type Definition (DTD) file</a> (</p>
<p>spec.dtd
), it&#39;s    included here as a rather sophisticated example of how DTDs are used.</p>
<ul>
<li>Courtesy of Fuji Xerox, a short XML file in Japanese, using Japanese    tags. This is a <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/weekly-euc-jp.xml" target="_blank">weekly    report</a> (</li>
</ul>
<p>weekly-euc-jp.xml
) with <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/weekly-euc-jp.dtd" target="_blank">its DTD</a>    (</p>
<p>weekly-euc-jp.dtd
), which can be validated.</p>
<ul>
<li>From a large collection of XML sample documents at the <a href="ftp://sunsite.unc.edu/pub/sun-info/standards/xml/eg/">sunsite.unc.edu</a>    FTP server, <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/two_gent.xml" target="_blank">The Two Gentlemen of    Verona</a> (</li>
</ul>
<p>two_gent.xml
) and <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/rich_iii.xml" target="_blank">The Tragedy of Richard the Third</a>    (</p>
<p>rich_iii.xml
). These include <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/play.dtd" target="_blank">their DTD</a>  (</p>
<p>play.dtd
).</p>
<ul>
<li>A simple example showing the use of <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/namespace.xml" target="_blank">XML namespaces</a>    (</li>
</ul>
<p>namespace.xml
).</p>
<ul>
<li>A <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/personal-schema.xml" target="_blank">personal-schema.xml</a>    file containing some data that can be validated using its schema    definition, <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/data/personal.xsd" target="_blank">personal.xsd</a>.</li>
</ul>
<p><a href=""></a></p>
<h3 id="printing-a-dom-tree">Printing a DOM Tree</h3>
<p>One of the first things many programmers want to know is how to read an XML file and generate a DOM Document object from it. Use the <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/DOMEcho/DOMEcho.java" target="_blank">DOMEcho example</a> to learn how to do this in three steps. The important lines are:
    // Step 1: create a DocumentBuilderFactory and setNamespaceAware     DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();     dbf.setNamespaceAware(true);     // Step 2: create a DocumentBuilder     DocumentBuilder db = dbf.newDocumentBuilder();     // Step 3: parse the input file to get a Document object     Document doc = db.parse(new File(filename));</p>
<p>The program also gives an example of using an error handler and of setting optional configuration options, such as validation. Finally, this program helps you understand how DOM works by showing you the structure and contents of a DOM tree.</p>
<p><a href=""></a></p>
<h3 id="sax-program-to-count-tags">SAX Program to Count Tags</h3>
<p>The <a href="http://people.apache.org/%7Eedwingo/jaxp-ri-1.2.0-fcs/samples/SAXLocalNameCount/SAXLocalNameCount.java" target="_blank">SAXLocalNameCount</a>program counts the number of unique element local names in an XML document, ignoring the namespace name for simplicity. This example also shows one way to turn on DTD or XSD validation and how to use a SAX ErrorHandler.</p>
<p>There are several ways to parse a document using SAX and JAXP. We show one approach here. The first step is to bootstrap a parser. There are two ways: one is to use only the SAX API, the other is to use the JAXP utility classes in the javax.xml.parsers package. We use the second approach here because at the time of this writing it probably is the most portable solution for a JAXP compatible parser. After bootstrapping a parser/XMLReader, there are several ways to begin a parse. In this example, we use the SAX API.</p>
<h3 id="-schema-examples"><a href=""></a>Schema Examples</h3>
<p>Both of the sample programs include an option (-xsd) that lets you  validate the incoming document using XML Schema, instead of the document&#39;s DTD.  In addition, they include an -xsdss option that lets you specify the  &quot;schema source&quot; (the file that defines the schema for the document).</p>
<p>Both programs define the following constants:
    static final String JAXP_SCHEMA_LANGUAGE =         &quot;<a href="http://java.sun.com/xml/jaxp/properties/schemaLanguage" target="_blank">http://java.sun.com/xml/jaxp/properties/schemaLanguage</a>&quot;;     static final String W3C_XML_SCHEMA =         &quot;<a href="http://www.w3.org/2001/XMLSchema" target="_blank">http://www.w3.org/2001/XMLSchema</a>&quot;;     static final String JAXP_SCHEMA_SOURCE =         &quot;<a href="http://java.sun.com/xml/jaxp/properties/schemaSource" target="_blank">http://java.sun.com/xml/jaxp/properties/schemaSource</a>&quot;;</p>
<p>The schema language property defines the language the schema is written in.  The W3C XML Schema language is specified in these examples. The schema source  property directs the parser to a schema to use, regardless of any schema pointer  that the XML instance document may contain.</p>
<p>This code is abstracted from the SAX example:
    SAXParserFactory spf = SAXParserFactory.newInstance();     // Set namespaceAware to true to get a parser that corresponds to     // the default SAX2 namespace feature setting.  This is necessary     // because the default value from JAXP 1.0 was defined to be false.     spf.setNamespaceAware(true);     spf.setValidating(true);     SAXParser saxParser = spf.newSAXParser();     // Set the schema language if necessary     try {        saxParser.setProperty(JAXP_SCHEMA_LANGUAGE, W3C_XML_SCHEMA);     } catch (SAXNotRecognizedException x) {         // This can happen if the parser does not support JAXP 1.2         ...     }     ...    saxParser.setProperty(JAXP_SCHEMA_SOURCE, new File(schemaSource));</p>
<p>And here is the code abstracted from the DOM example:</p>
<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();     // Set namespaceAware to true to get a DOM Level 2 tree with nodes     // containing namesapce information.  This is necessary because the     // default value from JAXP 1.0 was defined to be false.     dbf.setNamespaceAware(true);     dbf.setValidating(true);     try {        dbf.setAttribute(JAXP_SCHEMA_LANGUAGE, W3C_XML_SCHEMA);     } catch (IllegalArgumentException x) {         // This can happen if the parser does not support JAXP 1.2         ...     }     // Specify other factory configuration settings    dbf.setAttribute(JAXP_SCHEMA_SOURCE, new File(schemaSource));     ...     DocumentBuilder db = dbf.newDocumentBuilder();
</code></pre><p>Note that the values are used to modify the SAX <em>parser,</em> using</p>
<p>setProperty(),
but they are used to modify the DOM parser<em>factory</em>, using</p>
<p>setAttribute()
.</p>
<p><a href="http://people.apache.org/~edwingo/jaxp-ri-1.2.0-fcs/docs/samples.html" target="_blank"><a href="http://people.apache.org/~edwingo/jaxp-ri-1.2.0-fcs/docs/samples.html">http://people.apache.org/~edwingo/jaxp-ri-1.2.0-fcs/docs/samples.html</a></a></p>
<p>另外一种，用 Validating Parser </p>
<p> Using the Validating Parser</p>
<p>By now, you have done a lot of experimenting with the nonvalidating parser. It&#39;s time to have a look at the validating parser to find out what happens when you use it to parse the sample presentation.</p>
<p>You need to understand about two things about the validating parser at the outset:</p>
<p>*</p>
<ul>
<li><p>A schema or document type definition (DTD) is required.</p>
</li>
<li><p>Because the schema or DTD is present, the</p>
</li>
</ul>
<p>ignorableWhitespace
method is invoked whenever possible.</p>
<h3 id="configuring-the-factory">Configuring the Factory</h3>
<p>The first step is to modify the Echo program so that it uses the validating parser instead of the nonvalidating parser.</p>
<p>Note: The code in this section is contained in</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10.java" target="_blank">Echo10.java</a>
.</p>
<p>To use the validating parser, make the following highlighted changes:
public static void main(String argv[]) {   if (argv.length != 1) {     ...   }   // Use the default (non-validating) parser  // Use the validating parser  SAXParserFactory factory = SAXParserFactory.newInstance();   factory.setValidating(true);  try {     ...</p>
<p>Here, you configure the factory so that it will produce a validating parser when</p>
<p>newSAXParser
is invoked. To configure it to return a namespace-aware parser, you can also use</p>
<p>setNamespaceAware(true)
. Sun&#39;s implementation supports any combination of configuration options. (If a combination is not supported by a particular implementation, it is required to generate a factory configuration error.)</p>
<h3 id="validating-with-xml-schema">Validating with XML Schema</h3>
<p>Although a full treatment of XML Schema is beyond the scope of this tutorial, this section shows you the steps you take to validate an XML document using an existing schema written in the XML Schema language. (To learn more about XML Schema, you can review the online tutorial, XML Schema Part 0: Primer, at</p>
<p><a href="http://www.w3.org/TR/xmlschema-0/" target="_blank"><a href="http://www.w3.org/TR/xmlschema-0/">http://www.w3.org/TR/xmlschema-0/</a></a>
. You can also examine the sample programs that are part of the JAXP download. They use a simple XML Schema definition to validate personnel data stored in an XML file.)</p>
<p>Note: There are multiple schema-definition languages, including RELAX NG, Schematron, and the W3C &quot;XML Schema&quot; standard. (Even a DTD qualifies as a &quot;schema,&quot; although it is the only one that does not use XML syntax to describe schema constraints.) However, &quot;XML Schema&quot; presents us with a terminology challenge. Although the phrase &quot;XML Schema schema&quot; would be precise, we&#39;ll use the phrase &quot;XML Schema definition&quot; to avoid the appearance of redundancy.</p>
<p>To be notified of validation errors in an XML document, the parser factory must be configured to create a validating parser, as shown in the preceding section. In addition, the following must be true:</p>
<p>*</p>
<ul>
<li>The appropriate properties must be set on the SAX parser.</li>
<li>The appropriate error handler must be set.</li>
<li>The document must be associated with a schema.</li>
</ul>
<h3 id="setting-the-sax-parser-properties">Setting the SAX Parser Properties</h3>
<p>It&#39;s helpful to start by defining the constants you&#39;ll use when setting the properties:
static final String JAXP_SCHEMA_LANGUAGE =     &quot;<a href="http://java.sun.com/xml/jaxp/properties/schemaLanguage" target="_blank">http://java.sun.com/xml/jaxp/properties/schemaLanguage</a>&quot;; static final String W3C_XML_SCHEMA =     &quot;<a href="http://www.w3.org/2001/XMLSchema" target="_blank">http://www.w3.org/2001/XMLSchema</a>&quot;;</p>
<p>Next, you configure the parser factory to generate a parser that is namespace-aware as well as validating:
...   SAXParserFactory factory = SAXParserFactory.newInstance();   factory.setNamespaceAware(true);  factory.setValidating(true);</p>
<p>You&#39;ll learn more about namespaces in <a href="http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXPDOM8.html#wp76446" target="_blank">Validating with XML Schema</a>. For now, understand that schema validation is a namespace-oriented process. Because JAXP-compliant parsers are not namespace-aware by default, it is necessary to set the property for schema validation to work.</p>
<p>The last step is to configure the parser to tell it which schema language to use. Here, you use the constants you defined earlier to specify the W3C&#39;s XML Schema language:
saxParser.setProperty(JAXP_SCHEMA_LANGUAGE, W3C_XML_SCHEMA);</p>
<p>In the process, however, there is an extra error to handle. You&#39;ll take a look at that error next.</p>
<h3 id="setting-up-the-appropriate-error-handling">Setting Up the Appropriate Error Handling</h3>
<p>In addition to the error handling you&#39;ve already learned about, there is one error that can occur when you are configuring the parser for schema-based validation. If the parser is not 1.2-compliant and therefore does not support XML Schema, it can throw a</p>
<p>SAXNotRecognizedException
.</p>
<p>To handle that case, you wrap the</p>
<p>setProperty()
statement in a</p>
<p>try
/</p>
<p>catch
block, as shown in the code highlighted here:
... SAXParser saxParser = factory.newSAXParser();try {  saxParser.setProperty(JAXP_SCHEMA_LANGUAGE, W3C_XML_SCHEMA); }  catch (SAXNotRecognizedException x) {  // Happens if the parser does not support JAXP 1.2   ...}...</p>
<h3 id="associating-a-document-with-a-schema">Associating a Document with a Schema</h3>
<p>Now that the program is ready to validate the data using an XML Schema definition, it is only necessary to ensure that the XML document is associated with one. There are two ways to do that:</p>
<p>*</p>
<ul>
<li><p>By including a schema declaration in the XML document</p>
</li>
<li><p>By specifying the schema to use in the application</p>
</li>
</ul>
<p>Note: When the application specifies the schema to use, it overrides any schema declaration in the document.</p>
<p>To specify the schema definition in the document, you create XML such as this:</p>
<p><documentRoot  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  xsi:noNamespaceSchemaLocation='YourSchemaDefinition.xsd' >   ...</p>
<p>The first attribute defines the XML namespace (</p>
<p>xmlns
) prefix,</p>
<p>xsi
, which stands for XML Schema instance. The second line specifies the schema to use for elements in the document that do not have a namespace prefix--that is, for the elements you typically define in any simple, uncomplicated XML document.</p>
<p>Note: You&#39;ll learn about namespaces in <a href="http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXPDOM8.html#wp76446" target="_blank">Validating with XML Schema</a>. For now, think of these attributes as the &quot;magic incantation&quot; you use to validate a simple XML file that doesn&#39;t use them. After you&#39;ve learned more about namespaces, you&#39;ll see how to use XML Schema to validate complex documents that use them. Those ideas are discussed in <a href="http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXPDOM8.html#wp63997" target="_blank">Validating with Multiple Namespaces</a>.</p>
<p>You can also specify the schema file in the application:
static final String JAXP_SCHEMA_SOURCE =     &quot;<a href="http://java.sun.com/xml/jaxp/properties/schemaSource" target="_blank">http://java.sun.com/xml/jaxp/properties/schemaSource</a>&quot;; ... SAXParser saxParser = spf.newSAXParser(); ...saxParser.setProperty(JAXP_SCHEMA_SOURCE,     new File(schemaSource));</p>
<p>Now that you know how to use an XML Schema definition, we&#39;ll turn to the kinds of errors you can see when the application is validating its incoming data. To do that, you&#39;ll use a document type definition (DTD) as you experiment with validation.</p>
<h3 id="experimenting-with-validation-errors">Experimenting with Validation Errors</h3>
<p>To see what happens when the XML document does not specify a DTD, remove the</p>
<p>DOCTYPE
statement from the XML file and run the Echo program on it.</p>
<p>Note: The output shown here is contained in</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10-01.txt" target="_blank">Echo10-01.txt</a>
. (The browsable version is</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10-01.html" target="_blank">Echo10-01.html</a>
.)</p>
<p>The result you see looks like this:
&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt; /<em>/</em> Parsing error, line 9, uri .../slideSample01.xml   Document root element &quot;slideshow&quot;, must match DOCTYPE root  &quot;null&quot;</p>
<p>Note: This message was generated by the JAXP 1.2 libraries. If you are using a different parser, the error message is likely to be somewhat different.</p>
<p>This message says that the root element of the document must match the element specified in the</p>
<p>DOCTYPE
declaration. That declaration specifies the document&#39;s DTD. Because you don&#39;t yet have one, it&#39;s value is null. In other words, the message is saying that you are trying to validate the document, but no DTD has been declared, because no</p>
<p>DOCTYPE
declaration is present.</p>
<p>So now you know that a DTD is a requirement for a valid document. That makes sense. What happens when you run the parser on your current version of the slide presentation, with the DTD specified?</p>
<p>Note: The output shown here is produced using</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/xml/samples/slideSample07.xml" target="_blank">slideSample07.xml</a>
, as described in <a href="http://docs.oracle.com/javaee/1.4/tutorial/doc/IntroXML3.html#wp68336" target="_blank">Referencing Binary Entities</a>. The output is contained in</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10-07.txt" target="_blank">Echo10-07.txt</a>
. (The browsable version is</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10-07.html" target="_blank">Echo10-07.html</a>
.)</p>
<p>This time, the parser gives a different error message:
  /<em>/</em> Parsing error, line 29, uri file:...   The content of element type &quot;slide&quot; must match  &quot;(image?,title,item/*)</p>
<p>This message says that the element found at line 29 (</p>
<p><item>
) does not match the definition of the</p>
<p><slide>
element in the DTD. The error occurs because the definition says that the</p>
<p>slide
element requires a</p>
<p>title
. That element is not optional, and the copyright slide does not have one. To fix the problem, add a question mark to make</p>
<p>title
an optional element:
&lt;!ELEMENT slide (image?, title?, item/*)&gt;</p>
<p>Now what happens when you run the program?</p>
<p>Note: You could also remove the copyright slide, producing the same result shown next, as reflected in</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10-06.txt" target="_blank">Echo10-06.txt</a>
. (The browsable version is</p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/examples/jaxp/sax/samples/Echo10-06.html" target="_blank">Echo10-06.html</a>
.)</p>
<p>The answer is that everything runs fine until the parser runs into the</p>
<p><em>
tag contained in the overview slide. Because that tag is not defined in the DTD, the attempt to validate the document fails. The output looks like this:
  ...   ELEMENT: <title>   CHARS:   Overview   END_ELM: </title>   ELEMENT: <item>   CHARS:   Why /<em>/</em> Parsing error, line 28, uri: ...Element &quot;em&quot; must be declared.org.xml.sax.SAXParseException: ... ...</p>
<p>The error message identifies the part of the DTD that caused validation to fail. In this case it is the line that defines an</p>
<p>item
element as</p>
<p>(/#PCDATA | item)
.</p>
<p>As an exercise, make a copy of the file and remove all occurrences of</p>
<p><em>
from it. Can the file be validated now? (In the next section, you&#39;ll learn how to define parameter entries so that we can use XHTML in the elements we are defining as part of the slide presentation.)</p>
<h3 id="error-handling-in-the-validating-parser">Error Handling in the Validating Parser</h3>
<p>It is important to recognize that the only reason an exception is thrown when the file fails validation is as a result of the error-handling code you entered in the early stages of this tutorial. That code is reproduced here:
public void error(SAXParseException e) throws SAXParseException {   throw e;}</p>
<p>If that exception is not thrown, the validation errors are simply ignored. Try commenting out the line that throws the exception. What happens when you run the parser now?</p>
<p>In general, a SAX parsing error is a validation error, although you have seen that it can also be generated if the file specifies a version of XML that the parser is not prepared to handle. Remember that your application will not generate a validation exception unless you supply an error handler such as the one here. </p>
<p><a href="http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXPSAX9.html" target="_blank"><a href="http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXPSAX9.html">http://docs.oracle.com/javaee/1.4/tutorial/doc/JAXPSAX9.html</a></a></p>

      
    </div>
    <section id='after_content_widget'><div class="widget" id="widget_after_content_wumiiRelatedItems>">
<script type="text/javascript" id="wumiiRelatedItems"></script>
</div><div class="widget" id="widget_after_content_post_footer_info>">
<div class="panel panel-success">
    <div class="panel-heading" align="center">希望本站内容对您有点用处,有什么疑问或建议请在后面留言评论</div>
    <div align="center" class="panel-body">转载请注明作者(<a href="http://itsolife.com/about/">RobinChia</a>)和出处 <a href="http://itsolife.com">It so life</a> ，请勿用于任何商业用途</div>
    <div class="panel-body">本文链接: <a href="/2014/02/02/2014-02-02-ftp--ValidateXMLusingaXSD/">Validate XML using a XSD</a></div>
</div>
</div></section>
    
    
        <footer id="post-meta">
        <span class="categories">Posted in<span class="breadcrumb fa fa-folder"><li><a href="/categories/ftp/">ftp</a></li></span></span> | <span class="tags">Tagged <a href="/tags/ftp/" class="label label-primary">ftp</a></span> | <span class="time">recent updated:<time title="2014-03-07 09:54:45"datetime="2014-03-07 09:54:45"> mar. 7 2014</time></span> | <span class="comment-link">
<a href="http://itsolife.com/2014/02/02/2014-02-02-ftp--ValidateXMLusingaXSD/#comments" class="ds-thread-count comment-link" data-thread-key="2014-02-02-ftp--ValidateXMLusingaXSD" data-count-type="comments">暂无评论</a></span>
        </footer>
    
    <div class="clearfix"></div>
  </div>
</div>
</article>


    <section id='after_post_widget'><div class="widget" id="widget_after_post_post_pageNav>">
<ul class="pager">
  
  <li class="previous"><a href="/2014/02/02/2014-02-02-ftp--JSch-Java实现的SFTP（文件上传详解篇）/" title="JSch ">&larr; JSch </a></li>
  
  
  <li class="next"><a href="/2014/02/02/2014-02-02-ftp--被动模式下FTP的详细工作过程-大浪淘沙-51CTO技术博客/" title="被动模式下FTP的详细工作过程 ">被动模式下FTP的详细工作过程  &rarr;</a></li>
  
</ul></div><div class="widget" id="widget_after_post_related_posts>">
<ul class="list-group"><li class="list-group-item"><a href="/2014/02/02/2014-02-02-ftp--ValidateXMLusingaXSD/">Validate XML using a XSD</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-ftp--被动模式下FTP的详细工作过程-大浪淘沙-51CTO技术博客/">被动模式下FTP的详细工作过程 </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-ftp--JSch-Java实现的SFTP（文件上传详解篇）/">JSch </a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-ftp--被动模式下FTP的详细工作过程/">被动模式下FTP的详细工作过程</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-ftp--FTP的主动模式/">FTP的主动模式</a></li><li class="list-group-item"><a href="/2014/02/02/2014-02-02-ftp--ApacheFTP实用代码/">Apache FTP 实用代码</a></li></ul></div></section>    
	<div id="comments"><!-- Duoshuo Comment BEGIN -->

<div class="ds-thread"  data-thread-key="2014-02-02-ftp--ValidateXMLusingaXSD"  data-url="http://itsolife.com/2014/02/02/2014-02-02-ftp--ValidateXMLusingaXSD/" data-title="Validate XML using a XSD"></div>

		

<!-- Duoshuo Comment END -->

</div></div><!--wapper-->
       </div><!-- ID main-col END -->
       <aside id="sidebar" class="alignright col-sx-6 col-sm-4 col-md-3 col-lg-3">
<div id="widget_search" class="widget panel panel-primary">
    <form action="//google.com/search" method="get" accept-charset="utf-8">
  <div class="input-group">
    <input class="form-control" id="searchbox" type="search" name="q" results="0" placeholder="search">
    <span class="input-group-btn">
      <button class="btn btn-default" type="submit">Go!</button>
    </span>
    <input type="hidden" name="q" value="site:itsolife.com">
  </div>
</form>
</div>

<div id="widget_category" class="widget panel panel-primary">
  <div class="panel-heading">category</div>  <div data-src='category' class='ajax_widgets'>正在加载...</div>
</div>

<div id="widget_recent_posts" class="widget panel panel-primary">
  <div class="panel-heading">recent posts</div>  <div data-src='recent_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_tagcloud" class="widget panel panel-primary">
  <div class="panel-heading">tagcloud</div>  <div data-src='tagcloud' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_latest_update_posts" class="widget panel panel-primary">
  <div class="panel-heading">最近更新</div>  <div data-src='latest_update_posts' class='ajax_widgets'>正在加载...</div></div>

<div id="widget_recent_comments" class="widget panel panel-primary">
  <div class="panel-heading">recent comments</div>  

<div class="list-group-item ds-recent-comments" data-num-items="6" data-show-avatars="1" data-show-time="1" data-show-title="1" data-show-admin="1" data-excerpt-length="50"></div>



</div>

</aside>
       <div class="clearfix"></div>
     </div><!-- row END -->
  </div>
  <footer id="footer" class="container">
  <div class="panel panel-info">
  <section id='footer_widget'></section>  <div class="panel-footer">
  <div id="site-info">
    <span class='author'>
  
  &copy; 2014 RobinChia
  
    &nbsp;&nbsp;</span>
  
  <span id='analytics-51la'></span><span id='analytics-google'>
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-48559895-1']);
  _gaq.push(['_trackPageview']);
  _js2load.push({src:('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'});
</script></span><span id='analytics-cnzz'>
<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5774006'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s17.cnzz.com/stat.php%3Fid%3D5774006%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
</span><span id='analytics-baidu'>
<script>
var _hmt = _hmt || [];
_js2load.push({src:"//hm.baidu.com/hm.js?1442f50724afc42380b51f097c43082c"});
</script>
</span>  </div>
  <div id="copyright">Blog powered by <a href='http://zespia.tw/hexo/'><strong>hexo</strong></a> Theme <strong><a href='https://github.com/chenall/hexo-theme-chenall'>chenall</a></strong>(Some change in it)<span class="pull-right"> 更新时间: <em>2014-03-07 09:54:45</em></span></div>
</div>
<div class="clearfix"></div>


  </div>
  </footer>
  
        <script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>        
        <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.0/js/bootstrap.min.js"></script>        
                
        <script src="http://cdn.bootcss.com/prettify/r298/prettify.min.js"></script>    <script type="text/javascript">
   var lang=["bsh", "c", "cc", "cpp", "cs", "csh", "cyc", "cv", "htm", "html",
    "java", "js", "m", "mxml", "perl", "pl", "pm", "py", "rb", "sh",
    "xhtml", "xml", "xsl"];
   var pretty_base='';
   $('script').each(function(){
	var c = $(this).attr('src');
	if (!c)
	    return;
	if (c.match(/(\/)?prettify(\.min)?\.js/i))
	{
	    var index = c.lastIndexOf('/');
	    if (index != -1)
		pretty_base = c.substr(0,index + 1);
	    return false;
	}
   })
   $('pre code').each(function(){
	var c = $(this).attr('class')
	if (!c)
	    return;
	c = c.match(/\s?(lang\-\w+)/i);
	if (c && lang.indexOf(c[1]) == -1)
	{
	    lang.push(c[1]);
	    $.getScript(pretty_base + c[1] + '.min.js');
	}
   })

    $(window).load(function(){
       $("pre").addClass("prettyprint");
       prettyPrint();
    })
</script>    
            <script type="text/javascript">
var duoshuoQuery = {short_name:"robinchia"};
_js2load.push({src:'http://static.duoshuo.com/embed.js',charset:'UTF-8'});
</script>
    
            <!--wumii_relatedItems-->

<script type="text/javascript">
    var wumiiPermaLink = "http://itsolife.com/2014/02/02/2014-02-02-ftp--ValidateXMLusingaXSD/";
    var wumiiTitle = "Validate XML using a XSD";
    var wumiiTags = "ftp";
    var wumiiCategories = ["ftp"];
    var wumiiSitePrefix = "http://itsolife.com";
    var wumiiParams = "&num=5&mode=3&pf=JAVASCRIPT";
    _js2load.push({src:'http://widget.wumii.cn/ext/relatedItemsWidget'});
</script>
<a href="http://www.wumii.com/widget/relatedItems" style="border:0;">
<img src="http://static.wumii.cn/images/pixel.png" alt="无觅关联推荐，快速提升流量" style="border:0;padding:0;margin:0;" />
</a>
    
        <script src="http://cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js"></script>    <script type="text/javascript">
(function($){
  $('.entry').each(function(i){
    $(this).find('img').each(function(){
      var alt = this.alt;

      if (alt){
        $(this).before('<span class="caption">' + alt + '</span>');
      }

      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox" rel="fancybox' + i + '" />');
    });
  });

  $('.fancybox').fancybox();
})(jQuery);
</script>    
        <script src="http://cdn.bootcss.com/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>
    
<script type="text/javascript">
$('.ajax_widgets').each(function(){var src=$(this).attr('data-src');if(src)$(this).load('/widgets/'+src+'.html');});
$.each(_js2load,function(index,obj){loadjs(obj.src,obj.charset)});
</script>

<div id="scroll2top">
<img src="/scroll2top/arrow.png"/>
</div>
<script src="/scroll2top/scroll2top.min.js"></script>
<div id="winterland">
  <canvas></canvas>
</div>
<script src="/js/winterland.min.js"></script>

  </body>
</html>
